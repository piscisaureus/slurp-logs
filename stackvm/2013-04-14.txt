{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-04-14T00:00:01.223Z","type":"quit"}
{"nick":"ircretary","date":"2013-04-14T00:00:08.598Z","type":"join"}
{"nick":"mikolalysenko","date":"2013-04-14T00:03:50.476Z","type":"join"}
{"nick":"mikolalysenko","reason":"Ping timeout: 256 seconds","date":"2013-04-14T00:12:32.477Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 30]","date":"2013-04-14T00:21:42.311Z","type":"message"}
{"nick":"shuaib","reason":"Quit: Computer has gone to sleep.","date":"2013-04-14T00:31:01.750Z","type":"quit"}
{"nick":"yorick","reason":"Remote host closed the connection","date":"2013-04-14T00:33:38.512Z","type":"quit"}
{"nick":"st_luke","date":"2013-04-14T01:00:59.316Z","type":"join"}
{"nick":"thl0","date":"2013-04-14T01:05:20.776Z","type":"join"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-04-14T01:14:18.853Z","type":"quit"}
{"nick":"jxson_","date":"2013-04-14T01:16:34.230Z","type":"join"}
{"nick":"jxson_","reason":"Remote host closed the connection","date":"2013-04-14T01:17:43.098Z","type":"quit"}
{"nick":"jxson_","date":"2013-04-14T01:17:50.580Z","type":"join"}
{"nick":"mikolalysenko","date":"2013-04-14T01:18:32.597Z","type":"join"}
{"nick":"jxson","reason":"Ping timeout: 252 seconds","date":"2013-04-14T01:19:35.576Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 40]","date":"2013-04-14T01:21:42.324Z","type":"message"}
{"nick":"mikolalysenko","reason":"Ping timeout: 248 seconds","date":"2013-04-14T01:23:17.599Z","type":"quit"}
{"nick":"ralphtheninja","reason":"Ping timeout: 245 seconds","date":"2013-04-14T01:36:41.355Z","type":"quit"}
{"nick":"jcrugzz","reason":"Ping timeout: 246 seconds","date":"2013-04-14T01:44:01.790Z","type":"quit"}
{"nick":"jxson_","reason":"Remote host closed the connection","date":"2013-04-14T01:47:06.595Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-04-14T01:57:17.340Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-04-14T02:07:11.595Z","type":"nick"}
{"nick":"crank","reason":"Ping timeout: 260 seconds","date":"2013-04-14T02:12:24.038Z","type":"quit"}
{"nick":"shama","reason":"Remote host closed the connection","date":"2013-04-14T02:19:04.314Z","type":"quit"}
{"nick":"rowbit","message":"Daily usage stats: [developer: 3, free: 662]","date":"2013-04-14T02:21:42.186Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 26]","date":"2013-04-14T02:21:43.340Z","type":"message"}
{"nick":"crank","date":"2013-04-14T02:46:23.125Z","type":"join"}
{"nick":"jxson","date":"2013-04-14T02:57:33.014Z","type":"join"}
{"nick":"jxson","reason":"Ping timeout: 252 seconds","date":"2013-04-14T03:02:59.883Z","type":"quit"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-04-14T03:08:09.965Z","type":"quit"}
{"nick":"tilgovi","date":"2013-04-14T03:09:33.423Z","type":"join"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 27]","date":"2013-04-14T03:21:42.361Z","type":"message"}
{"nick":"tmcw","date":"2013-04-14T03:45:26.868Z","type":"join"}
{"nick":"jcrugzz","date":"2013-04-14T03:50:36.494Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-04-14T04:20:35.252Z","type":"quit"}
{"nick":"st_luke","date":"2013-04-14T04:20:47.404Z","type":"join"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 1, free: 3]","date":"2013-04-14T04:21:42.369Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 9]","date":"2013-04-14T05:21:42.439Z","type":"message"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-04-14T05:58:32.073Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 10]","date":"2013-04-14T06:21:42.332Z","type":"message"}
{"nick":"jxson","date":"2013-04-14T06:22:38.594Z","type":"join"}
{"nick":"jxson","reason":"Read error: Connection reset by peer","date":"2013-04-14T06:23:36.359Z","type":"quit"}
{"nick":"jxson","date":"2013-04-14T06:24:00.313Z","type":"join"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-04-14T06:52:09.738Z","type":"quit"}
{"nick":"CoverSlide","reason":"Ping timeout: 264 seconds","date":"2013-04-14T07:06:48.518Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 13]","date":"2013-04-14T07:21:42.434Z","type":"message"}
{"nick":"saijanai_","date":"2013-04-14T07:46:10.536Z","type":"join"}
{"nick":"devaholic","reason":"Ping timeout: 276 seconds","date":"2013-04-14T08:03:00.438Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 31]","date":"2013-04-14T08:21:42.373Z","type":"message"}
{"nick":"harrow","reason":"Quit: ERC Version 5.3 (IRC client for Emacs)","date":"2013-04-14T08:37:18.280Z","type":"quit"}
{"nick":"juliangruber","message":"dominictarr: holy! :) I'd propose 2 changes: 1) no db.sublevels['foo'], just db.sublevel('foo') 2) add a method with one function: foo.set('inc', {type: 'async'}, function (f, cb) {})","date":"2013-04-14T08:45:36.733Z","type":"message"}
{"nick":"dominictarr","message":"oh, yeah, I was gonna add the sublevel function","date":"2013-04-14T08:46:53.618Z","type":"message"}
{"nick":"dominictarr","message":"not sure about the set('inc', {…}) because I want each sublevel plugin to declare the api it adds, so you can plugin a bunch of stuff and it just works with the client","date":"2013-04-14T08:48:59.206Z","type":"message"}
{"nick":"juliangruber","message":"oh I see","date":"2013-04-14T08:49:47.802Z","type":"message"}
{"nick":"juliangruber","message":"then that's better","date":"2013-04-14T08:49:53.033Z","type":"message"}
{"nick":"jibay","date":"2013-04-14T08:56:25.769Z","type":"join"}
{"nick":"jesusabdullah","message":"\\o/","date":"2013-04-14T08:58:15.489Z","type":"message"}
{"nick":"harrow","date":"2013-04-14T09:02:22.011Z","type":"join"}
{"nick":"juliangruber","message":"dominictarr: https://github.com/substack/undirender/pull/1 might be useful for you too","date":"2013-04-14T09:08:54.482Z","type":"message"}
{"nick":"dominictarr","message":"oh, that is nice","date":"2013-04-14T09:09:55.925Z","type":"message"}
{"nick":"jcrugzz","reason":"Ping timeout: 276 seconds","date":"2013-04-14T09:11:54.450Z","type":"quit"}
{"nick":"dominictarr","message":"juliangruber: what are you refering to in this comment https://github.com/juliangruber/multilevel/pull/8#commitcomment-3007629","date":"2013-04-14T09:13:08.543Z","type":"message"}
{"nick":"dominictarr","message":"\"hides mdm's methods?\"","date":"2013-04-14T09:13:16.931Z","type":"message"}
{"nick":"dominictarr","message":"juliangruber: just had a brain wave - okay so to do two way mux-demuxes, with createStream at each end, you just have to support a request header, and a response header","date":"2013-04-14T09:14:59.336Z","type":"message"}
{"nick":"dominictarr","message":"currently, mux-demux only supports a request header - so only the first one to create the stream gets to send metadata","date":"2013-04-14T09:15:47.805Z","type":"message"}
{"nick":"dominictarr","message":"a more symmetrical protocol would be better.","date":"2013-04-14T09:16:20.694Z","type":"message"}
{"nick":"rvagg","message":"dominictarr: more and more activity happening in ##leveldb, you may want to think about lurking some time","date":"2013-04-14T09:16:49.888Z","type":"message"}
{"nick":"dominictarr","message":"substack: did you see this https://twitter.com/dominictarr/status/323143464516722690","date":"2013-04-14T09:16:59.720Z","type":"message"}
{"nick":"dominictarr","message":"rvagg: okay, I've set #leveldb to autojoin","date":"2013-04-14T09:17:53.667Z","type":"message"}
{"nick":"rvagg","message":"try the ## version","date":"2013-04-14T09:18:11.124Z","type":"message"}
{"nick":"dominictarr","message":"why two?","date":"2013-04-14T09:18:42.704Z","type":"message"}
{"nick":"rvagg","message":"someone else was using #leveldb when we started","date":"2013-04-14T09:18:54.198Z","type":"message"}
{"nick":"rvagg","message":"and these days freenode asks people to register 'non official' channels as ##","date":"2013-04-14T09:19:13.791Z","type":"message"}
{"nick":"dominictarr","message":"some other leveldb people?","date":"2013-04-14T09:19:13.922Z","type":"message"}
{"nick":"rvagg","message":"stupid","date":"2013-04-14T09:19:15.132Z","type":"message"}
{"nick":"dominictarr","message":"oh, okay","date":"2013-04-14T09:19:28.966Z","type":"message"}
{"nick":"rvagg","message":"yeah, since I've been in #leveldb though nobody other than node folk has really said anything","date":"2013-04-14T09:19:50.097Z","type":"message"}
{"nick":"dominictarr","message":"you need at least 30 people in an irc room before any action really starts,","date":"2013-04-14T09:20:53.552Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 53]","date":"2013-04-14T09:21:42.401Z","type":"message"}
{"nick":"nicholas_","reason":"Read error: Connection reset by peer","date":"2013-04-14T09:31:33.240Z","type":"quit"}
{"nick":"nicholas_","date":"2013-04-14T09:31:39.467Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-04-14T09:40:43.536Z","type":"quit"}
{"nick":"jcrugzz","date":"2013-04-14T09:41:09.724Z","type":"join"}
{"nick":"ralphtheninja","date":"2013-04-14T09:46:13.057Z","type":"join"}
{"nick":"jcrugzz","reason":"Ping timeout: 248 seconds","date":"2013-04-14T09:46:13.597Z","type":"quit"}
{"nick":"dominictarr","date":"2013-04-14T10:04:16.404Z","type":"join"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 2, free: 15]","date":"2013-04-14T10:21:42.394Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 4, free: 9]","date":"2013-04-14T11:21:42.674Z","type":"message"}
{"nick":"nicholas_","reason":"Ping timeout: 276 seconds","date":"2013-04-14T11:36:12.467Z","type":"quit"}
{"nick":"tmcw_","date":"2013-04-14T11:43:36.500Z","type":"join"}
{"nick":"tmcw","reason":"Read error: Connection reset by peer","date":"2013-04-14T11:43:37.229Z","type":"quit"}
{"nick":"tilgovi","reason":"Remote host closed the connection","date":"2013-04-14T11:45:27.301Z","type":"quit"}
{"nick":"devaholic","date":"2013-04-14T11:59:10.627Z","type":"join"}
{"nick":"rowbit","message":"/!\\ ATTENTION: (default-local) alex@... successfully signed up for developer browserling plan ($20). Cash money! /!\\","date":"2013-04-14T12:09:09.677Z","type":"message"}
{"nick":"rowbit","message":"/!\\ ATTENTION: (default-local) paid account successfully upgraded /!\\","date":"2013-04-14T12:09:09.822Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 1, free: 15]","date":"2013-04-14T12:21:42.444Z","type":"message"}
{"nick":"yorick","date":"2013-04-14T12:24:12.454Z","type":"join"}
{"nick":"tmcw_","reason":"Remote host closed the connection","date":"2013-04-14T12:27:48.348Z","type":"quit"}
{"nick":"jlord","reason":"Remote host closed the connection","date":"2013-04-14T12:28:29.898Z","type":"quit"}
{"nick":"mbalho","reason":"Remote host closed the connection","date":"2013-04-14T12:28:30.139Z","type":"quit"}
{"nick":"tmcw","date":"2013-04-14T12:30:31.344Z","type":"join"}
{"nick":"ITpro","reason":"Ping timeout: 256 seconds","date":"2013-04-14T12:34:18.522Z","type":"quit"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-04-14T12:35:31.586Z","type":"quit"}
{"nick":"ITpro","date":"2013-04-14T12:36:07.647Z","type":"join"}
{"nick":"thl0","date":"2013-04-14T12:43:42.266Z","type":"join"}
{"nick":"tmcw","date":"2013-04-14T12:47:57.474Z","type":"join"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-04-14T12:56:11.220Z","type":"quit"}
{"nick":"tmcw","date":"2013-04-14T12:57:12.292Z","type":"join"}
{"nick":"ITpro","reason":"Ping timeout: 248 seconds","date":"2013-04-14T12:57:41.656Z","type":"quit"}
{"nick":"jcrugzz","date":"2013-04-14T13:07:11.552Z","type":"join"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-04-14T13:10:38.081Z","type":"quit"}
{"nick":"jcrugzz","reason":"Ping timeout: 245 seconds","date":"2013-04-14T13:11:41.429Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 31]","date":"2013-04-14T13:21:42.285Z","type":"message"}
{"nick":"saijanai_","reason":"Quit: saijanai_","date":"2013-04-14T13:25:13.459Z","type":"quit"}
{"nick":"thl0","date":"2013-04-14T13:30:46.405Z","type":"join"}
{"nick":"st_luke","date":"2013-04-14T13:37:53.280Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-04-14T13:37:54.436Z","type":"quit"}
{"nick":"ins0mnia","date":"2013-04-14T13:49:29.405Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-04-14T13:52:57.095Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-04-14T14:16:35.962Z","type":"nick"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 25]","date":"2013-04-14T14:21:42.424Z","type":"message"}
{"nick":"yorick","reason":"Remote host closed the connection","date":"2013-04-14T14:45:51.951Z","type":"quit"}
{"nick":"fallsemo","date":"2013-04-14T14:48:49.992Z","type":"join"}
{"nick":"juliangruber","message":"dominictarr: by doing `var db = duplex(mdm, mdm)` you can't call `db.createStream('meta')` anymore. you hide those mux-demux methods. hm, that probably causes overhead","date":"2013-04-14T15:05:54.976Z","type":"message"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-04-14T15:11:48.966Z","type":"quit"}
{"nick":"tmcw","date":"2013-04-14T15:12:24.522Z","type":"join"}
{"nick":"tmcw","reason":"Read error: Connection reset by peer","date":"2013-04-14T15:12:33.884Z","type":"quit"}
{"nick":"tmcw","date":"2013-04-14T15:13:04.903Z","type":"join"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-04-14T15:18:29.089Z","type":"quit"}
{"nick":"tmcw","date":"2013-04-14T15:21:29.975Z","type":"join"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 21]","date":"2013-04-14T15:21:42.389Z","type":"message"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-04-14T15:24:48.170Z","type":"quit"}
{"nick":"shuaib","date":"2013-04-14T15:31:37.752Z","type":"join"}
{"nick":"jcrugzz","date":"2013-04-14T15:44:23.639Z","type":"join"}
{"nick":"mbalho","date":"2013-04-14T16:04:59.041Z","type":"join"}
{"nick":"shuaib","reason":"Ping timeout: 252 seconds","date":"2013-04-14T16:06:11.596Z","type":"quit"}
{"nick":"jlord","date":"2013-04-14T16:06:13.430Z","type":"join"}
{"nick":"ins0mnia","reason":"Ping timeout: 264 seconds","date":"2013-04-14T16:13:24.412Z","type":"quit"}
{"nick":"ITpro","date":"2013-04-14T16:18:32.397Z","type":"join"}
{"nick":"fallsemo","date":"2013-04-14T16:21:31.874Z","type":"join"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 22]","date":"2013-04-14T16:21:42.623Z","type":"message"}
{"nick":"shuaib","date":"2013-04-14T16:37:24.910Z","type":"join"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-04-14T16:37:36.422Z","type":"quit"}
{"nick":"dominictarr","date":"2013-04-14T17:07:23.598Z","type":"join"}
{"nick":"ins0mnia","date":"2013-04-14T17:09:19.903Z","type":"join"}
{"nick":"devaholic","reason":"Ping timeout: 245 seconds","date":"2013-04-14T17:12:31.343Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 27]","date":"2013-04-14T17:21:42.420Z","type":"message"}
{"nick":"hij1nx","reason":"Ping timeout: 240 seconds","date":"2013-04-14T17:55:13.686Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 26]","date":"2013-04-14T18:21:42.453Z","type":"message"}
{"nick":"shuaib","reason":"Quit: Computer has gone to sleep.","date":"2013-04-14T18:22:24.571Z","type":"quit"}
{"nick":"calvinfo","reason":"Ping timeout: 258 seconds","date":"2013-04-14T18:32:16.312Z","type":"quit"}
{"nick":"ITpro","reason":"Ping timeout: 256 seconds","date":"2013-04-14T18:35:46.398Z","type":"quit"}
{"nick":"thl0","message":"chrisdickinson: juliangruber: check it out: http://thlorenz.github.io/scriptie-talkie-embed/","date":"2013-04-14T18:42:46.364Z","type":"message"}
{"nick":"calvinfo","date":"2013-04-14T18:44:24.300Z","type":"join"}
{"nick":"dominictarr","message":"Raynos: ping","date":"2013-04-14T19:01:24.557Z","type":"message"}
{"nick":"shuaib","date":"2013-04-14T19:18:56.982Z","type":"join"}
{"nick":"shuaib","reason":"Client Quit","date":"2013-04-14T19:21:37.334Z","type":"quit"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 14]","date":"2013-04-14T19:21:42.349Z","type":"message"}
{"nick":"yorick","date":"2013-04-14T19:23:47.525Z","type":"join"}
{"nick":"ITpro","date":"2013-04-14T19:24:12.895Z","type":"join"}
{"nick":"dominictarr","message":"ins0mnia: you there?","date":"2013-04-14T19:25:18.703Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: yeah (alert popped up on my screen)","date":"2013-04-14T19:26:30.152Z","type":"message"}
{"nick":"ins0mnia","message":"what's up","date":"2013-04-14T19:26:44.333Z","type":"message"}
{"nick":"dominictarr","message":"just working on some leveldb stuff","date":"2013-04-14T19:27:06.788Z","type":"message"}
{"nick":"dominictarr","message":"it's really all beginning to come together here","date":"2013-04-14T19:27:23.246Z","type":"message"}
{"nick":"dominictarr","message":"I built this 'ladder' yesterday","date":"2013-04-14T19:27:50.930Z","type":"message"}
{"nick":"dominictarr","message":"https://github.com/juliangruber/multilevel/pull/8","date":"2013-04-14T19:27:52.472Z","type":"message"}
{"nick":"ins0mnia","message":"dominictarr: cool I'm looking forward to start looking into level","date":"2013-04-14T19:28:06.699Z","type":"message"}
{"nick":"ins0mnia","message":"level*","date":"2013-04-14T19:28:10.120Z","type":"message"}
{"nick":"dominictarr","message":"It will provide us access to a whole new layer of low-hanging-fruit","date":"2013-04-14T19:28:19.278Z","type":"message"}
{"nick":"ins0mnia","message":"ohh this is so cool","date":"2013-04-14T19:29:14.550Z","type":"message"}
{"nick":"ins0mnia","message":"level all the way to the browser!!!","date":"2013-04-14T19:29:21.822Z","type":"message"}
{"nick":"dominictarr","message":"yes, with all the plugins, etc","date":"2013-04-14T19:29:35.345Z","type":"message"}
{"nick":"dominictarr","message":"needs a few more bits, but they should pretty much just work, if they use streams, or async callbacks","date":"2013-04-14T19:30:08.357Z","type":"message"}
{"nick":"ins0mnia","message":"I'm thinking level+muxdemux+observable+hyperscript","date":"2013-04-14T19:30:23.212Z","type":"message"}
{"nick":"ins0mnia","message":"awesome combo","date":"2013-04-14T19:30:26.082Z","type":"message"}
{"nick":"dominictarr","message":"yeah, thats what I'm thinking too","date":"2013-04-14T19:30:43.173Z","type":"message"}
{"nick":"dominictarr","message":"you just write one file that defines the data you have, what queries there are, etc","date":"2013-04-14T19:31:12.370Z","type":"message"}
{"nick":"dominictarr","message":"then you just drop in multilevel, and you can access it from the browser","date":"2013-04-14T19:31:51.226Z","type":"message"}
{"nick":"dominictarr","message":"so, you just have to define how to view that","date":"2013-04-14T19:32:08.537Z","type":"message"}
{"nick":"dominictarr","message":"and you have a dynamic realtime app","date":"2013-04-14T19:32:20.431Z","type":"message"}
{"nick":"ins0mnia","message":"cool","date":"2013-04-14T19:32:34.071Z","type":"message"}
{"nick":"jez0990","message":"level persistance is next on my agenda after this crdt module, I'm looking forward to it","date":"2013-04-14T19:34:35.233Z","type":"message"}
{"nick":"jez0990","message":"dominictarr: regarding \"check if any currently existing items should be in the set. currently, one must create the set before recieving anything.\"","date":"2013-04-14T19:34:42.775Z","type":"message"}
{"nick":"dominictarr","message":"jez0990: if that is based on crdt then it will work with level-scuttlebutt already!","date":"2013-04-14T19:35:06.158Z","type":"message"}
{"nick":"jez0990","message":"if you haven't touched that since I will implement it now...?","date":"2013-04-14T19:35:27.574Z","type":"message"}
{"nick":"jez0990","message":"I've been in split-minds as to whether to start with a clean slate on this module, but I'm nearly done now :D","date":"2013-04-14T19:36:20.372Z","type":"message"}
{"nick":"dominictarr","message":"jez0990: if you havn't messed with the underling protocol, it will work.","date":"2013-04-14T19:37:26.832Z","type":"message"}
{"nick":"jez0990","message":"then that's awesome!! about the questions above however, it was a TODO you'd written on line 41 in set.js","date":"2013-04-14T19:38:45.652Z","type":"message"}
{"nick":"jez0990","message":"*question","date":"2013-04-14T19:38:52.109Z","type":"message"}
{"nick":"dominictarr","message":"oh, it means that you have to create the set in the first tick","date":"2013-04-14T19:40:11.366Z","type":"message"}
{"nick":"dominictarr","message":"it's not really that big a deal to fix, you'd just have to iterate over all the rows and check if they should be in the set.","date":"2013-04-14T19:41:05.609Z","type":"message"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-04-14T19:42:31.153Z","type":"quit"}
{"nick":"ec","reason":"Ping timeout: 245 seconds","date":"2013-04-14T19:47:05.215Z","type":"quit"}
{"nick":"jez0990","message":"dominictarr: hmm, so I'm confused","date":"2013-04-14T19:48:14.334Z","type":"message"}
{"nick":"jez0990","message":"if that behaviour isn't implemented how does \"test - create set later\" in test/sets.js work?","date":"2013-04-14T19:48:51.015Z","type":"message"}
{"nick":"dominictarr","message":"you are right - that comment must be out of date","date":"2013-04-14T19:50:25.095Z","type":"message"}
{"nick":"dominictarr","message":"I'm not sure where the code that implements that is","date":"2013-04-14T19:50:43.817Z","type":"message"}
{"nick":"dominictarr","message":"maybe in doc?","date":"2013-04-14T19:50:48.452Z","type":"message"}
{"nick":"dominictarr","message":"maybe this https://github.com/dominictarr/crdt/blob/master/set.js#L88","date":"2013-04-14T19:51:40.802Z","type":"message"}
{"nick":"dominictarr","message":"hmm… but that is just an event emitter","date":"2013-04-14T19:52:24.527Z","type":"message"}
{"nick":"jez0990","message":":) even if it's magic, I'm happy","date":"2013-04-14T19:53:00.620Z","type":"message"}
{"nick":"hij1nx","date":"2013-04-14T19:53:20.693Z","type":"join"}
{"nick":"dominictarr","message":"there must be something somewhere","date":"2013-04-14T19:53:54.065Z","type":"message"}
{"nick":"jez0990","message":"I am trying to find it so I can work out what actually happens with \"create seq later\" (which doesn't exist as a test)","date":"2013-04-14T19:55:47.405Z","type":"message"}
{"nick":"jez0990","message":"oh wait, although I was trying to find it to work out what happens with Seq","date":"2013-04-14T19:57:37.510Z","type":"message"}
{"nick":"jez0990","message":"oops","date":"2013-04-14T19:57:41.264Z","type":"message"}
{"nick":"jez0990","message":"meant to say \"oh wait, https://github.com/dominictarr/crdt/blob/master/set.js#L111\"","date":"2013-04-14T19:57:55.850Z","type":"message"}
{"nick":"dominictarr","message":"seq is just set with some extra methods","date":"2013-04-14T19:59:00.474Z","type":"message"}
{"nick":"dominictarr","message":"there we go","date":"2013-04-14T19:59:20.711Z","type":"message"}
{"nick":"dominictarr","message":"okay, just patched crdt to remove that comment","date":"2013-04-14T20:00:28.892Z","type":"message"}
{"nick":"dominictarr","message":"thanks","date":"2013-04-14T20:00:33.257Z","type":"message"}
{"nick":"shuaib","date":"2013-04-14T20:02:27.888Z","type":"join"}
{"nick":"jez0990","message":"np, I think I actually understand this all now... except how the Set's on('change') is guaranteed to be called before the inheriting Seq's on('change')","date":"2013-04-14T20:08:22.486Z","type":"message"}
{"nick":"jez0990","message":"is it because eventemitters form a queue? or is it not guaranteed?","date":"2013-04-14T20:08:44.149Z","type":"message"}
{"nick":"jez0990","message":"dominictarr: ^","date":"2013-04-14T20:08:55.475Z","type":"message"}
{"nick":"dominictarr","message":"yes, it is important to understand the order listeners are registered","date":"2013-04-14T20:10:07.920Z","type":"message"}
{"nick":"dominictarr","message":"the first listener registered is the first listener triggered","date":"2013-04-14T20:10:30.552Z","type":"message"}
{"nick":"dominictarr","message":"seq calls set before it adds any of it's own stuff https://github.com/dominictarr/crdt/blob/master/seq.js#L31","date":"2013-04-14T20:11:33.886Z","type":"message"}
{"nick":"jez0990","message":"interesting, thanks","date":"2013-04-14T20:13:10.226Z","type":"message"}
{"nick":"Raynos","message":"dominictarr: pong","date":"2013-04-14T20:15:04.554Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: just been thinking about level-* and the possibility of setting up your data as a series of declarative relationships","date":"2013-04-14T20:16:09.793Z","type":"message"}
{"nick":"ITpro","reason":"Ping timeout: 252 seconds","date":"2013-04-14T20:16:26.877Z","type":"quit"}
{"nick":"dominictarr","message":"pipelines, between different types of data","date":"2013-04-14T20:16:29.060Z","type":"message"}
{"nick":"ITpro","date":"2013-04-14T20:16:57.909Z","type":"join"}
{"nick":"ITpro","reason":"Client Quit","date":"2013-04-14T20:17:05.869Z","type":"quit"}
{"nick":"ITpro","date":"2013-04-14T20:17:32.528Z","type":"join"}
{"nick":"Raynos","message":"that sounds like declarative map reduce","date":"2013-04-14T20:18:01.690Z","type":"message"}
{"nick":"Raynos","message":"your saying \"this segment of the keyspace is RAW data\"","date":"2013-04-14T20:18:09.852Z","type":"message"}
{"nick":"Raynos","message":"\"this segment of the keyspace is a declarative view defined by relationship X\"","date":"2013-04-14T20:18:19.471Z","type":"message"}
{"nick":"Raynos","message":"\"this segment of the keyspace is a computed view defined by map reduce Y\"","date":"2013-04-14T20:18:29.748Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 23]","date":"2013-04-14T20:21:42.560Z","type":"message"}
{"nick":"sandfox","date":"2013-04-14T20:24:29.609Z","type":"join"}
{"nick":"shuaib","reason":"Quit: Computer has gone to sleep.","date":"2013-04-14T20:24:31.632Z","type":"quit"}
{"nick":"spion","date":"2013-04-14T20:28:04.180Z","type":"join"}
{"nick":"fallsemo","date":"2013-04-14T20:30:44.520Z","type":"join"}
{"nick":"Raynos","message":"dominictarr: I think this idea is a very good idea.","date":"2013-04-14T20:32:09.024Z","type":"message"}
{"nick":"Raynos","message":"I currently have a problem with mongoDB where setting up relationships & pipelines & transformations from one collection to another is hard, tedious & manual","date":"2013-04-14T20:32:32.705Z","type":"message"}
{"nick":"dominictarr","message":"how do you even do that in mongo?","date":"2013-04-14T20:34:03.914Z","type":"message"}
{"nick":"thl0","date":"2013-04-14T20:34:25.627Z","type":"join"}
{"nick":"dominictarr","message":"Raynos: and also, this segment is transformed from that segment, (on another db on another server)","date":"2013-04-14T20:35:04.095Z","type":"message"}
{"nick":"Raynos","message":"well in mongo","date":"2013-04-14T20:36:21.305Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: I'm gessing you in mongo you just save it in each place whenever you save it","date":"2013-04-14T20:48:18.280Z","type":"message"}
{"nick":"Raynos","message":"oh wait","date":"2013-04-14T20:48:29.880Z","type":"message"}
{"nick":"Raynos","message":"In mongo I set up a mapReduce query from collection A to collection B","date":"2013-04-14T20:48:41.089Z","type":"message"}
{"nick":"Raynos","message":"then I run that mapReduce query in a cron job every hour","date":"2013-04-14T20:48:47.753Z","type":"message"}
{"nick":"Raynos","message":"so \"segment of keyspace B is a computed view defined by map reduce Y but is stale for an hour\"","date":"2013-04-14T20:49:06.398Z","type":"message"}
{"nick":"dominictarr","message":"right","date":"2013-04-14T20:49:55.709Z","type":"message"}
{"nick":"dominictarr","message":"so that is acceptable for some things...","date":"2013-04-14T20:50:23.530Z","type":"message"}
{"nick":"dominictarr","message":"but not for information like whether your pizza is ready","date":"2013-04-14T20:50:45.090Z","type":"message"}
{"nick":"dominictarr","message":"I'd want to know that within seconds","date":"2013-04-14T20:51:19.488Z","type":"message"}
{"nick":"st_luke","date":"2013-04-14T20:51:41.057Z","type":"join"}
{"nick":"dominictarr","message":"hmm, that is a good example for soft-realtime","date":"2013-04-14T20:51:46.632Z","type":"message"}
{"nick":"Raynos","message":"well actually","date":"2013-04-14T20:56:12.370Z","type":"message"}
{"nick":"Raynos","message":"I use this map reduce for a real time system","date":"2013-04-14T20:56:18.401Z","type":"message"}
{"nick":"Raynos","message":"and run it every minute","date":"2013-04-14T20:56:21.380Z","type":"message"}
{"nick":"Raynos","message":"and I have a system setup where you can merge a subset of \"segment of keyspace B\" with changes made to \"segment of keyspace A\" on the fly in real time","date":"2013-04-14T20:56:56.759Z","type":"message"}
{"nick":"dominictarr","message":"A minute is a bit on the slow side for pizza, I'd be getting annoyed if my pizza was sitting there a whole minute and you hadn't done anything","date":"2013-04-14T20:57:12.669Z","type":"message"}
{"nick":"Raynos","message":"keyspace B is really just for efficient querying of initial state","date":"2013-04-14T20:57:13.438Z","type":"message"}
{"nick":"Raynos","message":"keyspace A is for real time stuff","date":"2013-04-14T20:57:22.182Z","type":"message"}
{"nick":"Raynos","message":"it's basically the lambda architecture from that blog post","date":"2013-04-14T20:57:43.620Z","type":"message"}
{"nick":"Raynos","message":"i actually want to rewrite it to be leveldb based","date":"2013-04-14T20:57:51.085Z","type":"message"}
{"nick":"dominictarr","message":"yeah, we need more query plugins","date":"2013-04-14T20:58:20.715Z","type":"message"}
{"nick":"tmcw_","date":"2013-04-14T21:13:54.852Z","type":"join"}
{"nick":"tmcw","reason":"Read error: Connection reset by peer","date":"2013-04-14T21:13:54.975Z","type":"quit"}
{"nick":"mbalho","message":"+1","date":"2013-04-14T21:14:55.204Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 0, free: 26]","date":"2013-04-14T21:21:42.438Z","type":"message"}
{"nick":"ITpro","reason":"Read error: Connection reset by peer","date":"2013-04-14T21:28:23.962Z","type":"quit"}
{"nick":"sandfox","reason":"Quit: sandfox","date":"2013-04-14T21:31:58.817Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-04-14T21:33:08.992Z","type":"quit"}
{"nick":"st_luke","date":"2013-04-14T21:42:08.126Z","type":"join"}
{"nick":"thl0","message":"hey Raynos didn't you work on interactive blog post code samples at some point?","date":"2013-04-14T21:42:12.713Z","type":"message"}
{"nick":"nicholas_","date":"2013-04-14T21:43:17.814Z","type":"join"}
{"nick":"dominictarr","message":"so hij1nx if you use level-fix-range then it will convert min/max to start/end","date":"2013-04-14T21:45:18.190Z","type":"message"}
{"nick":"dominictarr","message":"but you'll still get the next item at the end - and an error if the max is after the last item in the db","date":"2013-04-14T21:45:51.313Z","type":"message"}
{"nick":"Raynos","message":"thl0: http://raynos.graphics-server.jit.su/full/mario.js","date":"2013-04-14T21:45:57.477Z","type":"message"}
{"nick":"Raynos","message":"that's the closst I go","date":"2013-04-14T21:46:01.395Z","type":"message"}
{"nick":"Raynos","message":"dominictarr: I feel like I want to use js based map reduce and figure out how to require high order functions for it","date":"2013-04-14T21:46:20.453Z","type":"message"}
{"nick":"notalexgordon_","date":"2013-04-14T21:46:46.276Z","type":"join"}
{"nick":"dominictarr","message":"I've patched this in level-sublevel, but we are still discussing the ins and outs of merging in into level{up,down}","date":"2013-04-14T21:46:56.816Z","type":"message"}
{"nick":"dominictarr","message":"personally, I'm leaning towards a fix in leveldown being best","date":"2013-04-14T21:47:13.235Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: what do you mean?","date":"2013-04-14T21:47:37.714Z","type":"message"}
{"nick":"thl0","message":"Raynos: that's pretty cool - lots of info though","date":"2013-04-14T21:48:22.220Z","type":"message"}
{"nick":"Raynos","message":"dominictarr: https://github.com/Colingo/snapshot-reduce/blob/master/index.js this map reduce query is 300 lines of unmodularized code","date":"2013-04-14T21:48:34.061Z","type":"message"}
{"nick":"dominictarr","message":"(have also revised my previous opinion that map-reduce was so great, there are more ways to do it)","date":"2013-04-14T21:48:35.317Z","type":"message"}
{"nick":"Raynos","message":"I think if I had the ability to modularize and require functions I could do cool stuff","date":"2013-04-14T21:48:48.220Z","type":"message"}
{"nick":"dominictarr","message":"oh no","date":"2013-04-14T21:48:52.301Z","type":"message"}
{"nick":"thl0","message":"Raynos: totally different approach than waht I came up with: http://thlorenz.github.io/scriptie-talkie-embed/","date":"2013-04-14T21:48:53.015Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: well, since levelup is in your app you can use npm","date":"2013-04-14T21:49:13.240Z","type":"message"}
{"nick":"dominictarr","message":"you don't have to send the map-reduce code to a server","date":"2013-04-14T21:49:25.195Z","type":"message"}
{"nick":"dominictarr","message":"Raynos: I'm kinda wondering if there is a way to just pipe from one db to another…","date":"2013-04-14T21:51:29.775Z","type":"message"}
{"nick":"dominictarr","message":"like master-slave replication with a transform.","date":"2013-04-14T21:51:48.221Z","type":"message"}
{"nick":"substack","message":"dominictarr: you should make a scuttlebutt/rumours website with basic instructions about how all the pieces fit together and how to get started","date":"2013-04-14T21:53:00.757Z","type":"message"}
{"nick":"dominictarr","message":"with screencasts","date":"2013-04-14T21:53:29.537Z","type":"message"}
{"nick":"thl0","message":"Raynos: how does it know to render the mariostate, in all other examples you had a render(main, ..)?","date":"2013-04-14T21:53:40.350Z","type":"message"}
{"nick":"substack","message":"yep!","date":"2013-04-14T21:53:42.341Z","type":"message"}
{"nick":"substack","message":"voxeljs.com style","date":"2013-04-14T21:53:44.344Z","type":"message"}
{"nick":"Raynos","message":"thl0: it has the render call","date":"2013-04-14T21:54:21.800Z","type":"message"}
{"nick":"dominictarr","message":"substack: yes, I'm seeing this","date":"2013-04-14T21:54:43.183Z","type":"message"}
{"nick":"substack","message":"I think generally speaking this is the answer to the \"npm modules aren't discoverable\" problem","date":"2013-04-14T21:55:15.078Z","type":"message"}
{"nick":"dominictarr","message":"and it could all lead up to leveldb stuff","date":"2013-04-14T21:55:20.743Z","type":"message"}
{"nick":"substack","message":"yep!","date":"2013-04-14T21:55:26.794Z","type":"message"}
{"nick":"substack","message":"start out with simple in-memory ops, end at leveldb on disk map reducery","date":"2013-04-14T21:55:46.337Z","type":"message"}
{"nick":"thl0","message":"Raynos: just see one render(main) at the bottom, but it renders other data in the middle as well like input","date":"2013-04-14T21:56:02.939Z","type":"message"}
{"nick":"dominictarr","message":"intelligent curation of *-* ecosystems","date":"2013-04-14T21:56:09.934Z","type":"message"}
{"nick":"substack","message":"a fantastic journey","date":"2013-04-14T21:56:11.969Z","type":"message"}
{"nick":"thl0","message":"Raynos: or is that because it keeps changing?","date":"2013-04-14T21:56:17.541Z","type":"message"}
{"nick":"yorick","reason":"Remote host closed the connection","date":"2013-04-14T21:56:39.064Z","type":"quit"}
{"nick":"substack","message":"dominictarr: it's like lord of the rings","date":"2013-04-14T21:56:51.413Z","type":"message"}
{"nick":"thl0","message":"Raynos: really neat!, kindof more like lighttable","date":"2013-04-14T21:56:55.536Z","type":"message"}
{"nick":"substack","message":"you go from place to place meeting all sorts of colorful characters and foes","date":"2013-04-14T21:57:06.113Z","type":"message"}
{"nick":"dominictarr","message":"substack: actually, start with JSONStream, like your streams talk","date":"2013-04-14T21:57:11.499Z","type":"message"}
{"nick":"substack","message":"but there is an over-arching narrative and purpose","date":"2013-04-14T21:57:20.830Z","type":"message"}
{"nick":"substack","message":"narrative structure is too often missing from technical documentation","date":"2013-04-14T21:57:44.785Z","type":"message"}
{"nick":"dominictarr","message":"you set it up so nicely, with a insurmountable problem, and then surmount it","date":"2013-04-14T21:57:57.725Z","type":"message"}
{"nick":"substack","message":"yes exactly","date":"2013-04-14T21:58:38.045Z","type":"message"}
{"nick":"dominictarr","message":"that sets the hook, and now they want to hear more","date":"2013-04-14T21:58:52.704Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-04-14T21:59:03.866Z","type":"nick"}
{"nick":"substack","message":"hmm that's a good idea for my node philly talk too","date":"2013-04-14T21:59:03.999Z","type":"message"}
{"nick":"dominictarr","message":"then, you show them how easy it is to write a stream","date":"2013-04-14T21:59:12.039Z","type":"message"}
{"nick":"substack","message":"I'll start out by running procs in screen","date":"2013-04-14T21:59:12.176Z","type":"message"}
{"nick":"substack","message":"and show how much of a pain that is to push new code, especially when you have multiple people on your team","date":"2013-04-14T21:59:32.158Z","type":"message"}
{"nick":"dominictarr","message":"and not until THEN do you show them the first hard part - pause-stream","date":"2013-04-14T21:59:44.925Z","type":"message"}
{"nick":"substack","message":"yep","date":"2013-04-14T21:59:56.464Z","type":"message"}
{"nick":"substack","message":"fighting some golems","date":"2013-04-14T22:00:15.419Z","type":"message"}
{"nick":"substack","message":"you don't get to that part until after you've met gandalf","date":"2013-04-14T22:00:32.624Z","type":"message"}
{"nick":"dominictarr","message":"yup, and when you defeat them, and maybe another thing, and show them something REALLY cool, that they wouldn't even understand if you showed them it first.","date":"2013-04-14T22:01:05.345Z","type":"message"}
{"nick":"dominictarr","message":"so, you begin with failing to open a 800 mb json file","date":"2013-04-14T22:02:16.906Z","type":"message"}
{"nick":"dominictarr","message":"and then you end with building a clone of dynamo db, or a deployment system with realtime metrics","date":"2013-04-14T22:02:50.079Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-04-14T22:04:33.921Z","type":"nick"}
{"nick":"substack","message":"it makes the case from the beginning about why you use a database in the first place","date":"2013-04-14T22:04:44.717Z","type":"message"}
{"nick":"substack","message":"because JSON.parse() by itself doesn't scale","date":"2013-04-14T22:04:55.436Z","type":"message"}
{"nick":"dominictarr","message":"yes","date":"2013-04-14T22:05:00.563Z","type":"message"}
{"nick":"substack","message":"and it's important to start out with the assumptions if you're going to challenge some of them","date":"2013-04-14T22:05:08.041Z","type":"message"}
{"nick":"dominictarr","message":"yes, but you never talk about the assumptions as such. avoid discussing theory until after","date":"2013-04-14T22:05:40.679Z","type":"message"}
{"nick":"substack","message":"you can talk about them early so long as they are concrete","date":"2013-04-14T22:06:33.316Z","type":"message"}
{"nick":"substack","message":"like an 800 mb json file","date":"2013-04-14T22:06:37.100Z","type":"message"}
{"nick":"dominictarr","message":"yes","date":"2013-04-14T22:06:40.551Z","type":"message"}
{"nick":"dominictarr","message":"everyone has that problem","date":"2013-04-14T22:06:50.121Z","type":"message"}
{"nick":"substack","message":"specific -> general is always best","date":"2013-04-14T22:06:53.279Z","type":"message"}
{"nick":"substack","message":"when theory comes first there's nothing to ground the ideas","date":"2013-04-14T22:07:21.229Z","type":"message"}
{"nick":"dominictarr","message":"okay, so the character in the story is trying to open this massive file","date":"2013-04-14T22:07:40.256Z","type":"message"}
{"nick":"dominictarr","message":"but his computer keeps crashing","date":"2013-04-14T22:07:48.020Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-04-14T22:07:55.990Z","type":"nick"}
{"nick":"dominictarr","message":"then, a stranger wonders passed hears his problem","date":"2013-04-14T22:08:16.051Z","type":"message"}
{"nick":"dominictarr","message":"and tells the kid about JSONStream","date":"2013-04-14T22:08:41.185Z","type":"message"}
{"nick":"substack","message":"do this tech talk as a play","date":"2013-04-14T22:09:03.585Z","type":"message"}
{"nick":"substack","message":"with multiple live action characters","date":"2013-04-14T22:09:13.284Z","type":"message"}
{"nick":"substack","message":"that could be part of the screencast too","date":"2013-04-14T22:09:28.368Z","type":"message"}
{"nick":"dominictarr","message":"okay -- so it turns out that the guy is an alien, who is stuck on earth, because his spaceship is broken","date":"2013-04-14T22:09:53.823Z","type":"message"}
{"nick":"Raynos","message":"dominictarr: what I mean is I tried to make generic map reduce building blocks for mongo","date":"2013-04-14T22:10:09.078Z","type":"message"}
{"nick":"Raynos","message":"and its a nightmare","date":"2013-04-14T22:10:11.386Z","type":"message"}
{"nick":"dominictarr","message":"and, can you help him fix it","date":"2013-04-14T22:10:12.240Z","type":"message"}
{"nick":"Raynos","message":"I think having real js and real module system for in process map reducing is really powerful","date":"2013-04-14T22:10:22.664Z","type":"message"}
{"nick":"Raynos","message":"I just need to get to a point where I can experiment with it","date":"2013-04-14T22:10:30.712Z","type":"message"}
{"nick":"Raynos","message":"thl0: its right at the bottom! ( http://raynos.graphics-server.jit.su/full/mario.js )","date":"2013-04-14T22:11:20.539Z","type":"message"}
{"nick":"dominictarr","message":"substack: I like the play idea","date":"2013-04-14T22:11:36.403Z","type":"message"}
{"nick":"thl0","message":"yeah, I saw that","date":"2013-04-14T22:11:37.340Z","type":"message"}
{"nick":"substack","message":"dominictarr: the json file could be a star map","date":"2013-04-14T22:11:37.464Z","type":"message"}
{"nick":"dominictarr","message":"yes","date":"2013-04-14T22:11:43.865Z","type":"message"}
{"nick":"substack","message":"oh yes this is perfect","date":"2013-04-14T22:11:44.144Z","type":"message"}
{"nick":"thl0","message":"but there are other things rendered in the middle - i.e. mario state","date":"2013-04-14T22:11:50.604Z","type":"message"}
{"nick":"substack","message":"so the first thing he needs to do is to load the star map","date":"2013-04-14T22:11:55.421Z","type":"message"}
{"nick":"thl0","message":"(object literals with numbers)","date":"2013-04-14T22:12:01.960Z","type":"message"}
{"nick":"substack","message":"to figure out where he is","date":"2013-04-14T22:12:02.421Z","type":"message"}
{"nick":"Raynos","message":"thl0: oh I see","date":"2013-04-14T22:12:07.300Z","type":"message"}
{"nick":"Raynos","message":"thl0: put the mouse cursor over one of those white text blocks","date":"2013-04-14T22:12:23.851Z","type":"message"}
{"nick":"substack","message":"but then once he's in space he needs to make quick course corrections","date":"2013-04-14T22:12:30.505Z","type":"message"}
{"nick":"Raynos","message":"it says `inspect(dimensions) // =>`","date":"2013-04-14T22:12:31.116Z","type":"message"}
{"nick":"substack","message":"which requires indexing","date":"2013-04-14T22:12:40.128Z","type":"message"}
{"nick":"Raynos","message":"the => rendering engine just replaces the line with the value","date":"2013-04-14T22:12:40.254Z","type":"message"}
{"nick":"thl0","message":"ah - got it","date":"2013-04-14T22:12:40.384Z","type":"message"}
{"nick":"thl0","message":"pretty nifty","date":"2013-04-14T22:13:05.013Z","type":"message"}
{"nick":"dominictarr","message":"substack: yes, and also to fight bitrot","date":"2013-04-14T22:13:10.652Z","type":"message"}
{"nick":"thl0","message":"Raynos: I assume you have seen this: http://www.lighttable.com/ ?","date":"2013-04-14T22:13:32.074Z","type":"message"}
{"nick":"Raynos","message":"thl0: this only really works for reactive style things","date":"2013-04-14T22:13:32.859Z","type":"message"}
{"nick":"Raynos","message":"yeah ive seen lighttable I want to use it but it reeks of clojure","date":"2013-04-14T22:13:43.479Z","type":"message"}
{"nick":"thl0","message":"Raynos: I see","date":"2013-04-14T22:13:44.687Z","type":"message"}
{"nick":"dominictarr","message":"or some evil alien race that uses loc/programmer/day based metrics","date":"2013-04-14T22:13:48.346Z","type":"message"}
{"nick":"thl0","message":"Raynos: :) thought the same thing, a buddy of mine used it for a while, but wished for his editor back rather soon","date":"2013-04-14T22:14:17.885Z","type":"message"}
{"nick":"substack","message":"dominictarr: and then his spaceship adds new stars from its star detectors","date":"2013-04-14T22:14:18.105Z","type":"message"}
{"nick":"substack","message":"so to make course corrections he'll also need to do inserts","date":"2013-04-14T22:14:27.624Z","type":"message"}
{"nick":"dominictarr","message":"yeah, he has to send out probes","date":"2013-04-14T22:14:34.731Z","type":"message"}
{"nick":"thl0","message":"Raynos: cool idea though, changes the way you'd think about code and how you organize it","date":"2013-04-14T22:14:48.860Z","type":"message"}
{"nick":"dominictarr","message":"that must communicate with each other and pass back information","date":"2013-04-14T22:14:49.329Z","type":"message"}
{"nick":"substack","message":"and sometimes the detectors will update star records with more precise positions","date":"2013-04-14T22:14:53.885Z","type":"message"}
{"nick":"substack","message":"or to correct errors or sometimes stars move","date":"2013-04-14T22:15:00.910Z","type":"message"}
{"nick":"dominictarr","message":"substack: also, stuff like fuel sources","date":"2013-04-14T22:15:13.479Z","type":"message"}
{"nick":"substack","message":"gas giants could be the fuel sources","date":"2013-04-14T22:15:32.132Z","type":"message"}
{"nick":"dominictarr","message":"and because of the great distances involved in interstellar travel, you have to be aware of concurrent updates","date":"2013-04-14T22:15:38.498Z","type":"message"}
{"nick":"substack","message":"to power hydrogen fusion","date":"2013-04-14T22:15:40.444Z","type":"message"}
{"nick":"substack","message":"yep!","date":"2013-04-14T22:15:53.964Z","type":"message"}
{"nick":"dominictarr","message":"also","date":"2013-04-14T22:16:02.363Z","type":"message"}
{"nick":"substack","message":"also when you're going at full speed you lose radio communication","date":"2013-04-14T22:16:08.113Z","type":"message"}
{"nick":"substack","message":"network partitions","date":"2013-04-14T22:16:10.532Z","type":"message"}
{"nick":"dominictarr","message":"absolutly!","date":"2013-04-14T22:16:20.886Z","type":"message"}
{"nick":"substack","message":"because of radio noise from the plasma fusion core","date":"2013-04-14T22:16:25.704Z","type":"message"}
{"nick":"dominictarr","message":"and your travelling at lightspeed!","date":"2013-04-14T22:16:37.069Z","type":"message"}
{"nick":"dominictarr","message":"substack: so this alien has to get back to his home planet, to deliver a report he's written on earth","date":"2013-04-14T22:17:17.897Z","type":"message"}
{"nick":"substack","message":"exactly the same as ford prefect","date":"2013-04-14T22:17:58.536Z","type":"message"}
{"nick":"substack","message":"harmless -> mostly harmless","date":"2013-04-14T22:18:06.976Z","type":"message"}
{"nick":"dominictarr","message":"yes, but different report","date":"2013-04-14T22:18:10.000Z","type":"message"}
{"nick":"substack","message":"in fact you could make it about the hitchhiker's guide","date":"2013-04-14T22:18:25.805Z","type":"message"}
{"nick":"dominictarr","message":"the report says: \"Humans are idiots, and no good at writing software\"","date":"2013-04-14T22:18:31.174Z","type":"message"}
{"nick":"substack","message":"the hhg has concurrent document updates and network partitions","date":"2013-04-14T22:18:57.953Z","type":"message"}
{"nick":"tmcw_","reason":"Remote host closed the connection","date":"2013-04-14T22:19:09.533Z","type":"quit"}
{"nick":"dominictarr","message":"continues \"although, the previous U.N.I.X mission was successful, not enough people understand it's principles\"","date":"2013-04-14T22:19:19.500Z","type":"message"}
{"nick":"substack","message":"hahaha that's like U.N.I.T. from dr who","date":"2013-04-14T22:19:42.126Z","type":"message"}
{"nick":"Raynos","message":"thl0: your scriptie talkie is confusing","date":"2013-04-14T22:19:45.384Z","type":"message"}
{"nick":"Raynos","message":"mainly because i dont care about the return value of every line","date":"2013-04-14T22:20:01.706Z","type":"message"}
{"nick":"tmcw","date":"2013-04-14T22:20:21.543Z","type":"join"}
{"nick":"Raynos","message":"thl0: although having https://gist.github.com/Raynos/b8bf27d5d05811858bfc#file-continuable-js-L15 the type comments auto generated would be bad ass","date":"2013-04-14T22:20:31.219Z","type":"message"}
{"nick":"dominictarr","message":"\"the humans have rested on their laurells and not improved on the start we've given them\"","date":"2013-04-14T22:21:42.679Z","type":"message"}
{"nick":"rowbit","message":"Hourly usage stats: [developer: 4, free: 34]","date":"2013-04-14T22:21:42.879Z","type":"message"}
{"nick":"thl0","message":"Raynos: yeah it's not for all use cases, mainly to debug your js and understand what it does every step of the way","date":"2013-04-14T22:22:05.223Z","type":"message"}
{"nick":"thl0","message":"Raynos: or to teach people js via example","date":"2013-04-14T22:22:15.113Z","type":"message"}
{"nick":"dominictarr","message":"\"recommend earth for preemptive destruction, unless they join the bitrot hoard\"","date":"2013-04-14T22:22:17.898Z","type":"message"}
{"nick":"Raynos","message":"then it needs better syntax","date":"2013-04-14T22:22:29.907Z","type":"message"}
{"nick":"substack","message":"garbage collection","date":"2013-04-14T22:22:31.016Z","type":"message"}
{"nick":"thl0","message":"I thought it would be great to show examples in a blog","date":"2013-04-14T22:22:37.885Z","type":"message"}
{"nick":"thl0","message":"Raynos: like how ?","date":"2013-04-14T22:22:43.037Z","type":"message"}
{"nick":"dominictarr","message":"rm -rf /earth","date":"2013-04-14T22:22:44.371Z","type":"message"}
{"nick":"thl0","message":"so far it uses difflet to show changes","date":"2013-04-14T22:22:53.374Z","type":"message"}
{"nick":"substack","message":"garbage collect earth to save space","date":"2013-04-14T22:22:54.768Z","type":"message"}
{"nick":"thl0","message":"pretty clear syntax in my op","date":"2013-04-14T22:23:07.447Z","type":"message"}
{"nick":"dominictarr","message":"faster reads in that quadrant of the dataverse","date":"2013-04-14T22:23:11.461Z","type":"message"}
{"nick":"Raynos","message":"not sure","date":"2013-04-14T22:23:14.535Z","type":"message"}
{"nick":"Raynos","message":"The thing is","date":"2013-04-14T22:23:17.206Z","type":"message"}
{"nick":"Raynos","message":"I want less information","date":"2013-04-14T22:23:19.931Z","type":"message"}
{"nick":"Raynos","message":"I dont know how to render \"enough\" information","date":"2013-04-14T22:23:27.040Z","type":"message"}
{"nick":"dominictarr","message":"substack: anyway, you find that out in the middle","date":"2013-04-14T22:23:28.378Z","type":"message"}
{"nick":"thl0","message":"Raynos: got it - that is a tough one","date":"2013-04-14T22:23:39.136Z","type":"message"}
{"nick":"thl0","message":"cause either you show only last OR all intermediate results","date":"2013-04-14T22:24:01.622Z","type":"message"}
{"nick":"dominictarr","message":"when the alien and the kid are both on the way to the home planet","date":"2013-04-14T22:24:16.363Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-04-14T22:24:20.683Z","type":"quit"}
{"nick":"thl0","message":"that's why I didn't like slowmoJS because it repeated to show things that didn't even change","date":"2013-04-14T22:24:24.808Z","type":"message"}
{"nick":"thl0","message":"at least scriptie-talkie only shows changes in the context","date":"2013-04-14T22:24:41.834Z","type":"message"}
{"nick":"dominictarr","message":"maybe, the kid learn of this without the alien realizing","date":"2013-04-14T22:25:14.686Z","type":"message"}
{"nick":"Raynos","message":"thl0: like in my case. I'm rendering values over time and only the ones I care about","date":"2013-04-14T22:25:16.638Z","type":"message"}
{"nick":"Raynos","message":"ideally it's toggleable","date":"2013-04-14T22:25:22.054Z","type":"message"}
{"nick":"Raynos","message":" ideally it has a timeline","date":"2013-04-14T22:25:28.218Z","type":"message"}
{"nick":"Raynos","message":"I havn't gotten that far yet","date":"2013-04-14T22:25:32.150Z","type":"message"}
{"nick":"thl0","message":"Raynos: right, maybe I could add an option to ignore a snippet result/change","date":"2013-04-14T22:25:43.715Z","type":"message"}
{"nick":"ins0mnia","reason":"Ping timeout: 260 seconds","date":"2013-04-14T22:25:43.989Z","type":"quit"}
{"nick":"dominictarr","message":"anyway, so they have a bunch more adventures after that -","date":"2013-04-14T22:25:50.182Z","type":"message"}
{"nick":"thl0","message":"Raynos: someting like // ignore at the end","date":"2013-04-14T22:26:10.762Z","type":"message"}
{"nick":"thl0","message":"at least for the embed version","date":"2013-04-14T22:26:39.309Z","type":"message"}
{"nick":"dominictarr","message":"and just before they reach the alien planet - the alien realizes that the kid (and reader) has learnt all the principles - so maybe there is hope for earth - and he decides not to hand in the report","date":"2013-04-14T22:26:49.242Z","type":"message"}
{"nick":"thl0","message":"for the main version it's totally fine to see a bit more than you want","date":"2013-04-14T22:26:56.110Z","type":"message"}
{"nick":"dominictarr","message":"substack: maybe there can be spacestations they stop at and fix along the way too","date":"2013-04-14T22:27:43.953Z","type":"message"}
{"nick":"shuaib","date":"2013-04-14T22:29:34.929Z","type":"join"}
{"nick":"dominictarr","message":"substack: idea: ssh a node repl into any browser","date":"2013-04-14T22:39:13.665Z","type":"message"}
{"nick":"jcrugzz","reason":"Quit: leaving","date":"2013-04-14T22:40:03.604Z","type":"quit"}
{"nick":"dominictarr","message":"want to go document.body.append(document.createTextNode('HI THERE'))","date":"2013-04-14T22:40:07.207Z","type":"message"}
{"nick":"dominictarr","message":"in the terminal and see it the a browser","date":"2013-04-14T22:40:18.522Z","type":"message"}
{"nick":"jcrugzz","date":"2013-04-14T22:41:09.903Z","type":"join"}
{"nick":"substack","message":"shoe('/sock').pipe(split()).pipe(through(function (line) { Function(line)() })","date":"2013-04-14T22:41:33.473Z","type":"message"}
{"nick":"wolfeidau","date":"2013-04-14T22:43:59.223Z","type":"join"}
{"nick":"farnsworth","reason":"Remote host closed the connection","date":"2013-04-14T22:44:26.639Z","type":"quit"}
{"nick":"cubert","reason":"Remote host closed the connection","date":"2013-04-14T22:44:26.867Z","type":"quit"}
{"nick":"shuaib","reason":"Ping timeout: 252 seconds","date":"2013-04-14T22:48:14.426Z","type":"quit"}
{"nick":"dominictarr","message":"hmm, that is gonna make a good demo","date":"2013-04-14T22:51:27.671Z","type":"message"}
{"nick":"dominictarr","message":"what about with auto complete?","date":"2013-04-14T22:51:53.389Z","type":"message"}
{"nick":"chrisdickinson","message":"thl0: belatedly: very neat re: scriptie-talkie embeds","date":"2013-04-14T22:51:57.186Z","type":"message"}
{"nick":"substack","message":"dominictarr: 8000% more complicated with auto-complete","date":"2013-04-14T22:52:15.710Z","type":"message"}
{"nick":"substack","message":"just do the simple easy thing","date":"2013-04-14T22:52:39.768Z","type":"message"}
{"nick":"dominictarr","message":"yes","date":"2013-04-14T22:53:01.639Z","type":"message"}
{"nick":"thl0","message":"chrisdickinson: thnx - still working on adding some features","date":"2013-04-14T22:53:11.629Z","type":"message"}
{"nick":"chrisdickinson","message":"anyone have good primitives for an api that is *usually* synchronous but occasionally async?","date":"2013-04-14T22:53:17.428Z","type":"message"}
{"nick":"chrisdickinson","message":"with an eye towards optimizing towards the sync case?","date":"2013-04-14T22:53:31.734Z","type":"message"}
{"nick":"dominictarr","message":"chrisdickinson: you mean, callsback before it returns?","date":"2013-04-14T22:53:46.258Z","type":"message"}
{"nick":"chrisdickinson","message":"(nb, just making everything async is what i'm already doing and it's horrible for performance.)","date":"2013-04-14T22:53:47.708Z","type":"message"}
{"nick":"chrisdickinson","message":"dominictarr: in this case it's a through stream that implements inflate","date":"2013-04-14T22:54:09.145Z","type":"message"}
{"nick":"chrisdickinson","message":"the problem is that currently i have an async api for asking for a certain number of bits","date":"2013-04-14T22:54:27.076Z","type":"message"}
{"nick":"dominictarr","message":"https://github.com/dominictarr/pull-stream/blob/master/sinks.js#L1-L22","date":"2013-04-14T22:54:33.140Z","type":"message"}
{"nick":"chrisdickinson","message":"(like pull-streams)","date":"2013-04-14T22:54:35.921Z","type":"message"}
{"nick":"dominictarr","message":"did that yesterday","date":"2013-04-14T22:54:39.025Z","type":"message"}
{"nick":"chrisdickinson","message":"well","date":"2013-04-14T22:54:49.048Z","type":"message"}
{"nick":"chrisdickinson","message":"so here's the problem; you can't recurse because of a lack of tco","date":"2013-04-14T22:55:05.057Z","type":"message"}
{"nick":"dominictarr","message":"it checks if it's calledback sync, and iterates instead of recursing","date":"2013-04-14T22:55:11.009Z","type":"message"}
{"nick":"chrisdickinson","message":"if you just recurse it'll reliably throw recursion errors","date":"2013-04-14T22:55:19.459Z","type":"message"}
{"nick":"dominictarr","message":"tco?","date":"2013-04-14T22:55:22.263Z","type":"message"}
{"nick":"chrisdickinson","message":"tail call optimization","date":"2013-04-14T22:55:28.249Z","type":"message"}
{"nick":"thl0","reason":"Remote host closed the connection","date":"2013-04-14T22:55:48.588Z","type":"quit"}
{"nick":"dominictarr","message":"chrisdickinson: that is what the link does - iterates if can,","date":"2013-04-14T22:55:56.352Z","type":"message"}
{"nick":"tilgovi","date":"2013-04-14T22:55:56.974Z","type":"join"}
{"nick":"dominictarr","message":"else recurses if it's async","date":"2013-04-14T22:56:04.286Z","type":"message"}
{"nick":"chrisdickinson","message":"yes, but i'm asking for a bit at a time, nearly","date":"2013-04-14T22:56:42.418Z","type":"message"}
{"nick":"chrisdickinson","message":"so it'll call done and go to the next step","date":"2013-04-14T22:56:49.822Z","type":"message"}
{"nick":"chrisdickinson","message":"which may or may not ask for 1+ bits","date":"2013-04-14T22:57:00.896Z","type":"message"}
{"nick":"chrisdickinson","message":"https://gist.github.com/chrisdickinson/a3a9f947ce586a272a9b","date":"2013-04-14T22:57:36.923Z","type":"message"}
{"nick":"chrisdickinson","message":"things are unrolled a bit to be nicer to V8 for optimization","date":"2013-04-14T22:57:55.050Z","type":"message"}
{"nick":"chrisdickinson","message":"basically you can either be in \"read a byte\" mode or \"read N bits\" mode","date":"2013-04-14T22:58:13.050Z","type":"message"}
{"nick":"chrisdickinson","message":"take === \"read bits\", read === \"read bytes\"","date":"2013-04-14T22:58:22.778Z","type":"message"}
{"nick":"dominictarr","message":"substack: what if you replicated the current variables back to the repl?","date":"2013-04-14T22:58:24.026Z","type":"message"}
{"nick":"chrisdickinson","message":"https://gist.github.com/chrisdickinson/a3a9f947ce586a272a9b#file-inflate-js-L230-L233","date":"2013-04-14T22:58:27.626Z","type":"message"}
{"nick":"substack","message":"dominictarr: with scuttlebutt?","date":"2013-04-14T22:58:40.963Z","type":"message"}
{"nick":"dominictarr","message":"yeah","date":"2013-04-14T22:58:44.115Z","type":"message"}
{"nick":"substack","message":"that would be really neat","date":"2013-04-14T22:58:50.151Z","type":"message"}
{"nick":"dominictarr","message":"would make it way more snappy anyway","date":"2013-04-14T22:58:52.996Z","type":"message"}
{"nick":"dominictarr","message":"and you only need to support thing.property.whatever","date":"2013-04-14T22:59:45.145Z","type":"message"}
{"nick":"chrisdickinson","message":"prevailing wisdom seems to be \"if anything's async make it all async\"","date":"2013-04-14T23:00:34.907Z","type":"message"}
{"nick":"dominictarr","message":"maybe with some trick to remember variables you have created","date":"2013-04-14T23:00:35.036Z","type":"message"}
{"nick":"chrisdickinson","message":"but there's kind of a corner case where things will *usually* be sync, and delegating to process.nextTick / setImmediate adds far too much overhead","date":"2013-04-14T23:01:20.696Z","type":"message"}
{"nick":"chrisdickinson","message":"was having a similar problem with plate when i was trying to make it not dog-slow -- and i used something that i called a \"promise\" but isn't really a promise","date":"2013-04-14T23:02:18.366Z","type":"message"}
{"nick":"chrisdickinson","message":"https://github.com/chrisdickinson/plate/blob/master/lib/tags/with.js#L24-L47","date":"2013-04-14T23:02:23.888Z","type":"message"}
{"nick":"chrisdickinson","message":"basically, try to do everything synchronously until you get a value that indicates that you have to wait. once that gets resolved, retry.","date":"2013-04-14T23:02:46.144Z","type":"message"}
{"nick":"chrisdickinson","message":"just curious if this corner case has come up for anyone else, and if so how have you tackled it?","date":"2013-04-14T23:03:16.988Z","type":"message"}
{"nick":"shuaib","date":"2013-04-14T23:04:33.689Z","type":"join"}
{"nick":"dominictarr","message":"chrisdickinson: yeah, don't use nextTick","date":"2013-04-14T23:04:46.708Z","type":"message"}
{"nick":"chrisdickinson","message":"yes, but then you get into the problem of getting recursion errors","date":"2013-04-14T23:05:26.083Z","type":"message"}
{"nick":"dominictarr","message":"you need to make your control flow work with this : function fakeAsyncMaybe(data, cb) { if(maybe) cb() /*immediate*/; else process.nextTick(cb) })","date":"2013-04-14T23:05:59.847Z","type":"message"}
{"nick":"tmcw","reason":"Remote host closed the connection","date":"2013-04-14T23:06:04.590Z","type":"quit"}
{"nick":"dominictarr","message":"so, I had that… and SOMETIMES i uses nextTick...","date":"2013-04-14T23:06:26.192Z","type":"message"}
{"nick":"dominictarr","message":"like if(!(i++ % 1000)) nextTick(cb) else cb()","date":"2013-04-14T23:06:45.363Z","type":"message"}
{"nick":"dominictarr","message":"but then I switched to a different approach","date":"2013-04-14T23:08:19.127Z","type":"message"}
{"nick":"dominictarr","message":"like - have take check whether it has been called before an outer take has returned","date":"2013-04-14T23:08:39.767Z","type":"message"}
{"nick":"chrisdickinson","message":"yeah, that's what i'm doing now, roughly","date":"2013-04-14T23:08:57.437Z","type":"message"}
{"nick":"dominictarr","message":"and if so, add your callback to the stack","date":"2013-04-14T23:08:58.908Z","type":"message"}
{"nick":"dominictarr","message":"and let the outer stack call it","date":"2013-04-14T23:09:10.707Z","type":"message"}
{"nick":"chrisdickinson","message":"i think maybe it might be best to go for \"return a sentinel value\" and have resumable state in the stream","date":"2013-04-14T23:09:26.825Z","type":"message"}
{"nick":"chrisdickinson","message":"not quite the promise solution from before","date":"2013-04-14T23:09:35.525Z","type":"message"}
{"nick":"dominictarr","message":"I did that yesterday (in one place for a long pull stream) and it went 20% faster","date":"2013-04-14T23:09:58.115Z","type":"message"}
{"nick":"chrisdickinson","message":"interesting, so you end up with a stack of callbacks that get iterated over?","date":"2013-04-14T23:10:37.931Z","type":"message"}
{"nick":"substack","message":"use 1 mdm stream for a scuttlebutt model and 1 mdm stream for a through(function (line) { model.set('_result', Function(model.keys(), line).apply(null, model.keys().map(function (key) { return model.get(key) })))) })","date":"2013-04-14T23:10:51.157Z","type":"message"}
{"nick":"substack","message":"and pipe the mdm stream through shoe","date":"2013-04-14T23:10:58.519Z","type":"message"}
{"nick":"substack","message":"then on the other end hook into updates to _result and console.dir() those values","date":"2013-04-14T23:11:13.928Z","type":"message"}
{"nick":"dominictarr","message":"in my case it was just a loop, not full recursion, so I didn't need a stack","date":"2013-04-14T23:11:15.153Z","type":"message"}
{"nick":"chrisdickinson","message":"substack: sidenote: does shoe/sock support binary data (i.e., sending arraybuffers)?","date":"2013-04-14T23:11:27.912Z","type":"message"}
{"nick":"dominictarr","message":"substack: yes, that would work","date":"2013-04-14T23:11:35.010Z","type":"message"}
{"nick":"substack","message":"chrisdickinson: use base64","date":"2013-04-14T23:11:36.505Z","type":"message"}
{"nick":"substack","message":"it's only 33% more data","date":"2013-04-14T23:11:44.199Z","type":"message"}
{"nick":"chrisdickinson","message":"substack: would you be greatly opposed to a PR that added support for arraybuffers?","date":"2013-04-14T23:12:08.323Z","type":"message"}
{"nick":"jesusabdullah","message":"but think of the dial-up users!","date":"2013-04-14T23:12:10.869Z","type":"message"}
{"nick":"dominictarr","message":"chrisdickinson: … some of the fallbacks might break?","date":"2013-04-14T23:12:19.298Z","type":"message"}
{"nick":"chrisdickinson","message":"dominictarr: true","date":"2013-04-14T23:12:33.635Z","type":"message"}
{"nick":"chrisdickinson","message":"the flash one, primarily","date":"2013-04-14T23:12:39.175Z","type":"message"}
{"nick":"chrisdickinson","message":"(if that one exists in sock)","date":"2013-04-14T23:12:46.216Z","type":"message"}
{"nick":"dominictarr","message":"maybe you could degrade intelligently, though","date":"2013-04-14T23:12:46.469Z","type":"message"}
{"nick":"st_luke","message":"I send base encoded images over websockets all the time, works quite well","date":"2013-04-14T23:12:51.809Z","type":"message"}
{"nick":"chrisdickinson","message":"i've been using base64","date":"2013-04-14T23:13:29.307Z","type":"message"}
{"nick":"dominictarr","message":"chrisdickinson: mostly sock js is something that I have been able to avoid learning how it actually works.","date":"2013-04-14T23:13:46.215Z","type":"message"}
{"nick":"chrisdickinson","message":"it's adding a bit of overhead. outside of this \"maybe possibly async\" thing it's the second bottleneck","date":"2013-04-14T23:13:51.866Z","type":"message"}
{"nick":"dominictarr","message":"chrisdickinson: I've been thinking about a js implemention of snappy","date":"2013-04-14T23:14:25.398Z","type":"message"}
{"nick":"chrisdickinson","message":"interesting!","date":"2013-04-14T23:14:41.818Z","type":"message"}
{"nick":"dominictarr","message":"it's byte (not bit) compression optimized for speed","date":"2013-04-14T23:14:48.325Z","type":"message"}
{"nick":"substack","message":"chrisdickinson: I kind of don't care about arraybuffers","date":"2013-04-14T23:15:15.937Z","type":"message"}
{"nick":"substack","message":"base64 and everything works everywhere","date":"2013-04-14T23:15:25.451Z","type":"message"}
{"nick":"substack","message":"worse is better here","date":"2013-04-14T23:15:30.650Z","type":"message"}
{"nick":"dominictarr","message":"& there is lots of reppetittion in json/mux-demux/scuttlebutt so there would be pretty good gains if it was fast enough","date":"2013-04-14T23:15:38.772Z","type":"message"}
{"nick":"jesusabdullah","message":"turkey salad :D","date":"2013-04-14T23:15:40.824Z","type":"message"}
{"nick":"chrisdickinson","message":"i'm pretty tied to inflate (it's baked into the git packfile spec), but it'd definitely be nice to have more options","date":"2013-04-14T23:15:53.039Z","type":"message"}
{"nick":"dominictarr","message":"yes - inflate is part of git","date":"2013-04-14T23:16:10.783Z","type":"message"}
{"nick":"jesusabdullah","message":"infl8 huh?","date":"2013-04-14T23:16:14.055Z","type":"message"}
{"nick":"chrisdickinson","message":"substack: yeah, for the moment solving the recursion / nextTick thing in inflate will buy me back a bunch of time, so it remains to be seen if the base64->buffer bottleneck will absolutely *need* solving","date":"2013-04-14T23:16:56.423Z","type":"message"}
{"nick":"dominictarr","message":"chrisdickinson: https://gist.github.com/chrisdickinson/a3a9f947ce586a272a9b#file-inflate-js-L96-L115","date":"2013-04-14T23:17:20.814Z","type":"message"}
{"nick":"dominictarr","message":"is that rolled out for perf?","date":"2013-04-14T23:17:28.789Z","type":"message"}
{"nick":"chrisdickinson","message":"yep","date":"2013-04-14T23:17:40.051Z","type":"message"}
{"nick":"dominictarr","message":"does that make much difference?","date":"2013-04-14T23:17:50.567Z","type":"message"}
{"nick":"chrisdickinson","message":"it's a little dumb but it bought me about 200ms on a 1.6mb file","date":"2013-04-14T23:17:55.608Z","type":"message"}
{"nick":"chrisdickinson","message":"200-300-ish","date":"2013-04-14T23:18:02.430Z","type":"message"}
{"nick":"dominictarr","message":"how much did it do before hand?","date":"2013-04-14T23:18:21.674Z","type":"message"}
{"nick":"dominictarr","message":"I mean, how long did it take first","date":"2013-04-14T23:18:36.064Z","type":"message"}
{"nick":"dominictarr","message":"s/first/before/","date":"2013-04-14T23:18:46.384Z","type":"message"}
{"nick":"chrisdickinson","message":"so, this is before the biggest speed gain, which was hilariously located elsewhere","date":"2013-04-14T23:18:46.510Z","type":"message"}
{"nick":"chrisdickinson","message":"iirc it was like 1.4-6 before, 1.2-3 after","date":"2013-04-14T23:19:19.037Z","type":"message"}
{"nick":"chrisdickinson","message":"but","date":"2013-04-14T23:19:22.394Z","type":"message"}
{"nick":"dominictarr","message":"1.4 seconds?","date":"2013-04-14T23:19:30.483Z","type":"message"}
{"nick":"chrisdickinson","message":"yeah","date":"2013-04-14T23:19:35.468Z","type":"message"}
{"nick":"chrisdickinson","message":"alarming, but, there was another fix that bought a ton of time","date":"2013-04-14T23:19:53.211Z","type":"message"}
{"nick":"dominictarr","message":"what was that?","date":"2013-04-14T23:20:08.848Z","type":"message"}
{"nick":"chrisdickinson","message":"https://gist.github.com/chrisdickinson/a3a9f947ce586a272a9b#file-inflate-js-L403-L419","date":"2013-04-14T23:20:13.392Z","type":"message"}
{"nick":"chrisdickinson","message":"so","date":"2013-04-14T23:20:14.771Z","type":"message"}
{"nick":"chrisdickinson","message":"you have to keep a window around","date":"2013-04-14T23:20:20.110Z","type":"message"}
{"nick":"chrisdickinson","message":"i am dumb, and i adding to the array in the loop and then slicing it to 32k at the end","date":"2013-04-14T23:20:35.457Z","type":"message"}
{"nick":"chrisdickinson","message":"which really meant that it was copying and GC'ing 32k every time there was output","date":"2013-04-14T23:20:59.986Z","type":"message"}
{"nick":"dominictarr","message":"oh, forcing types to int","date":"2013-04-14T23:21:03.121Z","type":"message"}
{"nick":"thl0","date":"2013-04-14T23:21:05.136Z","type":"join"}
{"nick":"dominictarr","message":"… and is 32k a magic number, memory wise?","date":"2013-04-14T23:21:37.197Z","type":"message"}
{"nick":"chrisdickinson","message":"it's the size of the largest window necessary to inflate a deflated stream","date":"2013-04-14T23:21:50.427Z","type":"message"}
{"nick":"chrisdickinson","message":"you can be smarter about it, theoretically -- i do believe the window size is part of the header","date":"2013-04-14T23:22:12.206Z","type":"message"}
{"nick":"chrisdickinson","message":"but there's also raw deflated streams which don't have the header, so i opted for simplicity","date":"2013-04-14T23:22:30.564Z","type":"message"}
{"nick":"dominictarr","message":"what if you made read async, but take sync?","date":"2013-04-14T23:23:30.279Z","type":"message"}
{"nick":"chrisdickinson","message":"well, take can take >1 bit","date":"2013-04-14T23:23:43.051Z","type":"message"}
{"nick":"chrisdickinson","message":">=1 bit","date":"2013-04-14T23:23:46.763Z","type":"message"}
{"nick":"dominictarr","message":"so you read to a hwm and then take","date":"2013-04-14T23:23:51.441Z","type":"message"}
{"nick":"chrisdickinson","message":"somewhere between 1 and 20, iirc","date":"2013-04-14T23:23:51.800Z","type":"message"}
{"nick":"chrisdickinson","message":"and you might be on a byte boundary, and that byte boundary might also be a buffer boundary, and then you end up having to wait","date":"2013-04-14T23:24:16.064Z","type":"message"}
{"nick":"dominictarr","message":"right - so if you have less than 20 bits in the stream, you should probably do a read","date":"2013-04-14T23:24:24.209Z","type":"message"}
{"nick":"chrisdickinson","message":"right","date":"2013-04-14T23:24:35.167Z","type":"message"}
{"nick":"chrisdickinson","message":"but the other issue is that when you're doing the codes, you have no idea how many bits you'll actually have to take in this loop","date":"2013-04-14T23:24:56.977Z","type":"message"}
{"nick":"dominictarr","message":"what if you just started the last take over if necessary","date":"2013-04-14T23:25:10.593Z","type":"message"}
{"nick":"chrisdickinson","message":"you have to take until you recurse down the huffman tree to a end symbol","date":"2013-04-14T23:25:14.909Z","type":"message"}
{"nick":"chrisdickinson","message":"*an end","date":"2013-04-14T23:25:23.000Z","type":"message"}
{"nick":"dominictarr","message":"but how long is each symbol, usually?","date":"2013-04-14T23:25:36.817Z","type":"message"}
{"nick":"dominictarr","message":"it's gonna be pretty short, right?","date":"2013-04-14T23:25:44.497Z","type":"message"}
{"nick":"chrisdickinson","message":"well, the symbol is generated by using the bits to recurse down the huffman tree (as i understand it)","date":"2013-04-14T23:26:02.278Z","type":"message"}
{"nick":"dominictarr","message":"less than 10 bytes etc","date":"2013-04-14T23:26:10.469Z","type":"message"}
{"nick":"chrisdickinson","message":"the symbol just tells you what to do next (symbol < 256, output raw symbol, symbol > 256, use lencodes/distcodes to copy back out of the output window, symbol === 256, end block)","date":"2013-04-14T23:27:28.387Z","type":"message"}
{"nick":"dominictarr","message":"right, so what is the typical length for a block?","date":"2013-04-14T23:28:24.387Z","type":"message"}
{"nick":"dominictarr","message":"vs a read?","date":"2013-04-14T23:28:48.958Z","type":"message"}
{"nick":"dominictarr","message":"a read is probably a block at a time","date":"2013-04-14T23:29:10.061Z","type":"message"}
{"nick":"dominictarr","message":"4k or so","date":"2013-04-14T23:29:19.181Z","type":"message"}
{"nick":"dominictarr","message":"even if the input is completely random, you are gonna get many inflate blocks for one os block… surely?","date":"2013-04-14T23:31:07.469Z","type":"message"}
{"nick":"mikolalysenko","date":"2013-04-14T23:32:21.431Z","type":"join"}
{"nick":"stlsaint","date":"2013-04-14T23:42:32.784Z","type":"join"}
{"nick":"fallsemo","reason":"Quit: Leaving.","date":"2013-04-14T23:44:33.590Z","type":"quit"}
{"nick":"spion","reason":"Ping timeout: 246 seconds","date":"2013-04-14T23:45:37.793Z","type":"quit"}
{"nick":"fallsemo","date":"2013-04-14T23:45:53.136Z","type":"join"}
{"nick":"chrisdickinson","message":"dominictarr: i haven't measured the typical block length, but they're definitely not byte aligned","date":"2013-04-14T23:46:00.453Z","type":"message"}
{"nick":"chrisdickinson","message":"there are 3 block types - stored, fixed, and dynamic -- stored is the simplest and is byte aligned after the header (it's just 0-65535 bytes)","date":"2013-04-14T23:46:36.842Z","type":"message"}
{"nick":"chrisdickinson","message":"fixed and dynamic both use huffman coding to generate output -- dynamic actually transmits the serialized huffman codes in-stream though","date":"2013-04-14T23:47:18.359Z","type":"message"}
{"nick":"dominictarr","message":"so, what I'm wondering, is could you just redo blocks that turned out to overlap?","date":"2013-04-14T23:47:19.318Z","type":"message"}
{"nick":"chrisdickinson","message":"i don't think there's any one-to-one between a buffer coming in representing a single block","date":"2013-04-14T23:47:48.909Z","type":"message"}
{"nick":"dominictarr","message":"those being the rare cases that are async?","date":"2013-04-14T23:47:53.990Z","type":"message"}
{"nick":"chrisdickinson","message":"it could represent <1, ==1, or >1 blocks","date":"2013-04-14T23:47:55.565Z","type":"message"}
{"nick":"chrisdickinson","message":"hmm","date":"2013-04-14T23:48:07.342Z","type":"message"}
{"nick":"chrisdickinson","message":"possibly","date":"2013-04-14T23:48:18.083Z","type":"message"}
{"nick":"dominictarr","message":"so.. blocks could be larger than blocks?","date":"2013-04-14T23:48:19.924Z","type":"message"}
{"nick":"chrisdickinson","message":"blocks could be larger or smaller than the incoming buffer data yes","date":"2013-04-14T23:48:37.714Z","type":"message"}
{"nick":"dominictarr","message":"buffers could be larger than blocks, I mean","date":"2013-04-14T23:48:38.398Z","type":"message"}
{"nick":"chrisdickinson","message":"yep","date":"2013-04-14T23:48:50.769Z","type":"message"}
{"nick":"chrisdickinson","message":"there's no one-to-one, especially since the headers etc aren't byte aligned","date":"2013-04-14T23:49:02.125Z","type":"message"}
{"nick":"dominictarr","message":"hmm, so what is the case that generates the longest blocks? random data - or data with repitions?","date":"2013-04-14T23:49:27.237Z","type":"message"}
{"nick":"chrisdickinson","message":"this is tangentially the problem with node's zlib -- it'll give you data before it gets to the (byte aligned) 4 byte adler at the end","date":"2013-04-14T23:49:30.147Z","type":"message"}
{"nick":"chrisdickinson","message":"random data would be stored byte-aligned as a literal \"stored\" block","date":"2013-04-14T23:50:08.222Z","type":"message"}
{"nick":"dominictarr","message":"right - so that isn't a problem","date":"2013-04-14T23:50:42.630Z","type":"message"}
{"nick":"dominictarr","message":"hmm - just checking - this is the decompressor we are talking about, right?","date":"2013-04-14T23:51:29.314Z","type":"message"}
{"nick":"chrisdickinson","message":"yes","date":"2013-04-14T23:51:35.543Z","type":"message"}
{"nick":"dominictarr","message":"how big is the huffman tree?","date":"2013-04-14T23:52:09.425Z","type":"message"}
{"nick":"dominictarr","message":"hmm, so basically the approach I am suggesting is this https://github.com/dominictarr/split/blob/master/index.js","date":"2013-04-14T23:53:34.686Z","type":"message"}
{"nick":"dominictarr","message":"process it sync","date":"2013-04-14T23:53:48.010Z","type":"message"}
{"nick":"chrisdickinson","message":"i think it varies","date":"2013-04-14T23:53:52.773Z","type":"message"}
{"nick":"dominictarr","message":"but keep the part that didn't make sense, and try it again","date":"2013-04-14T23:53:58.846Z","type":"message"}
{"nick":"chrisdickinson","message":"ah","date":"2013-04-14T23:54:45.105Z","type":"message"}
{"nick":"chrisdickinson","message":"and then retry it when we get more data","date":"2013-04-14T23:54:50.648Z","type":"message"}
{"nick":"chrisdickinson","message":"interesting","date":"2013-04-14T23:54:54.911Z","type":"message"}
{"nick":"dominictarr","message":"you'll probably won't waste much time retrying, if you receive reasonable sized buffers","date":"2013-04-14T23:59:13.347Z","type":"message"}
