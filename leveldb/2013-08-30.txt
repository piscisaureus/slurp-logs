{"nick":"mbalho","message":"https://github.com/rvagg/node-leveldown/pull/57","date":"2013-08-30T00:00:33.521Z","type":"message"}
{"nick":"mbalho","message":"rvagg: i think the version on npm was out of date with the version on that branch","date":"2013-08-30T00:00:56.003Z","type":"message"}
{"nick":"rvagg","message":"quite possible","date":"2013-08-30T00:01:07.991Z","type":"message"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-30T00:01:11.131Z","type":"quit"}
{"nick":"jerrysv","reason":"Remote host closed the connection","date":"2013-08-30T00:01:34.859Z","type":"quit"}
{"nick":"esundahl","reason":"Ping timeout: 240 seconds","date":"2013-08-30T00:03:02.529Z","type":"quit"}
{"nick":"ralphtheninja","reason":"Quit: leaving","date":"2013-08-30T00:05:16.700Z","type":"quit"}
{"nick":"eugeneware","date":"2013-08-30T00:10:48.443Z","type":"join"}
{"nick":"rescrv","message":"mbalho: It's leveldb::Status, right?  I think you can just copy that from Put.  I think rvagg can help with that.","date":"2013-08-30T00:14:19.999Z","type":"message"}
{"nick":"eugeneware","reason":"Remote host closed the connection","date":"2013-08-30T00:19:05.578Z","type":"quit"}
{"nick":"thlorenz","date":"2013-08-30T00:58:08.767Z","type":"join"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-30T00:58:58.928Z","type":"quit"}
{"nick":"kenansulayman","date":"2013-08-30T00:59:41.426Z","type":"join"}
{"nick":"ednapiranha","date":"2013-08-30T01:04:16.745Z","type":"join"}
{"nick":"dguttman","reason":"Quit: dguttman","date":"2013-08-30T01:22:18.332Z","type":"quit"}
{"nick":"jxson","reason":"Remote host closed the connection","date":"2013-08-30T01:32:23.809Z","type":"quit"}
{"nick":"kenansulayman","reason":"Ping timeout: 264 seconds","date":"2013-08-30T01:38:16.444Z","type":"quit"}
{"nick":"kenansulayman","date":"2013-08-30T01:38:49.421Z","type":"join"}
{"nick":"rvagg","message":"rescrv: ring any bells? ../deps/leveldb/leveldb-hyper/db/skiplist.h:422: void leveldb::SkipList<Key, Comparator>::InsertWithHint(leveldb::SkipList<Key, Comparator>::InsertHint*, const Key&) [with Key = const char*; Comparator = leveldb::MemTable::KeyComparator]: Assertion `x == __null || !Equal(key, x->key)' failed.","date":"2013-08-30T01:47:44.642Z","type":"message"}
{"nick":"jmartins","reason":"Remote host closed the connection","date":"2013-08-30T01:48:43.557Z","type":"quit"}
{"nick":"levelbot","message":"[npm] leveldown-hyper@0.8.0 <http://npm.im/leveldown-hyper>: A Node.js LevelDB binding, primary backend for LevelUP (HyperDex fork) (@rvagg)","date":"2013-08-30T01:54:17.858Z","type":"message"}
{"nick":"levelbot","message":"[npm] hyperlevel@0.15.1 <http://npm.im/hyperlevel>: A HyperDex-LevelDB wrapper (a convenience package bundling LevelUP & LevelDOWN-hyper) (@kenansulayman)","date":"2013-08-30T01:55:47.490Z","type":"message"}
{"nick":"rvagg","message":"heh, speedy work kenansulayman","date":"2013-08-30T01:55:58.830Z","type":"message"}
{"nick":"rvagg","message":"✔","date":"2013-08-30T01:56:01.138Z","type":"message"}
{"nick":"kenansulayman","message":":D","date":"2013-08-30T01:56:02.037Z","type":"message"}
{"nick":"kenansulayman","message":"rvagg Building seems to err with 0.8.0","date":"2013-08-30T01:58:51.862Z","type":"message"}
{"nick":"kenansulayman","message":"rvagg http://data.sly.mn/R7WT","date":"2013-08-30T01:59:28.709Z","type":"message"}
{"nick":"kenansulayman","message":"rvagg this is plain \"npm install hyperlevel\" using leveldown-hyper 0.8.0: http://data.sly.mn/R6Z3","date":"2013-08-30T02:02:00.638Z","type":"message"}
{"nick":"kenansulayman","message":"make: *** No rule to make target `Release/obj.target/leveldb/deps/leveldb/leveldb-hyper/util/bloom.o', needed by `Release/leveldb.a'.  Stop.","date":"2013-08-30T02:02:48.434Z","type":"message"}
{"nick":"rvagg","message":"hm","date":"2013-08-30T02:03:12.468Z","type":"message"}
{"nick":"rvagg","message":"perhaps the submodule wasn't included in the release","date":"2013-08-30T02:04:18.427Z","type":"message"}
{"nick":"kenansulayman","message":"Let me have a look","date":"2013-08-30T02:04:29.347Z","type":"message"}
{"nick":"rvagg","message":"indeed it hasn't","date":"2013-08-30T02:05:22.734Z","type":"message"}
{"nick":"rvagg","message":"odd","date":"2013-08-30T02:05:23.291Z","type":"message"}
{"nick":"rvagg","message":"grr, it's in .npmignore","date":"2013-08-30T02:05:34.514Z","type":"message"}
{"nick":"rvagg","message":"doh!","date":"2013-08-30T02:05:36.989Z","type":"message"}
{"nick":"kenansulayman","message":"0.8.1 it is then ;)","date":"2013-08-30T02:07:07.502Z","type":"message"}
{"nick":"rvagg","message":"NEIN","date":"2013-08-30T02:07:13.782Z","type":"message"}
{"nick":"kenansulayman","message":"haha","date":"2013-08-30T02:07:17.688Z","type":"message"}
{"nick":"kenansulayman","message":"DOCH","date":"2013-08-30T02:07:24.617Z","type":"message"}
{"nick":"rvagg","message":"needs to sync properly with leveldown ... sooooo ....","date":"2013-08-30T02:07:26.851Z","type":"message"}
{"nick":"kenansulayman","message":"yeah right","date":"2013-08-30T02:07:35.869Z","type":"message"}
{"nick":"kenansulayman","message":"delete 0.8.0 and republish","date":"2013-08-30T02:07:41.602Z","type":"message"}
{"nick":"levelbot","message":"[npm] leveldown-hyper@0.8.0-1 <http://npm.im/leveldown-hyper>: A Node.js LevelDB binding, primary backend for LevelUP (HyperDex fork) (@rvagg)","date":"2013-08-30T02:07:48.085Z","type":"message"}
{"nick":"kenansulayman","message":"0.8.0-1 ?","date":"2013-08-30T02:08:01.554Z","type":"message"}
{"nick":"rvagg","message":"aye, close enough without a --force","date":"2013-08-30T02:08:11.002Z","type":"message"}
{"nick":"rvagg","message":"compiles on 0.8","date":"2013-08-30T02:08:16.769Z","type":"message"}
{"nick":"kenansulayman","message":"~0.8.0 => 0.8.0-1?","date":"2013-08-30T02:08:31.526Z","type":"message"}
{"nick":"rvagg","message":"yeah","date":"2013-08-30T02:08:44.198Z","type":"message"}
{"nick":"kenansulayman","message":"k mom","date":"2013-08-30T02:08:47.962Z","type":"message"}
{"nick":"kenansulayman","message":"yeah like a charm","date":"2013-08-30T02:09:04.298Z","type":"message"}
{"nick":"kenansulayman","message":"nop","date":"2013-08-30T02:09:07.518Z","type":"message"}
{"nick":"kenansulayman","message":"In file included from ../deps/leveldb/leveldb-hyper/db/repair.cc:28:","date":"2013-08-30T02:09:16.133Z","type":"message"}
{"nick":"kenansulayman","message":"In file included from ../deps/leveldb/leveldb-hyper/db/db_impl.h:10:","date":"2013-08-30T02:09:16.346Z","type":"message"}
{"nick":"kenansulayman","message":"In file included from /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/usr/include/c++/4.2.1/tr1/memory:54:","date":"2013-08-30T02:09:16.346Z","type":"message"}
{"nick":"kenansulayman","message":"      { return __ti == typeid(_Deleter) ? &_M_del : 0; }","date":"2013-08-30T02:09:16.346Z","type":"message"}
{"nick":"kenansulayman","message":"                       ^","date":"2013-08-30T02:09:16.556Z","type":"message"}
{"nick":"kenansulayman","message":"    { return static_cast<_Del*>(__p._M_get_deleter(typeid(_Del))); }","date":"2013-08-30T02:09:17.575Z","type":"message"}
{"nick":"kenansulayman","message":"                                                   ^","date":"2013-08-30T02:09:17.786Z","type":"message"}
{"nick":"kenansulayman","message":"2 errors generated.","date":"2013-08-30T02:09:18.351Z","type":"message"}
{"nick":"kenansulayman","message":"make: *** [Release/obj.target/leveldb/deps/leveldb/leveldb-hyper/db/repair.o] Error 1","date":"2013-08-30T02:09:18.566Z","type":"message"}
{"nick":"kenansulayman","message":"make: Leaving directory `/private/tmp/node_modules/hyperlevel/node_modules/leveldown-hyper/build'","date":"2013-08-30T02:09:19.362Z","type":"message"}
{"nick":"rvagg","message":"OSX? what is this? a circus??","date":"2013-08-30T02:09:28.902Z","type":"message"}
{"nick":"rvagg","message":"that's rescrv's problem","date":"2013-08-30T02:09:42.354Z","type":"message"}
{"nick":"kenansulayman","message":"http://data.sly.mn/R6li","date":"2013-08-30T02:09:45.490Z","type":"message"}
{"nick":"kenansulayman","message":"it worked on 0.5.0 :(","date":"2013-08-30T02:09:52.278Z","type":"message"}
{"nick":"rvagg","message":"mm, this is latest hyperleveldb master","date":"2013-08-30T02:10:00.643Z","type":"message"}
{"nick":"rvagg","message":"obviously developed on !osx","date":"2013-08-30T02:10:06.762Z","type":"message"}
{"nick":"rvagg","message":"works on linux","date":"2013-08-30T02:10:08.357Z","type":"message"}
{"nick":"kenansulayman","message":"I see","date":"2013-08-30T02:10:24.653Z","type":"message"}
{"nick":"kenansulayman","message":"Earlier today I cloned leveldown and replaced leveldb with hyperleveldb","date":"2013-08-30T02:10:53.635Z","type":"message"}
{"nick":"kenansulayman","message":"same issue","date":"2013-08-30T02:10:57.939Z","type":"message"}
{"nick":"kenansulayman","message":"\"cannot use typeid with -fno-rtti\"","date":"2013-08-30T02:11:06.421Z","type":"message"}
{"nick":"rvagg","message":"yeah, so we need to turn that off for osx","date":"2013-08-30T02:11:29.846Z","type":"message"}
{"nick":"rvagg","message":"kenansulayman: try this: in deps/leveldb/leveldb.gyp find the \"xcode_settings\" block","date":"2013-08-30T02:13:12.199Z","type":"message"}
{"nick":"kenansulayman","message":"already in it mom","date":"2013-08-30T02:13:21.211Z","type":"message"}
{"nick":"rvagg","message":"and add this: 'GCC_ENABLE_CPP_RTTI': '-frtti' as a new thing","date":"2013-08-30T02:13:28.638Z","type":"message"}
{"nick":"kenansulayman","message":"k","date":"2013-08-30T02:13:42.558Z","type":"message"}
{"nick":"rvagg","message":"if it works, I'll make a -2","date":"2013-08-30T02:13:56.091Z","type":"message"}
{"nick":"kenansulayman","message":"it builds sec","date":"2013-08-30T02:14:46.268Z","type":"message"}
{"nick":"kenansulayman","message":"boom!","date":"2013-08-30T02:14:49.766Z","type":"message"}
{"nick":"kenansulayman","message":"works","date":"2013-08-30T02:14:57.542Z","type":"message"}
{"nick":"kenansulayman","message":"let me run the tests","date":"2013-08-30T02:15:02.688Z","type":"message"}
{"nick":"kenansulayman","message":"ok all good","date":"2013-08-30T02:15:13.936Z","type":"message"}
{"nick":"kenansulayman","message":"http://data.sly.mn/R6eC","date":"2013-08-30T02:15:28.521Z","type":"message"}
{"nick":"kenansulayman","message":"the leveldb.gyp","date":"2013-08-30T02:15:32.758Z","type":"message"}
{"nick":"levelbot","message":"[npm] leveldown-hyper@0.8.0-2 <http://npm.im/leveldown-hyper>: A Node.js LevelDB binding, primary backend for LevelUP (HyperDex fork) (@rvagg)","date":"2013-08-30T02:16:17.887Z","type":"message"}
{"nick":"kenansulayman","message":"lets check hyperlevel","date":"2013-08-30T02:16:27.070Z","type":"message"}
{"nick":"kenansulayman","message":"like a charm. http://data.sly.mn/R6pC","date":"2013-08-30T02:18:21.737Z","type":"message"}
{"nick":"rvagg","message":"nice, there ya go mbalho","date":"2013-08-30T02:18:29.470Z","type":"message"}
{"nick":"levelbot","message":"[npm] level-namequery@0.1.6 <http://npm.im/level-namequery>: An intelligent search engine on top of LevelDB for Name <-> User-ID relations. (@kenansulayman)","date":"2013-08-30T02:20:47.674Z","type":"message"}
{"nick":"kenansulayman","message":"woah 4:20 am here already","date":"2013-08-30T02:21:00.091Z","type":"message"}
{"nick":"kenansulayman","message":"gn8 rvagg","date":"2013-08-30T02:21:02.665Z","type":"message"}
{"nick":"kenansulayman","new_nick":"kenansulayman|af","date":"2013-08-30T02:23:29.827Z","type":"nick"}
{"nick":"rvagg","message":"night","date":"2013-08-30T02:23:40.430Z","type":"message"}
{"nick":"kenansulayman|af","reason":"Quit: ≈ and thus my mac took a subtle yet profound nap ≈","date":"2013-08-30T02:25:21.720Z","type":"quit"}
{"nick":"thlorenz","date":"2013-08-30T02:26:26.431Z","type":"join"}
{"nick":"esundahl","date":"2013-08-30T02:42:35.584Z","type":"join"}
{"nick":"ednapiranha","reason":"Remote host closed the connection","date":"2013-08-30T02:43:28.020Z","type":"quit"}
{"nick":"mbalho","message":"rvagg: whats the difference between npm hyperleve and npm leveldown-hyper","date":"2013-08-30T02:47:46.337Z","type":"message"}
{"nick":"rvagg","message":"hyperlevel is by kenansulayman, it's just like 'level' in that it bundles levelup with leveldown-hyper","date":"2013-08-30T02:52:12.749Z","type":"message"}
{"nick":"rvagg","message":"(I'm assuming that's what it does, I haven't actually looked at hyperlevel)","date":"2013-08-30T02:52:42.927Z","type":"message"}
{"nick":"mbalho","message":"ahhhhh","date":"2013-08-30T02:53:13.301Z","type":"message"}
{"nick":"mbalho","message":"makes sense","date":"2013-08-30T02:53:16.200Z","type":"message"}
{"nick":"mbalho","message":"oh right Dependenciesleveldown-hyper, levelup","date":"2013-08-30T02:53:33.271Z","type":"message"}
{"nick":"rvagg","message":"mbalho: I'm just publishing a new version that makes it async","date":"2013-08-30T03:07:20.125Z","type":"message"}
{"nick":"rvagg","message":"and will return the error as the first argument","date":"2013-08-30T03:07:25.079Z","type":"message"}
{"nick":"rvagg","message":"*but*, the actual filename isn't returned from hyperleveldb, it's all internal","date":"2013-08-30T03:07:37.566Z","type":"message"}
{"nick":"rvagg","message":"  std::string backup_dir = dbname_ + \"/backup-\" + name.ToString() + \"/\";","date":"2013-08-30T03:07:43.207Z","type":"message"}
{"nick":"levelbot","message":"[npm] leveldown-hyper@0.8.0-3 <http://npm.im/leveldown-hyper>: A Node.js LevelDB binding, primary backend for LevelUP (HyperDex fork) (@rvagg)","date":"2013-08-30T03:07:47.847Z","type":"message"}
{"nick":"rvagg","message":"so, you'll have to go hunting for it yourself, I'm not confident about generating that path name to return when there's a chance that they might change it in hyperdex","date":"2013-08-30T03:08:19.694Z","type":"message"}
{"nick":"rvagg","message":"so, db.db.liveBackup('foobar', function (err) { if (err) throw err })","date":"2013-08-30T03:08:49.010Z","type":"message"}
{"nick":"rvagg","message":"and I guess 'foobar' will make /path/to/db/backup-foobar/","date":"2013-08-30T03:09:14.289Z","type":"message"}
{"nick":"mbalho","message":"rvagg: ahh sounds good","date":"2013-08-30T03:14:26.526Z","type":"message"}
{"nick":"mbalho","message":"rescrv: would it be feasible to return a data stream of the db backup instead of writing the entire thing to disk? e.g. does livebackup lock the db while the backup is happening or can it generate a backup while the db is still accepting writes","date":"2013-08-30T03:15:43.409Z","type":"message"}
{"nick":"rvagg","message":"untested, let me know how it goes mbalho, all I know is that it compiles","date":"2013-08-30T03:15:51.418Z","type":"message"}
{"nick":"mbalho","message":"rvagg: hah sweet","date":"2013-08-30T03:16:13.405Z","type":"message"}
{"nick":"mbalho","message":"rvagg: where should i add a test? are there any other hyperleveldb specific tests?","date":"2013-08-30T03:16:52.053Z","type":"message"}
{"nick":"rvagg","message":"mbalho: no, just put it in ./test/ but give it a 'hyperleveldb-' prefix so we can add more if needed","date":"2013-08-30T03:17:18.614Z","type":"message"}
{"nick":"rvagg","message":"mbalho: it looks to me like one of the node worker threads will be occupied performing the backup (hyperleveldb doesn't seem to spawn a separate thread for this), but it creates a snapshot so the files are left alone while the backup happens","date":"2013-08-30T03:18:56.290Z","type":"message"}
{"nick":"rvagg","message":"so you get a backup of a consistent state and other threads should be able to continue reading & writing","date":"2013-08-30T03:19:08.778Z","type":"message"}
{"nick":"rvagg","message":"which is all very very neat","date":"2013-08-30T03:19:11.634Z","type":"message"}
{"nick":"mbalho","message":"rvagg: wow nice","date":"2013-08-30T03:20:21.392Z","type":"message"}
{"nick":"mbalho","message":"so its probably possible to have it stream data into node instead of writing to the fs, just gotta find a bored c++ dev :D","date":"2013-08-30T03:21:37.229Z","type":"message"}
{"nick":"rvagg","message":"yeah, would be possible, would be kind of messy & complicated tho","date":"2013-08-30T03:24:48.250Z","type":"message"}
{"nick":"rvagg","message":"probably what would be easier is to have it emit a \"copy\" event each time it copies a file so you can pick that file up with node and stream + delete it","date":"2013-08-30T03:25:24.471Z","type":"message"}
{"nick":"thlorenz","reason":"Remote host closed the connection","date":"2013-08-30T03:29:13.363Z","type":"quit"}
{"nick":"mbalho","message":"oh good call","date":"2013-08-30T03:30:49.285Z","type":"message"}
{"nick":"mikeal","date":"2013-08-30T04:02:02.158Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-08-30T04:38:03.879Z","type":"quit"}
{"nick":"mikeal","date":"2013-08-30T04:44:15.412Z","type":"join"}
{"nick":"julianduque","reason":"Quit: leaving","date":"2013-08-30T04:56:38.082Z","type":"quit"}
{"nick":"esundahl","reason":"Remote host closed the connection","date":"2013-08-30T05:16:41.232Z","type":"quit"}
{"nick":"i_m_ca","date":"2013-08-30T06:00:25.485Z","type":"join"}
{"nick":"i_m_ca","reason":"Ping timeout: 260 seconds","date":"2013-08-30T06:36:15.439Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-30T06:43:50.580Z","type":"join"}
{"nick":"mcollina","date":"2013-08-30T06:48:43.968Z","type":"join"}
{"nick":"timoxley","reason":"Ping timeout: 243 seconds","date":"2013-08-30T07:02:00.519Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-30T07:03:33.014Z","type":"join"}
{"nick":"mcollina","reason":"Ping timeout: 264 seconds","date":"2013-08-30T07:08:02.833Z","type":"quit"}
{"nick":"timoxley","reason":"Remote host closed the connection","date":"2013-08-30T07:15:26.887Z","type":"quit"}
{"nick":"timoxley","date":"2013-08-30T07:16:05.819Z","type":"join"}
{"nick":"missinglink","reason":"Ping timeout: 240 seconds","date":"2013-08-30T07:49:02.542Z","type":"quit"}
