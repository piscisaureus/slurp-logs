{"nick":"not-an-aardvark","date":"2018-05-10T00:00:58.319Z","type":"join"}
{"nick":"arai","date":"2018-05-10T00:06:29.249Z","type":"join"}
{"nick":"AtumT","reason":"Remote host closed the connection","date":"2018-05-10T00:35:23.150Z","type":"quit"}
{"nick":"keith_mi_","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2018-05-10T00:35:41.020Z","type":"quit"}
{"nick":"keith_miller","date":"2018-05-10T01:43:53.114Z","type":"join"}
{"nick":"keith_miller","reason":"Client Quit","date":"2018-05-10T01:46:30.440Z","type":"quit"}
{"nick":"jwalden","reason":"Quit: ChatZilla 0.9.92-rdmsoft [XULRunner 35.0.1/20150122214805]","date":"2018-05-10T01:54:23.631Z","type":"quit"}
{"nick":"jmdyck","reason":"Remote host closed the connection","date":"2018-05-10T04:55:15.346Z","type":"quit"}
{"nick":"srl295","reason":"Quit: Connection closed for inactivity","date":"2018-05-10T05:39:17.123Z","type":"quit"}
{"nick":"howdoi","date":"2018-05-10T05:41:21.537Z","type":"join"}
{"nick":"saulh[m]","reason":"*.net *.split","date":"2018-05-10T05:58:06.600Z","type":"quit"}
{"nick":"saulh[m]","date":"2018-05-10T08:28:56.475Z","type":"join"}
{"nick":"saulh[m]","reason":"Ping timeout: 240 seconds","date":"2018-05-10T08:36:03.330Z","type":"quit"}
{"nick":"M-IvanSanchez","reason":"Ping timeout: 269 seconds","date":"2018-05-10T08:36:35.679Z","type":"quit"}
{"nick":"arai","reason":"Remote host closed the connection","date":"2018-05-10T09:08:10.444Z","type":"quit"}
{"nick":"M-IvanSanchez","date":"2018-05-10T09:35:16.429Z","type":"join"}
{"nick":"saulh[m]","date":"2018-05-10T09:38:02.419Z","type":"join"}
{"nick":"arai","date":"2018-05-10T10:11:58.758Z","type":"join"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2018-05-10T10:20:39.853Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-05-10T10:25:08.562Z","type":"quit"}
{"nick":"mylesborins","date":"2018-05-10T10:25:38.996Z","type":"join"}
{"nick":"AtumT","date":"2018-05-10T10:35:54.766Z","type":"join"}
{"nick":"jmdyck","date":"2018-05-10T12:46:51.040Z","type":"join"}
{"nick":"bradleymeck","message":"interesting concern about lifetime detection with compositeKey and WeakRef combination https://github.com/bmeck/proposal-richer-keys/issues/3 , idk if anyone is interested but seems relevant to both","date":"2018-05-10T15:06:27.321Z","type":"message"}
{"nick":"Domenic","message":"bradleymeck: I don't understand how this is different than if you did `let $a = { a }`?","date":"2018-05-10T15:22:06.293Z","type":"message"}
{"nick":"bradleymeck","message":"that publicly exposes `$a.a` so your observation about the lifetime of `$a.a` is strongly held alive by `$a`, compositeKey isn't exposing the component parts for inspection. this might well be a non-issue, but something feels off","date":"2018-05-10T15:23:46.760Z","type":"message"}
{"nick":"Domenic","message":"OK, then `let $a = new class { #x = a }`","date":"2018-05-10T15:26:42.077Z","type":"message"}
{"nick":"bradleymeck","message":"I would say that is different, the main use case of compositeKeys seems to lean towards putting them into weakmaps, with `new class { #x = a }` I wouldn't think that the result has some intention of being in weakmaps just reading that","date":"2018-05-10T15:28:07.329Z","type":"message"}
{"nick":"bradleymeck","message":"weak collections*","date":"2018-05-10T15:28:27.181Z","type":"message"}
{"nick":"bradleymeck","message":"but the point is valid that it would expose `a`'s lifetime to whatever has a WeakRef of `$a`","date":"2018-05-10T15:29:54.531Z","type":"message"}
{"nick":"bradleymeck","message":"so, going to stew on this, but might just be a non-issue","date":"2018-05-10T15:30:11.125Z","type":"message"}
{"nick":"caitp","message":"if I'm module A, and I create a","date":"2018-05-10T15:41:29.550Z","type":"message"}
{"nick":"caitp","message":"a composite key, and pass it to some module B, who decides to weak-ref it to observe collection of a component to the key","date":"2018-05-10T15:41:46.286Z","type":"message"}
{"nick":"caitp","message":"then module B could figure out something about module A that wasn't supposed to be shared, maybe","date":"2018-05-10T15:42:05.822Z","type":"message"}
{"nick":"bradleymeck","message":"caitp: but as Domenic pointed out, that is also true for anything private by indirect exposure: closured variables / private fields / etc.","date":"2018-05-10T15:46:50.959Z","type":"message"}
{"nick":"caitp","message":"I don't think that's the same threat","date":"2018-05-10T15:47:35.069Z","type":"message"}
{"nick":"bradleymeck","message":"caitp: can you expand on the difference","date":"2018-05-10T15:48:18.681Z","type":"message"}
{"nick":"caitp","message":"the threat is observing the GC, not observing JS values","date":"2018-05-10T15:50:12.529Z","type":"message"}
{"nick":"caitp","message":"or keeping them alive","date":"2018-05-10T15:50:25.773Z","type":"message"}
{"nick":"caitp","message":"so I'm not sure how the indirect exposure matters","date":"2018-05-10T15:50:43.517Z","type":"message"}
{"nick":"devsnek","message":"i think this is a non issue","date":"2018-05-10T15:53:42.899Z","type":"message"}
{"nick":"bradleymeck","message":"caitp: you can recreate the scenario without compositeKey using all sorts of indirect exposure when something is kept alive by an internal value : https://gist.github.com/bmeck/e48f2151dcca8d5cb6553e6239a82851","date":"2018-05-10T15:56:41.336Z","type":"message"}
{"nick":"bradleymeck","message":"the main interesting thing is that compositeKey is generally tailored to this scenario, not that it exposes something new","date":"2018-05-10T15:57:16.766Z","type":"message"}
{"nick":"devsnek","message":"i think the issue here is the weak reference not the composite key","date":"2018-05-10T15:58:05.123Z","type":"message"}
{"nick":"caitp","message":"I'm not entirely sure where the callback for the weakref is proposed, I'm not seeing it in https://github.com/tc39/proposal-weakrefs/blob/master/specs/spec.md","date":"2018-05-10T15:58:56.797Z","type":"message"}
{"nick":"caitp","message":"i think","date":"2018-05-10T15:59:00.580Z","type":"message"}
