{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-03-21T00:00:01.371Z","type":"quit"}
{"nick":"ircretary","date":"2013-03-21T00:00:08.661Z","type":"join"}
{"nick":"trevnorris","message":"the big issue is finding out when the memory can be reused. calling the MakeWeakCallback for every allocation makes it run 27x's slower, and use 5x's the memory.","date":"2013-03-21T00:00:24.323Z","type":"message"}
{"nick":"tjfontaine","message":"oh i thought that part was already solved","date":"2013-03-21T00:01:22.483Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-03-21T00:01:23.336Z","type":"message"}
{"nick":"cjd","message":"what does make weak do? instruct the GC to collect the trash?","date":"2013-03-21T00:03:16.140Z","type":"message"}
{"nick":"tjfontaine","message":"weak means v8 calls your cb when it's doing gc","date":"2013-03-21T00:03:34.916Z","type":"message"}
{"nick":"cjd","message":"ahh","date":"2013-03-21T00:03:42.881Z","type":"message"}
{"nick":"trevnorris","message":"MakeWeakCallback is a function callback called when the Handle is about to be garbage collected","date":"2013-03-21T00:03:47.546Z","type":"message"}
{"nick":"tjfontaine","message":"basically the notification from the vm that no more references to the object are held","date":"2013-03-21T00:03:53.083Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what i've been trying to figure out is how v8 figures out when handles can be cleaned up as quickly as it does.","date":"2013-03-21T00:04:03.143Z","type":"message"}
{"nick":"trevnorris","message":"and why it's so much slower when we want to know.","date":"2013-03-21T00:04:20.536Z","type":"message"}
{"nick":"cjd","message":"^^that part is bl@ck majik","date":"2013-03-21T00:04:26.301Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #46 \u00034FAILURE\u000f smartos-ia32 (3/563) linux-x64 (1/563) osx-ia32 (2/563) windows-x64 (5/563) windows-ia32 (5/563) http://jenkins.nodejs.org/job/nodejs-v0.10/46/","date":"2013-03-21T00:04:28.765Z","type":"message"}
{"nick":"tjfontaine","message":"I hate you so much windows","date":"2013-03-21T00:04:44.465Z","type":"message"}
{"nick":"cjd","message":"welcome to the universe","date":"2013-03-21T00:05:08.821Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: wouldn't it be great if v8::Handle had a ::refcount or something? :)","date":"2013-03-21T00:08:22.913Z","type":"message"}
{"nick":"cjd","message":"refcounts don't work because loops","date":"2013-03-21T00:08:37.599Z","type":"message"}
{"nick":"tjfontaine","message":"that's not my point, I meant for what he's trying to accomplish avoiding the makeweak mess","date":"2013-03-21T00:09:14.461Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: exactly. and the fact that Persisting the Handle requires it to be Disposed. but it still remains in memory for a time afterwards.","date":"2013-03-21T00:09:48.101Z","type":"message"}
{"nick":"trevnorris","message":"those two operations also kill you.","date":"2013-03-21T00:09:55.758Z","type":"message"}
{"nick":"cjd","message":"I'm still really in the dark about how this works.... V8 allocates internally but you want to allocate on it's behalf?","date":"2013-03-21T00:10:57.074Z","type":"message"}
{"nick":"trevnorris","message":"cjd: v8 creates a Handle (pointer to a js object) and we allocate external memory which we attach to the Handle.","date":"2013-03-21T00:11:56.737Z","type":"message"}
{"nick":"trevnorris","message":"when we're required to Persist the Handle, and pass MakeWeakCallback, in which it's required to free the external memory.","date":"2013-03-21T00:12:49.935Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-21T00:16:14.816Z","type":"join"}
{"nick":"trevnorris","message":"tjfontaine: wonder if it's possible to make a kinda persistent HandleScope, instead of persisting each handle.","date":"2013-03-21T00:18:17.691Z","type":"message"}
{"nick":"cjd","message":"ok so all v8 allocation goes through you","date":"2013-03-21T00:18:30.002Z","type":"message"}
{"nick":"cjd","message":"thought maybe you were just allocating stuff for buffers and things which are external to the actual js","date":"2013-03-21T00:19:24.700Z","type":"message"}
{"nick":"tjfontaine","message":"cjd: no, v8 is responsible for allocating its own data, but one can attach an external pointer, which then you can also specify a callback for when v8 would free it","date":"2013-03-21T00:19:27.511Z","type":"message"}
{"nick":"cjd","message":"ahhh","date":"2013-03-21T00:19:38.298Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-21T00:19:44.852Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: dunno, you need to spend some quality time with a v8 dev on your issue :)","date":"2013-03-21T00:20:02.268Z","type":"message"}
{"nick":"tjfontaine","message":"github, stop fucking hanging up on me","date":"2013-03-21T00:20:24.491Z","type":"message"}
{"nick":"trevnorris","message":"seriously. i should walk over to google and knock on their door","date":"2013-03-21T00:20:25.146Z","type":"message"}
{"nick":"cjd","message":"so you can be like \"v8 gimme a Int8Array\" and then ref that from the handle and pile all of your C++ crap into that array","date":"2013-03-21T00:20:26.702Z","type":"message"}
{"nick":"tjfontaine","message":"it's more like v8 gimmie Object, here's its prototype, also here's an external pointer to attach to it","date":"2013-03-21T00:21:36.619Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: well there is HandleScope::NumberOFHandles. but that is for the entire context.","date":"2013-03-21T00:32:15.968Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-21T00:36:49.868Z","type":"quit"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-03-21T00:39:00.952Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-03-21T00:40:54.473Z","type":"quit"}
{"nick":"dominictarr","date":"2013-03-21T00:42:24.746Z","type":"join"}
{"nick":"dominictarr","reason":"Client Quit","date":"2013-03-21T00:42:48.990Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.10\u000f * \u00023dd7938\u0002 : npm: upgrade to 1.2.15 - http://git.io/uEH-XQ","date":"2013-03-21T00:50:11.031Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it makes me delighted to see a benchmark/common.js script that i didn't write :) <3","date":"2013-03-21T00:53:30.615Z","type":"message"}
{"nick":"loladiro","date":"2013-03-21T00:53:37.189Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2013-03-21T00:54:23.284Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-03-21T01:00:33.669Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-03-21T01:04:31.549Z","type":"quit"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #47 \u00037UNSTABLE\u000f smartos-ia32 (1/563) osx-x64 (1/563) osx-ia32 (4/563) windows-x64 (5/563) windows-ia32 (5/563) http://jenkins.nodejs.org/job/nodejs-v0.10/47/","date":"2013-03-21T01:08:47.255Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-03-21T01:12:41.849Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f created branch v0.10.1-release - http://git.io/gLMpgw","date":"2013-03-21T01:15:17.722Z","type":"message"}
{"nick":"stagas","date":"2013-03-21T01:15:38.309Z","type":"join"}
{"nick":"erickt","date":"2013-03-21T01:16:37.397Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-21T01:33:13.866Z","type":"nick"}
{"nick":"stagas_","date":"2013-03-21T01:34:59.055Z","type":"join"}
{"nick":"abraxas","date":"2013-03-21T01:37:24.254Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T01:38:14.044Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T01:38:44.673Z","type":"join"}
{"nick":"stagas_","reason":"Ping timeout: 260 seconds","date":"2013-03-21T01:40:25.036Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-21T01:41:20.142Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-21T01:44:49.763Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-03-21T01:48:06.570Z","type":"quit"}
{"nick":"stagas_","date":"2013-03-21T01:48:08.850Z","type":"join"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T01:48:13.839Z","type":"nick"}
{"nick":"indexzero","date":"2013-03-21T01:49:08.499Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-03-21T02:08:44.911Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T02:09:09.762Z","type":"join"}
{"nick":"kazupon","date":"2013-03-21T02:13:39.130Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 255 seconds","date":"2013-03-21T02:13:59.564Z","type":"quit"}
{"nick":"stagas_","date":"2013-03-21T02:15:23.299Z","type":"join"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T02:15:27.363Z","type":"nick"}
{"nick":"stagas_","date":"2013-03-21T02:17:59.398Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-21T02:18:34.734Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 252 seconds","date":"2013-03-21T02:20:17.169Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T02:21:26.257Z","type":"join"}
{"nick":"stagas__","date":"2013-03-21T02:23:04.172Z","type":"join"}
{"nick":"stagas_","reason":"Ping timeout: 256 seconds","date":"2013-03-21T02:24:26.123Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T02:25:54.643Z","type":"quit"}
{"nick":"stagas__","new_nick":"stagas","date":"2013-03-21T02:25:58.838Z","type":"nick"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-03-21T02:28:57.285Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T02:30:09.582Z","type":"join"}
{"nick":"philips","reason":"Ping timeout: 256 seconds","date":"2013-03-21T02:31:30.088Z","type":"quit"}
{"nick":"stagas_","date":"2013-03-21T02:34:43.552Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-03-21T02:37:18.605Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T02:37:24.013Z","type":"nick"}
{"nick":"bradleymeck","date":"2013-03-21T02:49:50.646Z","type":"join"}
{"nick":"dominictarr","date":"2013-03-21T03:04:48.160Z","type":"join"}
{"nick":"nsm","reason":"Quit: nsm","date":"2013-03-21T03:10:38.785Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-03-21T03:10:48.075Z","type":"quit"}
{"nick":"philips","date":"2013-03-21T03:16:21.496Z","type":"join"}
{"nick":"mikeal","date":"2013-03-21T03:27:53.871Z","type":"join"}
{"nick":"isaacs","message":"tjfontaine: that's weird... some of those tests i can't get to fail, but jenkins shows them failing pretty reliably, it looks like.","date":"2013-03-21T03:28:22.863Z","type":"message"}
{"nick":"tjfontaine","message":"which one where","date":"2013-03-21T03:29:02.026Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T03:30:03.637Z","type":"quit"}
{"nick":"tjfontaine","message":"the writefloat/double is probably because you haven't ./configure --dest-cpu=ia32","date":"2013-03-21T03:30:34.355Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-03-21T03:31:08.674Z","type":"nick"}
{"nick":"benoitc","date":"2013-03-21T03:32:25.367Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-21T03:35:27.133Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-21T03:36:18.078Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-03-21T03:40:34.756Z","type":"quit"}
{"nick":"cjd","message":"https://github.com/v8/v8/blob/master/src/heap.cc#L3691 <-- might do what you're looking for re quickly collected slab","date":"2013-03-21T03:47:19.149Z","type":"message"}
{"nick":"hz","date":"2013-03-21T03:47:39.810Z","type":"quit"}
{"nick":"stagas__","date":"2013-03-21T03:49:42.623Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 276 seconds","date":"2013-03-21T03:50:18.432Z","type":"quit"}
{"nick":"stagas__","new_nick":"stagas","date":"2013-03-21T03:50:21.656Z","type":"nick"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-21T03:51:46.457Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T03:54:54.301Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T03:57:16.917Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T04:03:26.882Z","type":"join"}
{"nick":"philips","reason":"Ping timeout: 258 seconds","date":"2013-03-21T04:05:55.779Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-21T04:06:05.215Z","type":"quit"}
{"nick":"philips","date":"2013-03-21T04:07:36.937Z","type":"join"}
{"nick":"kazupon","date":"2013-03-21T04:08:37.006Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-21T04:17:18.207Z","type":"join"}
{"nick":"loladiro","date":"2013-03-21T04:18:49.232Z","type":"join"}
{"nick":"mikeal","date":"2013-03-21T04:19:27.672Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-03-21T04:20:38.666Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 246 seconds","date":"2013-03-21T04:21:29.166Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T04:24:25.691Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T04:31:57.680Z","type":"join"}
{"nick":"dominictarr","reason":"Ping timeout: 260 seconds","date":"2013-03-21T04:37:10.044Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T04:40:13.450Z","type":"quit"}
{"nick":"dominictarr","date":"2013-03-21T04:40:46.293Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2013-03-21T04:46:54.204Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T04:47:27.731Z","type":"join"}
{"nick":"trevnorris","date":"2013-03-21T04:52:51.798Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-21T04:58:18.147Z","type":"nick"}
{"nick":"philips","reason":"Read error: Operation timed out","date":"2013-03-21T05:01:53.912Z","type":"quit"}
{"nick":"abraxas","date":"2013-03-21T05:02:31.715Z","type":"join"}
{"nick":"AvianFlu","date":"2013-03-21T05:02:46.185Z","type":"join"}
{"nick":"mikeal","date":"2013-03-21T05:03:15.594Z","type":"join"}
{"nick":"trevnorris","message":"well i figured out what's kicking the crap out of WriteAscii.","date":"2013-03-21T05:03:15.894Z","type":"message"}
{"nick":"trevnorris","message":"one freakin command is making 2x's slower.","date":"2013-03-21T05:03:26.621Z","type":"message"}
{"nick":"trevnorris","message":"wonder if they'd accept a patch","date":"2013-03-21T05:07:49.906Z","type":"message"}
{"nick":"cjd","message":"what was it?","date":"2013-03-21T05:12:09.931Z","type":"message"}
{"nick":"cjd","message":"oh btw","date":"2013-03-21T05:12:38.229Z","type":"message"}
{"nick":"cjd","message":"23:47 < cjd> https://github.com/v8/v8/blob/master/src/heap.cc#L3691 <-- might do what you're looking for re quickly collected slab","date":"2013-03-21T05:12:39.262Z","type":"message"}
{"nick":"cjd","message":"maybe I'm off base here but this seems like what you're looking for","date":"2013-03-21T05:12:51.789Z","type":"message"}
{"nick":"cjd","message":"how do you test the patch?","date":"2013-03-21T05:13:01.932Z","type":"message"}
{"nick":"kevireilly","date":"2013-03-21T05:13:24.012Z","type":"join"}
{"nick":"trevnorris","message":"cjd: in api.cc WriteAscii runs \"str->HasOnlyAsciiChars()\".","date":"2013-03-21T05:15:35.696Z","type":"message"}
{"nick":"trevnorris","message":"when I commented it out it runs 2x's faster","date":"2013-03-21T05:15:46.579Z","type":"message"}
{"nick":"cjd","message":"ahh yeap","date":"2013-03-21T05:15:58.216Z","type":"message"}
{"nick":"cjd","message":"so how do you check?","date":"2013-03-21T05:16:24.917Z","type":"message"}
{"nick":"cjd","message":"on a per-char basis?","date":"2013-03-21T05:16:31.536Z","type":"message"}
{"nick":"trevnorris","message":"i'd like a passable options like ONLY_HAS_ASCII, which tells v8 we know it only has ascii chars.","date":"2013-03-21T05:17:05.128Z","type":"message"}
{"nick":"trevnorris","message":"when I say 2x's i meant against the net benchmark","date":"2013-03-21T05:17:19.699Z","type":"message"}
{"nick":"trevnorris","message":"you  can run the benchmark by \"./node benchmark/net/tcp-raw-c2s.js len=65530 type=asc dur=5\"","date":"2013-03-21T05:17:30.474Z","type":"message"}
{"nick":"cjd","message":"how does HasOnlyAsciiChars check?","date":"2013-03-21T05:17:39.041Z","type":"message"}
{"nick":"trevnorris","message":"i'm looking now","date":"2013-03-21T05:17:47.911Z","type":"message"}
{"nick":"cjd","action":"bets examine each char","date":"2013-03-21T05:18:16.095Z","type":"action"}
{"nick":"trevnorris","message":"wow. that's convoluted. need to take a few notes on this","date":"2013-03-21T05:21:57.259Z","type":"message"}
{"nick":"cjd","message":"big switch statement at the beginning and end?","date":"2013-03-21T05:22:16.233Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-03-21T05:24:38.362Z","type":"quit"}
{"nick":"cjd","message":"where is it defined?","date":"2013-03-21T05:24:47.697Z","type":"message"}
{"nick":"cjd","message":"I can't find it searching v8","date":"2013-03-21T05:24:52.577Z","type":"message"}
{"nick":"trevnorris","message":"cjd: here's the breakdown: https://gist.github.com/trevnorris/5210873","date":"2013-03-21T05:28:12.745Z","type":"message"}
{"nick":"cjd","message":"hrm","date":"2013-03-21T05:30:39.864Z","type":"message"}
{"nick":"cjd","message":"map() ?","date":"2013-03-21T05:30:42.638Z","type":"message"}
{"nick":"trevnorris","message":"yeah. figuring that out right now","date":"2013-03-21T05:33:17.305Z","type":"message"}
{"nick":"cjd","message":"not sure if reinterpret_cast imparts overhead","date":"2013-03-21T05:35:44.479Z","type":"message"}
{"nick":"cjd","message":"it looks to me like something that should be compiling down to nothing isn't","date":"2013-03-21T05:39:03.111Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-21T05:44:25.408Z","type":"nick"}
{"nick":"philips","date":"2013-03-21T05:45:22.056Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-21T05:45:55.372Z","type":"quit"}
{"nick":"cjd","message":"perhaps the creation of a MapWord on the stack adds the extra cost","date":"2013-03-21T06:03:22.969Z","type":"message"}
{"nick":"cjd","message":"return MapWord(reinterpret_cast<uintptr_t>(READ_FIELD(this, kMapOffset)));","date":"2013-03-21T06:03:50.824Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-21T06:07:19.637Z","type":"quit"}
{"nick":"cjd","message":"oic","date":"2013-03-21T06:09:40.835Z","type":"message"}
{"nick":"cjd","message":"MapWord is a pointer, it points to a map which is stored elsewhere in memory","date":"2013-03-21T06:09:57.822Z","type":"message"}
{"nick":"cjd","message":"somewhere else in memory -> likely page fault","date":"2013-03-21T06:10:22.551Z","type":"message"}
{"nick":"trevnorris","message":"interesting.","date":"2013-03-21T06:20:30.638Z","type":"message"}
{"nick":"cjd","message":"re your memory allocator, how were you benchmarking that?","date":"2013-03-21T06:24:44.823Z","type":"message"}
{"nick":"cjd","message":"also where is ::Alloc called from?","date":"2013-03-21T06:24:55.185Z","type":"message"}
{"nick":"cjd","message":"somewhere in js I assume","date":"2013-03-21T06:25:04.737Z","type":"message"}
{"nick":"trevnorris","message":"cjd: yeah. if you build the branch you can get to it by \"process.binding('arraydata').Alloc\"","date":"2013-03-21T06:26:25.329Z","type":"message"}
{"nick":"trevnorris","message":"i'm still working on moving Buffer allocations over to see if it offers an improvement.","date":"2013-03-21T06:28:25.182Z","type":"message"}
{"nick":"cjd","message":"ahh ic","date":"2013-03-21T06:28:48.113Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-21T06:29:02.732Z","type":"nick"}
{"nick":"cjd","message":"what does it return? a Int8Array?","date":"2013-03-21T06:29:15.646Z","type":"message"}
{"nick":"cjd","message":"or i guess you call it with something and it becomes an array","date":"2013-03-21T06:29:37.816Z","type":"message"}
{"nick":"cjd","message":"got a 1 liner for how it's called?","date":"2013-03-21T06:29:50.452Z","type":"message"}
{"nick":"trevnorris","message":"either \"Alloc(n)\" or \"Alloc(obj, n)\"","date":"2013-03-21T06:30:11.465Z","type":"message"}
{"nick":"cjd","message":"ok and it returns a Int8Array ?","date":"2013-03-21T06:30:58.531Z","type":"message"}
{"nick":"cjd","message":"or like a quasi-string?","date":"2013-03-21T06:31:04.679Z","type":"message"}
{"nick":"trevnorris","message":"it's the simplest version of an Int8Array that you can get","date":"2013-03-21T06:31:25.237Z","type":"message"}
{"nick":"trevnorris","message":"no properties, no prototype. just an object pointing to external memory","date":"2013-03-21T06:31:39.242Z","type":"message"}
{"nick":"cjd","message":"ok so my question is why does the memory need to be external since you're just allocating it anyway","date":"2013-03-21T06:32:15.832Z","type":"message"}
{"nick":"trevnorris","message":"oh, and it's Uint8","date":"2013-03-21T06:32:38.261Z","type":"message"}
{"nick":"trevnorris","message":"external as in outside of the v8 heap. external memory is not constrained by v8's max heap size (~1.5GB)","date":"2013-03-21T06:33:40.375Z","type":"message"}
{"nick":"cjd","message":"ahh ok","date":"2013-03-21T06:34:00.272Z","type":"message"}
{"nick":"cjd","message":"no way to up that limit?","date":"2013-03-21T06:34:15.172Z","type":"message"}
{"nick":"trevnorris","message":"yeah. but there's another reason.","date":"2013-03-21T06:34:27.353Z","type":"message"}
{"nick":"trevnorris","message":"the pointer is passed to libuv which handles all the low level stuff.","date":"2013-03-21T06:34:49.723Z","type":"message"}
{"nick":"trevnorris","message":"if it was alloc'd in the v8 heap then libuv couldn't get access to it.","date":"2013-03-21T06:35:08.080Z","type":"message"}
{"nick":"cjd","message":"mhm","date":"2013-03-21T06:35:08.243Z","type":"message"}
{"nick":"cjd","message":"really?","date":"2013-03-21T06:35:14.487Z","type":"message"}
{"nick":"cjd","message":"you can't take a big buffer from v8land and fill it with crap in libuv?","date":"2013-03-21T06:35:46.436Z","type":"message"}
{"nick":"cjd","message":"that seems ideal","date":"2013-03-21T06:36:10.179Z","type":"message"}
{"nick":"trevnorris","message":"Handles in v8 don't stay in a fixed position. the gc constantly is moving the data around. so everything must go through the Handle.","date":"2013-03-21T06:36:27.586Z","type":"message"}
{"nick":"trevnorris","message":"and those are freakishly slow","date":"2013-03-21T06:36:32.371Z","type":"message"}
{"nick":"cjd","message":"ok","date":"2013-03-21T06:36:46.336Z","type":"message"}
{"nick":"trevnorris","message":"external memory stays fixed, much easier to deal with.","date":"2013-03-21T06:36:51.502Z","type":"message"}
{"nick":"cjd","message":"buuut it doesn't free quickly","date":"2013-03-21T06:37:04.190Z","type":"message"}
{"nick":"trevnorris","message":"hm? you mean the whole MakeWeakCallback thing?","date":"2013-03-21T06:37:28.095Z","type":"message"}
{"nick":"cjd","message":"well.. the free operation can never beat GC","date":"2013-03-21T06:37:46.098Z","type":"message"}
{"nick":"cjd","message":"think about it this way","date":"2013-03-21T06:38:34.605Z","type":"message"}
{"nick":"cjd","message":"when there's a page load of something which hits the server","date":"2013-03-21T06:38:49.353Z","type":"message"}
{"nick":"cjd","message":"it allocates a crapton of memory","date":"2013-03-21T06:38:55.290Z","type":"message"}
{"nick":"cjd","message":"when it's done sending off the page, it looks for anything which was persisted","date":"2013-03-21T06:39:19.827Z","type":"message"}
{"nick":"cjd","message":"it might even do it through the handle facility","date":"2013-03-21T06:39:29.274Z","type":"message"}
{"nick":"cjd","message":"so when you do like   global.key = string;","date":"2013-03-21T06:39:43.925Z","type":"message"}
{"nick":"cjd","message":"string becomes tenured","date":"2013-03-21T06:39:50.893Z","type":"message"}
{"nick":"cjd","message":"then it goes through and grabs out the tenured stuff and cans the rest","date":"2013-03-21T06:40:05.426Z","type":"message"}
{"nick":"cjd","message":"no callbacks, no worried","date":"2013-03-21T06:40:09.558Z","type":"message"}
{"nick":"trevnorris","message":"v8 doesn't have a way to receive data from an external resource (e.g. network) except from external memory allocations.","date":"2013-03-21T06:40:17.659Z","type":"message"}
{"nick":"cjd","message":"that doesn't sound right","date":"2013-03-21T06:40:48.834Z","type":"message"}
{"nick":"trevnorris","message":"it's how v8 communicates","date":"2013-03-21T06:40:56.221Z","type":"message"}
{"nick":"trevnorris","message":"even d8 uses it","date":"2013-03-21T06:41:00.075Z","type":"message"}
{"nick":"cjd","action":"would break the rules on this one","date":"2013-03-21T06:41:13.565Z","type":"action"}
{"nick":"cjd","message":"there are 2 approaches","date":"2013-03-21T06:41:57.816Z","type":"message"}
{"nick":"trevnorris","message":"v8 has no api that allows you to allocate raw memory from it's own heap using a Handle.","date":"2013-03-21T06:42:07.873Z","type":"message"}
{"nick":"cjd","message":"#1 is you take a uint8array and find the backing buffer by tracing the handle and then fill it with crap","date":"2013-03-21T06:42:43.365Z","type":"message"}
{"nick":"cjd","message":"#2 is you call internal functions to allocate a new uint8array and then fill it and return it","date":"2013-03-21T06:43:21.548Z","type":"message"}
{"nick":"cjd","message":"I'd go with #1 since it's less invasive","date":"2013-03-21T06:43:32.136Z","type":"message"}
{"nick":"trevnorris","message":"v8 doesn't natively handle Uint8Array's.","date":"2013-03-21T06:43:36.884Z","type":"message"}
{"nick":"trevnorris","message":"Chrome, d8 and node have all needed to implement their own","date":"2013-03-21T06:43:47.723Z","type":"message"}
{"nick":"cjd","message":"ahh","date":"2013-03-21T06:43:51.968Z","type":"message"}
{"nick":"trevnorris","message":"using SetIndexedPropertiesToExternalArrayData against an external allocation","date":"2013-03-21T06:44:00.337Z","type":"message"}
{"nick":"cjd","message":"then take a string :)","date":"2013-03-21T06:44:16.341Z","type":"message"}
{"nick":"trevnorris","message":"strings are immutable","date":"2013-03-21T06:44:23.675Z","type":"message"}
{"nick":"cjd","message":"not in C++ :)","date":"2013-03-21T06:44:32.094Z","type":"message"}
{"nick":"trevnorris","message":"hm? you mean like \"char* str = new char[100]\" ?","date":"2013-03-21T06:44:56.526Z","type":"message"}
{"nick":"cjd","message":"mmm","date":"2013-03-21T06:45:28.898Z","type":"message"}
{"nick":"cjd","message":"lemme think","date":"2013-03-21T06:45:31.854Z","type":"message"}
{"nick":"cjd","message":"maybe array is easier","date":"2013-03-21T06:45:35.434Z","type":"message"}
{"nick":"trevnorris","message":"oh no. Array is actually just an Object with a wrapper","date":"2013-03-21T06:46:04.964Z","type":"message"}
{"nick":"trevnorris","message":"and in c++ land, all values will go in as doubles","date":"2013-03-21T06:46:21.999Z","type":"message"}
{"nick":"cjd","message":"ahh so no guaranteed storage space","date":"2013-03-21T06:46:24.722Z","type":"message"}
{"nick":"trevnorris","message":"(in js crankshaft can detect Smi values and optimzie for those)","date":"2013-03-21T06:46:38.607Z","type":"message"}
{"nick":"trevnorris","message":"yeah.","date":"2013-03-21T06:46:42.641Z","type":"message"}
{"nick":"cjd","message":"var data = Array(1024);  <-- doesn't preallocate a bunch of space?","date":"2013-03-21T06:46:51.499Z","type":"message"}
{"nick":"trevnorris","message":"no","date":"2013-03-21T06:46:55.184Z","type":"message"}
{"nick":"cjd","message":"bastards :P","date":"2013-03-21T06:47:00.608Z","type":"message"}
{"nick":"trevnorris","message":"because it doesn't know what each of those elements are going to be","date":"2013-03-21T06:47:12.000Z","type":"message"}
{"nick":"trevnorris","message":"if the values are Smi then it will point to them directly","date":"2013-03-21T06:47:21.409Z","type":"message"}
{"nick":"cjd","message":"mhm","date":"2013-03-21T06:47:36.547Z","type":"message"}
{"nick":"trevnorris","message":"otherwise it will allocate memory elsewhere on the heap and add a pointer","date":"2013-03-21T06:47:40.127Z","type":"message"}
{"nick":"trevnorris","message":"but that's only if it's done through js","date":"2013-03-21T06:47:49.456Z","type":"message"}
{"nick":"cjd","message":"hah","date":"2013-03-21T06:47:50.873Z","type":"message"}
{"nick":"trevnorris","message":"in cc you don't have that luxury","date":"2013-03-21T06:47:59.454Z","type":"message"}
{"nick":"trevnorris","message":"getting values from an Array in c++ is a very very painful thing","date":"2013-03-21T06:48:27.444Z","type":"message"}
{"nick":"cjd","message":"planB is to #import this bastard https://github.com/v8/v8/blob/master/src/heap.cc#L3691","date":"2013-03-21T06:48:39.108Z","type":"message"}
{"nick":"cjd","message":"*#include","date":"2013-03-21T06:48:46.597Z","type":"message"}
{"nick":"cjd","message":"C++, Java, no difference :P","date":"2013-03-21T06:48:55.526Z","type":"message"}
{"nick":"trevnorris","message":"another benefit of external allocations is that you can set the allocation type (e.g. kExternalUnsignedByteArray)","date":"2013-03-21T06:49:21.036Z","type":"message"}
{"nick":"trevnorris","message":"then writing to it like an array is hella fast","date":"2013-03-21T06:49:28.663Z","type":"message"}
{"nick":"trevnorris","message":"and can't import that. it's part of the \"v8::internal\" namespace which can be changed at any time","date":"2013-03-21T06:50:19.022Z","type":"message"}
{"nick":"cjd","message":"fast / clean / safe  pick 2","date":"2013-03-21T06:51:10.740Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-03-21T06:51:19.429Z","type":"message"}
{"nick":"cjd","message":"could offer them a patch to allocate things using their allocator if they want it","date":"2013-03-21T06:51:53.168Z","type":"message"}
{"nick":"cjd","message":"if they don't then maintain a patchset if the node guys are willing","date":"2013-03-21T06:52:19.373Z","type":"message"}
{"nick":"cjd","message":"no pull, no patchset, then live with slow","date":"2013-03-21T06:52:28.854Z","type":"message"}
{"nick":"trevnorris","message":"ircretary: tell isaacs i've opened an issue about WriteAscii being so slow. either option would double the current speed of net type=asc benchs (http://code.google.com/p/v8/issues/detail?id=2588)","date":"2013-03-21T06:58:37.573Z","type":"message"}
{"nick":"ircretary","message":"trevnorris: I'll be sure to tell isaacs","date":"2013-03-21T06:58:37.733Z","type":"message"}
{"nick":"`3rdEden","date":"2013-03-21T07:06:25.397Z","type":"join"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-03-21T07:06:35.186Z","type":"quit"}
{"nick":"trevnorris","message":"there. just wrote up a quick patch that helps us gain the ascii regression back. hopefully they take it","date":"2013-03-21T07:14:03.457Z","type":"message"}
{"nick":"`3rdEden","date":"2013-03-21T07:17:34.313Z","type":"join"}
{"nick":"rendar","date":"2013-03-21T07:28:31.299Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T07:32:21.645Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T07:36:27.163Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T07:37:21.735Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-03-21T07:38:28.637Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T07:42:27.375Z","type":"join"}
{"nick":"csaoh","date":"2013-03-21T07:53:36.177Z","type":"join"}
{"nick":"trevnorris","reason":"Quit: Leaving","date":"2013-03-21T07:53:43.612Z","type":"quit"}
{"nick":"dominictarr","date":"2013-03-21T07:57:35.667Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-03-21T08:04:25.131Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T08:04:37.235Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T08:08:27.554Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-03-21T08:16:52.843Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T08:31:45.285Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T08:35:27.567Z","type":"join"}
{"nick":"wolfeidau","date":"2013-03-21T08:41:56.780Z","type":"join"}
{"nick":"csaoh","date":"2013-03-21T08:49:17.212Z","type":"join"}
{"nick":"dominictarr","reason":"Ping timeout: 264 seconds","date":"2013-03-21T09:03:06.547Z","type":"quit"}
{"nick":"dominictarr","date":"2013-03-21T09:13:56.868Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T09:29:04.444Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T09:31:28.803Z","type":"join"}
{"nick":"Kakera","date":"2013-03-21T09:38:46.689Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T09:56:08.185Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T09:57:58.385Z","type":"join"}
{"nick":"benoitc","date":"2013-03-21T10:00:59.779Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-21T10:01:02.430Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T10:02:49.155Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T10:10:27.881Z","type":"join"}
{"nick":"Ralt_","date":"2013-03-21T10:15:23.015Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 258 seconds","date":"2013-03-21T10:23:06.751Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T10:23:17.123Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 258 seconds","date":"2013-03-21T10:29:37.609Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T10:31:18.130Z","type":"join"}
{"nick":"benoitc","date":"2013-03-21T10:32:30.451Z","type":"join"}
{"nick":"stagas_","date":"2013-03-21T10:35:57.471Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 264 seconds","date":"2013-03-21T10:36:42.604Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T10:36:55.855Z","type":"nick"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T10:50:24.999Z","type":"quit"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T10:55:00.222Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T10:55:55.019Z","type":"join"}
{"nick":"benoitc","date":"2013-03-21T10:58:30.660Z","type":"join"}
{"nick":"piscisaureus_","date":"2013-03-21T11:08:37.234Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-03-21T11:10:29.315Z","type":"quit"}
{"nick":"rendar","message":"does libuv keeps track of all the pending requests? e.g. inserting them in a container?","date":"2013-03-21T11:18:23.851Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T11:18:43.281Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-21T11:23:15.086Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T11:25:00.328Z","type":"join"}
{"nick":"stagas_","date":"2013-03-21T11:25:50.505Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T11:26:44.316Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T11:26:45.161Z","type":"nick"}
{"nick":"saghul","message":"rendar yes, it keeps a queue of them","date":"2013-03-21T11:29:15.488Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T11:30:39.680Z","type":"quit"}
{"nick":"stagas_","date":"2013-03-21T11:32:37.125Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 276 seconds","date":"2013-03-21T11:35:03.327Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T11:35:17.302Z","type":"nick"}
{"nick":"sgallagh","date":"2013-03-21T11:35:55.854Z","type":"join"}
{"nick":"stagas_","date":"2013-03-21T11:38:41.766Z","type":"join"}
{"nick":"benoitc","date":"2013-03-21T11:40:01.261Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 260 seconds","date":"2013-03-21T11:40:52.041Z","type":"quit"}
{"nick":"stagas_","reason":"Ping timeout: 255 seconds","date":"2013-03-21T11:43:41.429Z","type":"quit"}
{"nick":"stagas","date":"2013-03-21T11:44:11.257Z","type":"join"}
{"nick":"rendar","message":"saghul: but why? is that necessary to avoid memory leaks? and, wouldn't it add contention between threads, because every completion request must be interlocked added to the container - right?","date":"2013-03-21T11:44:20.643Z","type":"message"}
{"nick":"saghul","message":"rendar not sure what you mean. Libuv uses a single thread. When you call write, it may not be completed immediately, so the write req is added to a queue and processed when the fd is readable","date":"2013-03-21T11:45:30.538Z","type":"message"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-03-21T11:47:44.640Z","type":"quit"}
{"nick":"rendar","message":"saghul: libuv uses a threadpool to complete i/o requests","date":"2013-03-21T11:49:32.659Z","type":"message"}
{"nick":"saghul","message":"rendar no, only for the fs operations","date":"2013-03-21T11:49:51.090Z","type":"message"}
{"nick":"stagas_","date":"2013-03-21T11:50:03.311Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T11:52:45.130Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T11:52:58.604Z","type":"nick"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T11:57:48.295Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T12:02:00.048Z","type":"join"}
{"nick":"csaoh","date":"2013-03-21T12:04:23.184Z","type":"join"}
{"nick":"`3rdEden","reason":"Ping timeout: 258 seconds","date":"2013-03-21T12:18:52.255Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T12:22:38.493Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-03-21T12:23:41.306Z","type":"join"}
{"nick":"benoitc","date":"2013-03-21T12:32:30.742Z","type":"join"}
{"nick":"qmx|away","new_nick":"qmx","date":"2013-03-21T12:33:21.468Z","type":"nick"}
{"nick":"AvianFlu","date":"2013-03-21T12:40:12.389Z","type":"join"}
{"nick":"indutny","message":"hey brucem","date":"2013-03-21T12:58:46.728Z","type":"message"}
{"nick":"indutny","message":"oops","date":"2013-03-21T12:58:48.509Z","type":"message"}
{"nick":"indutny","message":"hey bnoordhuis","date":"2013-03-21T12:58:49.998Z","type":"message"}
{"nick":"brucem","message":"hi indutny ","date":"2013-03-21T12:59:31.580Z","type":"message"}
{"nick":"brucem","message":"I'm not bad to talk to.","date":"2013-03-21T12:59:37.907Z","type":"message"}
{"nick":"brucem","message":"I'm just interesting in different ways than bnoordhuis ","date":"2013-03-21T12:59:52.240Z","type":"message"}
{"nick":"indutny","message":"I believe you","date":"2013-03-21T13:05:22.911Z","type":"message"}
{"nick":"indutny","message":"but I need Ben","date":"2013-03-21T13:05:27.734Z","type":"message"}
{"nick":"stagas_","date":"2013-03-21T13:13:01.767Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 252 seconds","date":"2013-03-21T13:14:47.209Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T13:14:56.437Z","type":"nick"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-03-21T13:31:29.978Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-03-21T13:32:01.170Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: i hear that a lot","date":"2013-03-21T13:33:29.359Z","type":"message"}
{"nick":"AvianFlu","reason":"Read error: Connection reset by peer","date":"2013-03-21T13:35:17.396Z","type":"quit"}
{"nick":"AvianFlu","date":"2013-03-21T13:35:44.338Z","type":"join"}
{"nick":"bradleymeck","date":"2013-03-21T13:44:30.815Z","type":"join"}
{"nick":"c4milo","date":"2013-03-21T13:44:42.117Z","type":"join"}
{"nick":"stagas_","date":"2013-03-21T13:48:58.553Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T13:50:37.065Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T13:50:38.161Z","type":"nick"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-21T13:53:48.704Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u00029b61939\u0002 : unix: make timers handle large timeouts  This commit fixes two closely re - http://git.io/MoGLVQ","date":"2013-03-21T13:57:07.525Z","type":"message"}
{"nick":"bnoordhuis","message":"^ not one but two integer overflow bugs. oh, the shame!","date":"2013-03-21T13:57:36.057Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u0002e47a3e3\u0002 : deps: upgrade libuv to 9b61939 - http://git.io/CHuJRQ","date":"2013-03-21T13:59:35.695Z","type":"message"}
{"nick":"indexzero","date":"2013-03-21T13:59:55.229Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #48 \u00034FAILURE\u000f smartos-ia32 (1/563) osx-ia32 (2/563) windows-x64 (5/563) windows-ia32 (5/563) http://jenkins.nodejs.org/job/nodejs-v0.10/48/","date":"2013-03-21T14:12:29.517Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-21T14:22:51.802Z","type":"quit"}
{"nick":"bradleymeck","date":"2013-03-21T14:40:22.323Z","type":"join"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2013-03-21T14:53:10.031Z","type":"quit"}
{"nick":"sgallagh","date":"2013-03-21T14:53:35.548Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: yt?","date":"2013-03-21T14:53:42.526Z","type":"message"}
{"nick":"mikeal","date":"2013-03-21T15:03:11.775Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-03-21T15:03:47.860Z","type":"quit"}
{"nick":"mikeal","reason":"Client Quit","date":"2013-03-21T15:04:13.074Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: i'm in a call","date":"2013-03-21T15:13:07.046Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 256 seconds","date":"2013-03-21T15:14:32.149Z","type":"quit"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-21T15:15:28.574Z","type":"nick"}
{"nick":"kazupon","date":"2013-03-21T15:20:06.987Z","type":"join"}
{"nick":"kevireilly","reason":"Read error: Connection reset by peer","date":"2013-03-21T15:26:12.745Z","type":"quit"}
{"nick":"kevireilly","date":"2013-03-21T15:26:43.584Z","type":"join"}
{"nick":"hz","date":"2013-03-21T15:41:27.469Z","type":"join"}
{"nick":"nsm","date":"2013-03-21T15:45:03.974Z","type":"join"}
{"nick":"dap","date":"2013-03-21T15:53:45.685Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: is this worth pulling into 0.10.1, or can it wait for next week?","date":"2013-03-21T16:03:21.187Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: (binaries all jsut finished, so it'd be about another few hours ofmy time, that's all)","date":"2013-03-21T16:03:34.674Z","type":"message"}
{"nick":"`3rdEden","new_nick":"`3E|GONE","date":"2013-03-21T16:04:33.387Z","type":"nick"}
{"nick":"tjfontaine","message":"hmm dear osx libuv-0.10 why did you fail","date":"2013-03-21T16:04:50.418Z","type":"message"}
{"nick":"isaacs","message":"alright, pulling the trigger on it.  overflow timers can wait until next one","date":"2013-03-21T16:10:34.199Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f created tag v0.10.1 - http://git.io/elvgFw","date":"2013-03-21T16:10:50.842Z","type":"message"}
{"nick":"trevnorris","date":"2013-03-21T16:12:50.838Z","type":"join"}
{"nick":"trevnorris","message":"what are your guys thoughts on http://code.google.com/p/v8/issues/detail?id=2588","date":"2013-03-21T16:14:00.414Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.10\u000f * \u000292cc187\u0002 : blog: Post for v0.10.1 (+3 more commits) - http://git.io/6A3xvA","date":"2013-03-21T16:15:03.011Z","type":"message"}
{"nick":"cjd","message":"ahh WriteOneByte is analogus to WriteAscii","date":"2013-03-21T16:15:52.092Z","type":"message"}
{"nick":"cjd","message":"cool","date":"2013-03-21T16:15:53.532Z","type":"message"}
{"nick":"cjd","message":"btw good morning","date":"2013-03-21T16:15:57.609Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: do you want me to use the cla list, or the authors file to determine if a user has previously signed the cla?","date":"2013-03-21T16:19:48.306Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ping","date":"2013-03-21T16:20:26.491Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-03-21T16:21:25.552Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: hey, I jus realized there's a small layout issue with your nightlies html :)","date":"2013-03-21T16:23:17.255Z","type":"message"}
{"nick":"indutny","message":"hoya","date":"2013-03-21T16:23:20.749Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: really? sorry","date":"2013-03-21T16:23:29.328Z","type":"message"}
{"nick":"trevnorris","message":"what's it?","date":"2013-03-21T16:23:32.365Z","type":"message"}
{"nick":"indutny","message":"isaacs: have you pulled lazy cryptostreams?","date":"2013-03-21T16:23:32.889Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2013-03-21T16:23:40.074Z","type":"message"}
{"nick":"indutny","message":"I see","date":"2013-03-21T16:23:40.918Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: when a platform has multiple files they don't have their <li>'s","date":"2013-03-21T16:23:54.211Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-03-21T16:23:55.200Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: the CLA","date":"2013-03-21T16:23:58.296Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: the CLA list","date":"2013-03-21T16:24:03.843Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: what's the url again?","date":"2013-03-21T16:24:12.153Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: can you share that with me?","date":"2013-03-21T16:24:12.353Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: http://jenkins.nodejs.org/html/nightlies.html","date":"2013-03-21T16:24:18.520Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: see the windows builds","date":"2013-03-21T16:24:28.300Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: about to throw up a patch. it doubles the speed of all ascii writes","date":"2013-03-21T16:24:39.301Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: thanks","date":"2013-03-21T16:24:56.276Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: huzzah!","date":"2013-03-21T16:25:21.399Z","type":"message"}
{"nick":"indutny","message":"hurray","date":"2013-03-21T16:25:36.644Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: fixed: https://gist.github.com/trevnorris/5209053","date":"2013-03-21T16:25:58.575Z","type":"message"}
{"nick":"mikeal","date":"2013-03-21T16:26:23.150Z","type":"join"}
{"nick":"tjfontaine","message":"trevnorris: thanks","date":"2013-03-21T16:26:45.934Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: I think that the most recent v8 versions no longer use \"ascii\" and \"two-byte\" strings internally","date":"2013-03-21T16:27:10.094Z","type":"message"}
{"nick":"trevnorris","message":"someone mentioned they switched from ascii to latin1","date":"2013-03-21T16:27:40.121Z","type":"message"}
{"nick":"trevnorris","message":"think it was indutny ","date":"2013-03-21T16:27:47.341Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #49 \u00037UNSTABLE\u000f smartos-ia32 (1/563) osx-ia32 (3/563) windows-x64 (4/563) windows-ia32 (5/563) http://jenkins.nodejs.org/job/nodejs-v0.10/49/","date":"2013-03-21T16:27:48.865Z","type":"message"}
{"nick":"indutny","message":"no, it wasn't me","date":"2013-03-21T16:28:03.461Z","type":"message"}
{"nick":"trevnorris","message":"oh, well. it was someone =P","date":"2013-03-21T16:28:19.821Z","type":"message"}
{"nick":"tjfontaine","message":"they mentioned in your other issue :)","date":"2013-03-21T16:28:52.054Z","type":"message"}
{"nick":"trevnorris","message":"oh. lol","date":"2013-03-21T16:29:00.285Z","type":"message"}
{"nick":"tjfontaine","message":"also the same guy was in #node.js talking about it","date":"2013-03-21T16:29:00.625Z","type":"message"}
{"nick":"piscisaureus_","message":"which is why HasOnlyAsciiChars is now slow. That function is very fast in older v8 versions (and much faster than Utf8Length()) which is why it was great for optimizing string writes.","date":"2013-03-21T16:29:16.580Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: indeed they switched to latin1","date":"2013-03-21T16:29:30.214Z","type":"message"}
{"nick":"indutny","message":"wtf","date":"2013-03-21T16:29:34.727Z","type":"message"}
{"nick":"indutny","message":"why?","date":"2013-03-21T16:29:36.900Z","type":"message"}
{"nick":"bnoordhuis","message":"and it was me who mentioned that :)","date":"2013-03-21T16:29:39.094Z","type":"message"}
{"nick":"piscisaureus_","message":"which is because I just told you bnoordhuis","date":"2013-03-21T16:29:49.380Z","type":"message"}
{"nick":"trevnorris","message":"oh, well. just updated api internals to use WriteOneByte and suddenly writing ascii strings is freakishly fast.","date":"2013-03-21T16:29:52.811Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: haha, like i don't track v8 development :)","date":"2013-03-21T16:30:15.207Z","type":"message"}
{"nick":"tjfontaine","message":"ignore the incoming aborts","date":"2013-03-21T16:31:10.065Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #50 \u0002ABORTED\u0002 http://jenkins.nodejs.org/job/nodejs-v0.10/50/","date":"2013-03-21T16:31:13.180Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #51 \u0002ABORTED\u0002 http://jenkins.nodejs.org/job/nodejs-v0.10/51/","date":"2013-03-21T16:31:14.220Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: prediction","date":"2013-03-21T16:31:32.227Z","type":"message"}
{"nick":"piscisaureus_","message":"ABORTED? WHAT WTF HAPPENED","date":"2013-03-21T16:31:45.725Z","type":"message"}
{"nick":"LOUDBOT","message":"IF IT TURNS THE FUCK BACK ON OR WHATEVER","date":"2013-03-21T16:31:45.935Z","type":"message"}
{"nick":"indutny","message":"WTF = WHAT WTF","date":"2013-03-21T16:32:09.080Z","type":"message"}
{"nick":"LOUDBOT","message":"NO ONE SHOULD SUPPLY YOU WITH POWER","date":"2013-03-21T16:32:09.291Z","type":"message"}
{"nick":"indutny","message":"LOUDBOT: SHUT UP","date":"2013-03-21T16:32:17.305Z","type":"message"}
{"nick":"LOUDBOT","message":"indutny: AGINA: CLEFT PALET ORATION OF VAGINA","date":"2013-03-21T16:32:17.468Z","type":"message"}
{"nick":"piscisaureus_","message":"WWTF == WHAT WTF","date":"2013-03-21T16:32:21.570Z","type":"message"}
{"nick":"LOUDBOT","message":"GET OFF MY LAWN","date":"2013-03-21T16:32:21.738Z","type":"message"}
{"nick":"indutny","message":"oh good","date":"2013-03-21T16:32:24.227Z","type":"message"}
{"nick":"tjfontaine","message":"windows and jenkins I hate you *so* *very* *much* http://jenkins.nodejs.org/job/libuv-v0.10/label=windows/16/console","date":"2013-03-21T16:32:28.631Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T16:33:11.269Z","type":"quit"}
{"nick":"piscisaureus_","message":"tjfontaine: can you not have your own code to delete stuff?","date":"2013-03-21T16:33:23.795Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean","date":"2013-03-21T16:33:32.191Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #16 \u00034FAILURE\u000f smartos (4/186) windows (7/187) linux (2/186) osx (2/186) http://jenkins.nodejs.org/job/libuv-v0.10/16/","date":"2013-03-21T16:33:48.506Z","type":"message"}
{"nick":"indutny","message":"\"For those of you who have already upgraded to 0.10, you may have encountered some pretty bad performance regressions in some crypto functions (like createHmac) which are currently being worked on by Ben.\"","date":"2013-03-21T16:33:58.894Z","type":"message"}
{"nick":"indutny","message":"so true","date":"2013-03-21T16:34:00.487Z","type":"message"}
{"nick":"piscisaureus_","message":"attrib -r -s -h /d \"folder\" & rd /s/q \"folder\"","date":"2013-03-21T16:34:05.222Z","type":"message"}
{"nick":"trevnorris","message":"when's the next time v0.10 branch will be merged to master?","date":"2013-03-21T16:34:16.981Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: I can, but it means stopping jenkins from trying to manage git all on its own","date":"2013-03-21T16:34:24.508Z","type":"message"}
{"nick":"piscisaureus_","message":"ase","date":"2013-03-21T16:34:44.598Z","type":"message"}
{"nick":"tjfontaine","message":"quickly approaching the point where I'm just going to write my own","date":"2013-03-21T16:34:46.764Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-21T16:35:00.469Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-03-21T16:38:36.473Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T16:39:33.692Z","type":"join"}
{"nick":"piscisaureus_","message":"hmm. what","date":"2013-03-21T16:42:44.567Z","type":"message"}
{"nick":"piscisaureus_","message":"'s the point of the commits list in our blog post","date":"2013-03-21T16:42:51.707Z","type":"message"}
{"nick":"tjfontaine","message":"what?","date":"2013-03-21T16:42:51.874Z","type":"message"}
{"nick":"piscisaureus_","message":"nvm not the right channel","date":"2013-03-21T16:43:05.082Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: can you patch jenkins btw? Or is that too painful?","date":"2013-03-21T16:44:00.691Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: the git plugin is further on a track to stop exec()'ing git and to continue to develop its use of jgit, which is predictably immature","date":"2013-03-21T16:45:31.051Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: basically what you want is to do the same as NPM does on windows","date":"2013-03-21T16:46:02.360Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus_: but mostly on windows the jenkins slave seems to be holdling fd's open after a build is done","date":"2013-03-21T16:46:06.371Z","type":"message"}
{"nick":"piscisaureus_","message":"give it some time, and keep trying to delete files","date":"2013-03-21T16:46:10.507Z","type":"message"}
{"nick":"piscisaureus_","message":"but never give up unless it's really taking waaaay too long","date":"2013-03-21T16:46:27.707Z","type":"message"}
{"nick":"piscisaureus_","message":". / too many attempts","date":"2013-03-21T16:46:38.837Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-21T16:46:48.598Z","type":"quit"}
{"nick":"tjfontaine","message":"I will look and see if anyone has an alternative windows slave agent","date":"2013-03-21T16:47:04.530Z","type":"message"}
{"nick":"kazupon","date":"2013-03-21T16:48:33.002Z","type":"join"}
{"nick":"cjd","message":"for testing cjdns on windows I wrote a script which runs an http server and takes whatever you post to it, saves it as an exe file, runs it and sends you back the return code and stdout/stderr","date":"2013-03-21T16:48:57.822Z","type":"message"}
{"nick":"cjd","message":"then I run windows in a kvm","date":"2013-03-21T16:49:06.114Z","type":"message"}
{"nick":"cjd","message":"civilized","date":"2013-03-21T16:49:10.312Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: if it's open source you can hack Jenkins yourself. And I'd be more than happy to help you out because I really want a working windows buildbot","date":"2013-03-21T16:49:24.348Z","type":"message"}
{"nick":"tjfontaine","message":"just frustrating to hack on java is all","date":"2013-03-21T16:50:29.780Z","type":"message"}
{"nick":"tjfontaine","message":"not impossible, just depressing :)","date":"2013-03-21T16:50:47.849Z","type":"message"}
{"nick":"tjfontaine","message":"it seems the plugin I'm using already tries 3 times at 3 second intervals https://github.com/jenkinsci/ws-cleanup-plugin/pull/5","date":"2013-03-21T16:53:08.963Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-03-21T16:53:48.773Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T17:02:49.341Z","type":"quit"}
{"nick":"piscisaureus_","message":"tjfontaine: possibly they should try to remove the +r (readonly) attribute from files","date":"2013-03-21T17:03:15.066Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-03-21T17:03:54.119Z","type":"quit"}
{"nick":"qmx","new_nick":"qmx|lunch","date":"2013-03-21T17:05:56.158Z","type":"nick"}
{"nick":"tjfontaine","message":"piscisaureus_: will that handle the case if a process is still holding the file open?","date":"2013-03-21T17:08:46.406Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: no","date":"2013-03-21T17:08:57.595Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: however it surprises me that any process would keep *that* handle open at any time.","date":"2013-03-21T17:09:12.469Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: unless you have installed msysgit which is somewhat notorious for doing that :)","date":"2013-03-21T17:09:26.945Z","type":"message"}
{"nick":"piscisaureus_","message":"er, *tortoisegit","date":"2013-03-21T17:09:32.382Z","type":"message"}
{"nick":"piscisaureus_","message":"if you have tortoisegit on those machines, get it out","date":"2013-03-21T17:09:46.827Z","type":"message"}
{"nick":"tjfontaine","message":"no tortoisegit, msysgit and where I expect it to actually come from is jgit","date":"2013-03-21T17:09:58.550Z","type":"message"}
{"nick":"benoitc","date":"2013-03-21T17:10:03.956Z","type":"join"}
{"nick":"piscisaureus_","message":"There's ways to force-close a file","date":"2013-03-21T17:10:26.377Z","type":"message"}
{"nick":"piscisaureus_","message":"but it's somewhat tedious","date":"2013-03-21T17:10:30.309Z","type":"message"}
{"nick":"piscisaureus_","message":"I should probably write a tool that does all this one day :)","date":"2013-03-21T17:10:42.731Z","type":"message"}
{"nick":"piscisaureus_","message":"there's unlocker which is a gui app and it's really slow","date":"2013-03-21T17:10:54.431Z","type":"message"}
{"nick":"tjfontaine","message":"I'm looking to move to another solution, where the slave process gets shutdown when the build queue is idle","date":"2013-03-21T17:11:07.484Z","type":"message"}
{"nick":"piscisaureus_","message":"otherwise it's close to being <s>right</s> effective","date":"2013-03-21T17:11:10.072Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: ah, that might help too","date":"2013-03-21T17:11:17.222Z","type":"message"}
{"nick":"perezd","date":"2013-03-21T17:11:17.892Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: pr 5104. ascii writes are now 2x's faster than 3.14.","date":"2013-03-21T17:11:30.204Z","type":"message"}
{"nick":"tjfontaine","message":"it involves me letting jenkins start the slave agent with dcom *sigh*","date":"2013-03-21T17:11:33.698Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T17:11:39.835Z","type":"quit"}
{"nick":"piscisaureus_","message":"tjfontaine: another trick would be to rename the dir before trying to rename it","date":"2013-03-21T17:11:42.498Z","type":"message"}
{"nick":"piscisaureus_","message":"and just pretend it's all fine if not all files can be deleted","date":"2013-03-21T17:11:53.122Z","type":"message"}
{"nick":"trevnorris","message":"well 2x's could be charitable.","date":"2013-03-21T17:12:13.375Z","type":"message"}
{"nick":"tjfontaine","message":"hmm mv'ing it might also be doable","date":"2013-03-21T17:12:40.916Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-21T17:14:27.142Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T17:15:03.118Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Trevor Norris\u000f \u00037master\u000f * \u0002f150d56\u0002 : src: write ascii strings using WriteOneByte  WriteAscii will be deprecate - http://git.io/hPBC8w","date":"2013-03-21T17:15:48.463Z","type":"message"}
{"nick":"perezd_","date":"2013-03-21T17:15:55.750Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 252 seconds","date":"2013-03-21T17:16:40.542Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2013-03-21T17:16:40.815Z","type":"nick"}
{"nick":"piscisaureus_","message":"trevnorris: you do realize that this an API change right?","date":"2013-03-21T17:19:40.946Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: because the filtering for ascii strings will be different","date":"2013-03-21T17:19:55.496Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: ascii now effectively becamse the same as binary encoding","date":"2013-03-21T17:20:25.166Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: filtering by whom?","date":"2013-03-21T17:20:25.438Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: v8 used to replace \\0 by something else","date":"2013-03-21T17:20:42.304Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't think WriteOneByte does","date":"2013-03-21T17:20:49.656Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: IMO this is actually better but it might be nice to document the change somewhere. Atleast be very clear about it in the commit log.","date":"2013-03-21T17:21:11.387Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: sorry about that. didn't realize those intricacies","date":"2013-03-21T17:22:15.929Z","type":"message"}
{"nick":"trevnorris","message":"hm.","date":"2013-03-21T17:23:13.940Z","type":"message"}
{"nick":"trevnorris","message":"i'd assumed that they all follow the same options.","date":"2013-03-21T17:23:21.308Z","type":"message"}
{"nick":"trevnorris","message":"since they're all under the same header area in v8.h","date":"2013-03-21T17:23:30.456Z","type":"message"}
{"nick":"trevnorris","message":"looking at the code, it'll automatically end the write with '\\0' unless NO_NULL_TERMINATION is passed.","date":"2013-03-21T17:26:07.116Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: no - that didn't change","date":"2013-03-21T17:26:39.463Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: it's about this: `var a = \"foo\\0bar\"`","date":"2013-03-21T17:26:53.561Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: old situation:","date":"2013-03-21T17:27:23.655Z","type":"message"}
{"nick":"piscisaureus_","message":"> Buffer(\"foo\\0bar\", \"ascii\")","date":"2013-03-21T17:27:25.009Z","type":"message"}
{"nick":"piscisaureus_","message":"<Buffer 66 6f 6f 20 62 61 72>","date":"2013-03-21T17:27:25.176Z","type":"message"}
{"nick":"piscisaureus_","message":"new situation:","date":"2013-03-21T17:27:28.368Z","type":"message"}
{"nick":"piscisaureus_","message":"> Buffer(\"foo\\0bar\", \"ascii\")","date":"2013-03-21T17:27:31.456Z","type":"message"}
{"nick":"piscisaureus_","message":"<Buffer 66 6f 6f 00 62 61 72>","date":"2013-03-21T17:27:31.626Z","type":"message"}
{"nick":"isaacs","message":"yeah, this is better.","date":"2013-03-21T17:27:40.611Z","type":"message"}
{"nick":"isaacs","message":"but, the docs say specifically that \\0 is replaced with \" \" so we need to chagne the doc","date":"2013-03-21T17:27:54.495Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2013-03-21T17:28:06.207Z","type":"message"}
{"nick":"isaacs","message":"and should probably start a \"differences from 0.10 to 0.12\" *now* instead of waiting until after release this time :)","date":"2013-03-21T17:28:12.277Z","type":"message"}
{"nick":"piscisaureus_","message":"that's all","date":"2013-03-21T17:28:13.177Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: um. that happened before using WriteOneByte","date":"2013-03-21T17:28:17.818Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: no","date":"2013-03-21T17:28:28.214Z","type":"message"}
{"nick":"trevnorris","message":"WriteAscii uses WriteToFlat if only ascii characters were found.","date":"2013-03-21T17:28:36.303Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: just try it! i'm right :-)","date":"2013-03-21T17:28:51.519Z","type":"message"}
{"nick":"trevnorris","message":"oh...","date":"2013-03-21T17:28:52.383Z","type":"message"}
{"nick":"trevnorris","message":"nm","date":"2013-03-21T17:28:53.065Z","type":"message"}
{"nick":"trevnorris","message":"did try it, but forgot to rebuild after switching branches. =P","date":"2013-03-21T17:29:05.048Z","type":"message"}
{"nick":"piscisaureus_","message":"run the code I showed you `B\u000301uffer(\"foo\\0bar\", \"ascii\")\u0003\u000301` on stock 0.10.0 :)","date":"2013-03-21T17:29:16.360Z","type":"message"}
{"nick":"piscisaureus_","message":"ok I have to run","date":"2013-03-21T17:29:22.467Z","type":"message"}
{"nick":"piscisaureus_","message":"bbl","date":"2013-03-21T17:29:23.479Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: if documented, where should it go?","date":"2013-03-21T17:29:58.247Z","type":"message"}
{"nick":"piscisaureus_","message":"buffer docs","date":"2013-03-21T17:30:20.384Z","type":"message"}
{"nick":"trevnorris","message":"ok","date":"2013-03-21T17:30:23.584Z","type":"message"}
{"nick":"piscisaureus_","message":"well the buffer docs have to be updated","date":"2013-03-21T17:30:35.857Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: the *change* goes into the wiki somewhere","date":"2013-03-21T17:30:45.923Z","type":"message"}
{"nick":"AvianFlu","date":"2013-03-21T17:31:05.494Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 256 seconds","date":"2013-03-21T17:35:04.418Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: i'm not sure devs aren't going to expect that. Buffer('foo\\0barr', 'utf8') -> <Buffer 66 6f 6f 00 62 61 72> in v0.10","date":"2013-03-21T17:36:26.616Z","type":"message"}
{"nick":"trevnorris","message":"i mean, it seems strange ascii did something different.","date":"2013-03-21T17:36:51.019Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #106 \u00037UNSTABLE\u000f windows-x64 (4/563) windows-ia32 (4/563) osx-ia32 (3/563) http://jenkins.nodejs.org/job/nodejs-master/106/","date":"2013-03-21T17:38:57.933Z","type":"message"}
{"nick":"indutny","message":"review anyone https://github.com/joyent/node/pull/5105 ?","date":"2013-03-21T17:41:12.578Z","type":"message"}
{"nick":"indutny","message":"isaacs: ^","date":"2013-03-21T17:41:15.054Z","type":"message"}
{"nick":"c4milo","date":"2013-03-21T17:44:26.480Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-21T17:44:38.046Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: oh, here you are","date":"2013-03-21T17:44:52.722Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/node/pull/5105","date":"2013-03-21T17:44:57.379Z","type":"message"}
{"nick":"isaacs","message":"indutny: looking","date":"2013-03-21T17:45:38.455Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-21T17:46:21.812Z","type":"quit"}
{"nick":"isaacs","message":"indutny: why don't we just treat it as 0?","date":"2013-03-21T17:46:22.173Z","type":"message"}
{"nick":"isaacs","message":"indutny: same as if you pass in Infinity?","date":"2013-03-21T17:46:26.478Z","type":"message"}
{"nick":"isaacs","message":"oh, i guess... the special handling of 0 is only for sockets, not general timers","date":"2013-03-21T17:46:52.889Z","type":"message"}
{"nick":"isaacs","message":"indutny: sure, rubber-stamp lgtm.  if tests all pass, land at will.","date":"2013-03-21T17:47:10.573Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yes, indeed.  there's a caveat in the Buffer docs, I bleieve.  you can just remove it.","date":"2013-03-21T17:47:50.100Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2013-03-21T17:49:03.943Z","type":"quit"}
{"nick":"c4milo","date":"2013-03-21T17:49:12.778Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-21T17:51:46.719Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-21T17:52:11.631Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: https://github.com/joyent/node/pull/5105 <- does that timer thing still happen?","date":"2013-03-21T17:52:13.255Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: pr 5106","date":"2013-03-21T17:52:33.397Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037master\u000f * \u00022f88272\u0002 : Merge remote-tracking branch 'ry/v0.10' into master  Conflicts: \tsrc/node (+31 more commits) - http://git.io/m6MECw","date":"2013-03-21T17:52:39.086Z","type":"message"}
{"nick":"c4milo","date":"2013-03-21T17:53:18.726Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: thanks :)","date":"2013-03-21T17:54:30.693Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Trevor Norris\u000f \u00037master\u000f * \u0002f7ebb4d\u0002 : doc: update that ascii write doesn't convert null  Since WriteBuffer has  - http://git.io/wCvO7g","date":"2013-03-21T17:54:35.041Z","type":"message"}
{"nick":"txdv","message":"we need dualstack in the stable libuv version","date":"2013-03-21T18:00:29.443Z","type":"message"}
{"nick":"tjfontaine","message":"that seems unlikely","date":"2013-03-21T18:01:33.159Z","type":"message"}
{"nick":"txdv","message":"really","date":"2013-03-21T18:01:50.960Z","type":"message"}
{"nick":"tjfontaine","message":"how much of a change is it?","date":"2013-03-21T18:02:12.566Z","type":"message"}
{"nick":"`3E|GONE","reason":"Quit: brbrb","date":"2013-03-21T18:02:25.776Z","type":"quit"}
{"nick":"txdv","message":"one argument change in a function and 2 additional functions is the minimal version","date":"2013-03-21T18:02:44.467Z","type":"message"}
{"nick":"tjfontaine","message":"if it's unlikely to go into node-v0.10 I would imagine the same is true for libuv-v0.10","date":"2013-03-21T18:02:44.674Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv: no api/abi changes in stable versions","date":"2013-03-21T18:03:05.455Z","type":"message"}
{"nick":"txdv","message":"this shit is around for 3 months","date":"2013-03-21T18:03:32.176Z","type":"message"}
{"nick":"txdv","message":"I have asked your for your opinion and all you could push out is a \"i don't know yet\"","date":"2013-03-21T18:03:44.851Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-03-21T18:04:11.539Z","type":"quit"}
{"nick":"txdv","message":"I have listed all 3 different api scenarios, even uncovered a bug where libuv behaves differently on the same paltform (when ipv6only is set to false on linux)","date":"2013-03-21T18:04:27.082Z","type":"message"}
{"nick":"bnoordhuis","message":"and it will probably remain that way for the foreseeable future","date":"2013-03-21T18:04:30.931Z","type":"message"}
{"nick":"bnoordhuis","message":"fedor's bugging me about it as well","date":"2013-03-21T18:04:37.922Z","type":"message"}
{"nick":"stagas","date":"2013-03-21T18:04:43.462Z","type":"join"}
{"nick":"bnoordhuis","message":"but you know, there's bigger fish to fry","date":"2013-03-21T18:04:57.844Z","type":"message"}
{"nick":"txdv","message":"YOU WILL BURN IN HELL","date":"2013-03-21T18:05:08.727Z","type":"message"}
{"nick":"LOUDBOT","message":"I CAN CONFIRM, MY SOCKS ARE STILL ON. TRY HARDER.","date":"2013-03-21T18:05:09.061Z","type":"message"}
{"nick":"txdv","message":"when the devil decides to use libuv on linux with ipv6only set to false","date":"2013-03-21T18:05:30.683Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm an atheist. i don't believe in an afterlife","date":"2013-03-21T18:05:36.661Z","type":"message"}
{"nick":"bnoordhuis","message":"besides, everyone knows the devil uses freebsd","date":"2013-03-21T18:06:04.694Z","type":"message"}
{"nick":"txdv","message":"that feature is just broken in its current state","date":"2013-03-21T18:06:14.848Z","type":"message"}
{"nick":"txdv","message":"either remove it entirely or make it not broken","date":"2013-03-21T18:06:24.865Z","type":"message"}
{"nick":"bnoordhuis","message":"you forgot the third option","date":"2013-03-21T18:06:38.516Z","type":"message"}
{"nick":"txdv","message":"PR?","date":"2013-03-21T18:07:05.570Z","type":"message"}
{"nick":"txdv","message":"make it stable and not give a fuck?","date":"2013-03-21T18:07:28.439Z","type":"message"}
{"nick":"bnoordhuis","message":"no. just punt on it some more :)","date":"2013-03-21T18:07:37.435Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: good question","date":"2013-03-21T18:07:38.405Z","type":"message"}
{"nick":"indutny","message":"let me recheck","date":"2013-03-21T18:07:40.528Z","type":"message"}
{"nick":"indutny","message":"it definitely happens in 0.10","date":"2013-03-21T18:07:43.540Z","type":"message"}
{"nick":"bnoordhuis","message":"not for me after i upgraded libuv","date":"2013-03-21T18:07:54.826Z","type":"message"}
{"nick":"indutny","message":"erm","date":"2013-03-21T18:08:31.415Z","type":"message"}
{"nick":"indutny","message":"master fails","date":"2013-03-21T18:08:34.323Z","type":"message"}
{"nick":"indutny","message":"I bet you haven't merged 0.10 yet, right?","date":"2013-03-21T18:08:44.991Z","type":"message"}
{"nick":"bnoordhuis","message":"nope","date":"2013-03-21T18:08:49.431Z","type":"message"}
{"nick":"nsm","reason":"Quit: nsm","date":"2013-03-21T18:09:33.610Z","type":"quit"}
{"nick":"bnoordhuis","message":"txdv: re dual stack, it's something i'll reconsider after node 0.10 has stabilized a bit","date":"2013-03-21T18:09:53.401Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 260 seconds","date":"2013-03-21T18:09:55.296Z","type":"quit"}
{"nick":"`3rdEden","date":"2013-03-21T18:10:04.920Z","type":"join"}
{"nick":"bnoordhuis","message":"but until then there's more important stuff","date":"2013-03-21T18:10:05.123Z","type":"message"}
{"nick":"indutny","message":"like what?","date":"2013-03-21T18:10:38.879Z","type":"message"}
{"nick":"indutny","message":"SL","date":"2013-03-21T18:10:41.736Z","type":"message"}
{"nick":"perezd","date":"2013-03-21T18:10:46.289Z","type":"join"}
{"nick":"qmx|lunch","new_nick":"qmx","date":"2013-03-21T18:11:21.212Z","type":"nick"}
{"nick":"bnoordhuis","message":"making node bigger, better, faster, stronger","date":"2013-03-21T18:11:37.516Z","type":"message"}
{"nick":"txdv","message":"this is #libuv","date":"2013-03-21T18:11:52.377Z","type":"message"}
{"nick":"bnoordhuis","message":"(queue daft punk)","date":"2013-03-21T18:11:55.426Z","type":"message"}
{"nick":"indutny","message":"bbfs","date":"2013-03-21T18:12:02.978Z","type":"message"}
{"nick":"bnoordhuis","message":"also, cue","date":"2013-03-21T18:12:14.810Z","type":"message"}
{"nick":"bnoordhuis","message":"i want to fix up openssl","date":"2013-03-21T18:12:23.302Z","type":"message"}
{"nick":"bnoordhuis","message":"or rather our bindings","date":"2013-03-21T18:12:28.215Z","type":"message"}
{"nick":"indutny","message":"what's up with it ?","date":"2013-03-21T18:12:33.131Z","type":"message"}
{"nick":"bnoordhuis","message":"have you benchmarked it lately?","date":"2013-03-21T18:12:47.367Z","type":"message"}
{"nick":"bnoordhuis","message":"there's also the cluster load balancing issue","date":"2013-03-21T18:13:50.212Z","type":"message"}
{"nick":"indutny","message":"load balancing is really issue","date":"2013-03-21T18:14:23.679Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: meh","date":"2013-03-21T18:14:27.398Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: not that much slower","date":"2013-03-21T18:14:33.065Z","type":"message"}
{"nick":"perezd_","date":"2013-03-21T18:14:40.749Z","type":"join"}
{"nick":"bnoordhuis","message":"\"only\" 2x? :-/","date":"2013-03-21T18:14:45.617Z","type":"message"}
{"nick":"indutny","message":"at least openssl","date":"2013-03-21T18:14:50.877Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: that's problem on our side","date":"2013-03-21T18:14:59.438Z","type":"message"}
{"nick":"indutny","message":"isn't it?","date":"2013-03-21T18:15:00.600Z","type":"message"}
{"nick":"perezd","reason":"Ping timeout: 256 seconds","date":"2013-03-21T18:15:00.938Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2013-03-21T18:15:01.152Z","type":"nick"}
{"nick":"bnoordhuis","message":"yes","date":"2013-03-21T18:15:03.386Z","type":"message"}
{"nick":"bnoordhuis","message":"that's why i added the \"our bindings\" bit :)","date":"2013-03-21T18:15:17.062Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: are you talking about the regression in crypto.Hash etc","date":"2013-03-21T18:15:17.996Z","type":"message"}
{"nick":"isaacs","message":"?","date":"2013-03-21T18:15:18.751Z","type":"message"}
{"nick":"bnoordhuis","message":"yes and no","date":"2013-03-21T18:15:28.487Z","type":"message"}
{"nick":"bnoordhuis","message":"that regression is part of it","date":"2013-03-21T18:15:35.327Z","type":"message"}
{"nick":"isaacs","message":"the regression is solveable, it seems like","date":"2013-03-21T18:15:46.430Z","type":"message"}
{"nick":"bnoordhuis","message":"but crypto/tls performance is pretty abominable","date":"2013-03-21T18:15:48.313Z","type":"message"}
{"nick":"bnoordhuis","message":"in general, i mean","date":"2013-03-21T18:15:55.160Z","type":"message"}
{"nick":"isaacs","message":"yes, in general.","date":"2013-03-21T18:16:01.404Z","type":"message"}
{"nick":"isaacs","message":"i mean, it wasn't *great* in 0.8 and before, either.","date":"2013-03-21T18:16:12.160Z","type":"message"}
{"nick":"bnoordhuis","message":"no, indeed","date":"2013-03-21T18:16:20.527Z","type":"message"}
{"nick":"bnoordhuis","message":"so that's something i want to address in v0.12 :)","date":"2013-03-21T18:16:27.805Z","type":"message"}
{"nick":"isaacs","message":"tls throughput is better in 0.10, becuase of indutny and streams2, but connection hadnshake etc still sucks.","date":"2013-03-21T18:16:40.390Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i would like you to address it in 0.12 :)","date":"2013-03-21T18:16:51.002Z","type":"message"}
{"nick":"trevnorris","message":"indutny: is a v8 PATCH_LEVEL just the number of commits after it is released?","date":"2013-03-21T18:16:52.816Z","type":"message"}
{"nick":"indutny","message":"huhuhuh?","date":"2013-03-21T18:17:09.692Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yeah, its worse than 0.9.8e","date":"2013-03-21T18:17:37.342Z","type":"message"}
{"nick":"indutny","message":"but not that much","date":"2013-03-21T18:17:41.828Z","type":"message"}
{"nick":"indutny","message":"anyway, that's on my list ;)","date":"2013-03-21T18:17:58.277Z","type":"message"}
{"nick":"indutny","message":"and there're is tlsnappy for experiments","date":"2013-03-21T18:18:03.591Z","type":"message"}
{"nick":"loladiro","date":"2013-03-21T18:18:51.169Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #107 \u00037UNSTABLE\u000f windows-x64 (11/565) windows-ia32 (10/565) osx-ia32 (2/565) http://jenkins.nodejs.org/job/nodejs-master/107/","date":"2013-03-21T18:19:02.652Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: we'll discuss it some more this or next week","date":"2013-03-21T18:19:21.039Z","type":"message"}
{"nick":"bnoordhuis","message":"but for now: pizza!","date":"2013-03-21T18:19:29.424Z","type":"message"}
{"nick":"trevnorris","message":"indutny: oh, nm. forgot the git mirror doesn't properly do cross-branch tracking. that's why I never saw anything other than the initial release of a version.","date":"2013-03-21T18:21:27.267Z","type":"message"}
{"nick":"stagas","date":"2013-03-21T18:22:11.595Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 256 seconds","date":"2013-03-21T18:23:51.787Z","type":"quit"}
{"nick":"jez0990_","new_nick":"jez0990","date":"2013-03-21T18:27:51.314Z","type":"nick"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-21T18:36:33.868Z","type":"nick"}
{"nick":"trevnorris","message":"isaacs: are there historical reasons why the Buffer function would need to continue supporting slice? it's not in the api.","date":"2013-03-21T18:37:05.527Z","type":"message"}
{"nick":"trevnorris","message":"i mean, can slice be moved elsewhere?","date":"2013-03-21T18:37:19.697Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #108 \u00034FAILURE\u000f windows-x64 (11/565) windows-ia32 (9/565) osx-ia32 (2/565) http://jenkins.nodejs.org/job/nodejs-master/108/","date":"2013-03-21T18:40:21.162Z","type":"message"}
{"nick":"tjfontaine","message":"sigh","date":"2013-03-21T18:41:08.496Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: one of these days i'm going to scrap the logs for all your reactions after a windows build fails.","date":"2013-03-21T18:42:30.988Z","type":"message"}
{"nick":"trevnorris","message":" /scrap/scrape","date":"2013-03-21T18:42:51.778Z","type":"message"}
{"nick":"tjfontaine","message":"you could scrap windows :P","date":"2013-03-21T18:43:19.930Z","type":"message"}
{"nick":"bradleymeck_","date":"2013-03-21T18:43:32.637Z","type":"join"}
{"nick":"trevnorris","message":"lol","date":"2013-03-21T18:43:36.381Z","type":"message"}
{"nick":"bradleymeck","reason":"Ping timeout: 252 seconds","date":"2013-03-21T18:44:39.912Z","type":"quit"}
{"nick":"bradleymeck_","new_nick":"bradleymeck","date":"2013-03-21T18:44:40.597Z","type":"nick"}
{"nick":"trevnorris","message":"i remember when node announced it would support windows....","date":"2013-03-21T18:44:56.075Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Fedor Indutny\u000f \u00037v0.10\u000f * \u0002bfd16de\u0002 : timers: handle signed int32 overflow in enroll()  Before this patch calli - http://git.io/RJC9uQ","date":"2013-03-21T18:45:12.488Z","type":"message"}
{"nick":"indutny","message":"isaacs: starting from now","date":"2013-03-21T18:45:32.317Z","type":"message"}
{"nick":"indutny","message":"I'll write all comments on github in russian","date":"2013-03-21T18:45:38.351Z","type":"message"}
{"nick":"indutny","message":"just to troll people","date":"2013-03-21T18:45:44.800Z","type":"message"}
{"nick":"indutny","message":"and force them to learn russian words","date":"2013-03-21T18:45:50.168Z","type":"message"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-03-21T18:49:54.761Z","type":"quit"}
{"nick":"isaacs","message":"indutny: lol","date":"2013-03-21T18:57:46.473Z","type":"message"}
{"nick":"indutny","message":"","date":"2013-03-21T18:57:58.118Z","type":"message"}
{"nick":"isaacs","message":"indutny: yeah, and all node example scripts in the docs will use not-yet-implemented ES6 features.","date":"2013-03-21T18:58:04.104Z","type":"message"}
{"nick":"indutny","message":" ","date":"2013-03-21T18:58:15.154Z","type":"message"}
{"nick":"isaacs","message":"cobe pwe ho ho bepho","date":"2013-03-21T18:58:33.473Z","type":"message"}
{"nick":"indutny","message":":)","date":"2013-03-21T18:58:34.486Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-03-21T18:58:37.840Z","type":"quit"}
{"nick":"rendar","message":"does libuv keeps track of all the i/o pending requests? e.g. inserting them in a container?","date":"2013-03-21T18:59:47.743Z","type":"message"}
{"nick":"bradleymeck","message":"indutny: google autotranslate has made my life interesting reading your stuff","date":"2013-03-21T19:00:50.468Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-03-21T19:00:56.895Z","type":"message"}
{"nick":"indutny","message":"I can write more","date":"2013-03-21T19:01:06.145Z","type":"message"}
{"nick":"bradleymeck","message":"translate fails soo hard","date":"2013-03-21T19:01:34.214Z","type":"message"}
{"nick":"indutny","message":" ,     ","date":"2013-03-21T19:01:41.439Z","type":"message"}
{"nick":"isaacs","message":"i like dutch and swedish and danish better, because you can almost read them if you know english","date":"2013-03-21T19:01:47.451Z","type":"message"}
{"nick":"indutny","message":"isaacs: well, I can transliterate","date":"2013-03-21T19:01:58.428Z","type":"message"}
{"nick":"indutny","message":"sovershenno verno","date":"2013-03-21T19:02:27.895Z","type":"message"}
{"nick":"indutny","message":"but english and dutch are both roman-german languages","date":"2013-03-21T19:02:46.632Z","type":"message"}
{"nick":"loladiro","date":"2013-03-21T19:03:19.954Z","type":"join"}
{"nick":"trevnorris","message":"if you Dispose a persistent, then why do you also Clear it?","date":"2013-03-21T19:08:59.114Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #52 \u00037UNSTABLE\u000f smartos-ia32 (1/564) linux-x64 (1/564) osx-ia32 (3/564) windows-x64 (10/564) windows-ia32 (10/564) http://jenkins.nodejs.org/job/nodejs-v0.10/52/","date":"2013-03-21T19:10:01.061Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-03-21T19:10:43.980Z","type":"quit"}
{"nick":"indutny","message":"trevnorris: better yes","date":"2013-03-21T19:12:32.846Z","type":"message"}
{"nick":"indutny","message":"ah no","date":"2013-03-21T19:13:07.833Z","type":"message"}
{"nick":"indutny","message":"you should","date":"2013-03-21T19:13:10.531Z","type":"message"}
{"nick":"indutny","message":"otherwise it'll leak","date":"2013-03-21T19:13:17.266Z","type":"message"}
{"nick":"mikeal","date":"2013-03-21T19:19:28.353Z","type":"join"}
{"nick":"trevnorris","message":"indutny: is there a reason to create an empty handle? like can you assign it something later?","date":"2013-03-21T19:20:02.372Z","type":"message"}
{"nick":"trevnorris","message":"eh nm.","date":"2013-03-21T19:21:23.958Z","type":"message"}
{"nick":"trevnorris","message":"don't care.","date":"2013-03-21T19:21:26.195Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2013-03-21T19:29:30.534Z","type":"message"}
{"nick":"indutny","message":"did you guys knew that v8 uses a lot of different allocation spaces","date":"2013-03-21T19:29:39.854Z","type":"message"}
{"nick":"indutny","message":"7","date":"2013-03-21T19:29:47.840Z","type":"message"}
{"nick":"indutny","message":"very interesting","date":"2013-03-21T19:29:59.932Z","type":"message"}
{"nick":"indutny","message":"so it seems to be pretty straightforward to introduce 8th one :)","date":"2013-03-21T19:30:14.214Z","type":"message"}
{"nick":"indutny","message":"for buffers","date":"2013-03-21T19:30:16.474Z","type":"message"}
{"nick":"indutny","message":"lets see if I can hack something about it","date":"2013-03-21T19:30:26.190Z","type":"message"}
{"nick":"trevnorris","message":"indutny: but then buffers would be constrained by how much memory v8 can allocate?","date":"2013-03-21T19:31:14.636Z","type":"message"}
{"nick":"indutny","message":"lets experiment","date":"2013-03-21T19:31:26.399Z","type":"message"}
{"nick":"indutny","message":"and see what it'll give us","date":"2013-03-21T19:31:35.031Z","type":"message"}
{"nick":"indutny","message":"and only then deal with limits","date":"2013-03-21T19:31:44.939Z","type":"message"}
{"nick":"trevnorris","message":"sounds good. mind throwing any changes up somewhere? i'd like to see where you're messing around.","date":"2013-03-21T19:32:06.340Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-03-21T19:32:18.603Z","type":"message"}
{"nick":"indutny","message":"I'm just looking now","date":"2013-03-21T19:32:23.710Z","type":"message"}
{"nick":"indutny","message":"so probably later","date":"2013-03-21T19:32:26.358Z","type":"message"}
{"nick":"trevnorris","message":"whatevz. i'm working on improving the current buffers. =)","date":"2013-03-21T19:33:10.934Z","type":"message"}
{"nick":"trevnorris","message":"so do you mean make Buffers a native v8 type?","date":"2013-03-21T19:33:23.914Z","type":"message"}
{"nick":"indutny","message":"yep","date":"2013-03-21T19:35:02.244Z","type":"message"}
{"nick":"indutny","message":"and create separate GC for them","date":"2013-03-21T19:35:11.694Z","type":"message"}
{"nick":"trevnorris","message":"cool.","date":"2013-03-21T19:35:11.859Z","type":"message"}
{"nick":"indutny","message":"not sure yet","date":"2013-03-21T19:35:19.731Z","type":"message"}
{"nick":"indutny","message":"whether its cool or not","date":"2013-03-21T19:35:25.535Z","type":"message"}
{"nick":"indutny","message":"need to create something working first","date":"2013-03-21T19:35:30.901Z","type":"message"}
{"nick":"trevnorris","message":"interested to see what you come up with.","date":"2013-03-21T19:35:47.408Z","type":"message"}
{"nick":"trevnorris","message":"for small memory allocations that would be awesome.","date":"2013-03-21T19:36:03.381Z","type":"message"}
{"nick":"indutny","message":"it should still work for big allocations too","date":"2013-03-21T19:36:16.963Z","type":"message"}
{"nick":"sblom","date":"2013-03-21T19:36:31.770Z","type":"join"}
{"nick":"indutny","message":"in theory it should be *very* fast","date":"2013-03-21T19:36:44.101Z","type":"message"}
{"nick":"trevnorris","message":"yeah. it's just the small allocations that are the PITA.","date":"2013-03-21T19:37:12.764Z","type":"message"}
{"nick":"trevnorris","message":"b/c of current use of  buffer pools, they're the reason for a few memory leaks.","date":"2013-03-21T19:37:43.923Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-03-21T19:38:07.490Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-21T19:39:25.025Z","type":"quit"}
{"nick":"indutny","message":"yeah","date":"2013-03-21T19:40:38.169Z","type":"message"}
{"nick":"indutny","message":"actually, I was thinking about it","date":"2013-03-21T19:40:47.983Z","type":"message"}
{"nick":"indutny","message":"there's another way of doing things there","date":"2013-03-21T19:40:56.422Z","type":"message"}
{"nick":"indutny","message":"but it requires v8 patches too","date":"2013-03-21T19:41:02.253Z","type":"message"}
{"nick":"trevnorris","message":"what's the concept?","date":"2013-03-21T19:41:11.842Z","type":"message"}
{"nick":"indutny","message":"basically you need to store v8::External data","date":"2013-03-21T19:41:13.222Z","type":"message"}
{"nick":"indutny","message":"its a pointer","date":"2013-03-21T19:41:20.644Z","type":"message"}
{"nick":"indutny","message":"and you can perform your own garbage collection on it","date":"2013-03-21T19:41:27.873Z","type":"message"}
{"nick":"indutny","message":"by asking v8 to determine which v8::External are alive","date":"2013-03-21T19:41:39.483Z","type":"message"}
{"nick":"indutny","message":"and cleaning everything else","date":"2013-03-21T19:41:50.101Z","type":"message"}
{"nick":"indutny","message":"so its like implementing our own GC and allocator, but in node.js","date":"2013-03-21T19:42:15.740Z","type":"message"}
{"nick":"indutny","message":"not in v8","date":"2013-03-21T19:42:17.475Z","type":"message"}
{"nick":"trevnorris","message":"that sounds pretty much like what I've been hoping for.","date":"2013-03-21T19:43:04.211Z","type":"message"}
{"nick":"indutny","message":"yeah, I know","date":"2013-03-21T19:44:08.667Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2013-03-21T19:44:15.601Z","type":"message"}
{"nick":"indutny","message":"may be I should try doing this in first place","date":"2013-03-21T19:44:20.323Z","type":"message"}
{"nick":"indutny","message":"  static void VisitExternalResources(ExternalResourceVisitor* visitor);","date":"2013-03-21T19:44:41.699Z","type":"message"}
{"nick":"indutny","message":"this is already here, but works only for external strings","date":"2013-03-21T19:44:56.355Z","type":"message"}
{"nick":"bradleymeck","message":"how do ppl get gyp to not detect the wrong arch on a mac","date":"2013-03-21T19:50:05.093Z","type":"message"}
{"nick":"indutny","message":"not sure","date":"2013-03-21T19:50:37.557Z","type":"message"}
{"nick":"indutny","message":"it just works for me","date":"2013-03-21T19:50:39.967Z","type":"message"}
{"nick":"loladiro","date":"2013-03-21T19:52:28.855Z","type":"join"}
{"nick":"indutny","message":"meh, that's actually harder than I though","date":"2013-03-21T19:55:51.133Z","type":"message"}
{"nick":"indutny","message":"s/though/thought/","date":"2013-03-21T19:55:54.248Z","type":"message"}
{"nick":"trevnorris","message":"really?","date":"2013-03-21T19:56:04.756Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2013-03-21T19:56:09.268Z","type":"message"}
{"nick":"indutny","message":"external strings are put in the table right now","date":"2013-03-21T19:56:22.179Z","type":"message"}
{"nick":"indutny","message":"and this table is refreshed after each GC","date":"2013-03-21T19:56:30.455Z","type":"message"}
{"nick":"indutny","message":"so its almost the same thing as persistent","date":"2013-03-21T19:56:40.593Z","type":"message"}
{"nick":"indutny","message":"may be a little bit simplier","date":"2013-03-21T19:56:53.121Z","type":"message"}
{"nick":"indutny","message":"but not sure if its faster","date":"2013-03-21T19:56:59.135Z","type":"message"}
{"nick":"indutny","message":"ok, film time","date":"2013-03-21T19:57:18.448Z","type":"message"}
{"nick":"indutny","message":"ttyl","date":"2013-03-21T19:57:18.941Z","type":"message"}
{"nick":"sgallagh","reason":"Ping timeout: 276 seconds","date":"2013-03-21T20:00:45.392Z","type":"quit"}
{"nick":"bradleymeck","message":"always is defaulting to arch i386...","date":"2013-03-21T20:03:00.207Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-03-21T20:06:42.474Z","type":"nick"}
{"nick":"isaacs","action":"bbiab, chai thai time","date":"2013-03-21T20:16:54.193Z","type":"action"}
{"nick":"isaacs","action":"&","date":"2013-03-21T20:16:55.937Z","type":"action"}
{"nick":"LOUDBOT","message":"EVERY STATION PLEASE GIVE ME A GO/NO GO FOR GAYNESS","date":"2013-03-21T20:16:56.580Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #17 \u00037UNSTABLE\u000f windows (6/187) linux (2/186) osx (2/186) smartos (4/186) http://jenkins.nodejs.org/job/libuv-v0.10/17/","date":"2013-03-21T20:17:19.697Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-21T20:20:20.730Z","type":"join"}
{"nick":"kazupon","date":"2013-03-21T20:20:41.603Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-03-21T20:22:36.997Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-03-21T20:30:06.547Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-03-21T20:35:21.245Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2013-03-21T20:35:37.143Z","type":"quit"}
{"nick":"piscisaureus_","date":"2013-03-21T20:36:39.824Z","type":"join"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T20:37:11.160Z","type":"quit"}
{"nick":"piscisaureus_","message":"Hello","date":"2013-03-21T20:39:23.590Z","type":"message"}
{"nick":"piscisaureus_","message":"Anyone needs me for anything?","date":"2013-03-21T20:39:29.074Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-21T20:39:36.834Z","type":"quit"}
{"nick":"tjfontaine","message":"we need you for everything, how could you think otherwise","date":"2013-03-21T20:39:51.130Z","type":"message"}
{"nick":"trevnorris","message":"i could still use a review on how i've decided to structure my code: https://github.com/joyent/node/pull/4964","date":"2013-03-21T20:40:20.659Z","type":"message"}
{"nick":"benoitc","date":"2013-03-21T20:41:35.794Z","type":"join"}
{"nick":"tjfontaine","message":"what's the difference between the Large and not?","date":"2013-03-21T20:42:13.455Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: Your code structure seems fine. However I'm interested in how this solves any problems - you want to explain to me what your plans are?","date":"2013-03-21T20:42:25.209Z","type":"message"}
{"nick":"tjfontaine","message":"just if it's inside the allocated zone?","date":"2013-03-21T20:42:27.032Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: not large gets the size from the \"define\", otherwise it needs to read in the length from the beginning of the memory block","date":"2013-03-21T20:43:02.534Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #109 \u00037UNSTABLE\u000f linux-ia32 (1/565) windows-ia32 (9/565) osx-ia32 (2/565) windows-x64 (10/565) http://jenkins.nodejs.org/job/nodejs-master/109/","date":"2013-03-21T20:43:06.312Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: couple reasons:","date":"2013-03-21T20:43:22.162Z","type":"message"}
{"nick":"trevnorris","message":"first is to centralize how external memory is managed. Right now there are buffer pools, SlabAllocators and SlabBuffers","date":"2013-03-21T20:43:52.971Z","type":"message"}
{"nick":"trevnorris","message":"since Slab* use Buffers, and buffers always use pools, there can be some double referencing, which leads to memory leaks.","date":"2013-03-21T20:44:14.787Z","type":"message"}
{"nick":"trevnorris","message":"also by centralizing then it'll be easier to work on more efficient ways of handling memory. indutny has a few ideas of things we can do, and i've been exploring others.","date":"2013-03-21T20:45:20.727Z","type":"message"}
{"nick":"stagas_","date":"2013-03-21T20:45:48.167Z","type":"join"}
{"nick":"trevnorris","message":"Also it will remove the need for Fast/Slow Buffers. they can be combine into a single call.","date":"2013-03-21T20:46:27.322Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: ok, well I'm very interested :-)","date":"2013-03-21T20:46:48.269Z","type":"message"}
{"nick":"trevnorris","message":"thanks =)","date":"2013-03-21T20:47:01.899Z","type":"message"}
{"nick":"tjfontaine","message":"and when that's all done pretty histograms for allocations and arena's!","date":"2013-03-21T20:47:11.934Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: this code seems well-structured and fine. If you make the situation better, I'll be happy.","date":"2013-03-21T20:47:13.291Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 246 seconds","date":"2013-03-21T20:47:26.348Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2013-03-21T20:47:27.898Z","type":"nick"}
{"nick":"sblom","reason":"Ping timeout: 252 seconds","date":"2013-03-21T20:50:03.060Z","type":"quit"}
{"nick":"trevnorris","message":"yeah. the minimum criterion are: at least a little perf improvement, and improved memory usage.","date":"2013-03-21T20:50:22.427Z","type":"message"}
{"nick":"qmx","new_nick":"qmx|away","date":"2013-03-21T20:51:17.861Z","type":"nick"}
{"nick":"trevnorris","message":"also will need benchmarks, tests, documentation... don't expect it pulled unless it's provably more solid than node is now.","date":"2013-03-21T20:51:23.628Z","type":"message"}
{"nick":"trevnorris","message":"right now I can externally allocate 1e7 1024 byte allocs, and mem usage doesn't go over 15MB.","date":"2013-03-21T20:56:18.352Z","type":"message"}
{"nick":"trevnorris","message":"whereas Buffers will peak at ~250MB","date":"2013-03-21T20:56:45.310Z","type":"message"}
{"nick":"trevnorris","message":"gc seems to handle it a lot better.","date":"2013-03-21T20:57:04.301Z","type":"message"}
{"nick":"piscisaureus_","message":"Cool","date":"2013-03-21T21:03:04.750Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-03-21T21:08:47.728Z","type":"quit"}
{"nick":"loladiro","date":"2013-03-21T21:13:33.462Z","type":"join"}
{"nick":"sblom","date":"2013-03-21T21:14:25.272Z","type":"join"}
{"nick":"trevnorris","message":"indutny: would it be possible to use ExternalAsciiStringResource on an ascii string passed to Buffer, then assign Buffer->data_ to the external data()?","date":"2013-03-21T21:18:50.828Z","type":"message"}
{"nick":"trevnorris","message":"or does it still need to be accessed by the handle?","date":"2013-03-21T21:19:28.704Z","type":"message"}
{"nick":"trevnorris","message":"hm. nm. data needs to be immutable.","date":"2013-03-21T21:20:20.067Z","type":"message"}
{"nick":"bradleymeck","date":"2013-03-21T21:21:30.727Z","type":"join"}
{"nick":"tjfontaine","message":"isaacs: if there's an error on the cla spreadsheet should I just fix it?","date":"2013-03-21T21:22:21.960Z","type":"message"}
{"nick":"tjfontaine","message":"there's one entry with the wrong offsets, and no valid address -- and the two others without valid emails","date":"2013-03-21T21:25:54.526Z","type":"message"}
{"nick":"kazupon","date":"2013-03-21T21:25:58.965Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-03-21T21:27:12.645Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T21:31:07.529Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-03-21T21:31:07.723Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T21:33:34.969Z","type":"join"}
{"nick":"mikeal","date":"2013-03-21T21:48:02.206Z","type":"join"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-03-21T21:56:19.606Z","type":"quit"}
{"nick":"kuplatupsu","reason":"Read error: Operation timed out","date":"2013-03-21T22:02:49.934Z","type":"quit"}
{"nick":"kuplatupsu","date":"2013-03-21T22:03:36.508Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-03-21T22:08:21.965Z","type":"quit"}
{"nick":"wolfeidau","date":"2013-03-21T22:10:01.644Z","type":"join"}
{"nick":"rendar","date":"2013-03-21T22:10:43.941Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-21T22:10:58.295Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-21T22:16:00.455Z","type":"quit"}
{"nick":"isaacs","message":"tjfontaine: yeah, if it's a clear error that you can fix, just go for it","date":"2013-03-21T22:18:12.782Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2013-03-21T22:18:19.614Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: how interesting would it be for api queries to see if a user is on the cla by email/fullname","date":"2013-03-21T22:18:38.575Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: VERY INTERESTING.","date":"2013-03-21T22:18:51.747Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: but i think that clahub is going to eventually do this for us","date":"2013-03-21T22:18:59.031Z","type":"message"}
{"nick":"tjfontaine","message":"ok well I can provide it today for the interim","date":"2013-03-21T22:19:14.796Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: the tricky thing is that we don't ask for github username, so correllating to pul l reqs is hard.","date":"2013-03-21T22:19:42.384Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: especially since some people dont' have their email in the gh acct","date":"2013-03-21T22:19:51.021Z","type":"message"}
{"nick":"tjfontaine","message":"yes, it sucks, it's not perfect","date":"2013-03-21T22:19:53.715Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: usually, if i have to look it up, i'll just put their gh name in the last column","date":"2013-03-21T22:20:03.571Z","type":"message"}
{"nick":"isaacs","message":"(the first one past the \"real\" data)","date":"2013-03-21T22:20:10.731Z","type":"message"}
{"nick":"tjfontaine","message":"even their gh fullname may not be what they use","date":"2013-03-21T22:20:25.178Z","type":"message"}
{"nick":"trevnorris","message":"or we could just require everyone to use their PGP ;-)","date":"2013-03-21T22:20:39.376Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-03-21T22:20:59.036Z","type":"nick"}
{"nick":"tjfontaine","message":"then everyone complains because they lost their key, or passphrase, or are unaware they can resign/change expiry :P","date":"2013-03-21T22:21:08.293Z","type":"message"}
{"nick":"isaacs","message":"i think clahub is basically the exact correct approach","date":"2013-03-21T22:21:12.870Z","type":"message"}
{"nick":"isaacs","message":"integrated with github, etc.","date":"2013-03-21T22:21:17.000Z","type":"message"}
{"nick":"tjfontaine","message":"is there a timeline on such a thing?","date":"2013-03-21T22:21:55.486Z","type":"message"}
{"nick":"trevnorris","message":"ok. this buffer thing is going to be a bitch. i can do the work. but having a hard time figuring out how to break up the commits.","date":"2013-03-21T22:24:47.965Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: how'd you do it w/ streams2?","date":"2013-03-21T22:24:53.566Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i maintained a separate branch, where i continually rebased onto the upstream master, and then at the end, merged in with --no-ff","date":"2013-03-21T22:25:20.502Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: managing the git part is a breeze for me. it's figuring out how much/what type of work to do for each commit.","date":"2013-03-21T22:26:09.059Z","type":"message"}
{"nick":"trevnorris","message":"but as you know i'm really anal about my commit structure.","date":"2013-03-21T22:26:18.915Z","type":"message"}
{"nick":"loladiro","date":"2013-03-21T22:26:21.825Z","type":"join"}
{"nick":"kazupon","date":"2013-03-21T22:26:38.651Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: do you own libuv.org?","date":"2013-03-21T22:26:43.011Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: point your A records at 37.153.98.70","date":"2013-03-21T22:26:53.930Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: where you have root ssh access","date":"2013-03-21T22:26:59.628Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-03-21T22:27:13.112Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: kewl!","date":"2013-03-21T22:27:14.808Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: there is a project, i'm not sure where it's at.  last i checked it out (on one of my own random node modules) it didn't quite work right.","date":"2013-03-21T22:27:35.324Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: but i know it's been active, and the creator very much wants to support projects like node","date":"2013-03-21T22:27:49.489Z","type":"message"}
{"nick":"tjfontaine","message":"ya I looked at it, I'm not entirely impressed at the moment","date":"2013-03-21T22:27:50.139Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: let's dig up the login details...","date":"2013-03-21T22:27:55.150Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: guess i meant, did you just work and commit at random. or did you have a plan for what work to do between commits?","date":"2013-03-21T22:28:01.751Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: once upon a time you gave me a ssh key.  that one should work.","date":"2013-03-21T22:28:10.585Z","type":"message"}
{"nick":"tjfontaine","message":"but I am distracted by making it work today","date":"2013-03-21T22:28:11.393Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2013-03-21T22:28:25.369Z","type":"message"}
{"nick":"piscisaureus_","message":"cool","date":"2013-03-21T22:28:26.872Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: oh, i just commit and work and rebase and mold the clay into something slowly over time.","date":"2013-03-21T22:28:31.886Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it doesn't matter what your rough drafts look like, as long as the finished product is good.","date":"2013-03-21T22:28:43.219Z","type":"message"}
{"nick":"trevnorris","message":"cool.","date":"2013-03-21T22:28:55.556Z","type":"message"}
{"nick":"tjfontaine","message":"commit early, commit often","date":"2013-03-21T22:29:04.671Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: in the short term, if it's easy to create a little dummy api to hit our google doc, then that's fine.","date":"2013-03-21T22:29:14.632Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-03-21T22:29:20.230Z","type":"quit"}
{"nick":"isaacs","message":"tjfontaine: just don't waste too much time on it","date":"2013-03-21T22:29:25.645Z","type":"message"}
{"nick":"tjfontaine","message":"it basically writes itself","date":"2013-03-21T22:29:36.270Z","type":"message"}
{"nick":"isaacs","message":"er, dont' \"waste\" time at all.  stop if it starts becoming wasteful :)","date":"2013-03-21T22:29:38.919Z","type":"message"}
{"nick":"tjfontaine","message":"it'll be deployed shortly","date":"2013-03-21T22:29:42.580Z","type":"message"}
{"nick":"isaacs","message":"wonderful :)","date":"2013-03-21T22:29:47.670Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: for 0.12 can we remove buffer.get/set?","date":"2013-03-21T22:29:52.453Z","type":"message"}
{"nick":"trevnorris","message":"not documented, and seem really useless.","date":"2013-03-21T22:30:03.590Z","type":"message"}
{"nick":"mikeal","date":"2013-03-21T22:31:16.749Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-03-21T22:31:18.566Z","type":"quit"}
{"nick":"tjfontaine","message":"trevnorris: there may be pushback, as I think some people use it to be blind to ArrayBuffer things","date":"2013-03-21T22:31:21.086Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: SmartMachine (base 1.9.0)","date":"2013-03-21T22:31:46.092Z","type":"message"}
{"nick":"piscisaureus_","message":"http://wiki.joyent.com/jpc2/SmartMachine+Base","date":"2013-03-21T22:31:46.259Z","type":"message"}
{"nick":"piscisaureus_","message":":)","date":"2013-03-21T22:31:47.632Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: now the real work starts","date":"2013-03-21T22:31:52.529Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: thanks!","date":"2013-03-21T22:32:03.890Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: meh.  just pkgin install nginx, and point it at some files.","date":"2013-03-21T22:32:26.124Z","type":"message"}
{"nick":"isaacs","message":"nothing too hard.","date":"2013-03-21T22:32:35.168Z","type":"message"}
{"nick":"isaacs","message":"or do you mean the real work of creating docs and uploading them?","date":"2013-03-21T22:32:50.974Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the latter.","date":"2013-03-21T22:33:06.584Z","type":"message"}
{"nick":"isaacs","message":"ah, yeah","date":"2013-03-21T22:33:13.702Z","type":"message"}
{"nick":"isaacs","message":"that's rough :)","date":"2013-03-21T22:33:17.892Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: eh, ok. but fwiw. there is no \"get/set\" in the ArrayBuffer spec.","date":"2013-03-21T22:33:20.399Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: no \"get/set\"?  means what?","date":"2013-03-21T22:33:38.303Z","type":"message"}
{"nick":"c4milo","date":"2013-03-21T22:33:44.648Z","type":"join"}
{"nick":"isaacs","message":"oh, that (scrolled back)","date":"2013-03-21T22:33:59.497Z","type":"message"}
{"nick":"trevnorris","message":"oh, that was meant for tjfontaine ","date":"2013-03-21T22:34:03.059Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i have no strong feelings about it.  I think get/set is older, before it was [n]-style","date":"2013-03-21T22:34:29.860Z","type":"message"}
{"nick":"trevnorris","message":"cool","date":"2013-03-21T22:34:39.135Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i put it in eu-ams so that you can feel like it's really fast :)","date":"2013-03-21T22:35:11.573Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I've been bitching about smartmachines, but speed was never a problem.","date":"2013-03-21T22:35:40.970Z","type":"message"}
{"nick":"piscisaureus_","message":"Esp. once you have experienced amazon (or seen the bill)","date":"2013-03-21T22:36:23.797Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: oh, one other thing. seems that passing a buffer to Buffer() for a slice is only used internally, and not documented. can i move it, or keep it the same?","date":"2013-03-21T22:36:26.352Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: thanks!","date":"2013-03-21T22:36:38.162Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: passing a buffer to Buffer makes a copy, not a slice.","date":"2013-03-21T22:38:24.098Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it's treated like new Buffer([1,2,3,4])","date":"2013-03-21T22:38:32.030Z","type":"message"}
{"nick":"philips","reason":"Changing host","date":"2013-03-21T22:38:40.428Z","type":"quit"}
{"nick":"philips","date":"2013-03-21T22:38:40.596Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: then the comments suck \"// Are we slicing?\"","date":"2013-03-21T22:38:54.989Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2013-03-21T22:39:00.019Z","type":"message"}
{"nick":"isaacs","message":"that's entirely possible.","date":"2013-03-21T22:39:02.461Z","type":"message"}
{"nick":"isaacs","message":"lemme look at the code.","date":"2013-03-21T22:39:08.304Z","type":"message"}
{"nick":"isaacs","message":"empirically, b2 = Buffer(b1) creates a copy","date":"2013-03-21T22:39:19.303Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: but b2 = Buffer(b1, n, m) slices","date":"2013-03-21T22:40:58.807Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: oh, that's SUPER weird","date":"2013-03-21T22:41:07.630Z","type":"message"}
{"nick":"isaacs","message":"it slices from m to n, not the other way around","date":"2013-03-21T22:41:12.985Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yes, please get rid of that i don't even know what that is even","date":"2013-03-21T22:41:31.477Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: if it's not documented, and especially if it's also not tested, consider it fair game.","date":"2013-03-21T22:41:46.991Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: if necessary, we can re-implement on top of whatever else you do.","date":"2013-03-21T22:42:07.522Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: in my tests Buffer(buffer, n, m) doesn't copy nor creates a slice","date":"2013-03-21T22:44:35.194Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: odd","date":"2013-03-21T22:44:40.025Z","type":"message"}
{"nick":"indutny","message":"what have I missed? :)","date":"2013-03-21T22:45:27.195Z","type":"message"}
{"nick":"indutny","message":"great buffer discussion?","date":"2013-03-21T22:45:31.568Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: if it's giving you a zero length then you probably have n and m reversed.","date":"2013-03-21T22:45:33.094Z","type":"message"}
{"nick":"indutny","message":"do you have plan how to speed up it?","date":"2013-03-21T22:45:36.814Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: no","date":"2013-03-21T22:45:43.415Z","type":"message"}
{"nick":"piscisaureus_","message":"trevnorris: look at this:","date":"2013-03-21T22:45:47.666Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: oh, you're right.","date":"2013-03-21T22:46:11.601Z","type":"message"}
{"nick":"piscisaureus_","message":"> base = new Buffer(4)","date":"2013-03-21T22:46:29.493Z","type":"message"}
{"nick":"piscisaureus_","message":"<Buffer 08 f3 34 00>","date":"2013-03-21T22:46:29.652Z","type":"message"}
{"nick":"piscisaureus_","message":"> base.fill(0)","date":"2013-03-21T22:46:29.652Z","type":"message"}
{"nick":"piscisaureus_","message":"undefined","date":"2013-03-21T22:46:29.652Z","type":"message"}
{"nick":"piscisaureus_","message":"> base","date":"2013-03-21T22:46:29.652Z","type":"message"}
{"nick":"piscisaureus_","message":"<Buffer 00 00 00 00>","date":"2013-03-21T22:46:29.652Z","type":"message"}
{"nick":"piscisaureus_","message":"> foo = Buffer(base, 4, 0)","date":"2013-03-21T22:46:29.813Z","type":"message"}
{"nick":"piscisaureus_","message":"<Buffer a8 0f 3b 00>","date":"2013-03-21T22:46:30.676Z","type":"message"}
{"nick":"trevnorris","message":"ok, it always copies.","date":"2013-03-21T22:46:31.035Z","type":"message"}
{"nick":"trevnorris","message":"but then wtf is that code there for?!","date":"2013-03-21T22:46:39.514Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe something internal?","date":"2013-03-21T22:46:49.139Z","type":"message"}
{"nick":"trevnorris","message":"piscisaureus_: look at SlowBuffer.prototype.slice","date":"2013-03-21T22:47:20.046Z","type":"message"}
{"nick":"dominictarr","date":"2013-03-21T22:48:46.462Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-03-21T22:48:56.320Z","type":"quit"}
{"nick":"trevnorris","message":"well whatever. if no one else knows what it's for, then it's out.","date":"2013-03-21T22:51:16.240Z","type":"message"}
{"nick":"isaacs","message":"trevnorris++","date":"2013-03-21T22:52:26.830Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T22:54:18.164Z","type":"quit"}
{"nick":"piscisaureus_","message":"trevnorris: it seems pointless","date":"2013-03-21T22:57:54.107Z","type":"message"}
{"nick":"piscisaureus_","message":"so +1","date":"2013-03-21T22:57:59.927Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2013-03-21T22:59:50.975Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T23:00:36.753Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-03-21T23:04:11.522Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-03-21T23:06:56.277Z","type":"quit"}
{"nick":"creationix","reason":"Ping timeout: 264 seconds","date":"2013-03-21T23:07:54.625Z","type":"quit"}
{"nick":"creationix","date":"2013-03-21T23:08:49.062Z","type":"join"}
{"nick":"indexzero","date":"2013-03-21T23:12:41.620Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2013-03-21T23:12:46.406Z","type":"quit"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-03-21T23:12:54.531Z","type":"quit"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2013-03-21T23:15:00.095Z","type":"quit"}
{"nick":"benoitc","date":"2013-03-21T23:17:06.632Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2013-03-21T23:17:13.513Z","type":"quit"}
{"nick":"kazupon","date":"2013-03-21T23:27:07.445Z","type":"join"}
{"nick":"dominictarr","date":"2013-03-21T23:29:00.844Z","type":"join"}
{"nick":"sblom","reason":"Ping timeout: 260 seconds","date":"2013-03-21T23:30:45.343Z","type":"quit"}
{"nick":"Kakera","reason":"Ping timeout: 255 seconds","date":"2013-03-21T23:31:05.551Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2013-03-21T23:31:33.502Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 260 seconds","date":"2013-03-21T23:31:55.291Z","type":"quit"}
{"nick":"bnoordhuis","message":"this cork/uncork thing doesn't seem to be working out","date":"2013-03-21T23:36:33.701Z","type":"message"}
{"nick":"trevnorris","message":"eh?","date":"2013-03-21T23:36:55.071Z","type":"message"}
{"nick":"bnoordhuis","message":"it's 25% faster on really big messages (>100 kb)","date":"2013-03-21T23:37:01.156Z","type":"message"}
{"nick":"bnoordhuis","message":"but it decimates with smaller buffers","date":"2013-03-21T23:37:28.565Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: i was working on an optimization for http + buffers","date":"2013-03-21T23:37:43.311Z","type":"message"}
{"nick":"bnoordhuis","message":"when you send a buffer, node copies the headers + buffer into a new buffer","date":"2013-03-21T23:37:53.929Z","type":"message"}
{"nick":"bnoordhuis","message":"so it can send it in one tcp packet (and with one syscall)","date":"2013-03-21T23:38:08.310Z","type":"message"}
{"nick":"bnoordhuis","message":"i had this idea of patching libuv and give it new api to tell it stop writing eagerly","date":"2013-03-21T23:38:38.150Z","type":"message"}
{"nick":"bnoordhuis","message":"wait, let me link you to the issue","date":"2013-03-21T23:38:44.756Z","type":"message"}
{"nick":"trevnorris","message":"interesting. cool","date":"2013-03-21T23:38:50.085Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: https://github.com/joyent/node/issues/4975#issuecomment-14927524","date":"2013-03-21T23:38:59.020Z","type":"message"}
{"nick":"bnoordhuis","message":"so you cork, write a few things, then uncork and libuv batches it up in a single writev syscall","date":"2013-03-21T23:39:40.349Z","type":"message"}
{"nick":"bnoordhuis","message":"but alas, it doesn't seem to be very effective","date":"2013-03-21T23:40:14.734Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: well, not giving the Content-Length is going to make that a bitch.","date":"2013-03-21T23:40:44.883Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: how so?","date":"2013-03-21T23:41:47.063Z","type":"message"}
{"nick":"trevnorris","message":"eh, just rambling. but need a little background. haven't spent a ton of time in there.","date":"2013-03-21T23:43:23.654Z","type":"message"}
{"nick":"trevnorris","message":"so is data sent immediately on .write()?","date":"2013-03-21T23:43:29.813Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: what .write()? :) there are several","date":"2013-03-21T23:45:02.305Z","type":"message"}
{"nick":"bnoordhuis","message":"if you mean res.write() the answer is maybe","date":"2013-03-21T23:45:18.555Z","type":"message"}
{"nick":"trevnorris","message":"heh, sorry. mind is still deep in buffers.","date":"2013-03-21T23:45:34.589Z","type":"message"}
{"nick":"trevnorris","message":"yeah. ok so that's a maybe.","date":"2013-03-21T23:45:38.612Z","type":"message"}
{"nick":"bnoordhuis","message":"res.end() tries to optimize by packing the headers and the body","date":"2013-03-21T23:46:09.720Z","type":"message"}
{"nick":"trevnorris","message":"guess i figured that if the user properly sets Content-Length then you could make an assumption about how much data will be going through.","date":"2013-03-21T23:46:50.744Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, but it also works with Transfer-Encoding: chunked","date":"2013-03-21T23:47:44.819Z","type":"message"}
{"nick":"bnoordhuis","message":"provided you do res.writeHead(...); res.end(body)","date":"2013-03-21T23:48:01.677Z","type":"message"}
{"nick":"trevnorris","message":"ok. so to understand the logic. res.writeHead/write/end send the data directly to node::StreamWrap. would this immediately call uv_write()?","date":"2013-03-21T23:50:49.295Z","type":"message"}
{"nick":"trevnorris","message":"then using the cork/uncork it doesn't send the data until it's complete?","date":"2013-03-21T23:52:27.593Z","type":"message"}
{"nick":"bnoordhuis","message":"that's the idea","date":"2013-03-21T23:53:28.845Z","type":"message"}
{"nick":"bnoordhuis","message":"to avoid that buffer copy","date":"2013-03-21T23:53:37.185Z","type":"message"}
{"nick":"bnoordhuis","message":"which turns out to be expensive with really big response bodies","date":"2013-03-21T23:53:50.532Z","type":"message"}
{"nick":"sblom","date":"2013-03-21T23:56:20.077Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: so, there's still this awful heuristic around that 100kb inflection point?","date":"2013-03-21T23:59:53.288Z","type":"message"}
