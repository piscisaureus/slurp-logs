{"nick":"isaacs","message":"oh, shit, res.emit('end') is happening more than once.","date":"2012-05-15T00:02:31.906Z","type":"message"}
{"nick":"isaacs","message":"very reliably, too","date":"2012-05-15T00:02:42.172Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 240 seconds","date":"2012-05-15T00:03:17.238Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T00:05:25.954Z","type":"join"}
{"nick":"AvianFlu","message":"'I AM THE WALRUS' !? you're right, that is a weird test","date":"2012-05-15T00:05:59.276Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-15T00:07:25.312Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T00:07:51.882Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2012-05-15T00:07:53.683Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T00:11:42.860Z","type":"join"}
{"nick":"piscisaureus_","message":"refcount refactor status: timer, p/c/i, process still left","date":"2012-05-15T00:17:31.197Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: what's p/c/i?","date":"2012-05-15T00:19:01.940Z","type":"message"}
{"nick":"piscisaureus_","message":"prepare/check/idle","date":"2012-05-15T00:19:09.148Z","type":"message"}
{"nick":"piscisaureus_","message":"but those are moreorless the same","date":"2012-05-15T00:19:16.316Z","type":"message"}
{"nick":"piscisaureus_","message":"generated by macros","date":"2012-05-15T00:19:20.054Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-05-15T00:19:36.308Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: i think i figured it out.  apparently the socket close event and parser message complete event happen in different orders on linux and mac","date":"2012-05-15T00:20:46.984Z","type":"message"}
{"nick":"piscisaureus_","message":"In the meantime I refactor out a lot of cruft btw","date":"2012-05-15T00:20:51.960Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: if the socket event happens first, we end up emitting 'end' twice.","date":"2012-05-15T00:21:24.635Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307reviewme\u000f * r\u00022128ad4\u000f \u000310\u000f/ lib/http.js \u0002:\u000f Guard against emitting 'end' twice on http responses - http://git.io/80f3ww","date":"2012-05-15T00:22:37.969Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: review?^","date":"2012-05-15T00:22:43.348Z","type":"message"}
{"nick":"isaacs","message":"ohnoes!  console!","date":"2012-05-15T00:22:56.085Z","type":"message"}
{"nick":"isaacs","message":"one sec","date":"2012-05-15T00:22:57.786Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: what does it have to do with console/","date":"2012-05-15T00:23:26.737Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307reviewme\u000f * r\u000214a5b45\u000f \u000310\u000f/ lib/http.js \u0002:\u000f Guard against emitting 'end' twice on http responses - http://git.io/5pJZ0A","date":"2012-05-15T00:23:31.328Z","type":"message"}
{"nick":"isaacs","message":"ok, this one","date":"2012-05-15T00:23:34.652Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i left a console.error in there.","date":"2012-05-15T00:23:41.701Z","type":"message"}
{"nick":"piscisaureus_","message":"ah:_)","date":"2012-05-15T00:23:54.112Z","type":"message"}
{"nick":"piscisaureus_","message":"stupid mac keyboard","date":"2012-05-15T00:24:04.429Z","type":"message"}
{"nick":"isaacs","message":"er, even worse, console.trace","date":"2012-05-15T00:24:04.961Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I cannot possibly disagree","date":"2012-05-15T00:24:24.931Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but is that like really needed?","date":"2012-05-15T00:24:32.339Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it is, on linux, in the test-http-response-no-headers","date":"2012-05-15T00:24:47.611Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: or is that just to hide some other error in there?","date":"2012-05-15T00:24:48.986Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: dude, 90% of that file is just hiding errors in the other 10%","date":"2012-05-15T00:25:02.197Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: why do you think i'm so hot to rewrite it?","date":"2012-05-15T00:25:13.589Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-05-15T00:25:20.085Z","type":"message"}
{"nick":"piscisaureus_","message":"lgtm","date":"2012-05-15T00:25:21.446Z","type":"message"}
{"nick":"isaacs","message":"thanks :)","date":"2012-05-15T00:25:24.366Z","type":"message"}
{"nick":"isaacs","message":"srsly, though, yes, this is clearly a case where we're doing something sloppily.","date":"2012-05-15T00:25:37.028Z","type":"message"}
{"nick":"isaacs","message":"but the \"correct\" fix is too costly at the moment.","date":"2012-05-15T00:25:53.664Z","type":"message"}
{"nick":"piscisaureus_","message":"so you know what the correct fix would be","date":"2012-05-15T00:26:03.373Z","type":"message"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-05-15T00:26:09.251Z","type":"quit"}
{"nick":"piscisaureus_","message":"or did you mean \"thrash the whole thing and start over\" ?","date":"2012-05-15T00:26:16.078Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i mean thrash.","date":"2012-05-15T00:26:24.325Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but specifically, the parser/socket/request/response connections need to be all cleaned up at once.","date":"2012-05-15T00:26:41.726Z","type":"message"}
{"nick":"piscisaureus_","message":"do you have a sort of high level design in mind that will make it much cleaner btw?","date":"2012-05-15T00:26:46.323Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i do.","date":"2012-05-15T00:26:54.958Z","type":"message"}
{"nick":"piscisaureus_","message":"that helps :-)","date":"2012-05-15T00:27:01.090Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it's not going to happen in time for v0.8, of course.","date":"2012-05-15T00:27:05.486Z","type":"message"}
{"nick":"piscisaureus_","message":"sure, I know","date":"2012-05-15T00:27:11.996Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: but we need to design it with keepalives, socket pooling, and proxying in mind.","date":"2012-05-15T00:27:33.060Z","type":"message"}
{"nick":"piscisaureus_","message":"but I am sort of confident that once you know how it should be done and your fingers are itching","date":"2012-05-15T00:27:38.685Z","type":"message"}
{"nick":"piscisaureus_","message":"... you generally understand the problem space and it is actually possible to create something nice","date":"2012-05-15T00:27:59.209Z","type":"message"}
{"nick":"isaacs","message":"i have a drawing of it on my whiteboard at home.","date":"2012-05-15T00:28:02.649Z","type":"message"}
{"nick":"piscisaureus_","message":"nice","date":"2012-05-15T00:28:35.912Z","type":"message"}
{"nick":"isaacs","message":"it's probably mostly fictional, but that's how whiteboard drawings are.  they're just a place to start.","date":"2012-05-15T00:28:53.519Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u000214a5b45\u000f \u000310\u000f/ lib/http.js \u0002:\u000f Guard against emitting 'end' twice on http responses - http://git.io/5pJZ0A","date":"2012-05-15T00:29:20.790Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u00028068f9b\u000f \u000310\u000f/ Makefile \u0002:\u000f Escape leading # signs in 'make email.md' - http://git.io/jMRLpw","date":"2012-05-15T00:30:34.217Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.18-release\u000f * r\u00024bc1d39\u000f \u000310\u000f/ (ChangeLog src/node_version.h)\u0002:\u000f 2012.05.15 Version 0.6.18 (stable) - http://git.io/iX_qCA","date":"2012-05-15T00:30:51.265Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: first i wanna see just how bad it'd actually be to have the http parser in js.  we could throw away the FreeList stuff and benefit from V8's magic more.","date":"2012-05-15T00:34:18.838Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 272 seconds","date":"2012-05-15T00:34:22.670Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: sure, go ahead","date":"2012-05-15T00:36:21.219Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: we can also refactor the c parser to have a nicer interface","date":"2012-05-15T00:36:32.967Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. one that doesn't use callbacks :-)","date":"2012-05-15T00:36:42.506Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2012-05-15T00:39:58.948Z","type":"message"}
{"nick":"isaacs","message":"though... i do kinda like that interface.","date":"2012-05-15T00:40:23.946Z","type":"message"}
{"nick":"isaacs","message":"it's sort of like sax-js","date":"2012-05-15T00:40:28.451Z","type":"message"}
{"nick":"isaacs","message":"but getting rid of that FreeList abomination would prevent tons of memory leaks we've had.","date":"2012-05-15T00:40:48.903Z","type":"message"}
{"nick":"isaacs","message":"and, at least in theory, make our object trees less complicated, and easier to GC","date":"2012-05-15T00:41:09.373Z","type":"message"}
{"nick":"isaacs","message":"since we wouldn't be mixing old and new generations so much","date":"2012-05-15T00:41:17.274Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: once you upgrade to node-gyp 0.4.2 there's a --nodedir option","date":"2012-05-15T00:42:05.751Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: which we should use for the gc tests in node","date":"2012-05-15T00:42:17.312Z","type":"message"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-05-15T00:43:51.142Z","type":"quit"}
{"nick":"AvianFlu","message":"isaacs, the test passes now with those changes","date":"2012-05-15T00:43:55.921Z","type":"message"}
{"nick":"isaacs","message":"sweet!","date":"2012-05-15T00:44:04.900Z","type":"message"}
{"nick":"isaacs","message":"still building on my puny linux vm","date":"2012-05-15T00:44:10.111Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 248 seconds","date":"2012-05-15T00:54:20.436Z","type":"quit"}
{"nick":"isaacs","message":"passes here, too","date":"2012-05-15T00:55:41.020Z","type":"message"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-05-15T00:55:57.412Z","type":"quit"}
{"nick":"piscisaureus_","message":"Hmm. there's a not so nice race condition in uv_process_close","date":"2012-05-15T01:02:31.512Z","type":"message"}
{"nick":"piscisaureus_","message":"which is not trivial to fix","date":"2012-05-15T01:02:36.308Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-05-15T01:07:48.623Z","type":"quit"}
{"nick":"loladiro","date":"2012-05-15T01:11:04.668Z","type":"join"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-15T01:18:44.182Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-05-15T01:20:53.714Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-05-15T01:32:37.941Z","type":"quit"}
{"nick":"piscisaureus_","message":"[% 100|+ 101|-  39]: Done.","date":"2012-05-15T01:46:05.592Z","type":"message"}
{"nick":"elijah-mbp","reason":"Remote host closed the connection","date":"2012-05-15T01:59:00.048Z","type":"quit"}
{"nick":"piscisaureus_","message":"[% 100|+ 112|-  28]: Done.","date":"2012-05-15T02:08:49.407Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm, not quite there yet","date":"2012-05-15T02:08:54.430Z","type":"message"}
{"nick":"abraxas","date":"2012-05-15T02:10:39.275Z","type":"join"}
{"nick":"elijah-mbp","date":"2012-05-15T02:31:55.907Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-05-15T02:32:49.014Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T02:36:58.022Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T02:45:44.007Z","type":"join"}
{"nick":"piscisaureus_","message":"yay","date":"2012-05-15T02:49:19.281Z","type":"message"}
{"nick":"piscisaureus_","message":"[% 100|+ 134|-   6]","date":"2012-05-15T02:49:21.679Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u00028ff8c5a\u000f \u000310\u000f/ (29 files in 4 dirs)\u0002:\u000f Refcount refactor almost done (+13 more commits...) - http://git.io/Q3Sjkw","date":"2012-05-15T03:02:16.108Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T03:02:52.900Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#273 (refcount - 8ff8c5a : Bert Belder): The build failed.","date":"2012-05-15T03:02:53.106Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/b4dcd4a^...8ff8c5a","date":"2012-05-15T03:02:53.106Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1332830","date":"2012-05-15T03:02:53.106Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T03:02:53.106Z","type":"part"}
{"nick":"piscisaureus_","message":"ircretary: tell bnoordhuis https://github.com/joyent/libuv/commits/refcount <-- almost done, but 4 difficult failures left","date":"2012-05-15T03:07:42.499Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell bnoordhuis","date":"2012-05-15T03:07:42.980Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-15T03:08:39.643Z","type":"quit"}
{"nick":"perezd","date":"2012-05-15T03:14:17.800Z","type":"join"}
{"nick":"ira","reason":"Quit: Computer has gone to sleep.","date":"2012-05-15T03:29:38.585Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-15T03:41:45.637Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-05-15T03:51:28.104Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T04:05:18.907Z","type":"join"}
{"nick":"AvianFlu","reason":"Ping timeout: 240 seconds","date":"2012-05-15T04:25:47.143Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-05-15T04:38:28.516Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-05-15T05:07:37.494Z","type":"quit"}
{"nick":"einaros","reason":"Ping timeout: 240 seconds","date":"2012-05-15T05:19:47.123Z","type":"quit"}
{"nick":"einaros","date":"2012-05-15T05:20:17.190Z","type":"join"}
{"nick":"paddybyers","date":"2012-05-15T05:35:47.713Z","type":"join"}
{"nick":"abraxas_","date":"2012-05-15T05:49:43.330Z","type":"join"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2012-05-15T05:51:08.220Z","type":"quit"}
{"nick":"pfox__","reason":"Ping timeout: 260 seconds","date":"2012-05-15T06:31:34.620Z","type":"quit"}
{"nick":"pfox__","date":"2012-05-15T06:32:18.256Z","type":"join"}
{"nick":"abraxas","date":"2012-05-15T06:33:48.860Z","type":"join"}
{"nick":"abraxas_","reason":"Read error: No route to host","date":"2012-05-15T06:35:07.201Z","type":"quit"}
{"nick":"paddybyers_","date":"2012-05-15T06:47:24.681Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 272 seconds","date":"2012-05-15T06:50:34.677Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2012-05-15T06:50:34.894Z","type":"nick"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-05-15T06:59:20.544Z","type":"quit"}
{"nick":"abraxas","date":"2012-05-15T06:59:52.835Z","type":"join"}
{"nick":"rendar","date":"2012-05-15T07:28:48.125Z","type":"join"}
{"nick":"felixge","date":"2012-05-15T07:50:08.293Z","type":"join"}
{"nick":"felixge","reason":"Ping timeout: 245 seconds","date":"2012-05-15T08:04:08.096Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T08:28:10.315Z","type":"join"}
{"nick":"felixge","date":"2012-05-15T08:45:45.879Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-05-15T08:45:46.079Z","type":"quit"}
{"nick":"felixge","date":"2012-05-15T08:45:46.079Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 245 seconds","date":"2012-05-15T09:27:46.650Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T09:29:20.028Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 272 seconds","date":"2012-05-15T09:46:00.689Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T09:54:32.362Z","type":"join"}
{"nick":"mmalecki_","date":"2012-05-15T10:24:45.433Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 272 seconds","date":"2012-05-15T10:28:26.660Z","type":"quit"}
{"nick":"mmalecki_","reason":"Quit: Reconnecting","date":"2012-05-15T10:30:14.680Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T10:30:32.391Z","type":"join"}
{"nick":"janjongboom","date":"2012-05-15T10:30:50.654Z","type":"join"}
{"nick":"janjongboom","message":"morning","date":"2012-05-15T10:30:59.465Z","type":"message"}
{"nick":"janjongboom","message":"is there a way to get the global node_modules folder from node? so: '/usr/local/lib/node_modules/' on default OSX systems","date":"2012-05-15T10:31:18.407Z","type":"message"}
{"nick":"mmalecki","message":"janjongboom: this is not a good place for such questions, try #node.js","date":"2012-05-15T10:31:57.261Z","type":"message"}
{"nick":"mmalecki","message":"`process.execPath` might help tho","date":"2012-05-15T10:32:35.266Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-05-15T10:37:58.311Z","type":"join"}
{"nick":"mmalecki","message":"!gh joyent/node@78dc13fbf97e2e3003e6f3baacdd5ff60e8de3f7","date":"2012-05-15T10:41:22.771Z","type":"message"}
{"nick":"mmalecki","message":"kohai, where you at?","date":"2012-05-15T10:41:30.020Z","type":"message"}
{"nick":"mmalecki","message":"anyway, 78dc13fbf97e2e3003e6f3baacdd5ff60e8de3f7 looks weird to me, it actually changes the listeners array","date":"2012-05-15T10:41:48.175Z","type":"message"}
{"nick":"mmalecki","message":"on the other hand, it's actually reasonable.","date":"2012-05-15T10:52:20.143Z","type":"message"}
{"nick":"piscisaureus_","message":"janjongboom: require('module').globalPaths","date":"2012-05-15T11:06:05.497Z","type":"message"}
{"nick":"janjongboom","reason":"Quit: janjongboom","date":"2012-05-15T11:06:39.324Z","type":"quit"}
{"nick":"felixge_","date":"2012-05-15T11:08:31.732Z","type":"join"}
{"nick":"felixge","reason":"Read error: Connection reset by peer","date":"2012-05-15T11:08:31.732Z","type":"quit"}
{"nick":"felixge_","new_nick":"felixge","date":"2012-05-15T11:08:31.932Z","type":"nick"}
{"nick":"felixge","reason":"Changing host","date":"2012-05-15T11:08:31.932Z","type":"quit"}
{"nick":"felixge","date":"2012-05-15T11:08:31.932Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-05-15T11:08:51.766Z","type":"quit"}
{"nick":"abraxas","date":"2012-05-15T11:09:37.583Z","type":"join"}
{"nick":"mmalecki_","date":"2012-05-15T11:10:38.195Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 244 seconds","date":"2012-05-15T11:13:42.771Z","type":"quit"}
{"nick":"abraxas","reason":"Ping timeout: 252 seconds","date":"2012-05-15T11:14:03.177Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-05-15T11:21:18.260Z","type":"join"}
{"nick":"mmalecki_","reason":"Quit: Reconnecting","date":"2012-05-15T11:23:15.686Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T11:23:31.312Z","type":"join"}
{"nick":"felixge","reason":"Ping timeout: 256 seconds","date":"2012-05-15T11:36:46.339Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 256 seconds","date":"2012-05-15T11:38:28.340Z","type":"quit"}
{"nick":"ira","date":"2012-05-15T11:41:16.867Z","type":"join"}
{"nick":"ira","reason":"Changing host","date":"2012-05-15T11:41:17.126Z","type":"quit"}
{"nick":"ira","date":"2012-05-15T11:41:17.326Z","type":"join"}
{"nick":"ira","reason":"Client Quit","date":"2012-05-15T11:43:46.642Z","type":"quit"}
{"nick":"ira","date":"2012-05-15T11:43:53.400Z","type":"join"}
{"nick":"ira","reason":"Changing host","date":"2012-05-15T11:44:05.584Z","type":"quit"}
{"nick":"ira","date":"2012-05-15T11:44:05.780Z","type":"join"}
{"nick":"felixge","date":"2012-05-15T11:54:47.045Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-05-15T11:54:47.045Z","type":"quit"}
{"nick":"felixge","date":"2012-05-15T11:54:47.046Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 249 seconds","date":"2012-05-15T12:06:48.931Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T12:08:31.583Z","type":"join"}
{"nick":"c4milo","date":"2012-05-15T12:16:58.505Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-05-15T12:19:06.367Z","type":"join"}
{"nick":"avsej","reason":"Excess Flood","date":"2012-05-15T12:20:45.051Z","type":"quit"}
{"nick":"avsej","date":"2012-05-15T12:20:50.702Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey can you merge the latest v0.6 into accept-backoff","date":"2012-05-15T12:21:13.092Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then I will help zef get the thing working","date":"2012-05-15T12:21:22.449Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, alright, I maxed out my mock db finally at ~128K/sec","date":"2012-05-15T12:22:22.422Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, I introduced pipelining into the lua client","date":"2012-05-15T12:22:39.148Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-05-15T12:22:48.588Z","type":"message"}
{"nick":"creationix","message":"and skipped JSON parsing","date":"2012-05-15T12:22:58.585Z","type":"message"}
{"nick":"piscisaureus_","message":"so I suppose that's enough?","date":"2012-05-15T12:22:58.921Z","type":"message"}
{"nick":"creationix","message":"my yajl parser is really slow for some reason","date":"2012-05-15T12:23:06.081Z","type":"message"}
{"nick":"creationix","message":"well, I'm trying to make a benchmark tool for measuring things like node.native ","date":"2012-05-15T12:23:31.683Z","type":"message"}
{"nick":"creationix","message":"I want to add threading to the server","date":"2012-05-15T12:23:40.799Z","type":"message"}
{"nick":"creationix","message":"the mock server should never be the bottleneck in this benchmark","date":"2012-05-15T12:23:51.353Z","type":"message"}
{"nick":"creationix","message":"should I just use pthreads and create a loop each?","date":"2012-05-15T12:24:06.775Z","type":"message"}
{"nick":"creationix","message":"this is raw C + libuv","date":"2012-05-15T12:24:11.752Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: ah so you want to start multiple threads to do connections?","date":"2012-05-15T12:25:39.325Z","type":"message"}
{"nick":"creationix","message":"or should I use the write2 trick and spawn n child processes?","date":"2012-05-15T12:25:39.897Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: I would just go for one loop","date":"2012-05-15T12:25:52.307Z","type":"message"}
{"nick":"creationix","message":"no, my tcp server is CPU bound, I want to use more cores","date":"2012-05-15T12:25:53.944Z","type":"message"}
{"nick":"piscisaureus_","message":"per thread","date":"2012-05-15T12:25:54.940Z","type":"message"}
{"nick":"piscisaureus_","message":"makes it easier to aggregate r/s etc","date":"2012-05-15T12:26:14.963Z","type":"message"}
{"nick":"creationix","message":"ok, so I've never done much threading in C.  Should I read up on pthread create or something?","date":"2012-05-15T12:26:48.858Z","type":"message"}
{"nick":"piscisaureus_","message":"using libuv/master","date":"2012-05-15T12:26:58.876Z","type":"message"}
{"nick":"piscisaureus_","message":"there's uv_thread_create etc","date":"2012-05-15T12:27:03.443Z","type":"message"}
{"nick":"piscisaureus_","message":"and mutexes","date":"2012-05-15T12:27:06.084Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-05-15T12:27:08.142Z","type":"message"}
{"nick":"creationix","message":"nice","date":"2012-05-15T12:27:14.587Z","type":"message"}
{"nick":"piscisaureus_","message":"but reading up on pthreads is recommended too","date":"2012-05-15T12:27:16.501Z","type":"message"}
{"nick":"piscisaureus_","message":"threads are not that hard","date":"2012-05-15T12:27:28.195Z","type":"message"}
{"nick":"creationix","message":"I did it 12 years ago when I learned C++ in school ","date":"2012-05-15T12:27:31.959Z","type":"message"}
{"nick":"creationix","message":"never used it since","date":"2012-05-15T12:27:35.409Z","type":"message"}
{"nick":"piscisaureus_","message":"making your program work well with threads is hard :-)","date":"2012-05-15T12:27:41.328Z","type":"message"}
{"nick":"creationix","message":"that I know","date":"2012-05-15T12:27:46.510Z","type":"message"}
{"nick":"creationix","message":"but this should be simple enough","date":"2012-05-15T12:27:52.983Z","type":"message"}
{"nick":"creationix","message":"I'd much rather fight \"callback hell\" than manage threading issues","date":"2012-05-15T12:28:06.193Z","type":"message"}
{"nick":"deoxxa","message":"i just want to say that libuv has made my life infinitely easier in the last week or so","date":"2012-05-15T12:28:15.401Z","type":"message"}
{"nick":"deoxxa","action":"hugs everyone","date":"2012-05-15T12:28:19.258Z","type":"action"}
{"nick":"creationix","message":"piscisaureus_, indeed, libuv almost tempts me to write web servers in C","date":"2012-05-15T12:28:34.801Z","type":"message"}
{"nick":"creationix","message":"except string manip sucks in C","date":"2012-05-15T12:28:42.296Z","type":"message"}
{"nick":"piscisaureus_","message":":-p","date":"2012-05-15T12:28:47.355Z","type":"message"}
{"nick":"creationix","message":"and web dev has lots of that","date":"2012-05-15T12:28:48.864Z","type":"message"}
{"nick":"piscisaureus_","message":"yep","date":"2012-05-15T12:28:49.083Z","type":"message"}
{"nick":"piscisaureus_","message":"I think doing the cluster thing with raw libuv is also not that easy","date":"2012-05-15T12:28:58.371Z","type":"message"}
{"nick":"creationix","message":"ok, I'll pull latest libuv and read uv.h","date":"2012-05-15T12:29:11.280Z","type":"message"}
{"nick":"creationix","message":"thanks :)","date":"2012-05-15T12:29:12.683Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: btw, we're almost done with the refcount refactor","date":"2012-05-15T12:29:27.280Z","type":"message"}
{"nick":"deoxxa","message":"piscisaureus_: what does that affect?","date":"2012-05-15T12:29:43.985Z","type":"message"}
{"nick":"creationix","message":"awesome, I need to tidy up my luv* projects for nodeconf","date":"2012-05-15T12:29:54.672Z","type":"message"}
{"nick":"piscisaureus_","message":"ghe","date":"2012-05-15T12:30:03.206Z","type":"message"}
{"nick":"deoxxa","message":"i.e. should i be holding off on a release of the software i'm writing with libuv until it's done?","date":"2012-05-15T12:30:09.511Z","type":"message"}
{"nick":"creationix","message":"deoxxa, it makes managing the lifespan of uv_handle_t instances easier ","date":"2012-05-15T12:30:40.922Z","type":"message"}
{"nick":"creationix","message":"and makes the logic for holding the event loop open saner","date":"2012-05-15T12:30:48.396Z","type":"message"}
{"nick":"creationix","message":"deoxxa, what kind of software?","date":"2012-05-15T12:31:00.271Z","type":"message"}
{"nick":"deoxxa","message":"some internal software where i work","date":"2012-05-15T12:31:11.277Z","type":"message"}
{"nick":"deoxxa","message":"the kind of thing where once i release a build, i have to wait 2 weeks for it to be tested","date":"2012-05-15T12:31:22.168Z","type":"message"}
{"nick":"creationix","message":"deoxxa, C/C++ or bound to some scripting language?","date":"2012-05-15T12:31:36.911Z","type":"message"}
{"nick":"deoxxa","message":"plain old c","date":"2012-05-15T12:31:43.294Z","type":"message"}
{"nick":"loladiro","date":"2012-05-15T12:31:52.721Z","type":"join"}
{"nick":"deoxxa","message":"it runs on these little arm devices","date":"2012-05-15T12:31:56.517Z","type":"message"}
{"nick":"creationix","message":"I think it's less impactful in that case, piscisaureus_ would know more","date":"2012-05-15T12:32:08.897Z","type":"message"}
{"nick":"creationix","message":"I'm developing three different scripting language bindings to libuv in parallel","date":"2012-05-15T12:32:20.331Z","type":"message"}
{"nick":"deoxxa","message":"ah ok, cool","date":"2012-05-15T12:32:32.624Z","type":"message"}
{"nick":"creationix","message":"syncing lifetime of the structs with vm objects is hard currently","date":"2012-05-15T12:32:33.673Z","type":"message"}
{"nick":"deoxxa","message":"yeah i'm manually creating/destroying things","date":"2012-05-15T12:32:47.347Z","type":"message"}
{"nick":"creationix","message":"libuv on arm devices, that sounds like lots of fun!","date":"2012-05-15T12:32:57.926Z","type":"message"}
{"nick":"deoxxa","message":"yeah it's pretty cool actually :3","date":"2012-05-15T12:33:07.955Z","type":"message"}
{"nick":"creationix","message":"also, if you're into C++, node.native is pretty cool","date":"2012-05-15T12:33:20.486Z","type":"message"}
{"nick":"deoxxa","message":"i have noticed a very small (constant) memory leak of a few hundred bytes that seems to happen somewhere inside pthread","date":"2012-05-15T12:33:24.064Z","type":"message"}
{"nick":"creationix","message":"what does valgrind tell you?","date":"2012-05-15T12:33:36.054Z","type":"message"}
{"nick":"piscisaureus_","message":"deoxxa: the loop will exit when the only other option is to hang forever, instead of hanging forever :-)","date":"2012-05-15T12:33:40.545Z","type":"message"}
{"nick":"deoxxa","message":"exactly that, that there's a few hundred bytes lost somewhere inside pthread","date":"2012-05-15T12:33:59.232Z","type":"message"}
{"nick":"piscisaureus_","message":"deoxxa: also uv_ref and uv_unref will now operate on a handle and be idempotent","date":"2012-05-15T12:34:00.965Z","type":"message"}
{"nick":"deoxxa","message":"i haven't dug too far into it","date":"2012-05-15T12:34:08.517Z","type":"message"}
{"nick":"deoxxa","message":"piscisaureus_: ah ok, cool","date":"2012-05-15T12:34:14.300Z","type":"message"}
{"nick":"creationix","message":"I find libuv pretty stable, but I usually only stress test tcp servers","date":"2012-05-15T12:34:21.335Z","type":"message"}
{"nick":"creationix","message":"stable memory-wise","date":"2012-05-15T12:34:29.913Z","type":"message"}
{"nick":"deoxxa","message":"yeah there's no horrible memory leaks or anything that i've found so far","date":"2012-05-15T12:34:46.745Z","type":"message"}
{"nick":"deoxxa","message":"i'll gather all my findings into some kind of bug report if they're still valid when i'm done","date":"2012-05-15T12:35:08.075Z","type":"message"}
{"nick":"deoxxa","message":"(i'm probably just doing it wrong)","date":"2012-05-15T12:35:12.897Z","type":"message"}
{"nick":"creationix","message":"deoxxa, by \"constant\" you mean it doesn't grow over time?","date":"2012-05-15T12:35:56.450Z","type":"message"}
{"nick":"deoxxa","message":"correct","date":"2012-05-15T12:36:00.896Z","type":"message"}
{"nick":"creationix","message":"in that case, I have seen that occasionally, but usually don't care","date":"2012-05-15T12:36:06.310Z","type":"message"}
{"nick":"deoxxa","message":"yeah, exactly","date":"2012-05-15T12:36:12.174Z","type":"message"}
{"nick":"creationix","message":"the vm itself adds a few megs usually","date":"2012-05-15T12:36:12.903Z","type":"message"}
{"nick":"deoxxa","message":"heh","date":"2012-05-15T12:36:20.061Z","type":"message"}
{"nick":"deoxxa","message":"no vm for me :P","date":"2012-05-15T12:36:20.261Z","type":"message"}
{"nick":"deoxxa","message":"and i'm stuck with about 500kb worth of ram to play with :(","date":"2012-05-15T12:36:31.704Z","type":"message"}
{"nick":"creationix","message":"wow, that is lean","date":"2012-05-15T12:36:43.216Z","type":"message"}
{"nick":"deoxxa","message":"yep","date":"2012-05-15T12:36:49.130Z","type":"message"}
{"nick":"creationix","message":"my pure C tcp server runs around 700Kb","date":"2012-05-15T12:36:51.151Z","type":"message"}
{"nick":"deoxxa","message":"these boxes have 4MB of memory total","date":"2012-05-15T12:36:57.024Z","type":"message"}
{"nick":"deoxxa","message":"wait, no, that's not right","date":"2012-05-15T12:37:16.917Z","type":"message"}
{"nick":"deoxxa","message":"something small, can't remember the number off the top of my head","date":"2012-05-15T12:37:27.129Z","type":"message"}
{"nick":"deoxxa","message":"but it's tricky","date":"2012-05-15T12:37:29.551Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, is there an example of using uv_thread_create anywhere?","date":"2012-05-15T12:40:35.199Z","type":"message"}
{"nick":"creationix","message":"I've use uv_work before, but this looks much lower level","date":"2012-05-15T12:40:49.269Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: nah it's not","date":"2012-05-15T12:41:02.556Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: but there's no example I think","date":"2012-05-15T12:41:12.038Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: it is easy to use tho:","date":"2012-05-15T12:41:24.095Z","type":"message"}
{"nick":"creationix","message":"so I want N threads accepting inbound connections?","date":"2012-05-15T12:41:59.278Z","type":"message"}
{"nick":"creationix","message":"or one thread accepting, then pass client to the worker pool?","date":"2012-05-15T12:42:10.000Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: hmm, I think option (b) is more difficult to implement","date":"2012-05-15T12:42:35.047Z","type":"message"}
{"nick":"creationix","message":"that's fine, I like A better","date":"2012-05-15T12:42:43.555Z","type":"message"}
{"nick":"mattstevens","date":"2012-05-15T12:43:10.369Z","type":"join"}
{"nick":"creationix","message":"so I just call uv_listen N times then?","date":"2012-05-15T12:43:32.528Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: you can create a thread with","date":"2012-05-15T12:43:59.402Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_thread_t tid;","date":"2012-05-15T12:43:59.601Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_thread_create(&tid, callback, some_void_pointer_that_gets_passed_to_the_calback)","date":"2012-05-15T12:43:59.602Z","type":"message"}
{"nick":"piscisaureus_","message":"void callback(void* arg) {","date":"2012-05-15T12:43:59.602Z","type":"message"}
{"nick":"piscisaureus_","message":"  // This runs in the thread;","date":"2012-05-15T12:43:59.602Z","type":"message"}
{"nick":"piscisaureus_","message":"  ...","date":"2012-05-15T12:44:00.212Z","type":"message"}
{"nick":"piscisaureus_","message":"  // To exit the thread, just return;","date":"2012-05-15T12:44:00.383Z","type":"message"}
{"nick":"piscisaureus_","message":"}","date":"2012-05-15T12:44:01.170Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: to wait for a thread to exit you use","date":"2012-05-15T12:44:23.654Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_thread_join(tid)","date":"2012-05-15T12:44:23.852Z","type":"message"}
{"nick":"piscisaureus_","message":"(from another thread)","date":"2012-05-15T12:44:34.494Z","type":"message"}
{"nick":"creationix","message":"ok, so I'll need to create the uv_loop_t inside that function","date":"2012-05-15T12:44:46.052Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-05-15T12:44:54.955Z","type":"message"}
{"nick":"piscisaureus_","message":"that would be advisable","date":"2012-05-15T12:44:59.467Z","type":"message"}
{"nick":"creationix","message":"but the uv_tcp_bind would be in the main thread before this?","date":"2012-05-15T12:45:10.283Z","type":"message"}
{"nick":"creationix","message":"so I guess I'd pass in the uv_tcp_t* of the server as my void* data?","date":"2012-05-15T12:45:26.632Z","type":"message"}
{"nick":"piscisaureus_","message":"oh hmm you need to share the socket, right","date":"2012-05-15T12:45:30.262Z","type":"message"}
{"nick":"piscisaureus_","message":"that's hairy","date":"2012-05-15T12:45:39.309Z","type":"message"}
{"nick":"piscisaureus_","message":"wait","date":"2012-05-15T12:45:42.584Z","type":"message"}
{"nick":"piscisaureus_","message":"you were writing a client, right?","date":"2012-05-15T12:45:55.030Z","type":"message"}
{"nick":"creationix","message":"no, server","date":"2012-05-15T12:45:58.655Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-05-15T12:46:02.321Z","type":"message"}
{"nick":"piscisaureus_","message":"argh","date":"2012-05-15T12:46:05.073Z","type":"message"}
{"nick":"creationix","message":"people implementing/using this benchmark will write the client","date":"2012-05-15T12:46:14.527Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/node/compare/v0.6...accept-backoff","date":"2012-05-15T12:46:22.171Z","type":"message"}
{"nick":"creationix","message":"I just don't want the server to ever be a bottleneck","date":"2012-05-15T12:46:32.097Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: that's more hairy, the only way we can do it right now is by using write2","date":"2012-05-15T12:47:29.387Z","type":"message"}
{"nick":"piscisaureus_","message":"which is kinda unfortunate for a threaded program","date":"2012-05-15T12:47:36.316Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: I have to run, so we'll talk later","date":"2012-05-15T12:47:45.759Z","type":"message"}
{"nick":"mmalecki","message":"was `process.installPrefix` removed?","date":"2012-05-15T12:47:48.530Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I dropped it here -> https://github.com/ajaxorg/node/commits/balance","date":"2012-05-15T12:48:04.684Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: c9 just needs a binary now for the proxy","date":"2012-05-15T12:48:22.091Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, no problem, thanks","date":"2012-05-15T12:49:27.204Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: both your murmur3 PRs mostly lgtm.","date":"2012-05-15T12:55:08.954Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: #5 -> path can be NULL at some point when it isn't supposed to","date":"2012-05-15T12:55:29.573Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: #3 -> minor \"typo\", %s should be replaces by %ls at one point","date":"2012-05-15T12:56:06.160Z","type":"message"}
{"nick":"piscisaureus_","message":"really gotta run now, bbl","date":"2012-05-15T12:57:12.575Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm not sure about #3, need to do a little more research","date":"2012-05-15T12:57:15.067Z","type":"message"}
{"nick":"bnoordhuis","message":"heh, okay","date":"2012-05-15T12:57:18.262Z","type":"message"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-05-15T13:03:57.809Z","type":"quit"}
{"nick":"felixge","reason":"Ping timeout: 244 seconds","date":"2012-05-15T13:05:11.927Z","type":"quit"}
{"nick":"felixge","date":"2012-05-15T13:12:18.919Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-05-15T13:12:19.129Z","type":"quit"}
{"nick":"felixge","date":"2012-05-15T13:12:19.329Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2012-05-15T13:35:35.167Z","type":"quit"}
{"nick":"Aria","date":"2012-05-15T14:23:49.657Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-05-15T15:01:42.858Z","type":"join"}
{"nick":"bnoordhuis","message":"any objections against merging https://github.com/bnoordhuis/node/compare/joyent:master...issue3180 ?","date":"2012-05-15T15:03:23.025Z","type":"message"}
{"nick":"isaacs","date":"2012-05-15T15:06:50.385Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: no, but...","date":"2012-05-15T15:12:27.477Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: the handle that shows up for timers and setIntervals is not that useful","date":"2012-05-15T15:12:50.324Z","type":"message"}
{"nick":"creationix","message":"Anyone want to submit a node implementation of my benchmark challenge? https://github.com/creationix/bench-suite","date":"2012-05-15T15:12:54.366Z","type":"message"}
{"nick":"creationix","message":"or a pure C libuv version?","date":"2012-05-15T15:13:01.306Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but I guess we should follow the release early, release often schedule","date":"2012-05-15T15:13:09.626Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes. :) there's no real solution for timers, i'm afraid","date":"2012-05-15T15:14:08.937Z","type":"message"}
{"nick":"bnoordhuis","message":"well, not without adding a lot of overhead and complexity","date":"2012-05-15T15:14:17.097Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: maybe we should just drop that linked list bs","date":"2012-05-15T15:14:35.782Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I doubt it makes any difference","date":"2012-05-15T15:14:44.044Z","type":"message"}
{"nick":"piscisaureus_","message":"but if it does we could do it in c","date":"2012-05-15T15:14:47.820Z","type":"message"}
{"nick":"piscisaureus_","message":"er, c++","date":"2012-05-15T15:14:50.757Z","type":"message"}
{"nick":"deoxxa","message":"creationix: looks interesting","date":"2012-05-15T15:14:54.086Z","type":"message"}
{"nick":"bnoordhuis","message":"you mean the timer linked list?","date":"2012-05-15T15:14:56.290Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-05-15T15:14:59.873Z","type":"message"}
{"nick":"bnoordhuis","message":"right. we'll have to benchmark it but i agree, i kind of doubt it makes a noticeable difference","date":"2012-05-15T15:15:27.220Z","type":"message"}
{"nick":"creationix","message":"It showed that luvit is way faster than node at network stuff, but sucks at json parsing","date":"2012-05-15T15:15:28.233Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if we could stick the setTimeout callback right on the handle object people could actually see which function is getting called","date":"2012-05-15T15:15:49.416Z","type":"message"}
{"nick":"creationix","message":"deoxxa, which was good for me to see, I thought yajl was super fast","date":"2012-05-15T15:15:55.983Z","type":"message"}
{"nick":"deoxxa","message":"very interesting","date":"2012-05-15T15:16:16.991Z","type":"message"}
{"nick":"deoxxa","message":"i've always used picojson myself, i'm not sure how fast it is","date":"2012-05-15T15:16:31.628Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: quite so","date":"2012-05-15T15:16:37.073Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, just stick it on directly for the first listener, then upgrade to something fancier if they add another?","date":"2012-05-15T15:16:39.353Z","type":"message"}
{"nick":"piscisaureus_","message":"that also works","date":"2012-05-15T15:16:52.021Z","type":"message"}
{"nick":"piscisaureus_","message":"doing the linked list in c or in libuv even would also work :-)","date":"2012-05-15T15:17:06.369Z","type":"message"}
{"nick":"creationix","message":"deoxxa, well, I wanted streaming parsing, there is less choice there","date":"2012-05-15T15:17:39.831Z","type":"message"}
{"nick":"creationix","message":"but most people use non-streaming in practice, so I should probably include a fast path for that","date":"2012-05-15T15:17:58.893Z","type":"message"}
{"nick":"bnoordhuis","message":"7524 unread notifications....","date":"2012-05-15T15:18:10.249Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://gist.github.com/d730c35e35b309beb1bb <- minor tweak that might be useful, returns the handle's socket etc. if there is one","date":"2012-05-15T15:18:45.781Z","type":"message"}
{"nick":"bnoordhuis","message":"useful yes/no? i believe some people raised concerns about that","date":"2012-05-15T15:19:04.517Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: that was you, wasn't it?","date":"2012-05-15T15:19:15.220Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok","date":"2012-05-15T15:19:19.143Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: typically when I have problems with timers then they are not connected to any socket","date":"2012-05-15T15:19:45.040Z","type":"message"}
{"nick":"piscisaureus_","message":"but I guess it's useful for debugging node itself","date":"2012-05-15T15:19:54.802Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh, it's not that. without that patch you get a list of handle objects, with said patch a list of socket / tty / etc. objects","date":"2012-05-15T15:20:28.458Z","type":"message"}
{"nick":"bnoordhuis","message":"the exception being timers, of course :)","date":"2012-05-15T15:20:38.461Z","type":"message"}
{"nick":"piscisaureus_","message":"aah","date":"2012-05-15T15:20:43.523Z","type":"message"}
{"nick":"piscisaureus_","message":"ok, that's useful :_)","date":"2012-05-15T15:20:46.750Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: lgtm","date":"2012-05-15T15:21:27.895Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2012-05-15T15:21:32.001Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: want to chime in? 30 seconds left till merge","date":"2012-05-15T15:21:39.108Z","type":"message"}
{"nick":"deoxxa","message":"does uv_fs_read call cb more than once? i.e. is it like uv_read_start?","date":"2012-05-15T15:22:09.946Z","type":"message"}
{"nick":"piscisaureus_","message":"creationix: https://github.com/v8/v8/blob/master/src/json-parser.h <-- I guess you could just port that to lua :-)","date":"2012-05-15T15:22:36.899Z","type":"message"}
{"nick":"creationix","message":"would it be faster though?","date":"2012-05-15T15:23:00.624Z","type":"message"}
{"nick":"creationix","message":"lua's C interface is pretty low overhead","date":"2012-05-15T15:23:09.674Z","type":"message"}
{"nick":"piscisaureus_","message":"well, I suppose","date":"2012-05-15T15:23:16.233Z","type":"message"}
{"nick":"piscisaureus_","message":"in c would also work","date":"2012-05-15T15:23:22.621Z","type":"message"}
{"nick":"piscisaureus_","message":"we should port it to node","date":"2012-05-15T15:23:31.406Z","type":"message"}
{"nick":"piscisaureus_","message":"change it to take buffers and work in streaming mode","date":"2012-05-15T15:23:40.750Z","type":"message"}
{"nick":"creationix","message":"I wrote a streaming JSON parser in JS that's half the speed of V8's JSON.parse","date":"2012-05-15T15:23:55.797Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: stream=speed fail","date":"2012-05-15T15:24:03.288Z","type":"message"}
{"nick":"piscisaureus_","message":"does it take buffers?","date":"2012-05-15T15:24:08.220Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: why?","date":"2012-05-15T15:24:11.844Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, yep","date":"2012-05-15T15:24:15.623Z","type":"message"}
{"nick":"creationix","message":"indutny, piscisaureus_ all the callbacks","date":"2012-05-15T15:24:21.748Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: because you'll need to hop to js and from js","date":"2012-05-15T15:24:22.573Z","type":"message"}
{"nick":"creationix","message":"indutny, well, not if it's written in js","date":"2012-05-15T15:24:37.347Z","type":"message"}
{"nick":"creationix","message":"but still, it's a lot of js function calls from js too","date":"2012-05-15T15:24:45.195Z","type":"message"}
{"nick":"indutny","message":"creationix: indeed, but piscisaureus_ proposed to port","date":"2012-05-15T15:24:56.127Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: sure but now we have to convert the buffers to strings, and then flatten the string","date":"2012-05-15T15:24:56.835Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: that is also a speed fail right?","date":"2012-05-15T15:25:09.198Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-05-15T15:25:15.616Z","type":"quit"}
{"nick":"creationix","message":"true","date":"2012-05-15T15:25:19.537Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yeah, it is. I suggest implementing it without streams","date":"2012-05-15T15:25:25.090Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: though if streams won't affect performance of JSON.parse(Buffer)","date":"2012-05-15T15:25:38.146Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I'm totally ok with it","date":"2012-05-15T15:25:52.631Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well it could just be stream-agnostic....","date":"2012-05-15T15:25:57.533Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: if you pass in a buffer that holds an entire json string then there would be no overhead","date":"2012-05-15T15:26:18.266Z","type":"message"}
{"nick":"creationix","message":"indutny, I'm not saying a full node stream","date":"2012-05-15T15:26:21.059Z","type":"message"}
{"nick":"piscisaureus_","message":"and otherwise the parser is just interruptible","date":"2012-05-15T15:26:25.588Z","type":"message"}
{"nick":"creationix","message":"indutny, but a sax interface","date":"2012-05-15T15:26:26.172Z","type":"message"}
{"nick":"piscisaureus_","message":"it could just be like crypto","date":"2012-05-15T15:26:38.910Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: may be made it async?","date":"2012-05-15T15:26:43.891Z","type":"message"}
{"nick":"creationix","message":"it's not that expensive is it?  The async thread syncing isn't free either","date":"2012-05-15T15:27:05.921Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: oh, that would also be nice for many people I suppose. But that would mean that we would have to create objects off the main thread","date":"2012-05-15T15:27:06.122Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I don't think that's going to play well with v8's heap","date":"2012-05-15T15:27:15.352Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ah... yes","date":"2012-05-15T15:27:21.824Z","type":"message"}
{"nick":"creationix","message":"here is my js version https://gist.github.com/1821419","date":"2012-05-15T15:27:51.330Z","type":"message"}
{"nick":"indutny","message":"creationix: not really yours :P","date":"2012-05-15T15:28:25.191Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-05-15T15:28:29.928Z","type":"message"}
{"nick":"indutny","message":"yours","date":"2012-05-15T15:28:31.044Z","type":"message"}
{"nick":"creationix","message":"oops, wrong link","date":"2012-05-15T15:28:45.020Z","type":"message"}
{"nick":"creationix","message":"but he didn't modify it, so same code","date":"2012-05-15T15:28:57.388Z","type":"message"}
{"nick":"indutny","message":"yep, I see","date":"2012-05-15T15:29:12.683Z","type":"message"}
{"nick":"creationix","message":"direct link: https://gist.github.com/1821394","date":"2012-05-15T15:29:13.789Z","type":"message"}
{"nick":"creationix","message":"though nuno has a nice fast one that's a lot larger","date":"2012-05-15T15:29:37.635Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: how's the stdio work coming along?","date":"2012-05-15T15:31:37.060Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: sorry, but I'm blocked by my day time job","date":"2012-05-15T15:31:55.231Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: haven't worked on it yet","date":"2012-05-15T15:32:00.477Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: hope I'll be able to touch it today","date":"2012-05-15T15:32:05.794Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, coool","date":"2012-05-15T15:32:19.011Z","type":"message"}
{"nick":"bnoordhuis","message":"-o","date":"2012-05-15T15:32:21.761Z","type":"message"}
{"nick":"mmalecki","date":"2012-05-15T15:43:00.054Z","type":"join"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-05-15T15:43:00.916Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: what is this you're merging?","date":"2012-05-15T15:44:58.176Z","type":"message"}
{"nick":"isaacs","message":"anything anyone wants to get into v0.6.18?","date":"2012-05-15T15:49:15.790Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T15:49:25.312Z","type":"quit"}
{"nick":"elijah-mbp","reason":"Remote host closed the connection","date":"2012-05-15T15:51:46.714Z","type":"quit"}
{"nick":"mmalecki","message":"fork({ silent: true }) would make my day ;)","date":"2012-05-15T15:52:46.515Z","type":"message"}
{"nick":"loladiro","date":"2012-05-15T15:53:34.403Z","type":"join"}
{"nick":"isaacs","message":"mmalecki: that's only on master, i thought","date":"2012-05-15T15:53:54.771Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-15T15:53:58.265Z","type":"quit"}
{"nick":"brson","date":"2012-05-15T15:54:01.739Z","type":"join"}
{"nick":"mmalecki","message":"isaacs: yeah, exactly ;)","date":"2012-05-15T15:54:14.532Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: we don't add api on stable branches.  be patient, padawan.","date":"2012-05-15T15:54:26.757Z","type":"message"}
{"nick":"indutny","action":"sir_vader","date":"2012-05-15T15:54:45.446Z","type":"action"}
{"nick":"mmalecki","message":"isaacs: well, I HAVE AN OPINION.","date":"2012-05-15T15:54:51.371Z","type":"message"}
{"nick":"indutny","new_nick":"sir_vader","date":"2012-05-15T15:54:57.263Z","type":"nick"}
{"nick":"sir_vader","message":"oops","date":"2012-05-15T15:55:00.669Z","type":"message"}
{"nick":"mmalecki","message":"lol","date":"2012-05-15T15:55:02.158Z","type":"message"}
{"nick":"sir_vader","new_nick":"indutny","date":"2012-05-15T15:56:00.641Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-15T15:56:48.007Z","type":"quit"}
{"nick":"isaacs","message":"indutny: vader was a Lord.","date":"2012-05-15T15:57:47.507Z","type":"message"}
{"nick":"isaacs","message":"indutny: not a mere sir!","date":"2012-05-15T15:57:51.479Z","type":"message"}
{"nick":"isaacs","new_nick":"LordVader","date":"2012-05-15T15:57:57.339Z","type":"nick"}
{"nick":"LordVader","new_nick":"isaacs","date":"2012-05-15T15:58:06.414Z","type":"nick"}
{"nick":"mikeal","date":"2012-05-15T16:00:40.848Z","type":"join"}
{"nick":"paddybyers","date":"2012-05-15T16:05:15.185Z","type":"join"}
{"nick":"ljackson","reason":"*.net *.split","date":"2012-05-15T16:08:08.299Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T16:10:59.990Z","type":"join"}
{"nick":"ljackson","date":"2012-05-15T16:13:32.264Z","type":"join"}
{"nick":"orlandovftw","date":"2012-05-15T16:14:47.037Z","type":"join"}
{"nick":"rendar","date":"2012-05-15T16:17:25.342Z","type":"quit"}
{"nick":"rendar","date":"2012-05-15T16:19:14.283Z","type":"join"}
{"nick":"creationix","message":"heh, we watched Episode 3 just last night","date":"2012-05-15T16:24:54.911Z","type":"message"}
{"nick":"creationix","message":"my wife had never seen any star wars","date":"2012-05-15T16:25:02.762Z","type":"message"}
{"nick":"dap","date":"2012-05-15T16:26:12.458Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-15T16:26:22.443Z","type":"quit"}
{"nick":"elijah-mbp","date":"2012-05-15T16:26:42.134Z","type":"join"}
{"nick":"dap","reason":"Remote host closed the connection","date":"2012-05-15T16:29:00.598Z","type":"quit"}
{"nick":"dap","date":"2012-05-15T16:32:43.080Z","type":"join"}
{"nick":"pietern","date":"2012-05-15T16:33:38.210Z","type":"join"}
{"nick":"mmalecki","new_nick":"mmalecki[brb]","date":"2012-05-15T16:34:17.810Z","type":"nick"}
{"nick":"Aria","date":"2012-05-15T16:34:19.413Z","type":"join"}
{"nick":"c4milo","new_nick":"c4milo|lunch","date":"2012-05-15T16:34:37.108Z","type":"nick"}
{"nick":"c4milo|lunch","reason":"Remote host closed the connection","date":"2012-05-15T16:35:38.840Z","type":"quit"}
{"nick":"mikeal","date":"2012-05-15T16:39:34.090Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-05-15T16:41:53.008Z","type":"quit"}
{"nick":"mattstevens","reason":"Quit: mattstevens","date":"2012-05-15T16:42:51.492Z","type":"quit"}
{"nick":"mikeal","date":"2012-05-15T16:43:09.445Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-05-15T16:48:22.813Z","type":"quit"}
{"nick":"piscisaureus_","message":"\\o/ [% 100|+ 140|-   0]: Done.","date":"2012-05-15T16:51:15.693Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u00027f80678\u000f \u000310\u000f/ (29 files in 4 dirs)\u0002:\u000f Refcount refactor almost done - http://git.io/ksuDvw","date":"2012-05-15T16:52:43.047Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey, you have a minute","date":"2012-05-15T16:53:00.803Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-05-15T16:53:02.489Z","type":"message"}
{"nick":"indutny","message":"creationix: my wife too","date":"2012-05-15T16:53:34.832Z","type":"message"}
{"nick":"creationix","message":"piscisaureus_, :D","date":"2012-05-15T16:53:58.329Z","type":"message"}
{"nick":"perezd","date":"2012-05-15T16:55:26.902Z","type":"join"}
{"nick":"perezd_","date":"2012-05-15T16:55:46.352Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_ ++","date":"2012-05-15T16:58:38.589Z","type":"message"}
{"nick":"piscisaureus_","message":"now we probably have to fix unix again","date":"2012-05-15T16:58:50.469Z","type":"message"}
{"nick":"piscisaureus_","message":":-p","date":"2012-05-15T16:58:54.583Z","type":"message"}
{"nick":"piscisaureus_","message":"lemme check","date":"2012-05-15T16:58:58.484Z","type":"message"}
{"nick":"piscisaureus_","message":"and there's some conceptual issues that I want to discuss with bnoordhuis","date":"2012-05-15T16:59:16.044Z","type":"message"}
{"nick":"isaacs","message":"alright, i'mma push 0.6.18","date":"2012-05-15T16:59:17.861Z","type":"message"}
{"nick":"piscisaureus_","message":"cool","date":"2012-05-15T16:59:22.518Z","type":"message"}
{"nick":"perezd","reason":"Ping timeout: 255 seconds","date":"2012-05-15T17:00:01.772Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-05-15T17:00:02.175Z","type":"nick"}
{"nick":"travis-ci","date":"2012-05-15T17:01:13.659Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#274 (refcount - 7f80678 : Bert Belder): The build is still failing.","date":"2012-05-15T17:01:13.874Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/8ff8c5a...7f80678","date":"2012-05-15T17:01:13.874Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1337722","date":"2012-05-15T17:01:13.874Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T17:01:13.874Z","type":"part"}
{"nick":"orlandovftw","reason":"Ping timeout: 265 seconds","date":"2012-05-15T17:05:13.642Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-05-15T17:05:13.845Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T17:05:49.082Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-05-15T17:05:52.136Z","type":"join"}
{"nick":"erickt_","date":"2012-05-15T17:05:53.076Z","type":"join"}
{"nick":"erickt__","date":"2012-05-15T17:06:38.762Z","type":"join"}
{"nick":"erickt","reason":"Ping timeout: 252 seconds","date":"2012-05-15T17:07:16.210Z","type":"quit"}
{"nick":"erickt__","new_nick":"erickt","date":"2012-05-15T17:07:16.421Z","type":"nick"}
{"nick":"mikeal","reason":"Ping timeout: 256 seconds","date":"2012-05-15T17:08:50.658Z","type":"quit"}
{"nick":"mikeal","date":"2012-05-15T17:09:42.341Z","type":"join"}
{"nick":"erickt_","reason":"Ping timeout: 272 seconds","date":"2012-05-15T17:10:36.667Z","type":"quit"}
{"nick":"erickt","reason":"Read error: Connection reset by peer","date":"2012-05-15T17:11:53.708Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u00024bc1d39\u000f \u000310\u000f/ (ChangeLog src/node_version.h)\u0002:\u000f 2012.05.15 Version 0.6.18 (stable) - http://git.io/iX_qCA","date":"2012-05-15T17:23:04.613Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u00022498d15\u000f \u000310\u000f/ (ChangeLog src/node_version.h)\u0002:\u000f Merge branch 'v0.6.18-release' into v0.6 - http://git.io/Ac-Gkw","date":"2012-05-15T17:23:05.009Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u0002f19f980\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on 0.6.19 - http://git.io/1Tx-Vg","date":"2012-05-15T17:23:05.209Z","type":"message"}
{"nick":"TooTallNate","date":"2012-05-15T17:27:55.939Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2012-05-15T17:41:43.816Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T17:47:21.963Z","type":"join"}
{"nick":"erickt_","date":"2012-05-15T17:49:24.999Z","type":"join"}
{"nick":"felixge","date":"2012-05-15T17:52:25.869Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-05-15T17:52:26.069Z","type":"quit"}
{"nick":"felixge","date":"2012-05-15T17:52:26.069Z","type":"join"}
{"nick":"orlandovftw","date":"2012-05-15T17:52:30.369Z","type":"join"}
{"nick":"erickt","reason":"Ping timeout: 252 seconds","date":"2012-05-15T17:52:37.159Z","type":"quit"}
{"nick":"erickt_","new_nick":"erickt","date":"2012-05-15T17:52:37.759Z","type":"nick"}
{"nick":"brson","date":"2012-05-15T17:58:40.488Z","type":"join"}
{"nick":"c4milo|lunch","date":"2012-05-15T18:04:06.514Z","type":"join"}
{"nick":"igorzi","message":"indutny: hey, what's UV_DUPLEX_PIPE for?","date":"2012-05-15T18:08:10.558Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ^ do you know?","date":"2012-05-15T18:09:04.125Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: umm to indicate whether a pipe should be duplex :-)","date":"2012-05-15T18:09:25.183Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but just ignore for now, always create duplex pipes","date":"2012-05-15T18:09:36.802Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: it's not used anywhere (that's why i'm asking)","date":"2012-05-15T18:09:54.443Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think that on unix pipes are always duplex now (that used to be not the case)","date":"2012-05-15T18:10:16.396Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: for stdin/stdout/stderr, we currently don't create duplex pipes (unless stdin is for ipc)","date":"2012-05-15T18:10:24.669Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: true, so that's what it *could* be for","date":"2012-05-15T18:10:46.634Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: here","date":"2012-05-15T18:10:52.481Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: but we already indicate ipc through uv_pipe_init","date":"2012-05-15T18:11:12.311Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: so, we should probably ignore this on windows (at least for now) ?","date":"2012-05-15T18:11:26.309Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: The new child process thing will allow people to explicitly create duplex pipes for stdio, so we should support it.","date":"2012-05-15T18:11:56.009Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: the downside of write-only pipes is that there is no indication that the other end closed the pipe.","date":"2012-05-15T18:12:43.710Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ok, so before creating a pipe see if UV_DUPLEX_PIPE is set.. if yes create a duplex pipe, if not do what we do today","date":"2012-05-15T18:12:54.271Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yep","date":"2012-05-15T18:13:02.202Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ok, cool","date":"2012-05-15T18:13:08.234Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so can  you skype for a bit with me?","date":"2012-05-15T18:13:40.726Z","type":"message"}
{"nick":"mmalecki[brb]","reason":"Ping timeout: 245 seconds","date":"2012-05-15T18:14:01.656Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: sure","date":"2012-05-15T18:14:23.570Z","type":"message"}
{"nick":"mmalecki[brb]","date":"2012-05-15T18:16:52.222Z","type":"join"}
{"nick":"erickt","reason":"Read error: Operation timed out","date":"2012-05-15T18:30:35.146Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: btw - http://stackoverflow.com/questions/10603860/very-simple-node-js-client-throws-error-enobufs-after-many-http-requests/10604622#10604622 <-- interesting one too. Does that happen on unix as well?","date":"2012-05-15T18:32:06.412Z","type":"message"}
{"nick":"piscisaureus_","message":"oh skype","date":"2012-05-15T18:32:13.143Z","type":"message"}
{"nick":"erickt","date":"2012-05-15T18:32:18.898Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-15T18:39:23.892Z","type":"quit"}
{"nick":"mikeal","date":"2012-05-15T18:45:58.871Z","type":"join"}
{"nick":"loladiro","date":"2012-05-15T18:46:28.761Z","type":"join"}
{"nick":"c4milo|lunch","new_nick":"c4mil","date":"2012-05-15T18:49:22.836Z","type":"nick"}
{"nick":"c4mil","new_nick":"c4milo","date":"2012-05-15T18:49:25.173Z","type":"nick"}
{"nick":"mmalecki[brb]","new_nick":"mmalecki","date":"2012-05-15T19:02:03.157Z","type":"nick"}
{"nick":"mmalecki","reason":"Quit: Reconnecting","date":"2012-05-15T19:02:05.431Z","type":"quit"}
{"nick":"mmalecki","date":"2012-05-15T19:02:21.743Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002e813e34\u000f \u000310\u000f/ src/node.cc \u0002:\u000f node: make _getActiveHandles() return user objects (+8 more commits...) - http://git.io/BWtCGQ","date":"2012-05-15T19:04:01.710Z","type":"message"}
{"nick":"erickt","reason":"Remote host closed the connection","date":"2012-05-15T19:09:43.600Z","type":"quit"}
{"nick":"erickt","date":"2012-05-15T19:09:56.950Z","type":"join"}
{"nick":"mmalecki","message":"isaacs: is https://gist.github.com/da5e26e88317aab2a842 what voxer guys are getting?","date":"2012-05-15T19:13:37.428Z","type":"message"}
{"nick":"tjfontaine","message":"that stack seems quite familiar","date":"2012-05-15T19:13:57.088Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: yes","date":"2012-05-15T19:14:41.377Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: fixed on 0.6.18","date":"2012-05-15T19:14:52.625Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: so, yeah, this is our balancer :). upgrading now.","date":"2012-05-15T19:15:01.678Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-05-15T19:16:43.335Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: nice^","date":"2012-05-15T19:16:50.059Z","type":"message"}
{"nick":"bnoordhuis","message":"thanks :)","date":"2012-05-15T19:16:56.669Z","type":"message"}
{"nick":"isaacs","message":"man, this merge is killing me","date":"2012-05-15T19:17:30.908Z","type":"message"}
{"nick":"isaacs","message":"literally murdering my sanity in the face.","date":"2012-05-15T19:17:38.303Z","type":"message"}
{"nick":"isaacs","action":"will throw a party when we can refactor http.js properly","date":"2012-05-15T19:17:57.158Z","type":"action"}
{"nick":"Aria","message":"Ouch!","date":"2012-05-15T19:18:27.792Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: why not now?","date":"2012-05-15T19:19:06.662Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: because right now we have to finish 0.8, and a proper refactor will take a month or two","date":"2012-05-15T19:19:24.651Z","type":"message"}
{"nick":"isaacs","message":"this is 0.9 stuff.","date":"2012-05-15T19:19:29.651Z","type":"message"}
{"nick":"mmalecki","message":"I see","date":"2012-05-15T19:19:44.540Z","type":"message"}
{"nick":"mmalecki","message":"but I wasn't asking about that.","date":"2012-05-15T19:19:56.296Z","type":"message"}
{"nick":"isaacs","message":"can't do everything all the time.  we have to space these things out somewhat, to keep it from becoming mayhem.","date":"2012-05-15T19:19:56.647Z","type":"message"}
{"nick":"mmalecki","message":"why not throw a party right now?","date":"2012-05-15T19:20:02.314Z","type":"message"}
{"nick":"isaacs","message":"oh, well, the answer to THAT is because i'm busy doing this f*@#(ing merge.","date":"2012-05-15T19:20:16.038Z","type":"message"}
{"nick":"isaacs","message":"even fixing bugs in lib/http.js is super hazardous and awful.","date":"2012-05-15T19:20:41.768Z","type":"message"}
{"nick":"mmalecki","message":"merge-party!","date":"2012-05-15T19:20:45.748Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: question: is it normal that keepalive connections are discarded after the last http request ends?","date":"2012-05-15T19:22:04.735Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T19:22:05.297Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: yes, it's normal, but not ideal.","date":"2012-05-15T19:22:45.249Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, that explains","date":"2012-05-15T19:22:51.625Z","type":"message"}
{"nick":"piscisaureus_","message":"It is the cause of https://github.com/joyent/node/issues/3269","date":"2012-05-15T19:23:07.839Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the request module has a 'forever' mode that uses a different agent implementation to keep alives open forever.","date":"2012-05-15T19:23:13.191Z","type":"message"}
{"nick":"loladiro","date":"2012-05-15T19:24:10.669Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: a better model will be for the agent to manage connections and keep them alive for a set number of ms.","date":"2012-05-15T19:24:12.498Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah ok","date":"2012-05-15T19:24:26.929Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so the cause is known, now I lost interest :-0","date":"2012-05-15T19:24:42.454Z","type":"message"}
{"nick":"isaacs","message":"haha","date":"2012-05-15T19:25:19.935Z","type":"message"}
{"nick":"isaacs","message":"however, if you just make one req, and it finishes, then it'd be surprising if your script doesn't exit.","date":"2012-05-15T19:25:42.373Z","type":"message"}
{"nick":"piscisaureus_","message":"I can only do like 10K http requests per second tho","date":"2012-05-15T19:25:56.692Z","type":"message"}
{"nick":"isaacs","message":"so, the agent should be able to see, if its sockets are the only things keeping the event loop open, then it should die.","date":"2012-05-15T19:25:59.452Z","type":"message"}
{"nick":"piscisaureus_","message":"on windows","date":"2012-05-15T19:25:59.655Z","type":"message"}
{"nick":"piscisaureus_","message":"isn't that a little on the low end?","date":"2012-05-15T19:26:07.028Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: try using the forever.js from request.","date":"2012-05-15T19:26:11.695Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: that agent will never throw away connections.","date":"2012-05-15T19:26:20.180Z","type":"message"}
{"nick":"orlandovftw","reason":"Quit: leaving","date":"2012-05-15T19:26:25.702Z","type":"quit"}
{"nick":"isaacs","message":"it keeps them alive forever.","date":"2012-05-15T19:26:29.186Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: what malloc_create_zone line in v8 profile of node may mean?","date":"2012-05-15T19:26:34.668Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: it eats 97% of time for a https server","date":"2012-05-15T19:27:12.615Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ain't we using stubs?","date":"2012-05-15T19:27:24.773Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: then comes the refcount refactor and we can unref and life becomes much easier","date":"2012-05-15T19:27:46.017Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: oh, so basically, we can say \"don't keep the prog running on my account\"?","date":"2012-05-15T19:28:29.675Z","type":"message"}
{"nick":"isaacs","message":"nice.","date":"2012-05-15T19:28:30.537Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2012-05-15T19:28:37.441Z","type":"message"}
{"nick":"isaacs","message":"yeah, i remember bnoordhuis talking about that.","date":"2012-05-15T19:28:38.472Z","type":"message"}
{"nick":"isaacs","message":"that's really what you want for keepalives.","date":"2012-05-15T19:28:43.822Z","type":"message"}
{"nick":"tjfontaine","message":"ya, it's needed for the dns resolvers as well","date":"2012-05-15T19:28:52.296Z","type":"message"}
{"nick":"isaacs","message":"some max number of sockets per server (browsers do 8, i believe?) and a reasonable timeout, like a minute, and let the program die if they're the only thing open","date":"2012-05-15T19:29:15.320Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: hey, I've got some new stack traces for you","date":"2012-05-15T19:29:38.737Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: it means that something is doing an awful lot of mallocing","date":"2012-05-15T19:29:50.075Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: os x, i take it?","date":"2012-05-15T19:29:56.569Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-15T19:30:30.145Z","type":"quit"}
{"nick":"piscisaureus_","message":"we don't have bindings for ref/unref tho","date":"2012-05-15T19:31:03.480Z","type":"message"}
{"nick":"tjfontaine","message":"soon(tm)","date":"2012-05-15T19:31:12.511Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yes","date":"2012-05-15T19:31:39.135Z","type":"message"}
{"nick":"bnoordhuis","message":"we can reasonably add them now without having to worry about people blowing off their feet","date":"2012-05-15T19:31:43.893Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: no native addons","date":"2012-05-15T19:31:45.352Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: may be `new Buffer(...)`","date":"2012-05-15T19:32:01.815Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ?","date":"2012-05-15T19:32:02.935Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: maybe. openssl allocs a lot too","date":"2012-05-15T19:32:17.016Z","type":"message"}
{"nick":"bnoordhuis","message":"profile it and you'll know","date":"2012-05-15T19:32:20.645Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ahhhh, openssl","date":"2012-05-15T19:32:22.853Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I'll run gprof","date":"2012-05-15T19:32:27.094Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: thanks","date":"2012-05-15T19:32:29.802Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: ok.","date":"2012-05-15T19:32:30.478Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: don't tease me man, just gimme the gist.","date":"2012-05-15T19:32:36.174Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: sec, fighting with vim","date":"2012-05-15T19:33:25.330Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: there you go https://gist.github.com/da5e26e88317aab2a842","date":"2012-05-15T19:33:35.722Z","type":"message"}
{"nick":"AvianFlu","message":"mmalecki, all three on 0.6.18? really?","date":"2012-05-15T19:34:13.117Z","type":"message"}
{"nick":"mmalecki","message":"AvianFlu: 0.6.17","date":"2012-05-15T19:34:26.441Z","type":"message"}
{"nick":"AvianFlu","message":"oh.","date":"2012-05-15T19:34:37.359Z","type":"message"}
{"nick":"mmalecki","message":"AvianFlu: I didn't upgrade all of them yet, will do in a sec","date":"2012-05-15T19:34:40.443Z","type":"message"}
{"nick":"AvianFlu","message":"I was scared-er.","date":"2012-05-15T19:34:43.906Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T19:34:44.552Z","type":"quit"}
{"nick":"mmalecki","message":"AvianFlu: I'd be running and screaming if it was 0.6.18","date":"2012-05-15T19:34:51.155Z","type":"message"}
{"nick":"mikeal","date":"2012-05-15T19:36:47.000Z","type":"join"}
{"nick":"isaacs","message":"mmalecki: dude, 0.6.17 is super old.","date":"2012-05-15T19:37:29.058Z","type":"message"}
{"nick":"AvianFlu","message":"hahahaha","date":"2012-05-15T19:37:33.712Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: why are you still running that?","date":"2012-05-15T19:37:34.236Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: because 0.6.18 didn't compile on LBs yet :p","date":"2012-05-15T19:39:11.428Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: btw something else. My GCC doesn't like the inline keyword in c code either","date":"2012-05-15T19:39:33.377Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: did that actually work for you?","date":"2012-05-15T19:39:43.429Z","type":"message"}
{"nick":"piscisaureus_","message":"gcc version 4.6.1 (Ubuntu/Linaro 4.6.1-9ubuntu3)","date":"2012-05-15T19:40:08.792Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what's it complaining about?","date":"2012-05-15T19:40:58.761Z","type":"message"}
{"nick":"bnoordhuis","message":"are you compiling with -ansi or -std=c89?","date":"2012-05-15T19:41:10.170Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-05-15T19:41:17.325Z","type":"message"}
{"nick":"piscisaureus_","message":"src/uv-common.h:111:8: error: expected =, ,, ;, asm or __attribute__ before static","date":"2012-05-15T19:41:17.526Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am compiling with \"make\" :-)","date":"2012-05-15T19:41:23.795Z","type":"message"}
{"nick":"piscisaureus_","message":"that is probably with -std=c89","date":"2012-05-15T19:41:35.736Z","type":"message"}
{"nick":"tjfontaine","message":"make is the best compiler evar","date":"2012-05-15T19:42:19.957Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: gcc 4.7 is not complaining","date":"2012-05-15T19:42:29.106Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: CSTDFLAG=--std=c89 -pedantic -Wall -Wextra -Wno-unused-parameter","date":"2012-05-15T19:42:48.947Z","type":"message"}
{"nick":"bnoordhuis","message":"yes. i ran `make CC=$HOME/opt/gcc/bin/gcc`","date":"2012-05-15T19:43:01.621Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if I use  __attribute__((always_inline)) it works","date":"2012-05-15T19:44:22.499Z","type":"message"}
{"nick":"piscisaureus_","message":"gyp is also party","date":"2012-05-15T19:45:24.996Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you might as well remove the inline keywords, those functions are static anyway","date":"2012-05-15T19:45:39.733Z","type":"message"}
{"nick":"piscisaureus_","message":"core: src/unix/core.c src/unix/linux/core.c","date":"2012-05-15T19:45:45.085Z","type":"message"}
{"nick":"piscisaureus_","message":"Some build systems, e.g. MSVC08, cannot handle that.","date":"2012-05-15T19:45:45.282Z","type":"message"}
{"nick":"piscisaureus_","message":"<<stacktrace>>","date":"2012-05-15T19:45:45.282Z","type":"message"}
{"nick":"piscisaureus_","message":"KeyError: 'Duplicate basenames in sources section, see list above'","date":"2012-05-15T19:45:45.282Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah, I will add __attribute__((unused)) then","date":"2012-05-15T19:45:57.331Z","type":"message"}
{"nick":"piscisaureus_","message":"otherwise gcc starts berating me","date":"2012-05-15T19:46:03.894Z","type":"message"}
{"nick":"felixge_","date":"2012-05-15T19:47:48.905Z","type":"join"}
{"nick":"felixge_","reason":"Changing host","date":"2012-05-15T19:47:49.105Z","type":"quit"}
{"nick":"felixge_","date":"2012-05-15T19:47:49.105Z","type":"join"}
{"nick":"isaacs","message":"man, i'm just going to have to re-do that http.js cleanup in master that i did in v0.6.  there's no way to figure this out.","date":"2012-05-15T19:50:31.221Z","type":"message"}
{"nick":"isaacs","message":"every connect/upgrade test is failing otherwise.","date":"2012-05-15T19:50:52.643Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002966dd24\u000f \u000310\u000f/ (4 files)\u0002:\u000f Replace uv__req_unref by uv__req_unregister - http://git.io/0ITpTQ","date":"2012-05-15T19:51:02.251Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002c616958\u000f \u000310\u000f/ config-unix.mk \u0002:\u000f Unix: make `make` work - http://git.io/AK3jaw","date":"2012-05-15T19:51:02.449Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u000297948e6\u000f \u000310\u000f/ src/uv-common.h \u0002:\u000f Unix: avoid unused function warnings - http://git.io/SZA-OQ","date":"2012-05-15T19:51:02.649Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u000214fd32b\u000f \u000310\u000f/ src/unix/poll.c \u0002:\u000f Unix: refactor uv_poll refcount handling - http://git.io/i_UXvw","date":"2012-05-15T19:51:03.049Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u000228a422b\u000f \u000310\u000f/ src/uv-common.h \u0002:\u000f uv-common.h: mark static functions unused, don't use `inline` - http://git.io/3VmsDQ","date":"2012-05-15T19:51:03.249Z","type":"message"}
{"nick":"felixge","reason":"Ping timeout: 245 seconds","date":"2012-05-15T19:51:31.705Z","type":"quit"}
{"nick":"felixge_","new_nick":"felixge","date":"2012-05-15T19:51:31.910Z","type":"nick"}
{"nick":"mmalecki","message":"ok, all our balancers are on 0.6.18 now, we'll ping you if we see any crashes","date":"2012-05-15T19:51:37.247Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: did you enable the backdoor in this release?","date":"2012-05-15T19:52:11.136Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: dude, i snuck the backdoor into node 0.2","date":"2012-05-15T19:52:37.713Z","type":"message"}
{"nick":"mmalecki","message":"lib/_this_really_isnt_a_backdoor.js?","date":"2012-05-15T19:52:49.762Z","type":"message"}
{"nick":"piscisaureus_","message":"too bad they found the size_ backdoor","date":"2012-05-15T19:53:02.372Z","type":"message"}
{"nick":"piscisaureus_","message":"only 5 left or so","date":"2012-05-15T19:53:08.360Z","type":"message"}
{"nick":"loladiro","date":"2012-05-15T19:58:00.688Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: you mean 12","date":"2012-05-15T19:58:49.526Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i mean.. there were 5 i told you about","date":"2012-05-15T19:58:57.289Z","type":"message"}
{"nick":"isaacs","message":"you haven't found the others?","date":"2012-05-15T19:59:01.445Z","type":"message"}
{"nick":"mmalecki","message":"hey, hold up, indutny added some for us too","date":"2012-05-15T19:59:45.192Z","type":"message"}
{"nick":"indutny","message":"mmalecki: sup?","date":"2012-05-15T19:59:57.543Z","type":"message"}
{"nick":"mmalecki","message":"indutny: these core exploits you added, how many were there?","date":"2012-05-15T20:00:13.905Z","type":"message"}
{"nick":"indutny","message":"ah, some","date":"2012-05-15T20:00:34.375Z","type":"message"}
{"nick":"indutny","message":"mmalecki: you mean that exploit that allow to take control of all servers running node.jsy","date":"2012-05-15T20:04:59.453Z","type":"message"}
{"nick":"mmalecki","message":"indutny: yeah, exactly the one","date":"2012-05-15T20:05:21.130Z","type":"message"}
{"nick":"mmalecki","message":"indutny: but I recall there were like 4 or 5 others","date":"2012-05-15T20:05:30.094Z","type":"message"}
{"nick":"indutny","message":"mmalecki: yep, I added that backdoor to debugger","date":"2012-05-15T20:06:16.564Z","type":"message"}
{"nick":"mmalecki","message":"indutny: oh, the one where you can remotely initiate a debug session and steal all the data?","date":"2012-05-15T20:07:17.103Z","type":"message"}
{"nick":"indutny","message":"mmalecki: someone should stop this","date":"2012-05-15T20:08:23.270Z","type":"message"}
{"nick":"indutny","message":"kick mmalecki ","date":"2012-05-15T20:08:59.482Z","type":"message"}
{"nick":"mmalecki","message":"lol","date":"2012-05-15T20:09:11.002Z","type":"message"}
{"nick":"piscisaureus_","message":"stealing data?","date":"2012-05-15T20:11:19.931Z","type":"message"}
{"nick":"piscisaureus_","message":"lame","date":"2012-05-15T20:11:34.504Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I hope noone is reading channel logs","date":"2012-05-15T20:11:53.974Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2012-05-15T20:11:59.120Z","type":"message"}
{"nick":"isaacs","topic":"j/k","date":"2012-05-15T20:12:02.914Z","type":"topic"}
{"nick":"piscisaureus_","message":"the better backdoor allows you to spread high frequency sounds that turn all the cats into aggressive infectuous undead","date":"2012-05-15T20:12:19.143Z","type":"message"}
{"nick":"indutny","message":"**undead cats**","date":"2012-05-15T20:12:35.139Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh YOU'RE the one that landed that?","date":"2012-05-15T20:12:36.097Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it took me WEEKS to calm my cats down.","date":"2012-05-15T20:12:44.275Z","type":"message"}
{"nick":"isaacs","message":"they still only eat brains.","date":"2012-05-15T20:12:48.762Z","type":"message"}
{"nick":"isaacs","message":"bastard","date":"2012-05-15T20:13:02.754Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah sorry I didn't mean to affect your cats","date":"2012-05-15T20:13:18.527Z","type":"message"}
{"nick":"piscisaureus_","message":"rather pquerna's","date":"2012-05-15T20:13:23.387Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-15T20:13:39.983Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00029ae6d8f\u000f \u000310\u000f/ (lib/http.js test/simple/test-http-client-pipe-end.js)\u0002:\u000f http: fix client request.end() EPIPE race - http://git.io/gORI6Q","date":"2012-05-15T20:13:48.825Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: I thought it activates only if you hit /index.php page on node's server","date":"2012-05-15T20:14:01.273Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah let's rename that to index.cfm","date":"2012-05-15T20:14:42.368Z","type":"message"}
{"nick":"indutny","message":"and change port to 1935","date":"2012-05-15T20:15:36.247Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/node/issues/3269#issuecomment-5726312","date":"2012-05-15T20:25:00.887Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: is STATUS_TOO_MANY_ADDRESSES mapped to WSAEADDRNOTAVAIL ?","date":"2012-05-15T20:25:39.376Z","type":"message"}
{"nick":"piscisaureus_","message":"er, ENOBUFS","date":"2012-05-15T20:25:47.327Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-05-15T20:25:49.054Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-05-15T20:25:49.921Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-05-15T20:25:55.444Z","type":"message"}
{"nick":"piscisaureus_","message":"it's not that simple","date":"2012-05-15T20:26:12.896Z","type":"message"}
{"nick":"mikeal","date":"2012-05-15T20:28:55.821Z","type":"join"}
{"nick":"bnoordhuis","message":"tjfontaine: https://github.com/joyent/node/pull/3132 <- are you still interested in getting that landed?","date":"2012-05-15T20:32:43.194Z","type":"message"}
{"nick":"indutny","message":"time to sleep","date":"2012-05-15T20:41:26.065Z","type":"message"}
{"nick":"indutny","message":"good night everyone","date":"2012-05-15T20:41:33.993Z","type":"message"}
{"nick":"indutny","message":"have a nice day SF","date":"2012-05-15T20:41:46.038Z","type":"message"}
{"nick":"indutny","message":"will implement stdio thing tomorrow","date":"2012-05-15T20:41:56.597Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: what about gouda?","date":"2012-05-15T20:41:57.240Z","type":"message"}
{"nick":"indutny","message":"love you guys","date":"2012-05-15T20:41:59.701Z","type":"message"}
{"nick":"bnoordhuis","message":"good :)","date":"2012-05-15T20:42:04.081Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, fedor","date":"2012-05-15T20:42:14.119Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u000208c5580\u000f \u000310\u000f/ src/win/handle.c \u0002:\u000f Windows: use UV__ACTIVE to determine return value of uv_is_active - http://git.io/mzbPwg","date":"2012-05-15T20:42:49.385Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002312ca35\u000f \u000310\u000f/ (src/uv-common.h src/win/internal.h)\u0002:\u000f Windows: make uv-common.h independent from internal.h - http://git.io/XLnpHA","date":"2012-05-15T20:47:50.539Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-15T20:50:51.980Z","type":"quit"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u00020b7868b\u000f \u000310\u000f/ src/win/handle.c \u0002:\u000f Windows: use UV__ACTIVE to determine return value of uv_is_active - http://git.io/9m7JRw","date":"2012-05-15T20:51:02.067Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002dd4878c\u000f \u000310\u000f/ (src/uv-common.h src/win/internal.h)\u0002:\u000f Windows: make uv-common.h independent from internal.h - http://git.io/N36dng","date":"2012-05-15T20:51:03.326Z","type":"message"}
{"nick":"perezd","date":"2012-05-15T20:51:37.191Z","type":"join"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Sadique Ali\u000f \u000307master\u000f * r\u0002c9676c9\u000f \u000310\u000f/ configure \u0002:\u000f build: improve c compiler detection - http://git.io/awDlSQ","date":"2012-05-15T20:52:40.664Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u000223f6b99\u000f \u000310\u000f/ src/uv-common.c \u0002:\u000f uv-common.c: remove terrible hack - http://git.io/JcAYtw","date":"2012-05-15T20:58:15.720Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002b07c783\u000f \u000310\u000f/ include/uv-private/uv-win.h \u0002:\u000f uv-win.h: style - http://git.io/h9kudw","date":"2012-05-15T20:58:16.120Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002aeaa465\u000f \u000310\u000f/ uv.gyp \u0002:\u000f uv.gyp: add ngx-queue.h and tree.h to shared sources list - http://git.io/TIXO9A","date":"2012-05-15T20:58:16.320Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/compare/master...refcount","date":"2012-05-15T20:58:35.628Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: when you feel like it :-)","date":"2012-05-15T20:58:41.101Z","type":"message"}
{"nick":"piscisaureus_","message":"(review)","date":"2012-05-15T20:58:49.772Z","type":"message"}
{"nick":"piscisaureus_","message":"It's unfortunate that libuv no longer compiles with gyp trunk","date":"2012-05-15T21:00:08.370Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307refcount\u000f * r\u0002ad02404\u000f \u000310\u000f/ test/runner.c \u0002:\u000f test: prevent accidental division by zero - http://git.io/XtzCwQ","date":"2012-05-15T21:02:48.534Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u00026257bba\u000f \u000310\u000f/ test/runner.c \u0002:\u000f Merge branch 'master' into refcount - http://git.io/2E8BhA","date":"2012-05-15T21:02:48.967Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:03:55.061Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#275 (refcount - 28a422b : Bert Belder): The build is still failing.","date":"2012-05-15T21:03:55.258Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/7f80678...28a422b","date":"2012-05-15T21:03:55.259Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1339197","date":"2012-05-15T21:03:55.259Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:03:55.259Z","type":"part"}
{"nick":"bnoordhuis","message":"piscisaureus_: why not?","date":"2012-05-15T21:05:19.615Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://gist.github.com/2705131","date":"2012-05-15T21:05:53.764Z","type":"message"}
{"nick":"bnoordhuis","message":"grr, gyp","date":"2012-05-15T21:06:27.308Z","type":"message"}
{"nick":"piscisaureus_","message":"http://travis-ci.org/#!/joyent/libuv/builds/1339197","date":"2012-05-15T21:06:27.511Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- not looking good","date":"2012-05-15T21:06:32.253Z","type":"message"}
{"nick":"bnoordhuis","message":"syncing with master is going to be a pita","date":"2012-05-15T21:12:00.856Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: syncing with what?","date":"2012-05-15T21:12:15.331Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I merged master in twice","date":"2012-05-15T21:12:25.159Z","type":"message"}
{"nick":"piscisaureus_","message":"so it shouldn't be that hard","date":"2012-05-15T21:12:31.367Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: try `git rebase origin/master`","date":"2012-05-15T21:13:10.877Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh, let's not rebase","date":"2012-05-15T21:13:19.058Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I will flatten my commits and your commits can be flattened too","date":"2012-05-15T21:13:38.166Z","type":"message"}
{"nick":"piscisaureus_","message":"but let's keep the intermediate merge","date":"2012-05-15T21:13:44.196Z","type":"message"}
{"nick":"bnoordhuis","message":"okay","date":"2012-05-15T21:13:49.137Z","type":"message"}
{"nick":"bnoordhuis","message":"[% 100|+ 135|-   1]: Done. <- \\o/","date":"2012-05-15T21:15:35.305Z","type":"message"}
{"nick":"isaacs","message":"are you guys merging stuff into master?","date":"2012-05-15T21:16:08.870Z","type":"message"}
{"nick":"isaacs","message":"er, still landing stuff on node/master i mean","date":"2012-05-15T21:16:16.310Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: libuv","date":"2012-05-15T21:16:22.855Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:16:33.373Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#276 (refcount - 08c5580 : Bert Belder): The build is still failing.","date":"2012-05-15T21:16:33.575Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/28a422b...08c5580","date":"2012-05-15T21:16:33.575Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1339737","date":"2012-05-15T21:16:33.576Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:16:33.576Z","type":"part"}
{"nick":"isaacs","message":"kk","date":"2012-05-15T21:16:39.921Z","type":"message"}
{"nick":"isaacs","message":"i'm about to land merge-v0.6","date":"2012-05-15T21:16:44.922Z","type":"message"}
{"nick":"isaacs","message":"lots of http.js shifting around","date":"2012-05-15T21:17:15.071Z","type":"message"}
{"nick":"isaacs","message":"been kind of rough","date":"2012-05-15T21:17:17.313Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:17:24.146Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#277 (refcount - 312ca35 : Bert Belder): The build is still failing.","date":"2012-05-15T21:17:24.346Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/08c5580...312ca35","date":"2012-05-15T21:17:24.347Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1339785","date":"2012-05-15T21:17:24.347Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:17:24.347Z","type":"part"}
{"nick":"travis-ci","date":"2012-05-15T21:19:12.190Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#278 (refcount - dd4878c : Bert Belder): The build is still failing.","date":"2012-05-15T21:19:12.389Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/312ca35...dd4878c","date":"2012-05-15T21:19:12.389Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1339802","date":"2012-05-15T21:19:12.389Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:19:12.389Z","type":"part"}
{"nick":"travis-ci","date":"2012-05-15T21:20:17.431Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#279 (refcount - aeaa465 : Bert Belder): The build is still failing.","date":"2012-05-15T21:20:17.630Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/dd4878c...aeaa465","date":"2012-05-15T21:20:17.630Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1339844","date":"2012-05-15T21:20:17.630Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:20:17.630Z","type":"part"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/compare/refcount#L15R24 <- why do you need to include uv-common.h here? internal.h already pulls it in","date":"2012-05-15T21:20:55.995Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: does it?","date":"2012-05-15T21:21:21.178Z","type":"message"}
{"nick":"bnoordhuis","message":"it does","date":"2012-05-15T21:21:43.150Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: oh that was because I had to do some hackery","date":"2012-05-15T21:21:48.659Z","type":"message"}
{"nick":"piscisaureus_","message":"but I reverted that later","date":"2012-05-15T21:21:52.136Z","type":"message"}
{"nick":"piscisaureus_","message":"I can remove those","date":"2012-05-15T21:21:54.171Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, i'll remove it","date":"2012-05-15T21:21:58.349Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I can do sed-fu too :-p","date":"2012-05-15T21:22:26.382Z","type":"message"}
{"nick":"bnoordhuis","message":"you know how it is","date":"2012-05-15T21:23:06.354Z","type":"message"}
{"nick":"bnoordhuis","message":"if you want it done right, you've got to do it yourself","date":"2012-05-15T21:23:14.804Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u0002643f00d\u000f \u000310\u000f/ (28 files in 6 dirs)\u0002:\u000f Merge branch 'master' into v0.6-merge (+34 more commits...) - http://git.io/k4_xOA","date":"2012-05-15T21:23:31.022Z","type":"message"}
{"nick":"bnoordhuis","message":"a twss moment, that","date":"2012-05-15T21:23:31.225Z","type":"message"}
{"nick":"isaacs","action":"whew","date":"2012-05-15T21:23:54.999Z","type":"action"}
{"nick":"travis-ci","date":"2012-05-15T21:24:36.189Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#280 (refcount - 6257bba : Bert Belder): The build is still failing.","date":"2012-05-15T21:24:36.386Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/aeaa465...6257bba","date":"2012-05-15T21:24:36.386Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1339893","date":"2012-05-15T21:24:36.386Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:24:36.386Z","type":"part"}
{"nick":"isaacs","message":"this is lib/http.js: http://i.imgur.com/wGUTG.gif","date":"2012-05-15T21:26:05.906Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/compare/refcount#L24R45 <- nasty!","date":"2012-05-15T21:27:35.238Z","type":"message"}
{"nick":"bnoordhuis","message":"we should fix that eventually","date":"2012-05-15T21:27:43.689Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I agree, but I didn't know how :-(","date":"2012-05-15T21:27:54.946Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: not without doing something super invasive anyway","date":"2012-05-15T21:28:19.442Z","type":"message"}
{"nick":"piscisaureus_","message":"i'd rather fix this after the merge","date":"2012-05-15T21:28:24.791Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, silly kitty is silly","date":"2012-05-15T21:28:30.941Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, it doesn't have to be done right now","date":"2012-05-15T21:28:38.174Z","type":"message"}
{"nick":"bnoordhuis","message":"but it should go sometime soon :)","date":"2012-05-15T21:28:47.149Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: we can scrap the UV_LEAN_AND_MEAN stuff afaic","date":"2012-05-15T21:31:26.700Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hmm, internal.h doesn't pull in uv-common.h","date":"2012-05-15T21:32:15.588Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 245 seconds","date":"2012-05-15T21:32:21.647Z","type":"quit"}
{"nick":"bnoordhuis","message":"does too!","date":"2012-05-15T21:32:30.286Z","type":"message"}
{"nick":"bnoordhuis","message":"that's src/unix/internal.h btw","date":"2012-05-15T21:32:51.314Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u00027cf5154\u000f \u000310\u000f/ (25 files)\u0002:\u000f Windows: pull in uv-common.h from internal.h - http://git.io/9Z7-cA","date":"2012-05-15T21:33:26.741Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- bnoordhuis: there ya go","date":"2012-05-15T21:33:30.440Z","type":"message"}
{"nick":"rendar","date":"2012-05-15T21:34:35.854Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: https://github.com/joyent/libuv/blob/refcount/src/win/internal.h#L44 <-- ziet er ook niet uit :-(","date":"2012-05-15T21:34:48.770Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307refcount\u000f * r\u00026e65c79\u000f \u000310\u000f/ src/unix/poll.c \u0002:\u000f unix: remove unnecessary #include - http://git.io/cJS_Eg","date":"2012-05-15T21:35:01.092Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/compare/refcount#L33R61 <- maybe add a comment here explaining why it works like that","date":"2012-05-15T21:37:22.536Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that link doesn't work form e","date":"2012-05-15T21:37:58.446Z","type":"message"}
{"nick":"piscisaureus_","message":"'s/m / m/'","date":"2012-05-15T21:38:19.333Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: return (handle->flags & UV__ACTIVE) && !(handle->flags & UV_HANDLE_CLOSING);","date":"2012-05-15T21:38:19.534Z","type":"message"}
{"nick":"bnoordhuis","message":"that's from uv_is_active in src/win/handle.c","date":"2012-05-15T21:38:45.187Z","type":"message"}
{"nick":"piscisaureus_","message":"ik","date":"2012-05-15T21:38:54.359Z","type":"message"}
{"nick":"bnoordhuis","message":"jij","date":"2012-05-15T21:39:03.271Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hmm, I realize that there is a conceptual flaw in this code","date":"2012-05-15T21:41:30.349Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: a closing handle that has a pending user req should be considered active but this will make it inactive. */","date":"2012-05-15T21:42:00.056Z","type":"message"}
{"nick":"piscisaureus_","message":"*sigh*","date":"2012-05-15T21:42:02.803Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:43:12.001Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#281 (refcount - 7cf5154 : Bert Belder): The build is still failing.","date":"2012-05-15T21:43:12.202Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/6257bba...7cf5154","date":"2012-05-15T21:43:12.202Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1340180","date":"2012-05-15T21:43:12.202Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:43:12.202Z","type":"part"}
{"nick":"travis-ci","date":"2012-05-15T21:43:58.205Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#282 (refcount - 6e65c79 : Ben Noordhuis): The build is still failing.","date":"2012-05-15T21:43:58.402Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/7cf5154...6e65c79","date":"2012-05-15T21:43:58.403Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1340190","date":"2012-05-15T21:43:58.403Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:43:58.403Z","type":"part"}
{"nick":"brson","date":"2012-05-15T21:44:13.182Z","type":"join"}
{"nick":"piscisaureus_","message":"apparently we have no tests that stress this","date":"2012-05-15T21:44:15.448Z","type":"message"}
{"nick":"piscisaureus_","message":"which makes sense because the rule of the thumb is \"don't touch closing handles\"","date":"2012-05-15T21:44:32.550Z","type":"message"}
{"nick":"bnoordhuis","message":"easy to add one for this particular case, though","date":"2012-05-15T21:45:19.963Z","type":"message"}
{"nick":"piscisaureus_","message":"I know","date":"2012-05-15T21:45:31.418Z","type":"message"}
{"nick":"piscisaureus_","message":"but this one is not easy to fix","date":"2012-05-15T21:45:35.571Z","type":"message"}
{"nick":"piscisaureus_","message":"I would have to shed code sharing","date":"2012-05-15T21:45:41.474Z","type":"message"}
{"nick":"piscisaureus_","message":"or make uv-common understand UV__CLOSING","date":"2012-05-15T21:45:55.502Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00029cf047e\u000f \u000310\u000f/ src/win/internal.h \u0002:\u000f Windows: remove stray semicolons from internal.h (+26 more commits...) - http://git.io/7mLrbg","date":"2012-05-15T21:46:46.469Z","type":"message"}
{"nick":"piscisaureus_","message":"shit","date":"2012-05-15T21:46:55.673Z","type":"message"}
{"nick":"piscisaureus_","message":"pushed to the wrong branch","date":"2012-05-15T21:46:59.637Z","type":"message"}
{"nick":"bnoordhuis","message":"i feel a force-push coming up :)","date":"2012-05-15T21:47:19.123Z","type":"message"}
{"nick":"creationix","action":"disables cron auto-pull script","date":"2012-05-15T21:47:37.568Z","type":"action"}
{"nick":"piscisaureus_","message":"done","date":"2012-05-15T21:47:50.231Z","type":"message"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u000260b5c73\u000f \u000310\u000f/ src/win/internal.h \u0002:\u000f Windows: remove stray semicolons from internal.h - http://git.io/3JCtyg","date":"2012-05-15T21:48:32.048Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:48:47.173Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#283 (master - 9cf047e : Bert Belder): The build is still failing.","date":"2012-05-15T21:48:47.379Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/ad02404...9cf047e","date":"2012-05-15T21:48:47.379Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1340321","date":"2012-05-15T21:48:47.379Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:48:47.379Z","type":"part"}
{"nick":"CIA-155","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307refcount\u000f * r\u0002b74fcbb\u000f \u000310\u000f/ src/win/pipe.c \u0002:\u000f Windows: add missing semicolon - http://git.io/4IR_2A","date":"2012-05-15T21:50:31.486Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:50:36.415Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#284 (refcount - 60b5c73 : Bert Belder): The build is still failing.","date":"2012-05-15T21:50:36.611Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/6e65c79...60b5c73","date":"2012-05-15T21:50:36.611Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1340327","date":"2012-05-15T21:50:36.611Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:50:36.611Z","type":"part"}
{"nick":"travis-ci","date":"2012-05-15T21:52:35.659Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#285 (refcount - b74fcbb : Bert Belder): The build is still failing.","date":"2012-05-15T21:52:35.864Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/60b5c73...b74fcbb","date":"2012-05-15T21:52:35.864Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1340353","date":"2012-05-15T21:52:35.864Z","type":"message"}
{"nick":"travis-ci","date":"2012-05-15T21:52:35.864Z","type":"part"}
{"nick":"bnoordhuis","message":"piscisaureus_: lgtm","date":"2012-05-15T21:53:45.771Z","type":"message"}
{"nick":"bnoordhuis","message":"let's merge it and may $DEITY have mercy on our souls","date":"2012-05-15T21:53:57.145Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok","date":"2012-05-15T21:54:08.490Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: nice :-)","date":"2012-05-15T21:54:10.561Z","type":"message"}
{"nick":"AvianFlu","message":"ahahahahha $DEITY","date":"2012-05-15T21:54:15.045Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so there is still this issue where uv__is_active isn't correct","date":"2012-05-15T21:54:30.618Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: unfortunately I am going to quit now","date":"2012-05-15T21:54:48.732Z","type":"message"}
{"nick":"piscisaureus_","message":"since I have to get up at 5:30am","date":"2012-05-15T21:55:05.628Z","type":"message"}
{"nick":"bnoordhuis","message":"squash your commits before you go and i'll merge and update node tomorrow","date":"2012-05-15T21:55:08.560Z","type":"message"}
{"nick":"piscisaureus_","message":"which is normally about the time I go to bedf","date":"2012-05-15T21:55:12.702Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that's quite early :)","date":"2012-05-15T21:55:13.216Z","type":"message"}
{"nick":"bnoordhuis","message":"indeed","date":"2012-05-15T21:55:18.433Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: which means that I am going to leave y'all right now :-)","date":"2012-05-15T21:55:27.054Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, bertje","date":"2012-05-15T21:55:36.361Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks","date":"2012-05-15T21:55:39.508Z","type":"message"}
{"nick":"bnoordhuis","message":"have fun in bangkok^krakau","date":"2012-05-15T21:55:44.165Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-05-15T21:56:00.018Z","type":"quit"}
{"nick":"piscisaureus_","message":"I didn't like bangkok","date":"2012-05-15T21:56:00.600Z","type":"message"}
{"nick":"piscisaureus_","message":"too dirty, too bosy","date":"2012-05-15T21:56:07.125Z","type":"message"}
{"nick":"piscisaureus_","message":"*busy","date":"2012-05-15T21:56:09.020Z","type":"message"}
{"nick":"piscisaureus_","message":"the rest of thailand was nice tho","date":"2012-05-15T21:56:12.989Z","type":"message"}
{"nick":"bnoordhuis","message":"too many girls that beat you at arm wrestling","date":"2012-05-15T21:56:28.847Z","type":"message"}
{"nick":"piscisaureus_","message":"anyway","date":"2012-05-15T21:56:29.049Z","type":"message"}
{"nick":"bnoordhuis","message":"well, girls","date":"2012-05-15T21:56:45.602Z","type":"message"}
{"nick":"bnoordhuis","message":"have fun, bertje :)","date":"2012-05-15T21:56:50.715Z","type":"message"}
{"nick":"piscisaureus_","message":"laturrrr","date":"2012-05-15T21:56:56.579Z","type":"message"}
{"nick":"isaacs","message":"g'nite","date":"2012-05-15T21:57:45.737Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-05-15T21:58:56.875Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-05-15T21:59:46.705Z","type":"quit"}
{"nick":"ira_","date":"2012-05-15T22:06:52.213Z","type":"join"}
{"nick":"ira","reason":"Disconnected by services","date":"2012-05-15T22:07:08.578Z","type":"quit"}
{"nick":"ira_","new_nick":"ira","date":"2012-05-15T22:07:08.784Z","type":"nick"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-05-15T22:09:15.704Z","type":"quit"}
{"nick":"tjfontaine","message":"haha \"girls\"","date":"2012-05-15T22:12:25.371Z","type":"message"}
{"nick":"tjfontaine","message":"bnoordhuis: I am, but I won't be back until saturday to finish that, even though it's trivial","date":"2012-05-15T22:13:07.667Z","type":"message"}
{"nick":"bnoordhuis","message":"tjfontaine: okay, no rush","date":"2012-05-15T22:13:43.109Z","type":"message"}
{"nick":"CIA-155","message":"\u0002node:\u000f \u000303Kevin Bowman\u000f \u000307master\u000f * r\u0002dfcdd5b\u000f \u000310\u000f/ (doc/api/fs.markdown lib/fs.js test/simple/test-fs-open.js)\u0002:\u000f fs: add sync open flags 'rs' and 'rs+' - http://git.io/6i7Fhg","date":"2012-05-15T22:16:12.000Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-05-15T22:53:42.887Z","type":"quit"}
{"nick":"mikeal","date":"2012-05-15T22:58:54.834Z","type":"join"}
{"nick":"perezd","date":"2012-05-15T22:59:19.214Z","type":"join"}
{"nick":"mikeal","reason":"Read error: Connection reset by peer","date":"2012-05-15T22:59:22.020Z","type":"quit"}
{"nick":"mikeal","date":"2012-05-15T22:59:26.844Z","type":"join"}
{"nick":"TooTallNate","message":"bnoordhuis: yt?","date":"2012-05-15T23:08:14.325Z","type":"message"}
{"nick":"TooTallNate","message":"is there a way to make g++ on solaris use a different `ld`?","date":"2012-05-15T23:08:25.397Z","type":"message"}
{"nick":"TooTallNate","message":"dap: ^","date":"2012-05-15T23:13:32.676Z","type":"message"}
{"nick":"dap","message":"TooTallNate: I'll check with someone who would know better, but I believe that attempting to use any linker other than the one that comes with the system generally ends in tears.","date":"2012-05-15T23:15:19.348Z","type":"message"}
{"nick":"TooTallNate","message":"dap: well i'm basically running into this: https://www.google.com/search?ix=seb&sourceid=chrome&ie=UTF-8&q=ld%3A+fatal%3A+relocations+remain+against+allocatable+but+non-writable+sections","date":"2012-05-15T23:15:52.248Z","type":"message"}
{"nick":"TooTallNate","message":"dap: p.s. i'm reading your \"Where does your Node program spend its time?\" article now","date":"2012-05-15T23:17:05.506Z","type":"message"}
{"nick":"dap","message":"cool","date":"2012-05-15T23:17:10.161Z","type":"message"}
{"nick":"TooTallNate","message":"dying to test it out :p","date":"2012-05-15T23:17:14.299Z","type":"message"}
{"nick":"dap","message":"I'm looking into that problem","date":"2012-05-15T23:17:14.644Z","type":"message"}
{"nick":"dap","message":"cool :)","date":"2012-05-15T23:17:17.746Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: what symbols is it complaining about?","date":"2012-05-15T23:22:18.219Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: ffi_closure_SYSV_inner              0xd2        /home/node/node-ffi/deps/libffi/.libs/libffi.a(sysv.o)","date":"2012-05-15T23:22:39.625Z","type":"message"}
{"nick":"TooTallNate","message":"one of the one's i'm in the static libffi i'm trying to link to","date":"2012-05-15T23:22:49.970Z","type":"message"}
{"nick":"bnoordhuis","message":"are you trying to build a binary or a shared object?","date":"2012-05-15T23:23:05.052Z","type":"message"}
{"nick":"TooTallNate","message":"a node module, so a shared object","date":"2012-05-15T23:23:15.376Z","type":"message"}
{"nick":"bnoordhuis","message":"make sure you compile everything with -fPIC","date":"2012-05-15T23:23:25.237Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: that's only needed for compiling right? not when linking?","date":"2012-05-15T23:24:47.836Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-05-15T23:24:59.374Z","type":"message"}
{"nick":"dap","message":"And you're using -shared?","date":"2012-05-15T23:26:11.554Z","type":"message"}
{"nick":"dap","message":"err, -G","date":"2012-05-15T23:27:27.491Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-05-15T23:27:36.183Z","type":"quit"}
{"nick":"dap","message":"I think the gcc option is -shared, and our ld option is -G","date":"2012-05-15T23:27:43.534Z","type":"message"}
{"nick":"TooTallNate","message":"dap: acutally... it doesn't look like i am...","date":"2012-05-15T23:28:17.701Z","type":"message"}
{"nick":"isaacs","date":"2012-05-15T23:29:22.645Z","type":"join"}
{"nick":"TooTallNate","message":"dap: interesting. if i try to compile libffi with `LDFLAGS=\"-shared\" ./configure` then configure fails","date":"2012-05-15T23:31:38.208Z","type":"message"}
{"nick":"dap","message":"how does it fail?","date":"2012-05-15T23:32:13.378Z","type":"message"}
{"nick":"TooTallNate","message":"dap: relevant part of the config.log: https://gist.github.com/6da31fe5d619e7917375","date":"2012-05-15T23:32:28.209Z","type":"message"}
{"nick":"TooTallNate","message":"essentially the same error I'm seeing :D","date":"2012-05-15T23:32:40.480Z","type":"message"}
{"nick":"dap","message":"TooTallNate: can you print out the gcc invocations that configure is running?","date":"2012-05-15T23:35:58.105Z","type":"message"}
{"nick":"dap","message":"so we can see exactly what it's trying to do?","date":"2012-05-15T23:36:04.316Z","type":"message"}
{"nick":"TooTallNate","message":"dap: well this seems a little interesting: https://gist.github.com/9331471de95b907f1824","date":"2012-05-15T23:38:32.607Z","type":"message"}
{"nick":"dap","message":"what gcc is this?","date":"2012-05-15T23:39:04.198Z","type":"message"}
{"nick":"dap","message":"and what system is this?","date":"2012-05-15T23:39:10.145Z","type":"message"}
{"nick":"TooTallNate","message":"gcc version 3.4.6","date":"2012-05-15T23:39:14.478Z","type":"message"}
{"nick":"TooTallNate","message":"it's one of the joyent smartmachines","date":"2012-05-15T23:39:21.393Z","type":"message"}
{"nick":"TooTallNate","message":"tootallnate.no.de","date":"2012-05-15T23:39:24.350Z","type":"message"}
{"nick":"dap","message":"which gcc?","date":"2012-05-15T23:39:46.329Z","type":"message"}
{"nick":"dap","message":"that is, `which gcc` ?","date":"2012-05-15T23:39:49.776Z","type":"message"}
{"nick":"TooTallNate","message":" /home/node/local/bin/gcc","date":"2012-05-15T23:39:58.999Z","type":"message"}
{"nick":"dap","message":"did you build that yourself, or was that there already?","date":"2012-05-15T23:40:07.744Z","type":"message"}
{"nick":"TooTallNate","message":"already there","date":"2012-05-15T23:40:13.274Z","type":"message"}
{"nick":"TooTallNate","action":"has never been able to successfully buld gcc on my own :(","date":"2012-05-15T23:40:30.906Z","type":"action"}
{"nick":"dap","message":"I'm asking around internally if someone's seen this.  (FWIW, most of our customers are using a pkgsrc gcc, and a much newer one at that.)","date":"2012-05-15T23:41:48.008Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: you can't compile an executable with -shared, you silly :)","date":"2012-05-15T23:42:00.888Z","type":"message"}
{"nick":"TooTallNate","message":"hahaha, wow, pwned","date":"2012-05-15T23:42:13.296Z","type":"message"}
{"nick":"dap","message":"oh, yeah. duh :)","date":"2012-05-15T23:43:08.655Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: doesn't the configure script  have some kind of --with-shared option?","date":"2012-05-15T23:43:25.887Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: it does, but i'm trying to build a static version","date":"2012-05-15T23:43:52.697Z","type":"message"}
{"nick":"TooTallNate","message":"and statically compile that into my node native module","date":"2012-05-15T23:44:04.346Z","type":"message"}
{"nick":"TooTallNate","message":"dap: is there a way to upgrade gcc on this smart machine?","date":"2012-05-15T23:44:27.136Z","type":"message"}
{"nick":"dap","message":"TooTallNate: you can try installing it from pkgsrc, which would be something like \"pkgin install gcc\". You may need to be the \"admin\" user.","date":"2012-05-15T23:44:54.565Z","type":"message"}
{"nick":"TooTallNate","message":"\"nothing to do.\"","date":"2012-05-15T23:45:11.627Z","type":"message"}
{"nick":"dap","message":"ls /opt/local/bin/gcc ","date":"2012-05-15T23:45:18.234Z","type":"message"}
{"nick":"TooTallNate","message":"oh wow","date":"2012-05-15T23:45:45.387Z","type":"message"}
{"nick":"TooTallNate","message":"that's a much newer version","date":"2012-05-15T23:45:49.934Z","type":"message"}
{"nick":"dap","message":"that's good, right? :)","date":"2012-05-15T23:45:56.129Z","type":"message"}
{"nick":"dap","message":"what version?","date":"2012-05-15T23:45:59.617Z","type":"message"}
{"nick":"TooTallNate","message":"4.5.2","date":"2012-05-15T23:46:04.309Z","type":"message"}
{"nick":"TooTallNate","message":"dap: wow, ok that did the trick :)","date":"2012-05-15T23:48:05.084Z","type":"message"}
{"nick":"TooTallNate","message":"thanks a million!","date":"2012-05-15T23:48:13.109Z","type":"message"}
{"nick":"dap","message":"using the newer gcc, your thing works fine?","date":"2012-05-15T23:49:02.652Z","type":"message"}
{"nick":"TooTallNate","message":"dap: indeed, 100% passing tests :)","date":"2012-05-15T23:49:30.523Z","type":"message"}
{"nick":"TooTallNate","message":"now to remove that old gcc from my $PATH","date":"2012-05-15T23:49:50.323Z","type":"message"}
{"nick":"dap","message":"Excellent","date":"2012-05-15T23:50:02.414Z","type":"message"}
