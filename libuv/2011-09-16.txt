{"nick":"bnoordhuis","message":"ryah: sure","date":"2011-09-16T00:00:12.215Z","type":"message"}
{"nick":"ryah","message":"maybe one of you can summarize the situation and the possible solutions","date":"2011-09-16T00:00:19.212Z","type":"message"}
{"nick":"ryah","message":"then i will reply tonight","date":"2011-09-16T00:00:24.045Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll do the kick-off","date":"2011-09-16T00:00:27.736Z","type":"message"}
{"nick":"ryah","message":"thanks","date":"2011-09-16T00:00:31.916Z","type":"message"}
{"nick":"rmustacc","message":"Feel free to include or not include me as you guys wish. I'm just a guy who shouts my mouth.","date":"2011-09-16T00:01:27.424Z","type":"message"}
{"nick":"igorzi","message":"cool, thanks bnoordhuis","date":"2011-09-16T00:01:33.749Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303isaacs\u0003: node -v in bash PROMPT_COMMAND causes assertion error - https://github.com/joyent/node/issues/1720","date":"2011-09-16T00:01:43.518Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303ry\u0003: SSL hanging due undrained error queue? - https://github.com/joyent/node/issues/1719","date":"2011-09-16T00:01:44.517Z","type":"message"}
{"nick":"ryah","message":"yes please include rm@joyent.com","date":"2011-09-16T00:01:55.528Z","type":"message"}
{"nick":"bnoordhuis","message":"rmustacc: will do","date":"2011-09-16T00:02:08.369Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303isaacs\u0003: node -v in bash PROMPT_COMMAND causes assertion error - https://github.com/joyent/node/issues/1720","date":"2011-09-16T00:06:43.521Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303isaacs\u0003: node -v in bash PROMPT_COMMAND causes assertion error - https://github.com/joyent/node/issues/1720","date":"2011-09-16T00:06:44.516Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303isaacs\u0003: node -v in bash PROMPT_COMMAND causes assertion error - https://github.com/joyent/node/issues/1720","date":"2011-09-16T00:11:43.515Z","type":"message"}
{"nick":"piscisaureus","message":"igorziL https://gist.github.com/40c7e07487731f91389a","date":"2011-09-16T00:13:17.619Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: https://gist.github.com/40c7e07487731f91389a","date":"2011-09-16T00:13:23.072Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: 0.4.12 on linux: python tools/test.py --mode=debug,release [09:25|% 100|+ 480|-   0]: Done","date":"2011-09-16T00:14:24.578Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 258 seconds","date":"2011-09-16T00:14:47.106Z","type":"quit"}
{"nick":"ryah","message":"bnoordhuis: very good","date":"2011-09-16T00:15:37.676Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303kingkaeru\u0003: net_uv.js throws assertion error  - https://github.com/joyent/node/issues/1697","date":"2011-09-16T00:16:43.512Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: that repros it?","date":"2011-09-16T00:18:29.297Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yes","date":"2011-09-16T00:18:36.388Z","type":"message"}
{"nick":"piscisaureus","message":"I really gtg to bed now","date":"2011-09-16T00:18:46.582Z","type":"message"}
{"nick":"piscisaureus","message":"sorry","date":"2011-09-16T00:18:48.495Z","type":"message"}
{"nick":"piscisaureus","message":"I wil think about a solution","date":"2011-09-16T00:18:52.593Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: night","date":"2011-09-16T00:18:52.804Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: night","date":"2011-09-16T00:18:56.303Z","type":"message"}
{"nick":"piscisaureus","message":"thnx all","date":"2011-09-16T00:19:00.350Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: try this","date":"2011-09-16T00:20:38.830Z","type":"message"}
{"nick":"ryah","message":"bash-3.2$ . <(node -e 'console.log(\"echo foo\")')","date":"2011-09-16T00:20:39.348Z","type":"message"}
{"nick":"bnoordhuis","message":"tried it, still wfm","date":"2011-09-16T00:20:54.053Z","type":"message"}
{"nick":"ryah","message":"in bash?","date":"2011-09-16T00:21:00.050Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-09-16T00:21:43.094Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: you around?","date":"2011-09-16T00:21:47.623Z","type":"message"}
{"nick":"isaacs","message":"sort of","date":"2011-09-16T00:22:02.336Z","type":"message"}
{"nick":"bnoordhuis","message":"can you try this? https://github.com/bnoordhuis/libuv/commit/ef58627","date":"2011-09-16T00:22:08.111Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i'm about to leave for class","date":"2011-09-16T00:22:18.220Z","type":"message"}
{"nick":"isaacs","message":"i can try this evening","date":"2011-09-16T00:22:27.522Z","type":"message"}
{"nick":"isaacs","message":"like, 10 or so","date":"2011-09-16T00:22:32.556Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll probably be in bed by then","date":"2011-09-16T00:22:41.242Z","type":"message"}
{"nick":"bnoordhuis","message":"i should hope so","date":"2011-09-16T00:22:50.132Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: testing","date":"2011-09-16T00:23:33.615Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: yes that fixes it","date":"2011-09-16T00:24:08.078Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: how can we test?","date":"2011-09-16T00:24:11.598Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: simulate a failed write","date":"2011-09-16T00:24:26.501Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe i can nick pietern's test","date":"2011-09-16T00:24:32.416Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: which sort of error?","date":"2011-09-16T00:24:50.962Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: ECONNRESET, for example","date":"2011-09-16T00:25:20.369Z","type":"message"}
{"nick":"ryah","message":"hm","date":"2011-09-16T00:25:42.796Z","type":"message"}
{"nick":"bnoordhuis","message":"i think pietern's test creates two write requests where the first one passes and the second fails","date":"2011-09-16T00:25:47.496Z","type":"message"}
{"nick":"bnoordhuis","message":"https://gist.github.com/1220786","date":"2011-09-16T00:25:59.204Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: that one demos it?","date":"2011-09-16T00:26:32.707Z","type":"message"}
{"nick":"bnoordhuis","message":"well, maybe not","date":"2011-09-16T00:26:55.393Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll see if i can come up with something","date":"2011-09-16T00:27:06.006Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.4\u000f * r\u0002771ba34\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f Bump version to v0.4.12 - http://git.io/OCp5nw","date":"2011-09-16T00:32:15.604Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.4\u000f * r\u0002cfe0f42\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on v0.4.13 - http://git.io/i8RPAg","date":"2011-09-16T00:32:15.812Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-09-16T00:36:08.656Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-09-16T00:39:38.063Z","type":"quit"}
{"nick":"ryah","message":"one done, one to go","date":"2011-09-16T00:39:39.309Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: also i think we need to have status in uv_fs_event_cb (if it fails)","date":"2011-09-16T00:44:04.956Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: how can it fail?","date":"2011-09-16T00:44:29.552Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: fwiw, 0.4.12 on sunos: [09:48|% 100|+ 474|-   6]: Done","date":"2011-09-16T00:44:50.668Z","type":"message"}
{"nick":"igorzi","message":"i don't have a failing use case.. but on windows the overlapped ReadDirectoryChangesW could come back with an error","date":"2011-09-16T00:45:31.837Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: maybe we can set events to -1 in that case?","date":"2011-09-16T00:46:55.124Z","type":"message"}
{"nick":"ryah","message":"what does failure mean?","date":"2011-09-16T00:46:57.099Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: is there anything the caller can do when an error happens?","date":"2011-09-16T00:47:59.560Z","type":"message"}
{"nick":"bnoordhuis","message":"if not, we might as well silently swallow it","date":"2011-09-16T00:48:24.718Z","type":"message"}
{"nick":"bnoordhuis","message":"s/caller/callee/","date":"2011-09-16T00:48:36.165Z","type":"message"}
{"nick":"igorzi","message":"should we continue watching the fs?","date":"2011-09-16T00:48:40.595Z","type":"message"}
{"nick":"bnoordhuis","message":"what kind of errors can ReadDirectoryChangesW return?","date":"2011-09-16T00:49:18.747Z","type":"message"}
{"nick":"igorzi","message":"i don't know. let me find out.","date":"2011-09-16T00:49:45.895Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307v0.4\u000f * r\u0002b31d5ac\u000f \u000310\u000f/ Makefile \u0002:\u000f Update website address in Makefile - http://git.io/6YK3Fg","date":"2011-09-16T00:49:47.242Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303davglass\u0003: HTTP parser fails if server returns no headers - https://github.com/joyent/node/issues/1711","date":"2011-09-16T00:51:43.500Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: well, it will fail if the buffer gets overflowed.. but in that case we could just swallow it and continue listening","date":"2011-09-16T00:51:47.216Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: agreed","date":"2011-09-16T00:52:13.089Z","type":"message"}
{"nick":"rmustacc","message":"It's probably important to notify the user in that event.","date":"2011-09-16T00:53:23.498Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-09-16T00:56:17.618Z","type":"quit"}
{"nick":"igorzi","message":"rmustacc: hmm, yeah, i think you're right..","date":"2011-09-16T00:56:18.863Z","type":"message"}
{"nick":"rmustacc","message":"We're actually going to want the API to include some kind of error event, for example, the directory you're watching might get removed via rmdir or the file rm.","date":"2011-09-16T00:57:28.411Z","type":"message"}
{"nick":"bnoordhuis","message":"can you reliably detect that?","date":"2011-09-16T00:59:02.624Z","type":"message"}
{"nick":"bnoordhuis","action":"side-tracks","date":"2011-09-16T00:59:45.986Z","type":"action"}
{"nick":"rmustacc","message":"bnoordhuis: I'd have to check my notes. But usually yes.","date":"2011-09-16T01:02:11.702Z","type":"message"}
{"nick":"rmustacc","message":"I'm going to have to head out for now.","date":"2011-09-16T01:02:54.024Z","type":"message"}
{"nick":"rmustacc","message":"Catch up with you folks later.","date":"2011-09-16T01:03:09.069Z","type":"message"}
{"nick":"rmustacc","date":"2011-09-16T01:03:10.808Z","type":"part"}
{"nick":"felixge","date":"2011-09-16T01:04:58.074Z","type":"join"}
{"nick":"felixge","reason":"Ping timeout: 252 seconds","date":"2011-09-16T01:36:20.094Z","type":"quit"}
{"nick":"brson","date":"2011-09-16T01:43:54.297Z","type":"join"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303davglass\u0003: HTTP parser fails if server returns no headers - https://github.com/joyent/node/issues/1711","date":"2011-09-16T01:46:43.477Z","type":"message"}
{"nick":"pquerna","message":"fuck openssl.","date":"2011-09-16T01:58:45.465Z","type":"message"}
{"nick":"pquerna","message":"i guess it is best to do that error loop shit","date":"2011-09-16T01:58:54.466Z","type":"message"}
{"nick":"erickt","date":"2011-09-16T02:22:52.217Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2011-09-16T02:23:07.191Z","type":"quit"}
{"nick":"erickt","date":"2011-09-16T02:23:59.365Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2011-09-16T02:46:21.317Z","type":"quit"}
{"nick":"bnoordhuis","message":"ryah: https://github.com/bnoordhuis/libuv/compare/issue1720 <- review?","date":"2011-09-16T02:46:52.733Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303ry\u0003: SSL hanging due undrained error queue? - https://github.com/joyent/node/issues/1719","date":"2011-09-16T02:51:43.447Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303ry\u0003: SSL hanging due undrained error queue? - https://github.com/joyent/node/issues/1719","date":"2011-09-16T02:56:43.445Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: 1sec","date":"2011-09-16T03:11:12.885Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303hildjj\u0003: Results of stat() incorrect, don't match statSync - https://github.com/joyent/node/issues/1401","date":"2011-09-16T03:11:43.440Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303ry\u0003: SSL hanging due undrained error queue? - https://github.com/joyent/node/issues/1719","date":"2011-09-16T03:16:43.435Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303ry\u0003: SSL hanging due undrained error queue? - https://github.com/joyent/node/issues/1719","date":"2011-09-16T03:16:44.435Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: ","date":"2011-09-16T03:21:04.680Z","type":"message"}
{"nick":"ryah","message":"[%   0|+  13|-   0]: tcp_write_error","date":"2011-09-16T03:21:05.208Z","type":"message"}
{"nick":"ryah","message":"`tcp_write_error` failed: exit code 6","date":"2011-09-16T03:21:05.418Z","type":"message"}
{"nick":"ryah","message":"Output from process `tcp_write_error`:","date":"2011-09-16T03:21:05.418Z","type":"message"}
{"nick":"ryah","message":"Assertion failed in test/test-tcp-write-error.c on line 81: req->handle->write_queue_size > 0","date":"2011-09-16T03:21:06.110Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, that 1M write succeeded in one go?","date":"2011-09-16T03:22:19.947Z","type":"message"}
{"nick":"ryah","message":"*shrug*","date":"2011-09-16T03:22:48.797Z","type":"message"}
{"nick":"ryah","message":"can i increase that buffer?","date":"2011-09-16T03:23:09.297Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2011-09-16T03:23:38.120Z","type":"message"}
{"nick":"ryah","message":"even if i make it 100mb i get that","date":"2011-09-16T03:24:15.531Z","type":"message"}
{"nick":"ryah","message":"sometimes","date":"2011-09-16T03:24:16.928Z","type":"message"}
{"nick":"bnoordhuis","message":"hmm, odd","date":"2011-09-16T03:26:12.045Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going to ponder this","date":"2011-09-16T03:26:58.612Z","type":"message"}
{"nick":"bnoordhuis","message":"but first i'm going to sleep for a couple of hours","date":"2011-09-16T03:27:06.902Z","type":"message"}
{"nick":"ryah","message":"ok","date":"2011-09-16T03:27:12.736Z","type":"message"}
{"nick":"ryah","message":"im debugging","date":"2011-09-16T03:27:16.564Z","type":"message"}
{"nick":"ryah","message":"night","date":"2011-09-16T03:27:17.645Z","type":"message"}
{"nick":"bnoordhuis","message":"night, ryah","date":"2011-09-16T03:27:21.827Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2011-09-16T03:31:49.138Z","type":"quit"}
{"nick":"felixge","date":"2011-09-16T04:23:13.088Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2011-09-16T04:23:13.296Z","type":"quit"}
{"nick":"felixge","date":"2011-09-16T04:23:13.296Z","type":"join"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2011-09-16T04:28:55.618Z","type":"quit"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303ry\u0003: SSL hanging due undrained error queue? - https://github.com/joyent/node/issues/1719","date":"2011-09-16T04:41:43.413Z","type":"message"}
{"nick":"isaacs","date":"2011-09-16T05:51:19.216Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-09-16T05:55:36.322Z","type":"quit"}
{"nick":"mraleph","date":"2011-09-16T06:25:43.114Z","type":"join"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303plexel\u0003: https requestCert unusable with Firefox and Chrome - https://github.com/joyent/node/issues/1516","date":"2011-09-16T06:36:43.362Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-09-16T06:45:55.527Z","type":"quit"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303plexel\u0003: https requestCert unusable with Firefox and Chrome - https://github.com/joyent/node/issues/1516","date":"2011-09-16T07:01:43.351Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-09-16T07:20:11.475Z","type":"quit"}
{"nick":"mraleph","date":"2011-09-16T07:24:09.249Z","type":"join"}
{"nick":"pquerna","message":"thread local error queues. fucking stupid shit. sigh.","date":"2011-09-16T07:31:35.530Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303jampy\u0003: \"Exec format error\" when cross-compiling for ARM (workaround provided) - https://github.com/joyent/node/issues/1541","date":"2011-09-16T07:31:43.342Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303jampy\u0003: \"Exec format error\" when cross-compiling for ARM (workaround provided) - https://github.com/joyent/node/issues/1541","date":"2011-09-16T07:41:43.342Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303seebees\u0003: Tests for Sockets - https://github.com/joyent/node/issues/1699","date":"2011-09-16T07:46:43.339Z","type":"message"}
{"nick":"pietern","date":"2011-09-16T07:46:52.284Z","type":"join"}
{"nick":"piscisaureus","date":"2011-09-16T07:53:17.239Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-09-16T07:58:46.496Z","type":"quit"}
{"nick":"mraleph","date":"2011-09-16T08:33:11.365Z","type":"join"}
{"nick":"mraleph","reason":"Client Quit","date":"2011-09-16T08:33:12.582Z","type":"quit"}
{"nick":"dmkbot1","message":"\u0002joyent/libuv:\u0002 \u000303erickt\u0003: Fix a couple warnings, added some asserts, and compiling with gcc-4.5 and mingw-w64 - https://github.com/joyent/libuv/issues/186","date":"2011-09-16T09:16:43.301Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303jbergstroem\u0003: running test GH-814 sometimes leaves trailing processes - https://github.com/joyent/node/issues/914","date":"2011-09-16T09:46:43.290Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-09-16T09:51:25.231Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2011-09-16T09:51:31.021Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-09-16T09:52:35.241Z","type":"join"}
{"nick":"pietern","message":"piscisaureus: morning","date":"2011-09-16T09:53:57.117Z","type":"message"}
{"nick":"piscisaureus_","message":"pietern: morning","date":"2011-09-16T09:54:13.025Z","type":"message"}
{"nick":"pietern","message":"just to check, you observed the same write callback reordering issue on win?","date":"2011-09-16T09:54:50.284Z","type":"message"}
{"nick":"piscisaureus_","message":"pietern: I","date":"2011-09-16T09:54:58.549Z","type":"message"}
{"nick":"piscisaureus_","message":"pietern: (sorry gt get used to this keyboard)","date":"2011-09-16T09:55:38.051Z","type":"message"}
{"nick":"piscisaureus_","message":"I have observed a write callback reordering issue, but the cause is very different","date":"2011-09-16T09:55:38.254Z","type":"message"}
{"nick":"piscisaureus_","message":"Bug 1697 was originally reported by a windows user","date":"2011-09-16T09:56:01.965Z","type":"message"}
{"nick":"pietern","message":"right","date":"2011-09-16T09:56:23.133Z","type":"message"}
{"nick":"pietern","message":"ok","date":"2011-09-16T09:56:23.654Z","type":"message"}
{"nick":"piscisaureus_","message":"pietern: what is your opinion on this? Should libuv make the guarantee that write callbacks are ordered?","date":"2011-09-16T09:57:38.250Z","type":"message"}
{"nick":"pietern","message":"piscisaureus_: I think so, ","date":"2011-09-16T09:57:57.167Z","type":"message"}
{"nick":"pietern","message":"the canonical example is of course the short write and the callback that gets called with the error immediately, bypassing already done callbacks","date":"2011-09-16T09:58:34.409Z","type":"message"}
{"nick":"pietern","message":"not because it may be convenient memory-cleanup-wise","date":"2011-09-16T09:58:51.359Z","type":"message"}
{"nick":"pietern","message":"but more because you'd expect a failure callback not to be followed by a succesful one","date":"2011-09-16T09:59:16.717Z","type":"message"}
{"nick":"pietern","message":"I think you should be able to call uv_close on a  write callback for a failed write","date":"2011-09-16T09:59:38.790Z","type":"message"}
{"nick":"piscisaureus_","message":"I think you can always do that","date":"2011-09-16T09:59:54.017Z","type":"message"}
{"nick":"pietern","message":"and know that that was the last succesful invocation","date":"2011-09-16T09:59:56.455Z","type":"message"}
{"nick":"piscisaureus_","message":"I can't really think of any cases where that might make a difference","date":"2011-09-16T10:00:15.944Z","type":"message"}
{"nick":"piscisaureus_","message":"I am just afraid that people get bitten by this","date":"2011-09-16T10:00:31.236Z","type":"message"}
{"nick":"pietern","message":"let's say you keep your own write queue ","date":"2011-09-16T10:00:35.447Z","type":"message"}
{"nick":"pietern","message":"to control buffer size bounds","date":"2011-09-16T10:00:48.839Z","type":"message"}
{"nick":"pietern","message":"and want to create a new write request for every request that is done","date":"2011-09-16T10:01:02.230Z","type":"message"}
{"nick":"pietern","message":"naively you would call uv_write for every successful write callback ","date":"2011-09-16T10:01:20.853Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-09-16T10:01:28.553Z","type":"quit"}
{"nick":"piscisaureus_","message":"true","date":"2011-09-16T10:01:54.768Z","type":"message"}
{"nick":"pietern","message":"but you need to keep at least a flag or some kind of indicator that writing is no longer possible when a single write callback with status=-1 is interleaved","date":"2011-09-16T10:02:03.025Z","type":"message"}
{"nick":"pietern","message":"and if the ordering guarantees that callbacks are called with status=0, then status=-1 on error, but never switch back to status=0","date":"2011-09-16T10:02:35.897Z","type":"message"}
{"nick":"pietern","message":"another reason for doing this is that it follows the ordering of data on the stream","date":"2011-09-16T10:03:07.548Z","type":"message"}
{"nick":"pietern","message":"which is the most important one i think","date":"2011-09-16T10:03:14.767Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2011-09-16T10:03:41.874Z","type":"message"}
{"nick":"piscisaureus_","message":"I am afraid this is going to escalate","date":"2011-09-16T10:03:51.233Z","type":"message"}
{"nick":"pietern","message":"piscisaureus_: what would be the reason to not give this guarantee?","date":"2011-09-16T10:04:03.862Z","type":"message"}
{"nick":"piscisaureus_","message":"Next thing, people want us to make guarantees that timers are called in order","date":"2011-09-16T10:04:07.444Z","type":"message"}
{"nick":"piscisaureus_","message":":-p","date":"2011-09-16T10:04:11.110Z","type":"message"}
{"nick":"pietern","message":"hehehe","date":"2011-09-16T10:04:15.054Z","type":"message"}
{"nick":"pietern","message":"right","date":"2011-09-16T10:04:18.408Z","type":"message"}
{"nick":"piscisaureus_","message":"pietern: performance could be an issue","date":"2011-09-16T10:04:25.299Z","type":"message"}
{"nick":"piscisaureus_","message":"piscisaureus_: we have this nice shortcut that bypasses the completion port whenever possible","date":"2011-09-16T10:05:00.163Z","type":"message"}
{"nick":"pietern","message":"piscisaureus_: but should the cb for a failed write be called before callbacks for successful writes that happened before?","date":"2011-09-16T10:05:59.917Z","type":"message"}
{"nick":"pietern","message":"because they are executed eventually, right?","date":"2011-09-16T10:06:09.134Z","type":"message"}
{"nick":"pietern","message":"we do have the guarantee that if a write fails, it will not succeed in the future","date":"2011-09-16T10:06:37.369Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2011-09-16T10:06:47.277Z","type":"message"}
{"nick":"pietern","message":"EINTR and EAGAIN are caught, but all others mean definitive failure","date":"2011-09-16T10:06:54.944Z","type":"message"}
{"nick":"pietern","message":"piscisaureus_: (this needs to be done on the unix code as well I believe)","date":"2011-09-16T10:07:31.398Z","type":"message"}
{"nick":"piscisaureus_","message":"pietern: I presume that writes cannot succees if a previous write has failed - but this is really up to the OS","date":"2011-09-16T10:07:39.296Z","type":"message"}
{"nick":"piscisaureus_","new_nick":"piscisaureus","date":"2011-09-16T10:07:50.865Z","type":"nick"}
{"nick":"pietern","message":"piscisaureus_: when you bypass the completion port, you can feed an uv_idle event to call the cb from a fresh stack, right?","date":"2011-09-16T10:08:03.639Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: yes, that's what we do already","date":"2011-09-16T10:08:19.273Z","type":"message"}
{"nick":"pietern","message":"(not sure how you do that in win now, unix feeds a write event)","date":"2011-09-16T10:08:19.482Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: ok","date":"2011-09-16T10:08:34.183Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: just to get in the mindset :)","date":"2011-09-16T10:08:39.791Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: I'll read up on the posix spec about failing writes","date":"2011-09-16T10:09:17.746Z","type":"message"}
{"nick":"pietern","message":"I think it does guarantee failure after 1 failure","date":"2011-09-16T10:09:28.136Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: on windows we keep a queue of events that we know have completed - we only poll the OS for new events if that queue is empty","date":"2011-09-16T10:09:35.312Z","type":"message"}
{"nick":"piscisaureus","message":"Short-circuiting means that if you know a write has completed immediately, you insert it straight into that queue","date":"2011-09-16T10:09:35.523Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: and polling does imply the OS event queue is completely empty after that","date":"2011-09-16T10:10:26.128Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: so that means that if we have a short-circuited write, we need to ensure that both the libuv queue and the OS queue are fully drained before making the callback","date":"2011-09-16T10:11:06.378Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: that sounds very unfortunate","date":"2011-09-16T10:11:20.765Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: I can think of another option but that's also sacrificing convenience for performance.","date":"2011-09-16T10:14:36.223Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: but before it can short-circuit, you already know they are empty, because otherwise you wouldn't bypass the completion port, right?","date":"2011-09-16T10:14:43.977Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: it's not us who decides to bypass the completion port - it's windows.","date":"2011-09-16T10:15:10.775Z","type":"message"}
{"nick":"pietern","message":"and windows can call callbacks on completion ports in arbitrary order?","date":"2011-09-16T10:15:56.583Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: windows does that when the kernel socket buffer has room for the write immediately. If there's room that means that previous writes must have completed, but it does not guarantee that libuv has made the callback for that write already.","date":"2011-09-16T10:16:15.935Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: no, windows does not make callbacks in arbitrary order.","date":"2011-09-16T10:16:38.962Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: ok, so if windows bypasses, libuv already knows the previous writes have completed?","date":"2011-09-16T10:17:02.603Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: windows knows that - libuv doesn't","date":"2011-09-16T10:17:21.068Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: we can assume that those writes have completed, sure","date":"2011-09-16T10:17:49.366Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: so let's say the socket gets disconnected half way through, ","date":"2011-09-16T10:18:03.687Z","type":"message"}
{"nick":"pietern","message":"then the write call immediately returns something like \"omg I can't write\"","date":"2011-09-16T10:18:17.823Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-09-16T10:18:24.366Z","type":"message"}
{"nick":"pietern","message":"while libuv is not yet aware of the writes that have completed?","date":"2011-09-16T10:18:29.095Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-09-16T10:18:33.439Z","type":"message"}
{"nick":"pietern","message":"omg","date":"2011-09-16T10:18:35.531Z","type":"message"}
{"nick":"pietern","message":"that's inconvenient","date":"2011-09-16T10:19:02.878Z","type":"message"}
{"nick":"pietern","message":"libuv keeps a list of pending writes, right?","date":"2011-09-16T10:19:36.396Z","type":"message"}
{"nick":"pietern","message":"so when this conditions happens with num_in_flight == 0, the callback can be invoked","date":"2011-09-16T10:19:51.603Z","type":"message"}
{"nick":"pietern","message":"but with num_in_flight > 0 it should append the callback in some kind of queue until num_in_flight reaches 0","date":"2011-09-16T10:20:17.397Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: it doesn't keep a list, it keeps a number of in-flight writes though","date":"2011-09-16T10:20:28.412Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: https://github.com/joyent/libuv/blob/master/src/win/tcp.c#L657-673","date":"2011-09-16T10:20:31.927Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: the core reactor: https://github.com/joyent/libuv/blob/master/src/win/core.c#L178-206","date":"2011-09-16T10:21:32.595Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: so this doesn't yet defer failed writes to a fresh stack","date":"2011-09-16T10:23:08.032Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: it returns -1 on some failed writes, yes","date":"2011-09-16T10:23:29.453Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: it does not make the callback in that case","date":"2011-09-16T10:23:39.120Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: reading some more code to get the gist of things ","date":"2011-09-16T10:24:07.622Z","type":"message"}
{"nick":"piscisaureus","message":"heh, good luck :-)","date":"2011-09-16T10:24:33.248Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: what are you doing in daily life btw. Working on redis all day?","date":"2011-09-16T10:31:37.030Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: pretty much :)","date":"2011-09-16T10:31:45.137Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: and getting my CS degree in the mean-time ;)","date":"2011-09-16T10:32:04.625Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-09-16T10:32:11.002Z","type":"message"}
{"nick":"piscisaureus","message":"someone else who's trying to get a degree :-)","date":"2011-09-16T10:32:28.861Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: not CS right?","date":"2011-09-16T10:32:36.846Z","type":"message"}
{"nick":"piscisaureus","message":"no, Technische Bestuurskunde in plat hollands","date":"2011-09-16T10:32:57.011Z","type":"message"}
{"nick":"pietern","message":"which university?","date":"2011-09-16T10:33:26.427Z","type":"message"}
{"nick":"piscisaureus","message":"Systems sngineering, policy analysis and management in fancypants mode","date":"2011-09-16T10:33:36.009Z","type":"message"}
{"nick":"piscisaureus","message":"TU Delft","date":"2011-09-16T10:33:37.819Z","type":"message"}
{"nick":"pietern","message":"that's a lot of business processes stuff right?","date":"2011-09-16T10:35:59.548Z","type":"message"}
{"nick":"piscisaureus","message":"yes - too much","date":"2011-09-16T10:36:13.521Z","type":"message"}
{"nick":"pietern","message":"industrial engineering, modeling logistics, etc","date":"2011-09-16T10:36:16.507Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-09-16T10:36:26.640Z","type":"message"}
{"nick":"piscisaureus","message":"oh that stuff is nice","date":"2011-09-16T10:36:31.178Z","type":"message"}
{"nick":"piscisaureus","message":"I interpreted \"business processes stuff\" as the bullshit the it section does here","date":"2011-09-16T10:37:58.940Z","type":"message"}
{"nick":"piscisaureus","message":"but building simulations is very interesting","date":"2011-09-16T10:38:23.075Z","type":"message"}
{"nick":"pietern","message":"well, I've seen a fair amount of bullshit in Gr as well","date":"2011-09-16T10:38:37.539Z","type":"message"}
{"nick":"pietern","message":"it's really amazing how some of these business guys do databases","date":"2011-09-16T10:38:59.756Z","type":"message"}
{"nick":"pietern","message":"there should be overlap with CS, but the mindset is nearly 100% different","date":"2011-09-16T10:39:22.358Z","type":"message"}
{"nick":"pietern","message":"hopefully it's better in delft :)","date":"2011-09-16T10:39:31.561Z","type":"message"}
{"nick":"piscisaureus","message":"indeed. Or how they think of \"services\"","date":"2011-09-16T10:39:41.747Z","type":"message"}
{"nick":"pietern","message":"right, WDSL, SOAP, BPEL","date":"2011-09-16T10:39:50.887Z","type":"message"}
{"nick":"pietern","message":"all the stuff the \"enterprise\" evangelized 10-15 years ago","date":"2011-09-16T10:40:21.384Z","type":"message"}
{"nick":"piscisaureus","message":"The problem is that IT is only an abstract notion to these guys. Nobody has any idea what it means to actually implement the designs they make.","date":"2011-09-16T10:41:15.426Z","type":"message"}
{"nick":"pietern","message":"right, next to the conceptual idea there appears to be little notion on the operational and maintenance effects","date":"2011-09-16T10:41:52.182Z","type":"message"}
{"nick":"pietern","message":"let alone dev costs","date":"2011-09-16T10:42:03.122Z","type":"message"}
{"nick":"piscisaureus","message":"I don't want to get all excited about this now :-) I have decided to just ignore that and do other stuff.","date":"2011-09-16T10:42:49.221Z","type":"message"}
{"nick":"pietern","message":"haha","date":"2011-09-16T10:43:01.537Z","type":"message"}
{"nick":"pietern","message":"you sound more like a CS guy indeed :)","date":"2011-09-16T10:43:16.439Z","type":"message"}
{"nick":"piscisaureus","message":"Hmm. Don't get me started :-)","date":"2011-09-16T10:43:29.880Z","type":"message"}
{"nick":"piscisaureus","message":"afk for a while","date":"2011-09-16T10:43:48.540Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: btw, windows does not guarantee that a iocp bypass means that the previous writes requiring iocp were already triggered back in uv?","date":"2011-09-16T10:44:00.150Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: later!","date":"2011-09-16T10:44:07.526Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: sorry, I have to talk to my boss now :-)","date":"2011-09-16T10:44:38.625Z","type":"message"}
{"nick":"pietern","message":"np, later","date":"2011-09-16T10:44:46.186Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: re \u000301btw, windows does not guarantee that a iocp bypass means that the previous writes requiring iocp were \u000305already triggered back in uv?\u0003\u000301","date":"2011-09-16T10:53:17.728Z","type":"message"}
{"nick":"piscisaureus","message":"It doesn't","date":"2011-09-16T10:53:17.932Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/libuv:\u0002 \u000303erickt\u0003: Fix a couple warnings, added some asserts, and compiling with gcc-4.5 and mingw-w64 - https://github.com/joyent/libuv/issues/186","date":"2011-09-16T11:11:43.258Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: I can think of trick that probably works to avoid write cb reordering. It hurts perf only when reordeing is a risk - but I am kinda afraid to apply it, because if people have code that triggers it a lot, they will get worse perf without knowing why it happens.","date":"2011-09-16T11:18:43.122Z","type":"message"}
{"nick":"pietern","message":"piscisaureus: I might have an idea as well...","date":"2011-09-16T11:20:21.739Z","type":"message"}
{"nick":"piscisaureus","message":"oh, nice :-)","date":"2011-09-16T11:20:29.012Z","type":"message"}
{"nick":"pietern","message":"one that shouldn't hurt perf","date":"2011-09-16T11:20:30.578Z","type":"message"}
{"nick":"piscisaureus","message":"shoot","date":"2011-09-16T11:20:42.703Z","type":"message"}
{"nick":"pietern","message":"this also tackles the issue that failed writes cbs get a fresh stack","date":"2011-09-16T11:21:02.437Z","type":"message"}
{"nick":"pietern","message":"instead of returning -1 from the write call","date":"2011-09-16T11:21:10.584Z","type":"message"}
{"nick":"pietern","message":"what aboutâ€¦ *drumroll*","date":"2011-09-16T11:21:16.974Z","type":"message"}
{"nick":"pietern","message":"making a linked list out of all write requests","date":"2011-09-16T11:21:34.783Z","type":"message"}
{"nick":"pietern","message":"adding onto the tail from uv_write","date":"2011-09-16T11:21:39.592Z","type":"message"}
{"nick":"piscisaureus","message":"I am going to think about this during lunch :-)","date":"2011-09-16T11:22:02.305Z","type":"message"}
{"nick":"pietern","message":"when the iocp fires, it is marked as done, and calls its cb IFF it is the head of the list","date":"2011-09-16T11:22:02.819Z","type":"message"}
{"nick":"piscisaureus","message":"yeah actually I considered that but then I thought about beren op de weg","date":"2011-09-16T11:22:33.229Z","type":"message"}
{"nick":"piscisaureus","message":"let me consider that again","date":"2011-09-16T11:22:41.605Z","type":"message"}
{"nick":"pietern","message":"when the iocp is bypassed, the uv_process_tcp_write is called by the loop as well, and also called IFF head of list","date":"2011-09-16T11:22:47.887Z","type":"message"}
{"nick":"pietern","message":"when one is head of the list, it can trigger every cb while(done)","date":"2011-09-16T11:23:02.253Z","type":"message"}
{"nick":"pietern","message":"can't think of any beren op de weg, but it's still a fresh idea","date":"2011-09-16T11:23:26.673Z","type":"message"}
{"nick":"pietern","message":"letting it sink as well","date":"2011-09-16T11:23:29.457Z","type":"message"}
{"nick":"pietern","message":"and going to work on smth else","date":"2011-09-16T11:23:34.543Z","type":"message"}
{"nick":"pietern","message":"have a good lunch :)","date":"2011-09-16T11:23:38.175Z","type":"message"}
{"nick":"pietern","new_nick":"pietern_afk","date":"2011-09-16T11:23:48.395Z","type":"nick"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303telemachus\u0003: Two test failures for v0.4.12 on OSX Lion - https://github.com/joyent/node/issues/1721","date":"2011-09-16T11:46:43.247Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: this probably does it as well: https://gist.github.com/3f5b4b1c654ebb21ce55","date":"2011-09-16T12:06:29.106Z","type":"message"}
{"nick":"piscisaureus","message":"with perf hazard","date":"2011-09-16T12:06:37.655Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: yep","date":"2011-09-16T12:07:20.737Z","type":"message"}
{"nick":"pietern_afk","message":"going through the cp when there are pending write reqs","date":"2011-09-16T12:07:49.155Z","type":"message"}
{"nick":"pietern_afk","message":"can be bypassed with a linked list, but adds some complexity","date":"2011-09-16T12:08:02.276Z","type":"message"}
{"nick":"dmkbot1","message":"\u0002joyent/node:\u0002 \u000303BillBarnhill\u0003: Fix memory allocation in uv__fs_after - https://github.com/joyent/node/issues/1686","date":"2011-09-16T12:51:43.220Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: here?","date":"2011-09-16T13:48:07.046Z","type":"message"}
{"nick":"dmkbot","date":"2011-09-16T13:56:58.084Z","type":"join"}
{"nick":"dmkbot1","reason":"Ping timeout: 252 seconds","date":"2011-09-16T13:59:56.113Z","type":"quit"}
{"nick":"erickt","date":"2011-09-16T14:01:47.296Z","type":"join"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303hildjj\u0003: Results of stat() incorrect, don't match statSync - https://github.com/joyent/node/issues/1401","date":"2011-09-16T14:11:55.269Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: https://gist.github.com/93bffdb246545f272a8f","date":"2011-09-16T14:25:52.154Z","type":"message"}
{"nick":"pietern_afk","message":"couldn't help implementing it ;)","date":"2011-09-16T14:25:59.472Z","type":"message"}
{"nick":"pietern_afk","message":"but don't have a windows env ready","date":"2011-09-16T14:26:07.331Z","type":"message"}
{"nick":"pietern_afk","message":"(can't get gyp to run under cygwin, some error with python)","date":"2011-09-16T14:26:19.346Z","type":"message"}
{"nick":"pietern_afk","message":"so not sure if it works","date":"2011-09-16T14:26:26.895Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: don't use cygwin - use mingw or msvc","date":"2011-09-16T14:29:28.620Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: how can I get gyp to run there?","date":"2011-09-16T14:29:55.573Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: with mingw just use the static makefile","date":"2011-09-16T14:30:35.081Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: for msvc you have to checkout gyp to the build/gyp directory. Make sure you have python. Then run `vcbuild.bat nobuild`","date":"2011-09-16T14:31:33.258Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: any win python is ok? tried cygwin but that failed miserably","date":"2011-09-16T14:32:08.328Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: we all hate cygwin, we're moving away from it and I don't feel like figuring it out now :-)","date":"2011-09-16T14:32:37.886Z","type":"message"}
{"nick":"piscisaureus","message":"I would advice to install python 2.x","date":"2011-09-16T14:32:52.367Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: anyway, that gist should force write callback ordering without perf penalty","date":"2011-09-16T14:35:15.249Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: can you publish that patch as a proper git patch?","date":"2011-09-16T14:45:25.342Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: I have trouble applying it.","date":"2011-09-16T14:45:36.672Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: sure","date":"2011-09-16T14:45:44.686Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: you could also just push it to your private repo","date":"2011-09-16T14:45:56.884Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303mikeal\u0003: streams2 - https://github.com/joyent/node/issues/1681","date":"2011-09-16T14:46:55.171Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: https://github.com/pietern/libuv/tree/win-write-order","date":"2011-09-16T14:47:39.887Z","type":"message"}
{"nick":"pietern_afk","message":"never compiled it","date":"2011-09-16T14:47:43.587Z","type":"message"}
{"nick":"pietern_afk","message":"trying to get that to work now..","date":"2011-09-16T14:47:58.101Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: btw how do you debug tests that abort()?","date":"2011-09-16T14:48:41.282Z","type":"message"}
{"nick":"pietern_afk","message":"msvc just bails here","date":"2011-09-16T14:48:47.200Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: yes that's very annoying","date":"2011-09-16T14:49:13.232Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: Usually I just insert a breakpoint or put something like *((char*) NULL) = 0 there","date":"2011-09-16T14:49:50.897Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: this apparently isn't the holy grail","date":"2011-09-16T14:58:40.381Z","type":"message"}
{"nick":"pietern_afk","message":"lots of errors","date":"2011-09-16T14:58:42.297Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: do all requests need to have this next_req field","date":"2011-09-16T14:58:45.643Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: yes - but I can get it to compile :-)","date":"2011-09-16T14:58:59.012Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: with some edits here and there probably","date":"2011-09-16T14:59:14.719Z","type":"message"}
{"nick":"pietern_afk","message":"there were some copy/paste errors","date":"2011-09-16T14:59:26.391Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: I made an error","date":"2011-09-16T14:59:50.501Z","type":"message"}
{"nick":"pietern_afk","message":"this list of writes should be parallel to the existing one","date":"2011-09-16T15:00:03.056Z","type":"message"}
{"nick":"pietern_afk","message":"so next_req cannot be reused","date":"2011-09-16T15:00:10.636Z","type":"message"}
{"nick":"pietern_afk","message":"stay tuned, patching this stuff ;)","date":"2011-09-16T15:00:16.742Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: ok","date":"2011-09-16T15:00:32.605Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: I already caught that one :-)","date":"2011-09-16T15:00:40.968Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: it is not bad to have this queue btw - we're going to need something like it anyway to suppport writev with >1 buffer on pipes and file streams","date":"2011-09-16T15:01:23.234Z","type":"message"}
{"nick":"pietern_afk","message":"because win doesn't do posix writev?","date":"2011-09-16T15:01:56.727Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: it does only for sockets","date":"2011-09-16T15:02:09.284Z","type":"message"}
{"nick":"piscisaureus","message":"and it can do something like that for files but it's not usable","date":"2011-09-16T15:02:28.531Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: right now we just die if the user tries to write multiple buffers at once to a pipe","date":"2011-09-16T15:03:04.281Z","type":"message"}
{"nick":"piscisaureus","message":"and file streams are not yet implemented","date":"2011-09-16T15:03:14.075Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: you can fire off as many writes to be completed later as you want?","date":"2011-09-16T15:04:09.806Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: yes","date":"2011-09-16T15:04:21.672Z","type":"message"}
{"nick":"pietern_afk","message":"or does it bail after N pending completion requests","date":"2011-09-16T15:04:22.419Z","type":"message"}
{"nick":"pietern_afk","message":"that's cool","date":"2011-09-16T15:04:27.824Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: it bails only if you fill exceed the limit for unpaged kernel memory","date":"2011-09-16T15:05:19.475Z","type":"message"}
{"nick":"piscisaureus","message":"that's very unlikely but it could happen if you queue like 100000 writes or something","date":"2011-09-16T15:05:49.151Z","type":"message"}
{"nick":"piscisaureus","message":"pietern: why do you start the iteration at loop->pending_reqs_tail in uv_process_tcp_write?","date":"2011-09-16T15:08:42.293Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: copy/paste typo","date":"2011-09-16T15:09:46.029Z","type":"message"}
{"nick":"pietern_afk","message":"I have a new patch ","date":"2011-09-16T15:09:50.618Z","type":"message"}
{"nick":"pietern_afk","message":"one sec","date":"2011-09-16T15:09:51.488Z","type":"message"}
{"nick":"pietern_afk","message":"testing if it compiles without warnings ;)","date":"2011-09-16T15:09:57.126Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: ok","date":"2011-09-16T15:09:57.609Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: argh msvc recompiles everything","date":"2011-09-16T15:11:52.506Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: pushed a new commit","date":"2011-09-16T15:12:24.632Z","type":"message"}
{"nick":"pietern_afk","message":"that should work","date":"2011-09-16T15:12:26.386Z","type":"message"}
{"nick":"bnoordhuis","date":"2011-09-16T15:12:50.278Z","type":"join"}
{"nick":"pietern_afk","message":"piscisaureus: tests pass.. so that's good","date":"2011-09-16T15:14:18.768Z","type":"message"}
{"nick":"pietern_afk","message":"there are a couple of fs_* tests that fail, that's expected?","date":"2011-09-16T15:14:32.974Z","type":"message"}
{"nick":"piscisaureus","message":"yes, that's unrelated","date":"2011-09-16T15:15:09.256Z","type":"message"}
{"nick":"piscisaureus","message":"they're pending getting fixed","date":"2011-09-16T15:15:16.272Z","type":"message"}
{"nick":"piscisaureus","message":"Now we have to see whether it fixes https://gist.github.com/40c7e07487731f91389a on node :-)","date":"2011-09-16T15:16:11.126Z","type":"message"}
{"nick":"piscisaureus","message":"And we have to discuss whether we want write cb ordering still... but since this can be done without perf regression I think it's likely to get in","date":"2011-09-16T15:16:49.982Z","type":"message"}
{"nick":"pietern_afk","message":" sweet!","date":"2011-09-16T15:18:02.625Z","type":"message"}
{"nick":"pietern_afk","message":"if it doesn't fix that one, it's immediately clear that it isn't the write ordering","date":"2011-09-16T15:18:28.438Z","type":"message"}
{"nick":"piscisaureus","message":"heh :-)","date":"2011-09-16T15:18:47.488Z","type":"message"}
{"nick":"piscisaureus","message":"it's not","date":"2011-09-16T15:18:50.853Z","type":"message"}
{"nick":"piscisaureus","message":"if it doesn't fix the test then your patch is broken","date":"2011-09-16T15:19:01.333Z","type":"message"}
{"nick":"piscisaureus","message":":-p","date":"2011-09-16T15:19:06.421Z","type":"message"}
{"nick":"pietern_afk","message":"argh! ","date":"2011-09-16T15:19:09.559Z","type":"message"}
{"nick":"pietern_afk","message":"hehe","date":"2011-09-16T15:19:11.650Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303mikeal\u0003: streams2 - https://github.com/joyent/node/issues/1681","date":"2011-09-16T15:21:55.236Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: something is wrong with that patch","date":"2011-09-16T15:30:31.723Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: ok","date":"2011-09-16T15:30:37.646Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: what's going on?","date":"2011-09-16T15:31:02.086Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: if I run the benchmarks the tcp_pump1 throughput drops from 1.5 to 0.5 gbit/s","date":"2011-09-16T15:31:03.307Z","type":"message"}
{"nick":"pietern_afk","message":"ok, checking it out","date":"2011-09-16T15:31:16.300Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: looks like the only way that can happen is the delay between do_write() and write_cb()","date":"2011-09-16T15:33:53.184Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: those writes complete before doing a new write","date":"2011-09-16T15:34:49.040Z","type":"message"}
{"nick":"pietern_afk","message":"so it shouldn't be a contention thing","date":"2011-09-16T15:34:59.536Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: that indeed seems unlikely","date":"2011-09-16T15:35:14.901Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: but are you seeing it as well or not?","date":"2011-09-16T15:35:23.334Z","type":"message"}
{"nick":"pietern_afk","message":"does this code checkout include your previous patch that added the write to iocp?","date":"2011-09-16T15:35:25.423Z","type":"message"}
{"nick":"piscisaureus","message":"just try \"vcbuild release bench\" on both your patch branch and origin/master","date":"2011-09-16T15:35:56.439Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: obviously I backed that out :-)","date":"2011-09-16T15:36:13.390Z","type":"message"}
{"nick":"pietern_afk","message":"ok thanks for the tip","date":"2011-09-16T15:36:35.427Z","type":"message"}
{"nick":"pietern_afk","message":"I have a VM with win7 running","date":"2011-09-16T15:36:45.397Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303hildjj\u0003: Results of stat() incorrect, don't match statSync - https://github.com/joyent/node/issues/1401","date":"2011-09-16T15:36:55.156Z","type":"message"}
{"nick":"piscisaureus","message":"I have a macbook with win7 running","date":"2011-09-16T15:37:05.315Z","type":"message"}
{"nick":"piscisaureus","message":"what's worse?","date":"2011-09-16T15:37:13.537Z","type":"message"}
{"nick":"pietern_afk","message":";)","date":"2011-09-16T15:37:31.617Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: pump1 with patch = 0.5gbit","date":"2011-09-16T15:41:24.669Z","type":"message"}
{"nick":"pietern_afk","message":"checking the original now","date":"2011-09-16T15:41:29.546Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: hmm. the throughput seems highly variable","date":"2011-09-16T15:41:34.250Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303hildjj\u0003: Results of stat() incorrect, don't match statSync - https://github.com/joyent/node/issues/1401","date":"2011-09-16T15:41:55.195Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: indeed, couple more runs with the patch shows variation between 0.2gbit and 2.1gbit","date":"2011-09-16T15:42:47.379Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: pls compare with origin/master","date":"2011-09-16T15:43:15.292Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: will do","date":"2011-09-16T15:43:22.030Z","type":"message"}
{"nick":"piscisaureus","message":"I am also seeing huge variance","date":"2011-09-16T15:43:26.915Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: any way to have msvc not rebuild *everything* for every build?","date":"2011-09-16T15:43:49.815Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: hmm. it doesn't do that for me ...","date":"2011-09-16T15:44:07.821Z","type":"message"}
{"nick":"piscisaureus","message":"I don't know","date":"2011-09-16T15:44:11.164Z","type":"message"}
{"nick":"pietern_afk","message":"ok","date":"2011-09-16T15:44:23.607Z","type":"message"}
{"nick":"pietern_afk","message":"maybe because I'm using the repo over a network share","date":"2011-09-16T15:44:33.752Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: same variation","date":"2011-09-16T15:45:24.003Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-09-16T15:45:30.446Z","type":"quit"}
{"nick":"pietern_afk","message":"~0.1 through ~2.0","date":"2011-09-16T15:45:32.537Z","type":"message"}
{"nick":"piscisaureus","message":"okay","date":"2011-09-16T15:45:35.517Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303hildjj\u0003: Results of stat() incorrect, don't match statSync - https://github.com/joyent/node/issues/1401","date":"2011-09-16T15:46:55.260Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: I'm kind of gone","date":"2011-09-16T15:47:17.150Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: have a good weekend","date":"2011-09-16T15:47:25.696Z","type":"message"}
{"nick":"piscisaureus","message":"pietern_afk: I think the variance is due to the silly receive window backoff timer.","date":"2011-09-16T15:47:33.898Z","type":"message"}
{"nick":"piscisaureus","message":"we've had issues with that before","date":"2011-09-16T15:47:51.150Z","type":"message"}
{"nick":"pietern_afk","message":"piscisaureus: I hope the patch is OK, and if it is the write ordering can hopefully make it","date":"2011-09-16T15:49:15.770Z","type":"message"}
{"nick":"pietern_afk","message":"can hack around it in user space, but rather have it as I'd expect in the core ;)","date":"2011-09-16T15:49:31.341Z","type":"message"}
{"nick":"jonaslund","reason":"Ping timeout: 258 seconds","date":"2011-09-16T15:51:39.151Z","type":"quit"}
{"nick":"brson","date":"2011-09-16T15:52:02.077Z","type":"join"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.4\u000f * r\u0002ed44098\u000f \u000310\u000f/ deps/libev/wscript \u0002:\u000f ","date":"2011-09-16T15:57:33.826Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f build: fix SYS_clock_gettime feature check","date":"2011-09-16T15:57:34.034Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f execute=True makes it fail while cross-compiling.","date":"2011-09-16T15:57:34.034Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Fixes #1541. - http://git.io/hzfpIw","date":"2011-09-16T15:57:34.034Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: so we're going together to GOTO?","date":"2011-09-16T15:59:52.925Z","type":"message"}
{"nick":"piscisaureus","message":"+1","date":"2011-09-16T15:59:56.416Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: seems like it","date":"2011-09-16T16:00:22.626Z","type":"message"}
{"nick":"bnoordhuis","message":"we're not sharing a hotel room though >:(","date":"2011-09-16T16:00:32.469Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/libuv:\u0002 \u000303erickt\u0003: Fix a couple warnings, added some asserts, and compiling with gcc-4.5 and mingw-w64 - https://github.com/joyent/libuv/issues/186","date":"2011-09-16T16:01:55.171Z","type":"message"}
{"nick":"isaacs","date":"2011-09-16T16:05:53.396Z","type":"join"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303jbergstroem\u0003: running test GH-814 sometimes leaves trailing processes - https://github.com/joyent/node/issues/914","date":"2011-09-16T16:06:55.191Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303hildjj\u0003: Results of stat() incorrect, don't match statSync - https://github.com/joyent/node/issues/1401","date":"2011-09-16T16:06:56.178Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis I am kind on pietern's side now - I think for convenience we should guarantee write callback ordering","date":"2011-09-16T16:09:22.844Z","type":"message"}
{"nick":"piscisaureus","message":"We can prolly without performance impact","date":"2011-09-16T16:09:35.787Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: ^  same","date":"2011-09-16T16:09:51.116Z","type":"message"}
{"nick":"ryah","message":"yes, why not?","date":"2011-09-16T16:10:10.301Z","type":"message"}
{"nick":"piscisaureus","message":"okay","date":"2011-09-16T16:11:37.868Z","type":"message"}
{"nick":"piscisaureus","message":"it's just a diversion from our current path which is that we don't guarantee callback ordering","date":"2011-09-16T16:11:54.458Z","type":"message"}
{"nick":"piscisaureus","message":"I agree","date":"2011-09-16T16:11:59.161Z","type":"message"}
{"nick":"indutny","message":"ryah: sorry, no commits and pull requests. I'm super tired and was super busy all day :)","date":"2011-09-16T16:12:07.695Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: that's what i was proposing, right? :)","date":"2011-09-16T16:12:16.417Z","type":"message"}
{"nick":"piscisaureus","message":"it also complicates uv-win a bit, but we will fix node bug 1697 with it","date":"2011-09-16T16:12:28.782Z","type":"message"}
{"nick":"pietern_afk","message":"bnoordhuis: hola","date":"2011-09-16T16:13:29.328Z","type":"message"}
{"nick":"bnoordhuis","message":"pietern_afk: hela","date":"2011-09-16T16:13:45.732Z","type":"message"}
{"nick":"pietern_afk","message":"bnoordhuis: the assert error in uv__drain is caused by the write queue being empty, but the write_queue_size != 0","date":"2011-09-16T16:13:54.975Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, i've been working on that","date":"2011-09-16T16:14:07.025Z","type":"message"}
{"nick":"pietern_afk","message":"because of the partial write","date":"2011-09-16T16:14:07.900Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/libuv/compare/issue1720","date":"2011-09-16T16:14:14.769Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not fully functional yet though","date":"2011-09-16T16:14:25.612Z","type":"message"}
{"nick":"pietern_afk","message":"bnoordhuis: cool","date":"2011-09-16T16:15:55.307Z","type":"message"}
{"nick":"ryah","message":"indutny: np","date":"2011-09-16T16:16:03.180Z","type":"message"}
{"nick":"pietern_afk","message":"that makes the entire thing re-entrant","date":"2011-09-16T16:16:11.211Z","type":"message"}
{"nick":"pietern_afk","message":"you can keep calling uv_write against a disconnected socket","date":"2011-09-16T16:16:21.885Z","type":"message"}
{"nick":"pietern_afk","message":"and it won't break","date":"2011-09-16T16:16:35.525Z","type":"message"}
{"nick":"pietern_afk","message":"just call the cb with status=-1","date":"2011-09-16T16:16:41.329Z","type":"message"}
{"nick":"bnoordhuis","message":"that reminds me... ryah, did you figure out why that test was failing?","date":"2011-09-16T16:17:29.665Z","type":"message"}
{"nick":"pietern_afk","message":"have a good weekend guys, pleasure working with you on this","date":"2011-09-16T16:22:59.745Z","type":"message"}
{"nick":"pietern_afk","message":"going to the vrijdagmiddagborrel","date":"2011-09-16T16:23:07.246Z","type":"message"}
{"nick":"pietern_afk","message":"later!","date":"2011-09-16T16:23:19.449Z","type":"message"}
{"nick":"pietern_afk","reason":"Quit: pietern_afk","date":"2011-09-16T16:23:23.627Z","type":"quit"}
{"nick":"bnoordhuis","message":"ah, the vrijmibo... the one thing i miss working from home","date":"2011-09-16T16:24:57.294Z","type":"message"}
{"nick":"bnoordhuis","message":"no matter, i'll just create my own vrijmibo","date":"2011-09-16T16:25:16.287Z","type":"message"}
{"nick":"bnoordhuis","action":"opens another can","date":"2011-09-16T16:25:44.265Z","type":"action"}
{"nick":"piscisaureus","message":"yes I am also at the vrijmibo","date":"2011-09-16T16:27:46.943Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: no","date":"2011-09-16T16:30:47.685Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: it seems that when one write fails - it decrements the queue_size ","date":"2011-09-16T16:31:05.350Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: so after the uv_write call it looks like nothing is queued","date":"2011-09-16T16:31:18.275Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, back to the drawing board","date":"2011-09-16T16:32:05.428Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303isaacs\u0003: node -v in bash PROMPT_COMMAND causes assertion error - https://github.com/joyent/node/issues/1720","date":"2011-09-16T16:36:55.172Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i've got just the thing for you -> http://www.hanselman.com/blog/WebMatrixAndNodejsTheEasiestWayToGetStartedWithNodeOnWindows.aspx","date":"2011-09-16T16:38:58.272Z","type":"message"}
{"nick":"bnoordhuis","message":"so that tcp-write-error test passes on both linux and sunos","date":"2011-09-16T16:44:47.725Z","type":"message"}
{"nick":"bnoordhuis","message":"coincidentally, we should probably SIG_IGN SIGPIPE while running tests","date":"2011-09-16T16:45:17.410Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: is there a mac i can log into?","date":"2011-09-16T16:46:08.001Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: you can log into mine","date":"2011-09-16T16:51:27.809Z","type":"message"}
{"nick":"ryah","message":"oh hm - ","date":"2011-09-16T16:51:35.996Z","type":"message"}
{"nick":"ryah","message":"i guess im behind a nat","date":"2011-09-16T16:51:42.640Z","type":"message"}
{"nick":"ryah","message":"one sec, i'll set up a tunnel","date":"2011-09-16T16:52:23.001Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 260 seconds","date":"2011-09-16T17:15:48.277Z","type":"quit"}
{"nick":"erickt","date":"2011-09-16T17:20:23.867Z","type":"join"}
{"nick":"ryah","message":"meh. i can't figure it out","date":"2011-09-16T17:21:25.173Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00020ad28fd\u000f \u000310\u000f/ src/node_crypto.cc \u0002:\u000f ","date":"2011-09-16T17:21:39.531Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f crypto: fix error message buffer overrun","date":"2011-09-16T17:21:39.742Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f ERR_error_string() expects a buffer of at least 256 bytes, the input buffer","date":"2011-09-16T17:21:39.742Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f was not even half that size. Use ERR_error_string_n() instead. - http://git.io/V_GTiQ","date":"2011-09-16T17:21:39.742Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: ssh -R to some machine i can log into as well?","date":"2011-09-16T17:22:04.984Z","type":"message"}
{"nick":"bnoordhuis","message":"nodejs.org or i can set up an account for you on my joyent machine","date":"2011-09-16T17:22:28.944Z","type":"message"}
{"nick":"ryah","message":"oops. i didn't have sshd turned on :)","date":"2011-09-16T17:23:26.945Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: yeah i did this:","date":"2011-09-16T17:24:17.337Z","type":"message"}
{"nick":"ryah","message":"ssh -R 10000:localhost:22 node@nodejs.org","date":"2011-09-16T17:24:26.833Z","type":"message"}
{"nick":"bnoordhuis","message":"hah okay","date":"2011-09-16T17:24:43.109Z","type":"message"}
{"nick":"ryah","message":"you have a user bnoordhuis@mylaptop here","date":"2011-09-16T17:25:08.111Z","type":"message"}
{"nick":"bnoordhuis","message":"cool, let me try it","date":"2011-09-16T17:25:17.377Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: so, what's going on with the reordering bug?","date":"2011-09-16T17:25:20.682Z","type":"message"}
{"nick":"ryah","message":"i should have just spent the last 30 minutes debugging it instead of trying to give you ssh access -_-","date":"2011-09-16T17:26:06.704Z","type":"message"}
{"nick":"igorzi","message":"ryah: bnoordhuis: piscisaureus: can we move the call 30 min later today?","date":"2011-09-16T17:27:47.723Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: sure","date":"2011-09-16T17:27:56.178Z","type":"message"}
{"nick":"igorzi","message":"(i have a meeting)","date":"2011-09-16T17:28:06.757Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: ryah: any new ideas for uv_fs_event api?","date":"2011-09-16T17:33:24.631Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: not having much luck with the tunnel so far","date":"2011-09-16T17:34:48.969Z","type":"message"}
{"nick":"bnoordhuis","message":"no netcat or nmap installed but a python one-liner seems to suggest that there's not an actual connection on localhost:10000","date":"2011-09-16T17:35:21.350Z","type":"message"}
{"nick":"bnoordhuis","message":"ssh *is* listening on that address though","date":"2011-09-16T17:35:32.754Z","type":"message"}
{"nick":"ryah","message":"igorzi: replying to the email now","date":"2011-09-16T17:35:42.857Z","type":"message"}
{"nick":"bnoordhuis","message":"igorzi: i don't really like the idea of platform-dependent functions","date":"2011-09-16T17:35:57.309Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: sorry - i can't get it going","date":"2011-09-16T17:35:57.655Z","type":"message"}
{"nick":"ryah","message":"isaacs: do you have a mac with an ip?","date":"2011-09-16T17:36:03.576Z","type":"message"}
{"nick":"isaacs","message":"ryah: a public ip?","date":"2011-09-16T17:36:11.467Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-09-16T17:36:13.909Z","type":"message"}
{"nick":"isaacs","message":"no","date":"2011-09-16T17:36:15.826Z","type":"message"}
{"nick":"ryah","message":"that he can ssh into","date":"2011-09-16T17:36:17.588Z","type":"message"}
{"nick":"ryah","message":"hm..","date":"2011-09-16T17:36:23.862Z","type":"message"}
{"nick":"isaacs","message":"i could set up a tunnel through another server, though","date":"2011-09-16T17:36:34.024Z","type":"message"}
{"nick":"ryah","message":"isaacs: if you can.. somehow im not having much luck","date":"2011-09-16T17:36:49.393Z","type":"message"}
{"nick":"isaacs","message":"ssh from the mac to the public server, map 22 here to 2222 there","date":"2011-09-16T17:36:53.399Z","type":"message"}
{"nick":"isaacs","message":"k, just a sec..","date":"2011-09-16T17:36:56.042Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: don't hurry, dinner's ready here","date":"2011-09-16T17:37:31.041Z","type":"message"}
{"nick":"bnoordhuis","message":"back in 45 minutes","date":"2011-09-16T17:37:37.314Z","type":"message"}
{"nick":"Bert19474378","date":"2011-09-16T17:40:20.029Z","type":"join"}
{"nick":"Bert19474378","message":"hey","date":"2011-09-16T17:40:28.422Z","type":"message"}
{"nick":"Bert19474378","message":"i am not being difficult so much...","date":"2011-09-16T17:41:01.336Z","type":"message"}
{"nick":"Bert19474378","message":"I can't be on the call at 8pm or 9pm","date":"2011-09-16T17:41:26.767Z","type":"message"}
{"nick":"Bert19474378","message":"so that's neither the old nor the  new one","date":"2011-09-16T17:42:21.532Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: send me your public key.  i got it working","date":"2011-09-16T17:53:34.023Z","type":"message"}
{"nick":"ryah","message":"hey guys - sorry","date":"2011-09-16T18:12:01.989Z","type":"message"}
{"nick":"ryah","message":"let's skype","date":"2011-09-16T18:12:04.627Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: yt?","date":"2011-09-16T18:12:56.165Z","type":"message"}
{"nick":"ryah","message":"igorzi: yt?","date":"2011-09-16T18:13:09.097Z","type":"message"}
{"nick":"Bert19474378","message":"I can Skype now","date":"2011-09-16T18:25:51.328Z","type":"message"}
{"nick":"Bert19474378","message":"for the next 15 minutes","date":"2011-09-16T18:26:06.001Z","type":"message"}
{"nick":"ryah","message":"igorzi: http://drupal.org/project/token","date":"2011-09-16T18:31:17.445Z","type":"message"}
{"nick":"ryah","message":"oops that wasnt for igore","date":"2011-09-16T18:31:23.018Z","type":"message"}
{"nick":"ryah","message":"isaacs: http://drupal.org/project/token","date":"2011-09-16T18:31:26.329Z","type":"message"}
{"nick":"ryah","message":"isaacs: user pages http://drupal.org/user/16496","date":"2011-09-16T18:33:02.717Z","type":"message"}
{"nick":"ryah","message":"sorry guys - our scrum for today didn't happen","date":"2011-09-16T18:33:33.402Z","type":"message"}
{"nick":"isaacs","message":"that's pretty rad","date":"2011-09-16T18:34:20.523Z","type":"message"}
{"nick":"igorzi","message":"ryah: no call today?","date":"2011-09-16T18:35:40.539Z","type":"message"}
{"nick":"Bert19474378","message":"bnoordhuis: did you do any prefork benchmarks yet?","date":"2011-09-16T18:36:16.518Z","type":"message"}
{"nick":"Bert19474378","new_nick":"Bert___","date":"2011-09-16T18:36:38.159Z","type":"nick"}
{"nick":"igorzi","message":"Bert___: ryah: i was thinking that maybe we could do another benchmark on windows that does multithreaded libuv server (with a single iocp)?  that'll kind of give us best-case scenario, which would be a good datapoint.","date":"2011-09-16T18:37:30.018Z","type":"message"}
{"nick":"Bert___","message":"yes. +1","date":"2011-09-16T18:38:09.404Z","type":"message"}
{"nick":"mraleph","date":"2011-09-16T18:38:39.050Z","type":"join"}
{"nick":"igorzi","message":"Bert___: ok, i'll do that.","date":"2011-09-16T18:38:45.144Z","type":"message"}
{"nick":"Bert___","message":"maybe just build it on top of raw iocp?","date":"2011-09-16T18:38:47.516Z","type":"message"}
{"nick":"Bert___","message":"igorzi: wow. where does all your time coke from?","date":"2011-09-16T18:39:27.211Z","type":"message"}
{"nick":"Bert___","message":"coke -> come","date":"2011-09-16T18:39:48.157Z","type":"message"}
{"nick":"Bert___","message":"but yeah +1","date":"2011-09-16T18:40:01.102Z","type":"message"}
{"nick":"igorzi","message":"Bert___: heh.. i don't get out much these days... with 10-month old baby :)","date":"2011-09-16T18:40:40.047Z","type":"message"}
{"nick":"Bert___","message":"heh","date":"2011-09-16T18:41:16.583Z","type":"message"}
{"nick":"Bert___","message":"I should have a baby too then :-)","date":"2011-09-16T18:41:37.176Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303jbergstroem\u0003: running test GH-814 sometimes leaves trailing processes - https://github.com/joyent/node/issues/914","date":"2011-09-16T18:41:55.201Z","type":"message"}
{"nick":"Bert___","reason":"Ping timeout: 252 seconds","date":"2011-09-16T18:51:50.049Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-09-16T18:56:40.052Z","type":"join"}
{"nick":"ryah","message":"igorzi++","date":"2011-09-16T18:58:43.166Z","type":"message"}
{"nick":"bnoordhuis","message":"sorry i'm late, old house plumbing emergency","date":"2011-09-16T18:59:04.975Z","type":"message"}
{"nick":"bnoordhuis","message":"did you guys have the call yet?","date":"2011-09-16T18:59:31.570Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: just isaacs and me. it's okay- let's just skip it for today","date":"2011-09-16T19:00:01.799Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, cool","date":"2011-09-16T19:00:17.451Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i've got that ssh tunnel set up","date":"2011-09-16T19:00:20.761Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: wanna send me your pubkey?","date":"2011-09-16T19:00:30.523Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: pm'd","date":"2011-09-16T19:00:44.641Z","type":"message"}
{"nick":"isaacs","message":"kewl, just a sec...","date":"2011-09-16T19:01:26.764Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: no, no benchmarks yet","date":"2011-09-16T19:03:38.614Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 260 seconds","date":"2011-09-16T19:11:24.240Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-09-16T19:34:33.683Z","type":"quit"}
{"nick":"bnoordhuis","message":"ryah: that test always seems to pass on isaacs's machine...","date":"2011-09-16T19:35:13.969Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: okay...","date":"2011-09-16T20:08:59.544Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i will investigate on my end","date":"2011-09-16T20:09:08.459Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2011-09-16T20:09:12.331Z","type":"message"}
{"nick":"ryah","message":"i need to get some food fist","date":"2011-09-16T20:09:12.817Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: can you take a long hard look at https://github.com/joyent/node/commit/1d37ad0","date":"2011-09-16T20:09:43.195Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2011-09-16T20:09:52.630Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: im worried it might affect perf","date":"2011-09-16T20:10:02.473Z","type":"message"}
{"nick":"ryah","message":"effect","date":"2011-09-16T20:10:20.554Z","type":"message"}
{"nick":"bnoordhuis","message":"that reminds me, we need https benchmarks","date":"2011-09-16T20:10:20.757Z","type":"message"}
{"nick":"bnoordhuis","message":"affect :)","date":"2011-09-16T20:10:26.305Z","type":"message"}
{"nick":"isaacs","message":"ryah: \"effect perf\" ==> \"cause there to be perf\",  affect perf --> \"have some effect on perf\"","date":"2011-09-16T20:13:43.418Z","type":"message"}
{"nick":"isaacs","message":"english is stupid","date":"2011-09-16T20:13:49.172Z","type":"message"}
{"nick":"DrPizza","message":"affect","date":"2011-09-16T20:23:29.834Z","type":"message"}
{"nick":"DrPizza","message":"oh","date":"2011-09-16T20:23:31.951Z","type":"message"}
{"nick":"isaacs","message":"the reason behind that, btw, is that one comes from \"ex ficire\", \"to bring out from\", and affect from \"ad ficire\" , \"to do to/at\"","date":"2011-09-16T20:25:39.450Z","type":"message"}
{"nick":"isaacs","message":"effect as a noun, then, has the sense of \"that which is brought out\".  affect as a noun means \"a state or pretense\", which is a completely different thing.","date":"2011-09-16T20:26:38.976Z","type":"message"}
{"nick":"isaacs","action":"so happy i learned this language before i could remember, it's probably really painful.","date":"2011-09-16T20:26:56.401Z","type":"action"}
{"nick":"bnoordhuis","message":"not to disparage your fine language","date":"2011-09-16T20:38:53.441Z","type":"message"}
{"nick":"bnoordhuis","message":"but english is rather simple compared to germanic or slavic languages","date":"2011-09-16T20:39:11.784Z","type":"message"}
{"nick":"bnoordhuis","message":"an easy and fairly regular grammar, no naamvallen","date":"2011-09-16T20:40:07.201Z","type":"message"}
{"nick":"DrPizza","message":"english's #1 problem is spelling and pronunciation","date":"2011-09-16T20:41:05.958Z","type":"message"}
{"nick":"DrPizza","message":"and the total lack of rules or regularity","date":"2011-09-16T20:41:33.180Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/node:\u0002 \u000303seebees\u0003: Tests for Sockets - https://github.com/joyent/node/issues/1699","date":"2011-09-16T20:41:55.028Z","type":"message"}
{"nick":"ryah","message":"an english spelling reform would be nice","date":"2011-09-16T20:47:47.875Z","type":"message"}
{"nick":"isaacs","message":"ryah: you'll have better luck reforming javascript","date":"2011-09-16T20:54:29.019Z","type":"message"}
{"nick":"isaacs","message":"DrPizza: the regularity only makes sense when you realize that our spelling captures etymology, rather than pronounciation","date":"2011-09-16T20:54:59.155Z","type":"message"}
{"nick":"isaacs","message":"which is why you really need to learn (at least) a little latin, greek, german, and french to be able to spell english words properly","date":"2011-09-16T20:55:25.169Z","type":"message"}
{"nick":"piscisaureus","date":"2011-09-16T20:56:31.222Z","type":"join"}
{"nick":"dmkbot","message":"\u0002joyent/libuv:\u0002 \u000303piscisaureus\u0003: uv_strerror woes - https://github.com/joyent/libuv/issues/187","date":"2011-09-16T21:06:55.044Z","type":"message"}
{"nick":"bnoordhuis","message":"why does this only work when stdin is a pipe? >:(","date":"2011-09-16T21:12:44.451Z","type":"message"}
{"nick":"bnoordhuis","message":"var conn = tls.connect(port, host, function() {","date":"2011-09-16T21:12:45.146Z","type":"message"}
{"nick":"bnoordhuis","message":"  conn.pipe(process.stdout);","date":"2011-09-16T21:12:45.356Z","type":"message"}
{"nick":"bnoordhuis","message":"  process.stdin.pipe(conn);","date":"2011-09-16T21:12:45.356Z","type":"message"}
{"nick":"bnoordhuis","message":"});","date":"2011-09-16T21:12:45.356Z","type":"message"}
{"nick":"bnoordhuis","message":"both with libuv and legacy btw","date":"2011-09-16T21:13:04.845Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: are you actually using node?","date":"2011-09-16T21:13:48.141Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: for a change","date":"2011-09-16T21:13:54.589Z","type":"message"}
{"nick":"piscisaureus","message":"hahahahahaha","date":"2011-09-16T21:14:02.103Z","type":"message"}
{"nick":"piscisaureus","message":"didn't they tell you when you got hire...","date":"2011-09-16T21:14:15.361Z","type":"message"}
{"nick":"piscisaureus","message":"d","date":"2011-09-16T21:14:17.628Z","type":"message"}
{"nick":"bnoordhuis","message":"but yeah, i'm going back to php","date":"2011-09-16T21:14:31.286Z","type":"message"}
{"nick":"piscisaureus","message":"node sucks monkey balls","date":"2011-09-16T21:14:31.498Z","type":"message"}
{"nick":"bnoordhuis","message":"to phode!","date":"2011-09-16T21:14:35.640Z","type":"message"}
{"nick":"piscisaureus","message":"fuck yeah!","date":"2011-09-16T21:14:46.336Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but did you get the hashmap working already?","date":"2011-09-16T21:15:01.404Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i promised myself i would but i haven't gotten around to it","date":"2011-09-16T21:15:22.141Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I haven't done anything since and this weekend it's not gonna happen either...","date":"2011-09-16T21:15:31.551Z","type":"message"}
{"nick":"piscisaureus","message":"so you have two days ...","date":"2011-09-16T21:15:42.705Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe sunday, tomorrow is family day","date":"2011-09-16T21:15:49.846Z","type":"message"}
{"nick":"piscisaureus","message":"ah","date":"2011-09-16T21:16:17.549Z","type":"message"}
{"nick":"piscisaureus","message":"family issues","date":"2011-09-16T21:16:22.253Z","type":"message"}
{"nick":"bnoordhuis","message":"those too","date":"2011-09-16T21:16:26.107Z","type":"message"}
{"nick":"piscisaureus","message":"I totally don't feel like coding any more","date":"2011-09-16T21:17:39.427Z","type":"message"}
{"nick":"piscisaureus","message":"I even didn't do so much node coding","date":"2011-09-16T21:18:29.874Z","type":"message"}
{"nick":"bnoordhuis","message":"how come?","date":"2011-09-16T21:18:52.757Z","type":"message"}
{"nick":"piscisaureus","message":"busy with other stuff","date":"2011-09-16T21:19:01.787Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, tls handshakes are really fscking expensive - 6 round trips just to set up the connection!","date":"2011-09-16T21:19:39.044Z","type":"message"}
{"nick":"piscisaureus","message":"preparing the presentation for monday, literature research for my thesis :-(","date":"2011-09-16T21:19:39.390Z","type":"message"}
{"nick":"bnoordhuis","message":"oh right, monday","date":"2011-09-16T21:19:45.365Z","type":"message"}
{"nick":"piscisaureus","message":"you gonna come still?","date":"2011-09-16T21:20:02.631Z","type":"message"}
{"nick":"bnoordhuis","message":"sure","date":"2011-09-16T21:20:04.910Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not a party if ben didn't crash it","date":"2011-09-16T21:20:17.516Z","type":"message"}
{"nick":"bnoordhuis","message":"when / how late is it?","date":"2011-09-16T21:20:44.985Z","type":"message"}
{"nick":"ryah","message":"isaacs: whats the commands for setting up an ssh tunnel?","date":"2011-09-16T21:21:00.920Z","type":"message"}
{"nick":"ryah","message":"i need bnoordhuis's help","date":"2011-09-16T21:21:05.084Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: http://kingsofcode.com/agenda","date":"2011-09-16T21:21:08.917Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: i'm here for you *pats shoulder*","date":"2011-09-16T21:21:36.756Z","type":"message"}
{"nick":"isaacs","message":"ryah: ssh izs.me -R 8022:localhost:22","date":"2011-09-16T21:21:37.104Z","type":"message"}
{"nick":"isaacs","message":"ryah: then he ssh's into izs.me, and then on izs.me ,does `ssh localhost -p 8022`","date":"2011-09-16T21:21:50.867Z","type":"message"}
{"nick":"isaacs","message":"ryah: but use your own server, of course :)","date":"2011-09-16T21:22:07.246Z","type":"message"}
{"nick":"isaacs","message":"and set up a user for ben, and add his keys in places.","date":"2011-09-16T21:22:15.003Z","type":"message"}
{"nick":"piscisaureus","message":"you really need a mac that badly?","date":"2011-09-16T21:23:00.859Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: so i should be there around 15.00 hours?","date":"2011-09-16T21:23:08.329Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: only to test on!","date":"2011-09-16T21:23:19.242Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: that's when I start. The rest is probably boring, so, yeah","date":"2011-09-16T21:23:58.533Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: ssh node@nodejs.org -p 8022","date":"2011-09-16T21:25:06.781Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: does that work?","date":"2011-09-16T21:25:21.773Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: asks me for a password","date":"2011-09-16T21:25:39.928Z","type":"message"}
{"nick":"bnoordhuis","message":"you're going to ask me for my pubkey again now, aren't you?","date":"2011-09-16T21:25:57.738Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: dinner afterwards?","date":"2011-09-16T21:27:46.290Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: sure","date":"2011-09-16T21:28:04.518Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: passwd nodenode","date":"2011-09-16T21:28:21.288Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: doesn't work","date":"2011-09-16T21:29:04.085Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: try again","date":"2011-09-16T21:29:08.443Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: still doesn't work","date":"2011-09-16T21:29:30.932Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: try ssh nodejs.org -p 8022","date":"2011-09-16T21:29:47.736Z","type":"message"}
{"nick":"bnoordhuis","message":"hurray","date":"2011-09-16T21:30:10.100Z","type":"message"}
{"nick":"bnoordhuis","action":"quickly changes the password","date":"2011-09-16T21:30:15.912Z","type":"action"}
{"nick":"ryah","message":"bnoordhuis: libuv is in that dir","date":"2011-09-16T21:30:24.317Z","type":"message"}
{"nick":"bnoordhuis","message":"and indeed it fails","date":"2011-09-16T21:32:30.284Z","type":"message"}
{"nick":"bnoordhuis","message":"stole your swap file","date":"2011-09-16T21:35:55.134Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: igorzi: ryah: so we do want to guarantee write callback ordering in libuv?","date":"2011-09-16T21:36:16.280Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2011-09-16T21:36:28.631Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: i didnt know we ever didn't guarantee it","date":"2011-09-16T21:39:27.899Z","type":"message"}
{"nick":"piscisaureus","message":"Okay, them I want to land pietern's patch - but he's got to sign the cla first ...","date":"2011-09-16T21:40:48.497Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: are you able to see what's happening?","date":"2011-09-16T21:43:43.388Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: not yet, it only happens sometimes","date":"2011-09-16T21:44:13.552Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Pieter Noordhuis\u000f \u000307writeorder\u000f * r\u0002f0044c0\u000f \u000310\u000f/ (6 files in 3 dirs)\u0002:\u000f win: guarantee write callback ordering - http://git.io/F-8T9Q","date":"2011-09-16T21:44:24.754Z","type":"message"}
{"nick":"bnoordhuis","message":"gdb, `print errno` -> $2 = <unknown type>","date":"2011-09-16T21:47:22.277Z","type":"message"}
{"nick":"bnoordhuis","message":"os x >:(","date":"2011-09-16T21:47:27.853Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/libuv:\u0002 \u000303piscisaureus\u0003: write callback order (windows) - https://github.com/joyent/libuv/issues/188","date":"2011-09-16T21:51:55.116Z","type":"message"}
{"nick":"dmkbot","message":"\u0002joyent/libuv:\u0002 \u000303piscisaureus\u0003: write callback order (windows) - https://github.com/joyent/libuv/issues/188","date":"2011-09-16T21:51:55.991Z","type":"message"}
{"nick":"piscisaureus","message":"dmkbot is quite chattly lately","date":"2011-09-16T21:52:14.920Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: did you try benchmarking it?  doesn't seem that it should cause any issues.. also, does it fix your node repro?","date":"2011-09-16T21:52:42.616Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: didn't seem to matter much, only the tcp-pump1 bench was showing weird figures","date":"2011-09-16T21:53:25.868Z","type":"message"}
{"nick":"piscisaureus","message":"variations between literally 100mbit and 1.5 gbit","date":"2011-09-16T21:53:53.740Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i grep /usr/include/sys/errno.h to find errnos","date":"2011-09-16T21:53:54.261Z","type":"message"}
{"nick":"piscisaureus","message":"but this patch made no difference","date":"2011-09-16T21:54:05.414Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: also \"print (int)errno\"","date":"2011-09-16T21:54:08.376Z","type":"message"}
{"nick":"bnoordhuis","message":"behold:","date":"2011-09-16T21:54:16.725Z","type":"message"}
{"nick":"bnoordhuis","message":"(gdb) r","date":"2011-09-16T21:54:17.592Z","type":"message"}
{"nick":"bnoordhuis","message":"`/Users/bnoordhuis/libuv/test/run-tests' has changed; re-reading symbols.","date":"2011-09-16T21:54:17.804Z","type":"message"}
{"nick":"bnoordhuis","message":"Starting program: /Users/bnoordhuis/libuv/test/run-tests tcp_write_error tcp_write_error","date":"2011-09-16T21:54:17.804Z","type":"message"}
{"nick":"bnoordhuis","message":"Segmentation fault","date":"2011-09-16T21:54:17.804Z","type":"message"}
{"nick":"ryah","message":"?","date":"2011-09-16T21:54:39.247Z","type":"message"}
{"nick":"bnoordhuis","message":"i somehow managed to make gdb crash","date":"2011-09-16T21:54:48.548Z","type":"message"}
{"nick":"ryah","message":"oh","date":"2011-09-16T21:54:54.966Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: btw, pro tip: `p (char*)strerror(errorno)`","date":"2011-09-16T21:55:53.436Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00028b754a9\u000f \u000310\u000f/ test/simple/test-regress-GH-1697.js \u0002:\u000f Add regression test for issue 1697 - http://git.io/1b1jHg","date":"2011-09-16T22:05:52.237Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: that bug is the last thing for v0.5.7","date":"2011-09-16T22:26:11.960Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: isaacs reports npm is running fine otherwise","date":"2011-09-16T22:26:20.321Z","type":"message"}
{"nick":"bnoordhuis","message":"so it's all down to poor ben again","date":"2011-09-16T22:27:04.554Z","type":"message"}
{"nick":"ryah","message":":)","date":"2011-09-16T22:27:08.974Z","type":"message"}
{"nick":"bnoordhuis","action":"cracks open another red bull","date":"2011-09-16T22:27:10.976Z","type":"action"}
{"nick":"ryah","message":"bnoordhuis: or leave it for me, but im so sleepy today","date":"2011-09-16T22:27:18.294Z","type":"message"}
{"nick":"ryah","message":"sending emails to random people","date":"2011-09-16T22:27:24.035Z","type":"message"}
{"nick":"ryah","message":"etc","date":"2011-09-16T22:27:24.733Z","type":"message"}
{"nick":"bnoordhuis","message":"no, i'll fix it","date":"2011-09-16T22:27:30.128Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-09-16T22:27:30.651Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: there was nothing shocking in there right?","date":"2011-09-16T22:27:41.806Z","type":"message"}
{"nick":"bnoordhuis","message":"it's a bug in the test, not in the patch","date":"2011-09-16T22:27:42.018Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i dont know- i think until the callback fires the write_queue_size should be nonzero","date":"2011-09-16T22:28:27.830Z","type":"message"}
{"nick":"piscisaureus","message":"not on windows no","date":"2011-09-16T22:28:49.849Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I don't agree","date":"2011-09-16T22:28:54.950Z","type":"message"}
{"nick":"ryah","message":"why","date":"2011-09-16T22:29:02.356Z","type":"message"}
{"nick":"piscisaureus","message":"the write queue size is just a best effort estimate of how much is really in the kernel buffer","date":"2011-09-16T22:29:29.034Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: hmm","date":"2011-09-16T22:30:07.694Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: I think we added that so that if write_queue_size == 0 it advisable to write more","date":"2011-09-16T22:30:35.679Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: if a write completes synchronously then there's no need to count towards the queue size","date":"2011-09-16T22:31:19.330Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yes, agreed","date":"2011-09-16T22:32:25.258Z","type":"message"}
{"nick":"bnoordhuis","message":"btw, we need to handle SIGPIPE in the tests","date":"2011-09-16T22:32:59.671Z","type":"message"}
{"nick":"ryah","message":"what if it fails synchronously?","date":"2011-09-16T22:33:01.239Z","type":"message"}
{"nick":"bnoordhuis","message":"Program terminated with signal SIGPIPE, Broken pipe.","date":"2011-09-16T22:33:01.762Z","type":"message"}
{"nick":"ryah","message":"bnyeah","date":"2011-09-16T22:33:05.768Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: yeah","date":"2011-09-16T22:33:09.091Z","type":"message"}
{"nick":"rmustacc","date":"2011-09-16T22:35:36.461Z","type":"join"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002f00a5e6\u000f \u000310\u000f/ test/runner-unix.c \u0002:\u000f ignore SIGPIPE in tests - http://git.io/ohrBaQ","date":"2011-09-16T22:36:51.373Z","type":"message"}
{"nick":"bnoordhuis","message":"bah, bested!","date":"2011-09-16T22:37:59.636Z","type":"message"}
{"nick":"brson","date":"2011-09-16T22:38:15.197Z","type":"join"}
{"nick":"piscisaureus","message":"It would be really nice if we could get pietern's patch in 0.5.7 too","date":"2011-09-16T22:44:26.242Z","type":"message"}
{"nick":"piscisaureus","message":"it seems that it makes socketio unusable on windows which makes me very sad","date":"2011-09-16T22:44:47.774Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: we need to wait for his approval to include it in the project","date":"2011-09-16T22:46:44.682Z","type":"message"}
{"nick":"piscisaureus","message":"i know","date":"2011-09-16T22:47:22.774Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307file_watcher\u000f * r\u000219132b2\u000f \u000310\u000f/ (9 files in 5 dirs)\u0002:\u000f windows: file watcher (+5 more commits...) - http://git.io/N4bY7Q","date":"2011-09-16T22:47:39.054Z","type":"message"}
{"nick":"igorzi","message":"bnoordhuis: ^------ windows file watcher","date":"2011-09-16T22:48:10.277Z","type":"message"}
{"nick":"ryah","message":"oh shit","date":"2011-09-16T22:48:14.240Z","type":"message"}
{"nick":"ryah","message":"nice igor :)","date":"2011-09-16T22:48:22.143Z","type":"message"}
{"nick":"piscisaureus","message":"wow","date":"2011-09-16T22:48:28.004Z","type":"message"}
{"nick":"igorzi","message":"ahh come on, ReadDirectoryChangesW almost does everything for me :)","date":"2011-09-16T22:49:10.540Z","type":"message"}
{"nick":"piscisaureus","message":"can you also watch individual files with this","date":"2011-09-16T22:50:18.455Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-09-16T22:50:20.753Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yep","date":"2011-09-16T22:50:28.204Z","type":"message"}
{"nick":"piscisaureus","message":"oh nice","date":"2011-09-16T22:50:33.820Z","type":"message"}
{"nick":"igorzi","message":"now, we just need to agree on the api :)","date":"2011-09-16T22:50:50.154Z","type":"message"}
{"nick":"piscisaureus","message":"hehe","date":"2011-09-16T22:50:57.676Z","type":"message"}
{"nick":"piscisaureus","message":"yes I know","date":"2011-09-16T22:50:59.430Z","type":"message"}
{"nick":"piscisaureus","message":"+          case FILE_ACTION_ADDED:","date":"2011-09-16T22:51:10.458Z","type":"message"}
{"nick":"piscisaureus","message":"+          case FILE_ACTION_REMOVED:","date":"2011-09-16T22:51:10.664Z","type":"message"}
{"nick":"piscisaureus","message":"+          case FILE_ACTION_RENAMED_NEW_NAME:","date":"2011-09-16T22:51:10.665Z","type":"message"}
{"nick":"piscisaureus","message":"^-- igorzi: why is OLD_NAME not included?","date":"2011-09-16T22:51:22.686Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: OLD_NAME+NEW_NAME come as a pair of events.. should we fire both?","date":"2011-09-16T22:52:02.523Z","type":"message"}
{"nick":"rmustacc","message":"igorzi: You probably should, because you can always hit a case where you're only going to get one of them.","date":"2011-09-16T22:52:20.891Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, we should :)","date":"2011-09-16T22:52:21.145Z","type":"message"}
{"nick":"piscisaureus","message":"also, people can't distinguish this from delete+create","date":"2011-09-16T22:52:52.392Z","type":"message"}
{"nick":"piscisaureus","message":"so you want to have an event for the \"deleted filename\" and one for the added filename","date":"2011-09-16T22:53:06.578Z","type":"message"}
{"nick":"ryah","message":"ryan@mac1234:~/projects/libuv% ./test/run-tests --list | wc -l 64","date":"2011-09-16T22:54:38.280Z","type":"message"}
{"nick":"ryah","message":"er","date":"2011-09-16T22:54:46.512Z","type":"message"}
{"nick":"ryah","message":"ryan@mac1234:~/projects/libuv% ./test/run-tests --list | wc -l 64","date":"2011-09-16T22:54:47.036Z","type":"message"}
{"nick":"ryah","message":"ryan@mac1234:~/projects/libuv% ","date":"2011-09-16T22:54:47.732Z","type":"message"}
{"nick":"ryah","message":"meh","date":"2011-09-16T22:54:49.474Z","type":"message"}
{"nick":"ryah","message":"64 tests, is what i mean to say","date":"2011-09-16T22:54:57.479Z","type":"message"}
{"nick":"ryah","message":"libuv is looking good these days","date":"2011-09-16T22:55:02.179Z","type":"message"}
{"nick":"piscisaureus","message":"there are so many loose ends still","date":"2011-09-16T22:57:11.213Z","type":"message"}
{"nick":"ryah","message":"true","date":"2011-09-16T22:57:15.741Z","type":"message"}
{"nick":"ryah","message":"but i think libuv is now the best high-performance x-platform library","date":"2011-09-16T22:57:40.358Z","type":"message"}
{"nick":"ryah","message":"*networking library","date":"2011-09-16T22:57:56.226Z","type":"message"}
{"nick":"piscisaureus","message":"well... maybe","date":"2011-09-16T22:58:05.009Z","type":"message"}
{"nick":"piscisaureus","message":"depends on the metrics you choose","date":"2011-09-16T22:58:10.816Z","type":"message"}
{"nick":"piscisaureus","message":"but it has a good chance :-)","date":"2011-09-16T22:58:25.106Z","type":"message"}
{"nick":"ryah","message":"i would use it","date":"2011-09-16T22:58:35.413Z","type":"message"}
{"nick":"ryah","message":"does that count as a metric?","date":"2011-09-16T22:58:45.679Z","type":"message"}
{"nick":"piscisaureus","message":"me too","date":"2011-09-16T22:58:46.132Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-09-16T22:58:55.661Z","type":"quit"}
{"nick":"piscisaureus","message":"although I would not use vt100 emulation","date":"2011-09-16T22:59:14.555Z","type":"message"}
{"nick":"piscisaureus","message":":-p","date":"2011-09-16T22:59:17.338Z","type":"message"}
{"nick":"igorzi","message":"was someone trying to use it for redis?","date":"2011-09-16T22:59:19.289Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: someone, yes","date":"2011-09-16T22:59:32.080Z","type":"message"}
{"nick":"piscisaureus","message":"just as an experiment, they're not going to use it for real","date":"2011-09-16T22:59:44.923Z","type":"message"}
{"nick":"igorzi","message":"and, do you know how it went?","date":"2011-09-16T22:59:49.576Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: seems i fixed it","date":"2011-09-16T23:01:02.584Z","type":"message"}
{"nick":"bnoordhuis","message":"apparently os x is able to write out 1M in one go, on localhost anyway","date":"2011-09-16T23:01:19.416Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: you sure? when i looked into i was getting errors like ECONNREFUSED ...","date":"2011-09-16T23:01:47.539Z","type":"message"}
{"nick":"bnoordhuis","message":"i updated the test to not shutdown the server until the first packet is received from the client","date":"2011-09-16T23:01:58.704Z","type":"message"}
{"nick":"ryah","message":"well whatever. let's get this release out","date":"2011-09-16T23:02:13.177Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: he liked it, but their own event loop was a little more efficient I believe","date":"2011-09-16T23:02:43.745Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: that's pietern, he hangs out here, saw him this morning","date":"2011-09-16T23:03:10.530Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: we're waiting for him to sign the CLA :-(","date":"2011-09-16T23:03:33.826Z","type":"message"}
{"nick":"bnoordhuis","message":"also a noordhuis <3","date":"2011-09-16T23:03:38.350Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: ok thanks.  good to know :)","date":"2011-09-16T23:03:45.492Z","type":"message"}
{"nick":"igorzi","message":"not related?","date":"2011-09-16T23:03:51.405Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002d0a46a5\u000f \u000310\u000f/ src/unix/internal.h \u0002:\u000f HAVE_FUTIMES on osx - http://git.io/Bt31Mg","date":"2011-09-16T23:04:06.663Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: are you now starting on redis?","date":"2011-09-16T23:04:54.713Z","type":"message"}
{"nick":"piscisaureus","message":"s/you/your company/","date":"2011-09-16T23:05:11.339Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307file_watcher\u000f * r\u0002e49246a\u000f \u000310\u000f/ src/win/fs-event.c \u0002:\u000f windows: fire UV_RENAME for FILE_ACTION_RENAMED_OLD_NAME - http://git.io/17onQQ","date":"2011-09-16T23:05:22.319Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: just looking at it for now.. it seems that there's a fork that works on windows. do you know if it's any good?","date":"2011-09-16T23:06:19.340Z","type":"message"}
{"nick":"igorzi","message":"https://github.com/dmajkic/redis","date":"2011-09-16T23:06:46.375Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-09-16T23:12:42.531Z","type":"quit"}
{"nick":"bnoordhuis","message":"ryah: can you apply the three patches in ~/libuv/ ? easier than trying to get them out","date":"2011-09-16T23:14:49.803Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: shure","date":"2011-09-16T23:15:50.787Z","type":"message"}
{"nick":"ryah","message":"so tired im even misspelling simple words now ","date":"2011-09-16T23:16:09.180Z","type":"message"}
{"nick":"bnoordhuis","message":"coffee time!","date":"2011-09-16T23:16:16.877Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024487531\u000f \u000310\u000f/ (test/test-list.h test/test-tcp-write-error.c)\u0002:\u000f test: check that write_queue_size updates after write error - http://git.io/gSA8TQ","date":"2011-09-16T23:18:17.290Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00023c0684e\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f unix: pass error to write callback in stream cleanup - http://git.io/61FwLQ","date":"2011-09-16T23:18:17.501Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000275a088e\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f unix: remove failed write requests from stream->write_queue_size - http://git.io/pS-EdQ","date":"2011-09-16T23:18:20.154Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I don't know ...","date":"2011-09-16T23:18:43.580Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002d750927\u000f \u000310\u000f/ (5 files in 2 dirs)\u0002:\u000f Upgrade libuv to 75a088e - http://git.io/slaX4w","date":"2011-09-16T23:23:39.646Z","type":"message"}
{"nick":"ryah","message":"please don't land anything in node/master right now","date":"2011-09-16T23:32:53.453Z","type":"message"}
{"nick":"ryah","message":"http://nodejs.org/dist/v0.5.7/node-v0.5.7-rc1.tar.gz","date":"2011-09-16T23:34:15.176Z","type":"message"}
{"nick":"ryah","message":"please test","date":"2011-09-16T23:34:20.811Z","type":"message"}
{"nick":"bnoordhuis","action":"downloads","date":"2011-09-16T23:39:50.464Z","type":"action"}
{"nick":"igorzi","message":"piscisaureus: i noticed that your prefork server listens with backlog=10.. did you try increasing that?","date":"2011-09-16T23:47:50.152Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: oh hmm","date":"2011-09-16T23:48:02.362Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: that's not good","date":"2011-09-16T23:48:10.009Z","type":"message"}
{"nick":"piscisaureus","message":"I put that in there because I suspected that it was causes by a too big backlog","date":"2011-09-16T23:48:46.436Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: sounds like this could make a big difference. will check.","date":"2011-09-16T23:49:55.381Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: k","date":"2011-09-16T23:50:05.523Z","type":"message"}
{"nick":"ryah","message":"[15:43|% 100|+ 530|-  42]: Done <-- sunos make test-all","date":"2011-09-16T23:55:20.938Z","type":"message"}
{"nick":"ryah","message":"*sigh*","date":"2011-09-16T23:55:24.319Z","type":"message"}
{"nick":"piscisaureus","message":"didn't we fix simple/test-tls-peer-certificate on windows?","date":"2011-09-16T23:57:30.139Z","type":"message"}
