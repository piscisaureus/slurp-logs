{"nick":"eyeshloot","new_nick":"isaacs","date":"2012-09-10T00:06:46.563Z","type":"nick"}
{"nick":"beachdog","date":"2012-09-10T00:30:51.651Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 248 seconds","date":"2012-09-10T00:34:22.202Z","type":"quit"}
{"nick":"mmalecki","reason":"Ping timeout: 252 seconds","date":"2012-09-10T00:46:39.993Z","type":"quit"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-09-10T00:55:54.938Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-09-10T00:56:22.079Z","type":"join"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-09-10T00:57:52.764Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-09-10T00:58:25.310Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-09-10T01:00:15.999Z","type":"quit"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-09-10T01:02:35.163Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-09-10T01:03:05.741Z","type":"join"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T01:13:44.534Z","type":"quit"}
{"nick":"AutowiredConstru","reason":"Quit: staticif","date":"2012-09-10T01:15:27.517Z","type":"quit"}
{"nick":"ArmyOfBruce","reason":"Excess Flood","date":"2012-09-10T01:42:28.335Z","type":"quit"}
{"nick":"ArmyOfBruce","date":"2012-09-10T01:42:57.763Z","type":"join"}
{"nick":"abraxas","date":"2012-09-10T01:46:29.902Z","type":"join"}
{"nick":"mmalecki","date":"2012-09-10T01:52:49.247Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 245 seconds","date":"2012-09-10T01:57:39.291Z","type":"quit"}
{"nick":"dshaw_","date":"2012-09-10T02:04:29.761Z","type":"join"}
{"nick":"beachdog","date":"2012-09-10T02:19:48.697Z","type":"join"}
{"nick":"avalanche123","date":"2012-09-10T02:20:20.536Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-09-10T02:38:01.131Z","type":"quit"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T03:01:36.254Z","type":"quit"}
{"nick":"Benvie","date":"2012-09-10T03:07:16.138Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2012-09-10T03:23:26.172Z","type":"quit"}
{"nick":"dshaw_","date":"2012-09-10T03:39:47.819Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-09-10T04:15:55.706Z","type":"quit"}
{"nick":"TheJH","date":"2012-09-10T04:54:13.347Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 244 seconds","date":"2012-09-10T05:02:47.770Z","type":"quit"}
{"nick":"paddybyers","date":"2012-09-10T05:22:13.247Z","type":"join"}
{"nick":"avalanche123","date":"2012-09-10T05:54:12.287Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-09-10T06:34:11.910Z","type":"quit"}
{"nick":"rendar","date":"2012-09-10T06:54:08.348Z","type":"join"}
{"nick":"FUUFREENODESTOPB","date":"2012-09-10T06:54:25.748Z","type":"join"}
{"nick":"FUUFREENODESTOPB","new_nick":"`3rdEden","date":"2012-09-10T06:54:33.285Z","type":"nick"}
{"nick":"Benvie","date":"2012-09-10T07:16:56.431Z","type":"join"}
{"nick":"papertigers","reason":"Ping timeout: 246 seconds","date":"2012-09-10T07:45:52.172Z","type":"quit"}
{"nick":"mmalecki","date":"2012-09-10T08:02:26.550Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-09-10T08:06:04.984Z","type":"quit"}
{"nick":"ibobrik","date":"2012-09-10T08:34:15.023Z","type":"join"}
{"nick":"ibobrik","message":"isaacs: can you review this? https://github.com/joyent/node/pull/3972","date":"2012-09-10T08:34:33.972Z","type":"message"}
{"nick":"indutny","message":"hoho","date":"2012-09-10T08:51:57.050Z","type":"message"}
{"nick":"hz","date":"2012-09-10T08:56:41.344Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-09-10T09:15:49.105Z","type":"quit"}
{"nick":"paddybyers","date":"2012-09-10T09:19:31.456Z","type":"join"}
{"nick":"stagas","date":"2012-09-10T10:35:45.808Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-09-10T10:56:25.428Z","type":"quit"}
{"nick":"hz","reason":"Ping timeout: 272 seconds","date":"2012-09-10T10:59:18.407Z","type":"quit"}
{"nick":"Benvie","date":"2012-09-10T11:08:46.252Z","type":"quit"}
{"nick":"papertigers","date":"2012-09-10T11:12:35.576Z","type":"join"}
{"nick":"Benvie","date":"2012-09-10T11:15:38.908Z","type":"join"}
{"nick":"hz","date":"2012-09-10T11:37:48.428Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-09-10T11:50:06.178Z","type":"join"}
{"nick":"beachdog","date":"2012-09-10T11:54:10.004Z","type":"join"}
{"nick":"abraxas","date":"2012-09-10T12:02:44.986Z","type":"join"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T12:04:08.045Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-09-10T12:05:22.921Z","type":"quit"}
{"nick":"beachdog","date":"2012-09-10T12:16:18.074Z","type":"join"}
{"nick":"deoxxa","message":"ibobrik: 7/10 would read again","date":"2012-09-10T12:20:46.415Z","type":"message"}
{"nick":"CIA-129","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307v0.8\u000f * r\u000233bcb63\u000f \u000310\u000f/ gyp_uv \u0002:\u000f build: make gyp_uv understand '-f ninja' - http://git.io/OqSraQ","date":"2012-09-10T13:07:13.228Z","type":"message"}
{"nick":"CIA-129","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307v0.8\u000f * r\u000212c25e1\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f unix: fix EMFILE busy loop - http://git.io/8eQbJw","date":"2012-09-10T13:07:13.713Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T13:08:54.440Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#663 (v0.8 - 12c25e1 : Ben Noordhuis): The build is still failing.","date":"2012-09-10T13:08:54.685Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/b101a53e6ef8...12c25e1027e2","date":"2012-09-10T13:08:54.685Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2395538","date":"2012-09-10T13:08:54.685Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T13:08:54.685Z","type":"part"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-09-10T13:13:09.081Z","type":"nick"}
{"nick":"indutny","message":"bnoordhuis: hey man","date":"2012-09-10T13:16:03.004Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: do you like reviewing in mind?","date":"2012-09-10T13:16:12.935Z","type":"message"}
{"nick":"indutny","message":"i.e. w/o testing?","date":"2012-09-10T13:16:16.877Z","type":"message"}
{"nick":"piscisaureus","date":"2012-09-10T13:16:17.552Z","type":"join"}
{"nick":"piscisaureus","message":"hey indutny ","date":"2012-09-10T13:16:20.506Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: hey ya!","date":"2012-09-10T13:16:24.130Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: the fsevents patch works well for me","date":"2012-09-10T13:16:29.932Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: it passes all tests except proctitle (which is unrelatedO","date":"2012-09-10T13:16:50.640Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I'm on mountain lion","date":"2012-09-10T13:17:03.387Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: yay!","date":"2012-09-10T13:17:06.448Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: can I ask you to print filename in fs_watch_dir test?","date":"2012-09-10T13:17:15.219Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I wonder if it emits directory name or filename?","date":"2012-09-10T13:17:21.912Z","type":"message"}
{"nick":"piscisaureus","message":"ok","date":"2012-09-10T13:17:27.782Z","type":"message"}
{"nick":"piscisaureus","message":"stupid xcode wants to upgrade first","date":"2012-09-10T13:18:40.204Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-09-10T13:19:28.423Z","type":"message"}
{"nick":"indutny","message":"they only want you to pay money","date":"2012-09-10T13:19:33.591Z","type":"message"}
{"nick":"indutny","message":"nothing more","date":"2012-09-10T13:19:35.184Z","type":"message"}
{"nick":"indutny","message":"I wonder if all scheduled CFRunLoop signals will be performed after calling CFRunLoopStop","date":"2012-09-10T13:20:10.602Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: what do you think?","date":"2012-09-10T13:20:13.764Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: this is not really documented","date":"2012-09-10T13:20:17.483Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I have no idea","date":"2012-09-10T13:20:24.805Z","type":"message"}
{"nick":"indutny","message":"if they're not - I need to free memory in loop_delete","date":"2012-09-10T13:20:27.176Z","type":"message"}
{"nick":"indutny","message":"otherwise - not","date":"2012-09-10T13:20:37.771Z","type":"message"}
{"nick":"piscisaureus","message":"you should try - I don't know","date":"2012-09-10T13:20:46.262Z","type":"message"}
{"nick":"indutny","message":"it's hard to try","date":"2012-09-10T13:21:05.325Z","type":"message"}
{"nick":"indutny","message":"things are racey there","date":"2012-09-10T13:21:09.473Z","type":"message"}
{"nick":"indutny","message":"it's like you should schedule FSEventStream and kill loop immediately","date":"2012-09-10T13:21:34.732Z","type":"message"}
{"nick":"indutny","message":"which can't happen normally","date":"2012-09-10T13:21:40.758Z","type":"message"}
{"nick":"indutny","message":"looks like I need to release them","date":"2012-09-10T13:22:31.632Z","type":"message"}
{"nick":"indutny","message":"oh crap","date":"2012-09-10T13:22:32.545Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: it prints 1 filename","date":"2012-09-10T13:22:35.219Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: great","date":"2012-09-10T13:22:39.541Z","type":"message"}
{"nick":"indutny","message":"full path to file including it's filename?","date":"2012-09-10T13:22:46.860Z","type":"message"}
{"nick":"piscisaureus","message":"er","date":"2012-09-10T13:22:47.103Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: it prints watch_dir","date":"2012-09-10T13:23:03.967Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-09-10T13:23:09.518Z","type":"message"}
{"nick":"indutny","message":"that makes me sad","date":"2012-09-10T13:23:14.080Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: can you check one more thing please?","date":"2012-09-10T13:24:11.607Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: sure","date":"2012-09-10T13:24:15.502Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: is HAVE_FILE_FSEVENTS set for you/","date":"2012-09-10T13:24:26.379Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: it's declared in src/unix/internal.h","date":"2012-09-10T13:24:36.730Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I don't think it is","date":"2012-09-10T13:26:56.958Z","type":"message"}
{"nick":"indutny","message":"that's really odd!","date":"2012-09-10T13:27:02.977Z","type":"message"}
{"nick":"indutny","message":"#if __ENVIRONMENT_MAC_OS_X_VERSION_MIN_REQUIRED__ >= 1070","date":"2012-09-10T13:27:14.034Z","type":"message"}
{"nick":"indutny","message":"this is a condition for it to be set","date":"2012-09-10T13:27:19.831Z","type":"message"}
{"nick":"piscisaureus","message":"1080 it says for me","date":"2012-09-10T13:29:06.901Z","type":"message"}
{"nick":"piscisaureus","message":"it gets to that point","date":"2012-09-10T13:30:20.288Z","type":"message"}
{"nick":"piscisaureus","message":"maybe internal.h isn't included?","date":"2012-09-10T13:30:26.407Z","type":"message"}
{"nick":"piscisaureus","message":"btw - we should attempt to generate binaries that are not version specific","date":"2012-09-10T13:30:51.876Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: ^","date":"2012-09-10T13:30:54.562Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: ah, I see. ","date":"2012-09-10T13:31:12.528Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: yes it is set.","date":"2012-09-10T13:31:17.040Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I was just checking in a file that didn't include internal.h","date":"2012-09-10T13:31:32.083Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2012-09-10T13:31:37.732Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ok","date":"2012-09-10T13:31:39.116Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: about binary compatibility","date":"2012-09-10T13:31:43.497Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: it's just flags that are unsupported/not-used on 10.6.8 and older","date":"2012-09-10T13:31:54.377Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: OS will ignore them","date":"2012-09-10T13:31:59.993Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: but - is it possible to switch this feature at runtime","date":"2012-09-10T13:32:01.807Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: what are you proposing?","date":"2012-09-10T13:32:23.725Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: option?","date":"2012-09-10T13:33:02.844Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: so, are these flags really ignored by the os or do they make it fail?","date":"2012-09-10T13:33:25.015Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: having option means that we'll need to have polyfills for missing constants and enums","date":"2012-09-10T13:33:28.498Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: they *should* be ignored","date":"2012-09-10T13:33:37.094Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: yes","date":"2012-09-10T13:33:37.731Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: well, I tried it on 10.6.8","date":"2012-09-10T13:33:42.523Z","type":"message"}
{"nick":"indutny","message":"was hoping to see some secret, not exposed yet APIs","date":"2012-09-10T13:33:52.896Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: linux has polyfills, windows has polyfills","date":"2012-09-10T13:33:55.675Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: anything else you need me to check?","date":"2012-09-10T13:34:54.385Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: nope","date":"2012-09-10T13:35:01.980Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: thanks","date":"2012-09-10T13:35:03.823Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: okk, cool","date":"2012-09-10T13:35:06.467Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: code review would be welcome too :)","date":"2012-09-10T13:35:10.639Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: will do","date":"2012-09-10T13:35:19.578Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: please pull from my branch before it","date":"2012-09-10T13:35:39.586Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I've just force-pushed","date":"2012-09-10T13:35:45.190Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: pull, why?","date":"2012-09-10T13:35:49.300Z","type":"message"}
{"nick":"piscisaureus","message":"ah","date":"2012-09-10T13:35:51.459Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: to free all remaining data","date":"2012-09-10T13:35:54.231Z","type":"message"}
{"nick":"piscisaureus","message":"i will do it on gh","date":"2012-09-10T13:35:54.782Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ok","date":"2012-09-10T13:35:58.758Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: refresh then :D","date":"2012-09-10T13:36:01.949Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: that was way too easy. I am going to look very carefully for race conditions in that logic :')","date":"2012-09-10T13:36:46.887Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: haha","date":"2012-09-10T13:36:56.207Z","type":"message"}
{"nick":"indutny","message":"well, it wasn't","date":"2012-09-10T13:37:02.624Z","type":"message"}
{"nick":"indutny","message":"but yeah, look carefully","date":"2012-09-10T13:37:06.813Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-09-10T13:37:11.903Z","type":"join"}
{"nick":"indutny","message":"I spent one day on it","date":"2012-09-10T13:37:17.209Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-09-10T13:37:17.916Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: so did you find a way to do it without a separate thread btw?","date":"2012-09-10T13:38:07.976Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: well, I'm still searching","date":"2012-09-10T13:38:16.321Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I think we should land this after review btw","date":"2012-09-10T13:38:33.527Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I found that cfrunloop is esentially a poller on mach port set","date":"2012-09-10T13:38:34.808Z","type":"message"}
{"nick":"piscisaureus","message":"that makes sense","date":"2012-09-10T13:38:41.492Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I wonder how fsevents are implemented in the kernel","date":"2012-09-10T13:38:55.085Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: or, in userspace","date":"2012-09-10T13:38:59.428Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: so, I need to figure out if it'll work after I'll poll on it with kevent","date":"2012-09-10T13:38:59.861Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: dunno","date":"2012-09-10T13:39:09.534Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: it's not a part of kernel","date":"2012-09-10T13:39:12.940Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: nor it's opensource","date":"2012-09-10T13:39:22.648Z","type":"message"}
{"nick":"piscisaureus","message":"ah","date":"2012-09-10T13:39:28.009Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: well, it must be using some kernel services","date":"2012-09-10T13:39:43.747Z","type":"message"}
{"nick":"piscisaureus","message":"I suppose we could access them directly","date":"2012-09-10T13:39:49.989Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: probably","date":"2012-09-10T13:40:01.285Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: what do you see with truss / dtruss?","date":"2012-09-10T13:40:12.703Z","type":"message"}
{"nick":"indutny","message":"I think it's part of vfs","date":"2012-09-10T13:40:19.937Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: !","date":"2012-09-10T13:40:27.078Z","type":"message"}
{"nick":"indutny","message":"thanks for reminding","date":"2012-09-10T13:40:30.703Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: it could be that writing to this .fseventsd file is implemented in the kernel","date":"2012-09-10T13:40:55.485Z","type":"message"}
{"nick":"piscisaureus","message":"but that reading it is user mode","date":"2012-09-10T13:41:05.168Z","type":"message"}
{"nick":"piscisaureus","message":"maybe it uses a simple kqueue fd watcher","date":"2012-09-10T13:41:10.882Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: probably","date":"2012-09-10T13:41:27.069Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: recursive","date":"2012-09-10T13:41:28.835Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: ?","date":"2012-09-10T13:41:37.889Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: nothing interesting in dtruss","date":"2012-09-10T13:42:30.220Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: looks like everything interesting is happening in kernel","date":"2012-09-10T13:42:38.230Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: what syscalls are you seeing?","date":"2012-09-10T13:42:50.441Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: https://gist.github.com/d5f65a70f1f8d324405b","date":"2012-09-10T13:43:09.015Z","type":"message"}
{"nick":"indutny","message":"nothing","date":"2012-09-10T13:43:18.157Z","type":"message"}
{"nick":"indutny","message":"really","date":"2012-09-10T13:43:18.916Z","type":"message"}
{"nick":"indutny","message":"I think I've logged it wrong","date":"2012-09-10T13:43:59.303Z","type":"message"}
{"nick":"piscisaureus","message":"do it again","date":"2012-09-10T13:44:10.571Z","type":"message"}
{"nick":"indutny","message":"sudo dtruss ./out/Debug/run-tests fs_event_watch_dir fs_event_watch_dir","date":"2012-09-10T13:44:20.305Z","type":"message"}
{"nick":"piscisaureus","message":"if there are *no* interesting syscalls then it must be happening in user mode","date":"2012-09-10T13:44:23.450Z","type":"message"}
{"nick":"indutny","message":"I can't see unlinks and everything","date":"2012-09-10T13:44:27.598Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2012-09-10T13:44:58.043Z","type":"message"}
{"nick":"indutny","message":"running tests as root is not safe","date":"2012-09-10T13:45:02.454Z","type":"message"}
{"nick":"indutny","message":"crap","date":"2012-09-10T13:45:04.450Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-09-10T13:45:05.555Z","type":"message"}
{"nick":"piscisaureus","message":"yeah that's the most stupid warning","date":"2012-09-10T13:46:34.659Z","type":"message"}
{"nick":"piscisaureus","message":"who put that here","date":"2012-09-10T13:46:38.546Z","type":"message"}
{"nick":"piscisaureus","message":"let's fire the guy","date":"2012-09-10T13:46:44.413Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: updated gist","date":"2012-09-10T13:47:32.477Z","type":"message"}
{"nick":"indutny","message":"brb","date":"2012-09-10T13:48:01.008Z","type":"message"}
{"nick":"indutny","message":"back","date":"2012-09-10T13:50:35.817Z","type":"message"}
{"nick":"c4milo","date":"2012-09-10T13:53:39.995Z","type":"join"}
{"nick":"piscisaureus_","message":"indutny: so I don't see it registering the watched folder","date":"2012-09-10T13:54:17.464Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yeah, me too","date":"2012-09-10T13:54:25.317Z","type":"message"}
{"nick":"piscisaureus_","message":"except if ti would be the getattrlist syscall","date":"2012-09-10T13:54:28.428Z","type":"message"}
{"nick":"c4milo_","date":"2012-09-10T13:56:56.620Z","type":"join"}
{"nick":"c4milo","reason":"Read error: No route to host","date":"2012-09-10T13:57:13.430Z","type":"quit"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T14:00:52.444Z","type":"quit"}
{"nick":"beachdog","date":"2012-09-10T14:01:27.936Z","type":"join"}
{"nick":"piscisaureus","message":"I wish dtrace would trace back symbolic names ","date":"2012-09-10T14:01:32.421Z","type":"message"}
{"nick":"piscisaureus","message":"this is shit","date":"2012-09-10T14:01:34.286Z","type":"message"}
{"nick":"abraxas","date":"2012-09-10T14:05:55.672Z","type":"join"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-09-10T14:07:09.854Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-09-10T14:07:22.965Z","type":"join"}
{"nick":"piscisaureus","message":"githuuuubbbb","date":"2012-09-10T14:09:24.528Z","type":"message"}
{"nick":"abraxas","reason":"Ping timeout: 264 seconds","date":"2012-09-10T14:10:39.434Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-09-10T14:13:19.961Z","type":"quit"}
{"nick":"bnoordhuis","message":"spartaaaaa!","date":"2012-09-10T14:18:03.939Z","type":"message"}
{"nick":"tjfontaine","message":"yet another reason why git should be dht based, branches allow pushing based on gpg trust rings, and github should store issues in a branch","date":"2012-09-10T14:19:40.321Z","type":"message"}
{"nick":"piscisaureus","message":"tjfontaine: I think bzr comes close to that","date":"2012-09-10T14:20:13.918Z","type":"message"}
{"nick":"piscisaureus","message":"tjfontaine: I think it's overly complex","date":"2012-09-10T14:20:26.424Z","type":"message"}
{"nick":"tjfontaine","message":"piscisaureus: heh, whoever said [d]vcs was simple :)","date":"2012-09-10T14:21:19.903Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I get a very different trace","date":"2012-09-10T14:21:32.663Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-09-10T14:21:44.496Z","type":"message"}
{"nick":"indutny","message":"interesting","date":"2012-09-10T14:21:46.252Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: so, what do you see?","date":"2012-09-10T14:22:26.968Z","type":"message"}
{"nick":"piscisaureus","message":"yeah I trying to gist it but gista broke somehow","date":"2012-09-10T14:23:17.956Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-09-10T14:23:57.414Z","type":"message"}
{"nick":"piscisaureus","message":"oh wait","date":"2012-09-10T14:24:13.892Z","type":"message"}
{"nick":"piscisaureus","message":"github is down ","date":"2012-09-10T14:24:16.072Z","type":"message"}
{"nick":"piscisaureus","message":"haha","date":"2012-09-10T14:24:16.754Z","type":"message"}
{"nick":"indutny","message":"ahah","date":"2012-09-10T14:25:17.348Z","type":"message"}
{"nick":"bnoordhuis","message":"no github and i'm out of beer","date":"2012-09-10T14:25:17.588Z","type":"message"}
{"nick":"piscisaureus","message":"pastebin.com/FGGREBME","date":"2012-09-10T14:25:17.988Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm bored :(","date":"2012-09-10T14:25:19.787Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: why?","date":"2012-09-10T14:25:31.794Z","type":"message"}
{"nick":"bnoordhuis","message":"github tells me what to do","date":"2012-09-10T14:25:47.019Z","type":"message"}
{"nick":"bnoordhuis","message":"(well, the issue tracker)","date":"2012-09-10T14:25:54.878Z","type":"message"}
{"nick":"tjfontaine","message":"there are scripts out there to backup issues :)","date":"2012-09-10T14:26:15.777Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: and?","date":"2012-09-10T14:26:24.904Z","type":"message"}
{"nick":"piscisaureus","message":"dunno yet","date":"2012-09-10T14:28:29.190Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I'm bored too because I can't look at yur PR conveniently","date":"2012-09-10T14:28:50.566Z","type":"message"}
{"nick":"piscisaureus","message":"so now I am going to dig into this","date":"2012-09-10T14:28:57.466Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I'm looking at it's disasm","date":"2012-09-10T14:29:13.177Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: make a makefile for the pl -> asm/s stuff","date":"2012-09-10T14:29:15.940Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: what's the magic word?","date":"2012-09-10T14:29:24.656Z","type":"message"}
{"nick":"tjfontaine","message":"beer","date":"2012-09-10T14:29:31.187Z","type":"message"}
{"nick":"bnoordhuis","message":"that's _a_ magic word, granted","date":"2012-09-10T14:29:44.019Z","type":"message"}
{"nick":"piscisaureus","message":":-)","date":"2012-09-10T14:29:58.539Z","type":"message"}
{"nick":"piscisaureus","message":"bierrrr","date":"2012-09-10T14:30:00.907Z","type":"message"}
{"nick":"CIA-129","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307emfile_trick\u000f * r\u0002fc0609d\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f Merge branch 'v0.8' - http://git.io/WWV_Bg","date":"2012-09-10T14:31:46.863Z","type":"message"}
{"nick":"CIA-129","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307emfile_trick\u000f * r\u0002de8fc7b\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f unix: reimplement accept() EMFILE trick - http://git.io/FP9vXw","date":"2012-09-10T14:31:47.347Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: ^ want to review that?","date":"2012-09-10T14:33:05.485Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: you too, if you want","date":"2012-09-10T14:33:09.848Z","type":"message"}
{"nick":"tjfontaine","message":"when github comes back :)","date":"2012-09-10T14:33:19.985Z","type":"message"}
{"nick":"indutny","message":"hahah","date":"2012-09-10T14:33:24.003Z","type":"message"}
{"nick":"indutny","message":"yeah, sure","date":"2012-09-10T14:33:26.820Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: can you send me patch?","date":"2012-09-10T14:33:29.713Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: to my email","date":"2012-09-10T14:33:32.186Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah... github's still kind of flaky","date":"2012-09-10T14:33:38.158Z","type":"message"}
{"nick":"indutny","message":"old-school process","date":"2012-09-10T14:33:40.679Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: sure but there's no ursh","date":"2012-09-10T14:33:44.805Z","type":"message"}
{"nick":"bnoordhuis","message":"rush","date":"2012-09-10T14:33:47.052Z","type":"message"}
{"nick":"indutny","message":"ursh","date":"2012-09-10T14:33:50.701Z","type":"message"}
{"nick":"bnoordhuis","message":"no ursh too though","date":"2012-09-10T14:33:52.888Z","type":"message"}
{"nick":"indutny","message":"github feels urshy today","date":"2012-09-10T14:33:55.470Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: lgtm with this comment","date":"2012-09-10T14:41:06.335Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: if we can't avoid EMFILE we should report it to the accept cb somehow","date":"2012-09-10T14:41:21.334Z","type":"message"}
{"nick":"piscisaureus","message":"and implicitly stop accepting (eg remove the listening socket from the poll set)","date":"2012-09-10T14:41:39.412Z","type":"message"}
{"nick":"bnoordhuis","message":"the EMFILE gets reported when the accept trick fails","date":"2012-09-10T14:42:11.159Z","type":"message"}
{"nick":"bnoordhuis","message":"maybe i should save errno just in case","date":"2012-09-10T14:42:26.214Z","type":"message"}
{"nick":"bnoordhuis","message":"but why stop accepting?","date":"2012-09-10T14:42:38.758Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: otherwise the loop will spin","date":"2012-09-10T14:42:46.825Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: also, it meshes well with what ather watchers do ","date":"2012-09-10T14:43:06.419Z","type":"message"}
{"nick":"beachdog","reason":"Ping timeout: 276 seconds","date":"2012-09-10T14:43:06.741Z","type":"quit"}
{"nick":"piscisaureus","message":"bnoordhuis: I mean, reading is also implicitly stopped when an error happens","date":"2012-09-10T14:43:27.879Z","type":"message"}
{"nick":"piscisaureus","message":"so does uv_poll","date":"2012-09-10T14:43:47.930Z","type":"message"}
{"nick":"piscisaureus","message":"the fs poller might be the only exception so far","date":"2012-09-10T14:43:57.917Z","type":"message"}
{"nick":"beachdog","date":"2012-09-10T14:45:43.706Z","type":"join"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T14:46:32.435Z","type":"quit"}
{"nick":"beachdog","date":"2012-09-10T14:47:06.248Z","type":"join"}
{"nick":"isaacs","message":"i saw people tweeting about github being down and was very confused until i realized that they meant the website.","date":"2012-09-10T14:47:37.343Z","type":"message"}
{"nick":"isaacs","message":"the git interface is working fine","date":"2012-09-10T14:48:06.070Z","type":"message"}
{"nick":"beachdog_","date":"2012-09-10T14:55:49.610Z","type":"join"}
{"nick":"ibobrik","reason":"Quit: ibobrik","date":"2012-09-10T14:56:16.909Z","type":"quit"}
{"nick":"stagas","message":"isaacs: how can I see in npm which files will get bundled when I do publish","date":"2012-09-10T14:57:33.065Z","type":"message"}
{"nick":"isaacs","message":"stagas: npm pack; tar ztv *.tgz; rm *.tgz","date":"2012-09-10T14:58:03.890Z","type":"message"}
{"nick":"isaacs","message":"stagas: npm pack; tar ztvf *.tgz; rm *.tgz","date":"2012-09-10T14:58:14.393Z","type":"message"}
{"nick":"isaacs","message":"need the f","date":"2012-09-10T14:58:17.583Z","type":"message"}
{"nick":"isaacs","message":"you could probably write a program using fstream-npm that would do this, also","date":"2012-09-10T14:58:33.861Z","type":"message"}
{"nick":"isaacs","message":"var P = require('fstream-npm');P({path: '.'}).on('child', function (c) { console.log(c.path) })","date":"2012-09-10T14:59:10.801Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: hey, I think fsevents uses kqueue under the hood","date":"2012-09-10T14:59:32.691Z","type":"message"}
{"nick":"beachdog","reason":"Ping timeout: 256 seconds","date":"2012-09-10T14:59:36.492Z","type":"quit"}
{"nick":"piscisaureus","message":"indutny: I mean, if you look at the dtruss logs you'll see 2 kqueue() calls","date":"2012-09-10T14:59:56.724Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: also, right after unlinking you see a kevent return","date":"2012-09-10T15:00:31.308Z","type":"message"}
{"nick":"isaacs","message":"stagas: https://gist.github.com/3691344","date":"2012-09-10T15:01:02.177Z","type":"message"}
{"nick":"stagas","message":"isaacs: ok, is there a way to exclude an ignore or force a dir? in .gitignore you can do \"file\\n!not/that/file\" and it cancels the ignore for that one","date":"2012-09-10T15:01:07.682Z","type":"message"}
{"nick":"isaacs","message":"stagas: yep.  same syntax in .npmignore","date":"2012-09-10T15:01:23.132Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: hm... :)","date":"2012-09-10T15:01:31.273Z","type":"message"}
{"nick":"stagas","message":"isaacs: it doesn't pick it up from .gitignore","date":"2012-09-10T15:01:37.279Z","type":"message"}
{"nick":"isaacs","message":"stagas: it picks up from .gitignore if there's no .npmignore in that folder","date":"2012-09-10T15:01:47.207Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: so, the question","date":"2012-09-10T15:01:49.308Z","type":"message"}
{"nick":"indutny","message":"do we need it, or not then :D","date":"2012-09-10T15:01:58.340Z","type":"message"}
{"nick":"isaacs","message":"stagas: https://gist.github.com/3691353","date":"2012-09-10T15:03:07.555Z","type":"message"}
{"nick":"stagas","message":"isaacs: it doesn't, there's no .npmignore in the dir but in the tgz there is one","date":"2012-09-10T15:03:11.244Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I think it's watching /dev/fseventsd","date":"2012-09-10T15:03:22.641Z","type":"message"}
{"nick":"isaacs","message":"stagas: in creating the tgz, it renames .gitignroe to .npmignore if it used it","date":"2012-09-10T15:03:29.288Z","type":"message"}
{"nick":"isaacs","message":"stagas: so that installed pacakges never contain a .gitignore","date":"2012-09-10T15:03:37.368Z","type":"message"}
{"nick":"isaacs","message":"stagas: the better to bundle your deps","date":"2012-09-10T15:03:41.713Z","type":"message"}
{"nick":"isaacs","message":"stagas: let's move this to #node.js","date":"2012-09-10T15:03:48.384Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ok, it's a kernel thing","date":"2012-09-10T15:06:34.179Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I've finally found it in xnu","date":"2012-09-10T15:06:38.580Z","type":"message"}
{"nick":"indutny","message":" /dev/fsevents","date":"2012-09-10T15:06:43.053Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I think it's open by default","date":"2012-09-10T15:06:57.942Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-09-10T15:07:02.805Z","type":"message"}
{"nick":"indutny","message":"by fseventsd","date":"2012-09-10T15:07:05.747Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: the fd: 0x7000000","date":"2012-09-10T15:07:09.356Z","type":"message"}
{"nick":"piscisaureus","message":":-)","date":"2012-09-10T15:07:10.970Z","type":"message"}
{"nick":"indutny","message":";)","date":"2012-09-10T15:07:13.481Z","type":"message"}
{"nick":"indutny","message":"why?","date":"2012-09-10T15:07:38.735Z","type":"message"}
{"nick":"paddybyers","reason":"Read error: Connection reset by peer","date":"2012-09-10T15:07:39.861Z","type":"quit"}
{"nick":"indutny","message":"where?","date":"2012-09-10T15:07:40.608Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: you can see it being mmap'ed in the dtrace log","date":"2012-09-10T15:07:51.150Z","type":"message"}
{"nick":"piscisaureus","message":"*dtruss","date":"2012-09-10T15:07:54.393Z","type":"message"}
{"nick":"paddybyers","date":"2012-09-10T15:08:19.604Z","type":"join"}
{"nick":"indutny","message":"aaah","date":"2012-09-10T15:09:18.138Z","type":"message"}
{"nick":"indutny","message":"I see now","date":"2012-09-10T15:09:23.063Z","type":"message"}
{"nick":"indutny","message":"this is probably .fseventsd directory","date":"2012-09-10T15:09:31.943Z","type":"message"}
{"nick":"piscisaureus","message":"well, probably not a directory :-)","date":"2012-09-10T15:09:43.326Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: since you can't mmap those ","date":"2012-09-10T15:09:47.811Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: but take a look","date":"2012-09-10T15:09:53.375Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-09-10T15:09:53.858Z","type":"message"}
{"nick":"indutny","message":"interesting!","date":"2012-09-10T15:09:56.440Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: http://my.safaribooksonline.com/book/operating-systems-and-server-administration/mac-os-x/9780321706560/kqueue-and-fsevents/ch16#X2ludGVybmFsX0ZsYXNoUmVhZGVyP3htbGlkPTk3ODAzMjE3MDY1NjAvY2gxNmxldjFzZWM5","date":"2012-09-10T15:10:43.622Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T15:12:25.719Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#665 (emfile_trick - de8fc7b : Ben Noordhuis): The build is pending.","date":"2012-09-10T15:12:25.962Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/fc0609d1b905^...de8fc7b8368e","date":"2012-09-10T15:12:25.962Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2396283","date":"2012-09-10T15:12:25.962Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T15:12:25.962Z","type":"part"}
{"nick":"indutny","message":"piscisaureus: ok, so it's doing it's own hackery there","date":"2012-09-10T15:12:50.926Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: do you want to land my patch","date":"2012-09-10T15:12:59.916Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: or to continue hacking? ;)","date":"2012-09-10T15:13:04.013Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: actually, FSEventStream is a mach port","date":"2012-09-10T15:13:43.728Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T15:13:52.879Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#665 (emfile_trick - de8fc7b : Ben Noordhuis): The build passed.","date":"2012-09-10T15:13:53.124Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/fc0609d1b905^...de8fc7b8368e","date":"2012-09-10T15:13:53.124Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2396283","date":"2012-09-10T15:13:53.124Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T15:13:53.124Z","type":"part"}
{"nick":"indutny","message":"piscisaureus: so we can watch it using kqueue","date":"2012-09-10T15:13:58.047Z","type":"message"}
{"nick":"indutny","message":"and do some hackery after","date":"2012-09-10T15:14:08.104Z","type":"message"}
{"nick":"indutny","message":"going to move to another place","date":"2012-09-10T15:14:12.491Z","type":"message"}
{"nick":"indutny","message":"ttyl","date":"2012-09-10T15:14:16.030Z","type":"message"}
{"nick":"piscisaureus","message":"ttyl","date":"2012-09-10T15:19:58.167Z","type":"message"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-09-10T15:29:04.392Z","type":"nick"}
{"nick":"piscisaureus","message":"indutny: so we could also just use /dev/fsevents directly?","date":"2012-09-10T15:42:22.996Z","type":"message"}
{"nick":"ibobrik","date":"2012-09-10T15:43:16.604Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus: otherwise the loop will spin <- the idea is that libuv closes pending connections to stop epoll_wait() / kevent() / etc. from waking up all the time","date":"2012-09-10T15:44:12.202Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: well, if the trick fails then it doesn't work","date":"2012-09-10T15:56:58.868Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: and then your emfile_fd is spilt","date":"2012-09-10T15:57:08.733Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: yes, but then the user gets a EMFILE error","date":"2012-09-10T15:57:15.203Z","type":"message"}
{"nick":"piscisaureus","message":"so you'll have to stop accepting","date":"2012-09-10T15:57:18.625Z","type":"message"}
{"nick":"piscisaureus","message":"ah, right","date":"2012-09-10T15:57:20.989Z","type":"message"}
{"nick":"piscisaureus","message":"ok","date":"2012-09-10T15:57:21.601Z","type":"message"}
{"nick":"piscisaureus","message":"if it works you're good","date":"2012-09-10T15:57:28.748Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm good","date":"2012-09-10T15:57:33.685Z","type":"message"}
{"nick":"piscisaureus","message":"ship it then","date":"2012-09-10T15:57:35.920Z","type":"message"}
{"nick":"bnoordhuis","message":"always ship trunk","date":"2012-09-10T15:57:40.993Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: comments?","date":"2012-09-10T15:57:54.403Z","type":"message"}
{"nick":"piscisaureus1","date":"2012-09-10T16:01:38.426Z","type":"join"}
{"nick":"piscisaureus1","new_nick":"piscisaureus_","date":"2012-09-10T16:01:40.715Z","type":"nick"}
{"nick":"piscisaureus_","message":"indutny: http://osxbook.com/software/fslogger/download/fslogger.c","date":"2012-09-10T16:01:57.690Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I can confirm that it works. unfortunately you need to be root to use it","date":"2012-09-10T16:07:02.754Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: but if you use it it *does* report full filenames","date":"2012-09-10T16:07:13.986Z","type":"message"}
{"nick":"CIA-129","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u000254a4c63\u000f \u000310\u000f/ (662 files in 117 dirs)\u0002:\u000f npm: Upgrade to 1.1.61 - http://git.io/XNVapQ","date":"2012-09-10T16:13:12.138Z","type":"message"}
{"nick":"dap","date":"2012-09-10T16:30:48.061Z","type":"join"}
{"nick":"ibobrik","reason":"Read error: Connection reset by peer","date":"2012-09-10T16:38:54.487Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-10T16:44:52.229Z","type":"join"}
{"nick":"piscisaureus","message":"man, mac os x is almost as opaque as windows","date":"2012-09-10T16:45:23.485Z","type":"message"}
{"nick":"TooTallNate","date":"2012-09-10T16:45:52.596Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: Leaving.","date":"2012-09-10T16:51:34.091Z","type":"quit"}
{"nick":"TheJH","date":"2012-09-10T16:54:13.435Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-09-10T16:57:01.272Z","type":"quit"}
{"nick":"txdv","date":"2012-09-10T16:57:54.702Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-10T16:57:58.933Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-09-10T17:02:56.914Z","type":"quit"}
{"nick":"loladiro","date":"2012-09-10T17:08:24.699Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-10T17:20:41.526Z","type":"quit"}
{"nick":"beachdog_","reason":"Read error: Connection reset by peer","date":"2012-09-10T17:21:21.814Z","type":"quit"}
{"nick":"beachdog","date":"2012-09-10T17:21:32.954Z","type":"join"}
{"nick":"dshaw_","date":"2012-09-10T17:21:57.865Z","type":"join"}
{"nick":"beachdog","reason":"Read error: Connection reset by peer","date":"2012-09-10T17:35:23.047Z","type":"quit"}
{"nick":"beachdog","date":"2012-09-10T17:35:48.423Z","type":"join"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T17:37:04.263Z","type":"quit"}
{"nick":"joshthecoder","date":"2012-09-10T17:37:56.382Z","type":"join"}
{"nick":"brson","date":"2012-09-10T17:39:09.701Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-09-10T17:47:10.775Z","type":"quit"}
{"nick":"hz","date":"2012-09-10T17:47:16.355Z","type":"join"}
{"nick":"indutny","message":"piscisaureus: haha","date":"2012-09-10T17:53:56.782Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-09-10T17:54:51.937Z","type":"quit"}
{"nick":"brson","date":"2012-09-10T17:55:05.912Z","type":"join"}
{"nick":"beachdog","date":"2012-09-10T17:57:26.553Z","type":"join"}
{"nick":"indutny","message":"piscisaureus: we can use FSEventStream pointer","date":"2012-09-10T17:59:21.024Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I'll experiment and tell you results","date":"2012-09-10T17:59:31.263Z","type":"message"}
{"nick":"AutowiredConstru","date":"2012-09-10T18:00:04.475Z","type":"join"}
{"nick":"beachdog","reason":"Remote host closed the connection","date":"2012-09-10T18:03:13.351Z","type":"quit"}
{"nick":"piscisaureus","message":"I wonder why stat(\"/AppleInternal\") shows up in my dtruss output","date":"2012-09-10T18:07:44.197Z","type":"message"}
{"nick":"piscisaureus","message":"if I create that file, will it show me the new iphone?","date":"2012-09-10T18:07:58.669Z","type":"message"}
{"nick":"tjfontaine","message":"it will open a portal straight to 1 infinite loop","date":"2012-09-10T18:08:32.922Z","type":"message"}
{"nick":"tjfontaine","message":"and the cryo chamber that holds steve","date":"2012-09-10T18:08:45.461Z","type":"message"}
{"nick":"piscisaureus","message":"infinite loop, hmm","date":"2012-09-10T18:08:51.072Z","type":"message"}
{"nick":"piscisaureus","message":"I though the refcount refactor fixed that","date":"2012-09-10T18:08:56.799Z","type":"message"}
{"nick":"TooTallNate","message":"haha","date":"2012-09-10T18:09:25.891Z","type":"message"}
{"nick":"indutny","message":"hehehe","date":"2012-09-10T18:14:25.633Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: how funny","date":"2012-09-10T18:14:28.415Z","type":"message"}
{"nick":"mmalecki","message":"indutny: tonight I'll be floating your SSL patches","date":"2012-09-10T18:15:07.009Z","type":"message"}
{"nick":"indutny","message":"mmalecki: in production?","date":"2012-09-10T18:15:15.472Z","type":"message"}
{"nick":"mmalecki","message":"yup. I'll report back after setting up some analytics, but general benchmarks showed significant speed up.","date":"2012-09-10T18:15:44.403Z","type":"message"}
{"nick":"mmalecki","message":"would be good to include them in v0.8","date":"2012-09-10T18:15:50.424Z","type":"message"}
{"nick":"paddybyers","date":"2012-09-10T18:30:58.718Z","type":"join"}
{"nick":"piscisaureus","message":"xcode y u no line numbers","date":"2012-09-10T18:40:49.034Z","type":"message"}
{"nick":"piscisaureus","action":"cries","date":"2012-09-10T18:40:53.317Z","type":"action"}
{"nick":"loladiro","date":"2012-09-10T18:45:41.462Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-10T18:46:21.899Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus: y u xcode?","date":"2012-09-10T18:46:49.049Z","type":"message"}
{"nick":"piscisaureus","message":"because I can't do vi","date":"2012-09-10T18:49:25.869Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: why?","date":"2012-09-10T18:51:43.977Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I can teach you","date":"2012-09-10T18:51:47.778Z","type":"message"}
{"nick":"indutny","message":"or you can use some java junk ide :D","date":"2012-09-10T18:52:05.047Z","type":"message"}
{"nick":"piscisaureus","message":"also I don't know how to open files on os x","date":"2012-09-10T18:52:20.622Z","type":"message"}
{"nick":"piscisaureus","message":"I always use \"open <filename>\"","date":"2012-09-10T18:52:29.116Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus: vim <filename>","date":"2012-09-10T18:52:36.056Z","type":"message"}
{"nick":"mmalecki","message":"it's the only reasonable way","date":"2012-09-10T18:52:42.146Z","type":"message"}
{"nick":"piscisaureus","message":"smartass","date":"2012-09-10T18:52:45.437Z","type":"message"}
{"nick":"mmalecki","message":"kinda hard to look at images like that, but you have to get used to it","date":"2012-09-10T18:53:03.701Z","type":"message"}
{"nick":"piscisaureus","message":"haha ","date":"2012-09-10T18:53:41.061Z","type":"message"}
{"nick":"indutny","message":"open works for me","date":"2012-09-10T18:53:42.342Z","type":"message"}
{"nick":"indutny","message":"and yeah","date":"2012-09-10T18:53:49.418Z","type":"message"}
{"nick":"piscisaureus","message":"open is like a dice","date":"2012-09-10T18:53:51.624Z","type":"message"}
{"nick":"indutny","message":"I see redhead","date":"2012-09-10T18:53:51.859Z","type":"message"}
{"nick":"piscisaureus","message":"it always opens another app you didn't knew you had installed","date":"2012-09-10T18:54:09.081Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-09-10T18:54:14.651Z","type":"message"}
{"nick":"indutny","message":"very good","date":"2012-09-10T18:54:16.505Z","type":"message"}
{"nick":"indutny","message":"very good, man","date":"2012-09-10T18:54:20.959Z","type":"message"}
{"nick":"piscisaureus","message":"they should rename it to slotmachine","date":"2012-09-10T18:54:23.675Z","type":"message"}
{"nick":"indutny","message":"hard to type","date":"2012-09-10T18:54:39.319Z","type":"message"}
{"nick":"indutny","message":"otherwise they did","date":"2012-09-10T18:54:42.673Z","type":"message"}
{"nick":"piscisaureus","message":"it opens the file 3 times","date":"2012-09-10T18:54:48.031Z","type":"message"}
{"nick":"piscisaureus","message":"if you get 3 times the same editor you win the jackpot","date":"2012-09-10T18:55:00.100Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I think we should be able to get port set out of cfrunloop's mode","date":"2012-09-10T18:57:43.827Z","type":"message"}
{"nick":"indutny","message":"and actually it's very odd for me that it's waiting not on runloop's port, but on mode's port","date":"2012-09-10T18:58:00.206Z","type":"message"}
{"nick":"piscisaureus","message":"I am under the impression that dtruss might not catch all syscalls","date":"2012-09-10T19:00:25.844Z","type":"message"}
{"nick":"V1","date":"2012-09-10T19:00:48.878Z","type":"join"}
{"nick":"indutny","message":"piscisaureus: struct { } *A;","date":"2012-09-10T19:00:59.275Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: what does this mean?","date":"2012-09-10T19:01:03.475Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: A is a pointer to struct?","date":"2012-09-10T19:01:14.200Z","type":"message"}
{"nick":"indutny","message":"or what?","date":"2012-09-10T19:01:24.368Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: it is a declaration for variable A","date":"2012-09-10T19:01:58.444Z","type":"message"}
{"nick":"indutny","message":"oh shit","date":"2012-09-10T19:02:04.203Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: with type struct {...} *","date":"2012-09-10T19:02:09.098Z","type":"message"}
{"nick":"indutny","message":"but there're typedef with the same name","date":"2012-09-10T19:02:11.946Z","type":"message"}
{"nick":"indutny","message":"typedef mach_port_t __CFPortSet;","date":"2012-09-10T19:02:24.899Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-09-10T19:02:31.031Z","type":"message"}
{"nick":"indutny","message":"wait","date":"2012-09-10T19:02:31.623Z","type":"message"}
{"nick":"indutny","message":"it's even more interesting","date":"2012-09-10T19:02:35.236Z","type":"message"}
{"nick":"indutny","message":"ok, I got it","date":"2012-09-10T19:02:37.089Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-09-10T19:03:21.775Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus: interesting thing","date":"2012-09-10T19:04:43.295Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: runloopmode has _kq property","date":"2012-09-10T19:04:50.334Z","type":"message"}
{"nick":"indutny","message":"which is not used anywhere","date":"2012-09-10T19:04:55.404Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I think they're lying :D","date":"2012-09-10T19:05:07.890Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I can see in the dtrace logs that the runloop uses a kqueue under the hood","date":"2012-09-10T19:05:10.115Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: it also adds and removes events","date":"2012-09-10T19:05:19.864Z","type":"message"}
{"nick":"V1","new_nick":"`3rdEden","date":"2012-09-10T19:06:02.668Z","type":"nick"}
{"nick":"indutny","message":"piscisaureus: aha!","date":"2012-09-10T19:06:03.852Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: well, that may happen in xnu","date":"2012-09-10T19:06:10.185Z","type":"message"}
{"nick":"indutny","message":"not in CF","date":"2012-09-10T19:06:11.487Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: link?","date":"2012-09-10T19:06:20.013Z","type":"message"}
{"nick":"loladiro","date":"2012-09-10T19:07:15.413Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-09-10T19:07:18.503Z","type":"quit"}
{"nick":"indutny","message":"to what?","date":"2012-09-10T19:07:25.548Z","type":"message"}
{"nick":"indutny","message":"I can't find where it's happening","date":"2012-09-10T19:07:30.581Z","type":"message"}
{"nick":"piscisaureus","message":"is brendan gregg around?","date":"2012-09-10T19:24:22.390Z","type":"message"}
{"nick":"paddybyers","date":"2012-09-10T19:41:30.395Z","type":"join"}
{"nick":"piscisaureus","message":"it's super annoying that dtruss reorders all syscalls","date":"2012-09-10T19:47:29.382Z","type":"message"}
{"nick":"piscisaureus","message":"even within the same thread ","date":"2012-09-10T19:47:35.028Z","type":"message"}
{"nick":"piscisaureus","message":":-(","date":"2012-09-10T19:47:36.924Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-09-10T19:47:45.748Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus: yeah","date":"2012-09-10T19:52:19.405Z","type":"message"}
{"nick":"indutny","message":"very annoying","date":"2012-09-10T19:52:23.030Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: trying to pull mach ports out of loop","date":"2012-09-10T19:52:36.939Z","type":"message"}
{"nick":"indutny","message":"it's possible but really hard","date":"2012-09-10T19:52:41.833Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: btw - there are some races in your code","date":"2012-09-10T19:53:20.791Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: oh, really?","date":"2012-09-10T19:53:35.041Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I added some sleep(1) calls to impose timing constraints","date":"2012-09-10T19:53:35.456Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: where?","date":"2012-09-10T19:53:42.609Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: now the tests no longer pass","date":"2012-09-10T19:53:43.935Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-09-10T19:53:47.922Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I think adding a watch isn't done immediately","date":"2012-09-10T19:54:04.936Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: sure, it isn't","date":"2012-09-10T19:54:17.448Z","type":"message"}
{"nick":"indutny","message":"it's happening in another thread","date":"2012-09-10T19:54:28.812Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I don't see any mach ports being created btw - unless dtruss doesn't show it","date":"2012-09-10T19:56:59.425Z","type":"message"}
{"nick":"indutny","message":"it may not show it","date":"2012-09-10T19:59:37.744Z","type":"message"}
{"nick":"indutny","message":"idk","date":"2012-09-10T19:59:38.470Z","type":"message"}
{"nick":"indutny","message":"but they're really used internalyl","date":"2012-09-10T19:59:43.452Z","type":"message"}
{"nick":"indutny","message":"to wait","date":"2012-09-10T19:59:45.445Z","type":"message"}
{"nick":"piscisaureus","message":"... which wouldn't surprise me, because sleep() also doesnt show up","date":"2012-09-10T19:59:45.688Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-09-10T19:59:51.372Z","type":"quit"}
{"nick":"piscisaureus1","date":"2012-09-10T20:06:21.642Z","type":"join"}
{"nick":"piscisaureus1","message":"indutny: https://gist.github.com/3693484","date":"2012-09-10T20:06:33.846Z","type":"message"}
{"nick":"indutny","message":"ahha","date":"2012-09-10T20:06:51.842Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-09-10T20:07:03.943Z","type":"message"}
{"nick":"indutny","message":"that's expected","date":"2012-09-10T20:07:12.610Z","type":"message"}
{"nick":"piscisaureus1","message":"ok","date":"2012-09-10T20:07:22.998Z","type":"message"}
{"nick":"indutny","message":"what's not expected","date":"2012-09-10T20:07:53.410Z","type":"message"}
{"nick":"indutny","message":"why kevent() returns ENOENT","date":"2012-09-10T20:07:57.850Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^","date":"2012-09-10T20:07:59.052Z","type":"message"}
{"nick":"piscisaureus1","message":"so it's really a big mess with kqueue, mach ports, and gcd all over the place","date":"2012-09-10T20:07:59.519Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: closed fd?","date":"2012-09-10T20:08:20.221Z","type":"message"}
{"nick":"indutny","message":"ahh","date":"2012-09-10T20:08:27.984Z","type":"message"}
{"nick":"indutny","message":"nevermind","date":"2012-09-10T20:08:29.245Z","type":"message"}
{"nick":"indutny","message":"forgot to add flag","date":"2012-09-10T20:08:32.675Z","type":"message"}
{"nick":"indutny","message":"EV_ADD","date":"2012-09-10T20:09:02.081Z","type":"message"}
{"nick":"CIA-129","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000286cb520\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f unix: fix EMFILE busy loop - http://git.io/NztG7w","date":"2012-09-10T20:13:53.509Z","type":"message"}
{"nick":"CIA-129","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024f5c8da\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f unix: reimplement accept() EMFILE trick - http://git.io/thMeQA","date":"2012-09-10T20:13:54.902Z","type":"message"}
{"nick":"piscisaureus1","message":"indutny: the mach port used is defined here: http://opensource.apple.com/source/libdispatch/libdispatch-228.18/src/source.c","date":"2012-09-10T20:14:56.113Z","type":"message"}
{"nick":"piscisaureus1","message":"indutny: unfortunately it's all static","date":"2012-09-10T20:15:04.095Z","type":"message"}
{"nick":"indutny","message":"I know","date":"2012-09-10T20:15:11.507Z","type":"message"}
{"nick":"indutny","message":"i'm looking at this now too","date":"2012-09-10T20:15:19.883Z","type":"message"}
{"nick":"indutny","message":"almost got cfrunloop work with kqueue","date":"2012-09-10T20:15:27.559Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T20:15:34.340Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#666 (master - 4f5c8da : Ben Noordhuis): The build passed.","date":"2012-09-10T20:15:34.580Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/27b11abcc066...4f5c8da191a2","date":"2012-09-10T20:15:34.580Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2400431","date":"2012-09-10T20:15:34.580Z","type":"message"}
{"nick":"travis-ci","date":"2012-09-10T20:15:34.580Z","type":"part"}
{"nick":"piscisaureus1","message":"indutny: I think we're out of luck with this approach...","date":"2012-09-10T20:18:35.146Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: can't say this about my approach","date":"2012-09-10T20:19:25.655Z","type":"message"}
{"nick":"indutny","message":"though it's using a lot of BSD code","date":"2012-09-10T20:19:30.670Z","type":"message"}
{"nick":"TooTallNate","date":"2012-09-10T20:19:38.725Z","type":"join"}
{"nick":"indutny","message":"but I'm very close to getting it work","date":"2012-09-10T20:19:40.425Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: so how does it work?","date":"2012-09-10T20:19:49.579Z","type":"message"}
{"nick":"indutny","message":"only can't listen on _wakeUpPort","date":"2012-09-10T20:19:51.933Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I'm just touching RunLoop structure internals","date":"2012-09-10T20:19:59.527Z","type":"message"}
{"nick":"indutny","message":"taking mach ports out of it","date":"2012-09-10T20:20:05.889Z","type":"message"}
{"nick":"indutny","message":"and adding them to kqueue","date":"2012-09-10T20:20:10.206Z","type":"message"}
{"nick":"indutny","message":"and then calling CFRunLoopInMode","date":"2012-09-10T20:20:15.745Z","type":"message"}
{"nick":"indutny","message":"with small timeout","date":"2012-09-10T20:20:20.641Z","type":"message"}
{"nick":"piscisaureus","message":"ah","date":"2012-09-10T20:20:29.526Z","type":"message"}
{"nick":"indutny","message":"it should work :)","date":"2012-09-10T20:20:50.150Z","type":"message"}
{"nick":"indutny","message":"but, kevent returns ENOTSUP for _wakeUpPort","date":"2012-09-10T20:21:09.577Z","type":"message"}
{"nick":"indutny","message":"while it works fine on mode's port","date":"2012-09-10T20:21:16.481Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: is it actually a valid mach port?","date":"2012-09-10T20:25:28.347Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: also it has to be a port set. kqueue only supports port sets, not individual ports","date":"2012-09-10T20:25:58.119Z","type":"message"}
{"nick":"piscisaureus","message":"(atleast on os x > 10.5)","date":"2012-09-10T20:26:15.129Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: dunno, how to check?","date":"2012-09-10T20:26:15.364Z","type":"message"}
{"nick":"indutny","message":"oooh","date":"2012-09-10T20:26:20.256Z","type":"message"}
{"nick":"indutny","message":"port set","date":"2012-09-10T20:26:24.668Z","type":"message"}
{"nick":"indutny","message":"thanks man","date":"2012-09-10T20:26:31.998Z","type":"message"}
{"nick":"indutny","message":"and how to create one? :)","date":"2012-09-10T20:27:10.150Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: special flag to mach_port_create (or what's the thing called again)","date":"2012-09-10T20:27:30.154Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ok, let me try","date":"2012-09-10T20:27:39.050Z","type":"message"}
{"nick":"piscisaureus","message":"mach_port_allocate","date":"2012-09-10T20:27:51.193Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-09-10T20:30:31.777Z","type":"message"}
{"nick":"indutny","message":"VFILT_MACHPORT  Takes the name of a mach port, or port set, in ident and waits until a message is received on the port or port set. When a message is recieved, the size of the","date":"2012-09-10T20:32:09.737Z","type":"message"}
{"nick":"indutny","message":"                      message is returned in data and if fflags is set to MACH_RCV_MSG, a pointer to the message is returned in ext[0].","date":"2012-09-10T20:32:09.972Z","type":"message"}
{"nick":"indutny","message":"why does man states that it support mach port","date":"2012-09-10T20:32:16.397Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ^","date":"2012-09-10T20:32:26.378Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I don't know, just ran into a comment in the source code that says it doesn't work","date":"2012-09-10T20:32:43.449Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: same for EVFILT_CHILD btw","date":"2012-09-10T20:32:49.799Z","type":"message"}
{"nick":"piscisaureus","message":"so much for kqueue being awesome...","date":"2012-09-10T20:32:54.560Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2012-09-10T20:33:15.349Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-09-10T20:38:29.650Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus: so how to create this f*cking port set?","date":"2012-09-10T20:38:33.171Z","type":"message"}
{"nick":"indutny","message":"nvm","date":"2012-09-10T20:39:16.293Z","type":"message"}
{"nick":"indutny","message":"found example","date":"2012-09-10T20:39:17.923Z","type":"message"}
{"nick":"paddybyers","date":"2012-09-10T20:39:50.404Z","type":"join"}
{"nick":"AutowiredConstru","message":"p","date":"2012-09-10T20:40:06.366Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: nope, still doesn't work","date":"2012-09-10T20:44:20.408Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-09-10T20:44:31.530Z","type":"message"}
{"nick":"mraleph","date":"2012-09-10T20:44:32.191Z","type":"join"}
{"nick":"indutny","message":"I hadn't created port","date":"2012-09-10T20:44:34.382Z","type":"message"}
{"nick":"indutny","message":"I mean port set","date":"2012-09-10T20:45:18.516Z","type":"message"}
{"nick":"loladiro","date":"2012-09-10T20:45:25.347Z","type":"join"}
{"nick":"piscisaureus","message":"boo","date":"2012-09-10T20:45:43.161Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: how to do it?!","date":"2012-09-10T20:47:23.143Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: do what?","date":"2012-09-10T20:47:29.904Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-09-10T20:49:23.703Z","type":"message"}
{"nick":"indutny","message":"lets skip wait port for now","date":"2012-09-10T20:49:34.534Z","type":"message"}
{"nick":"mitsuhiko","message":"why was ares removed?","date":"2012-09-10T20:53:24.546Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-09-10T20:53:39.397Z","type":"quit"}
{"nick":"piscisaureus","message":"mitsuhiko: because it's a separate library and it made up half of libuv's source code","date":"2012-09-10T20:54:49.948Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: it works!","date":"2012-09-10T20:54:53.974Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-09-10T20:55:05.605Z","type":"message"}
{"nick":"mitsuhiko","message":"piscisaureus1: fair enough. but didn't getaddrinfo use ares before?","date":"2012-09-10T20:55:17.185Z","type":"message"}
{"nick":"piscisaureus","message":"mitsuhiko: no, it always used a thread pool","date":"2012-09-10T20:55:29.440Z","type":"message"}
{"nick":"`3rdEden","date":"2012-09-10T20:55:34.224Z","type":"join"}
{"nick":"mitsuhiko","message":"ah","date":"2012-09-10T20:55:34.463Z","type":"message"}
{"nick":"mitsuhiko","message":"still unfortunate :(","date":"2012-09-10T20:55:52.212Z","type":"message"}
{"nick":"piscisaureus","message":"mitsuhiko: we added c-ares because we had no way to integrate it with libuv","date":"2012-09-10T20:55:56.724Z","type":"message"}
{"nick":"dshaw_","date":"2012-09-10T20:55:59.554Z","type":"join"}
{"nick":"indutny","message":"piscisaureus: yayayaya","date":"2012-09-10T20:56:04.580Z","type":"message"}
{"nick":"piscisaureus","message":"mitsuhiko: but now that there's uv_poll you can just do that in 200 loc","date":"2012-09-10T20:56:15.304Z","type":"message"}
{"nick":"mitsuhiko","message":"fair enough. i was assuming name lookups went through c-ares before","date":"2012-09-10T20:56:33.175Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: so does the mach port set work? or do you just busyloop?","date":"2012-09-10T20:56:43.893Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I'll post a gist for you","date":"2012-09-10T20:56:55.989Z","type":"message"}
{"nick":"piscisaureus","message":"mitsuhiko: no, it didn't. That would be great, but unfortunately c-ares has a fair share of issues","date":"2012-09-10T20:57:09.475Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: https://gist.github.com/fe2f89cf477671135a76","date":"2012-09-10T20:57:13.681Z","type":"message"}
{"nick":"piscisaureus","message":"so we could never fully rely on it","date":"2012-09-10T20:57:17.026Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: CFRunLoopWakeUp won't work","date":"2012-09-10T20:57:20.210Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: because I wasn't able to add _waitPort to kqueue","date":"2012-09-10T20:57:32.742Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: can you build it?","date":"2012-09-10T20:59:25.775Z","type":"message"}
{"nick":"mitsuhiko","message":"piscisaureus1: fair enough. i did not even realize it spawned a thread :)","date":"2012-09-10T20:59:54.296Z","type":"message"}
{"nick":"mitsuhiko","message":"the presence of the header made me assume it was resolving dns itself","date":"2012-09-10T21:00:09.114Z","type":"message"}
{"nick":"piscisaureus","message":"mitsuhiko: well, if you dont notice it there's no problem right :-)","date":"2012-09-10T21:00:29.757Z","type":"message"}
{"nick":"piscisaureus","message":"mitsuhiko: you are still free to use c-ares if you want to","date":"2012-09-10T21:00:50.839Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: so explain to me how this works","date":"2012-09-10T21:01:18.266Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: does it works?","date":"2012-09-10T21:01:23.754Z","type":"message"}
{"nick":"indutny","message":"if it does - then I'm a cool person","date":"2012-09-10T21:01:50.632Z","type":"message"}
{"nick":"indutny","message":"can you live with that? :D","date":"2012-09-10T21:01:58.582Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-09-10T21:02:02.811Z","type":"message"}
{"nick":"indutny","message":"sorry, I just hadn't slept for too long","date":"2012-09-10T21:02:12.489Z","type":"message"}
{"nick":"indutny","message":"throwing bad jokes and everything","date":"2012-09-10T21:02:20.958Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: no it doesn't :-p","date":"2012-09-10T21:02:32.183Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: what link flags?","date":"2012-09-10T21:02:35.331Z","type":"message"}
{"nick":"indutny","message":"g++ -O0 -g -framework CoreFoundation -framework CoreServices cf.c -o cf && ./cf","date":"2012-09-10T21:02:49.125Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: and then create directory '1' in /tmp","date":"2012-09-10T21:02:59.230Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: or touch files in it","date":"2012-09-10T21:03:04.868Z","type":"message"}
{"nick":"indutny","message":"if it already exists","date":"2012-09-10T21:03:08.404Z","type":"message"}
{"nick":"piscisaureus","message":"it just says wait ...","date":"2012-09-10T21:03:46.341Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: even after mkdir?","date":"2012-09-10T21:03:57.251Z","type":"message"}
{"nick":"piscisaureus","message":"ya","date":"2012-09-10T21:04:05.410Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ls -la /tmp","date":"2012-09-10T21:04:06.739Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: does your /tmp symlinked to /private/tmp ?","date":"2012-09-10T21:04:15.142Z","type":"message"}
{"nick":"indutny","message":"s/does/is","date":"2012-09-10T21:04:17.983Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2012-09-10T21:04:20.662Z","type":"message"}
{"nick":"indutny","message":"odd","date":"2012-09-10T21:04:24.953Z","type":"message"}
{"nick":"indutny","message":"it works fine for me","date":"2012-09-10T21:04:30.709Z","type":"message"}
{"nick":"indutny","message":"very odd","date":"2012-09-10T21:05:01.925Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: can you add some logging before EV_SET","date":"2012-09-10T21:05:10.665Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I suppose structures signatures may changed in 10.8","date":"2012-09-10T21:05:28.917Z","type":"message"}
{"nick":"piscisaureus","message":"so how is logging going to help there? :-)","date":"2012-09-10T21:06:05.288Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: well, I just want to know if it's adding anything to kqueue","date":"2012-09-10T21:06:41.013Z","type":"message"}
{"nick":"piscisaureus","message":"doesnt look like it","date":"2012-09-10T21:07:15.054Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-09-10T21:07:44.808Z","type":"message"}
{"nick":"indutny","message":"signature changed","date":"2012-09-10T21:07:48.437Z","type":"message"}
{"nick":"indutny","message":"http://www.opensource.apple.com/source/CF/CF-635/CFRunLoop.c","date":"2012-09-10T21:07:53.305Z","type":"message"}
{"nick":"indutny","message":"are you on 10.7?","date":"2012-09-10T21:07:59.095Z","type":"message"}
{"nick":"indutny","message":"or 10.8?","date":"2012-09-10T21:08:00.358Z","type":"message"}
{"nick":"piscisaureus","message":"mountain","date":"2012-09-10T21:08:09.387Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-09-10T21:08:28.259Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: would it be hard for you to pull struct __CFRunLoopMode out of fresh CF?","date":"2012-09-10T21:08:46.188Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: (link that I just sent)","date":"2012-09-10T21:08:54.317Z","type":"message"}
{"nick":"piscisaureus","message":"ya","date":"2012-09-10T21:09:22.883Z","type":"message"}
{"nick":"piscisaureus","message":"umm","date":"2012-09-10T21:10:06.195Z","type":"message"}
{"nick":"piscisaureus","message":"the signature in the link is the same","date":"2012-09-10T21:10:17.791Z","type":"message"}
{"nick":"piscisaureus","message":"as your code","date":"2012-09-10T21:10:22.535Z","type":"message"}
{"nick":"piscisaureus1","message":"indutny: http://opensource.apple.com/source/CF/CF-635.21/CFRunLoop.c","date":"2012-09-10T21:11:17.448Z","type":"message"}
{"nick":"stagas_","date":"2012-09-10T21:12:40.223Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 244 seconds","date":"2012-09-10T21:13:07.554Z","type":"quit"}
{"nick":"indutny","message":"nope, it isn't","date":"2012-09-10T21:13:11.682Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: there're sources0 and sources1","date":"2012-09-10T21:13:38.524Z","type":"message"}
{"nick":"indutny","message":"and others","date":"2012-09-10T21:13:39.843Z","type":"message"}
{"nick":"indutny","message":"I don't care about anything after port","date":"2012-09-10T21:13:52.192Z","type":"message"}
{"nick":"indutny","message":"but we need to get a correct offset to this port","date":"2012-09-10T21:14:00.390Z","type":"message"}
{"nick":"indutny","message":"and __CFRunLoop has also been changed","date":"2012-09-10T21:14:14.551Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: well you do care about it's size","date":"2012-09-10T21:14:20.664Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: otherwise you will alloc not enough memory","date":"2012-09-10T21:14:28.491Z","type":"message"}
{"nick":"piscisaureus","message":"and get EFAULT ","date":"2012-09-10T21:14:31.944Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: ah yes","date":"2012-09-10T21:14:32.361Z","type":"message"}
{"nick":"indutny","message":"I forgot about it","date":"2012-09-10T21:14:34.934Z","type":"message"}
{"nick":"indutny","message":"EFAULT?","date":"2012-09-10T21:14:38.351Z","type":"message"}
{"nick":"indutny","message":"from where?","date":"2012-09-10T21:14:40.398Z","type":"message"}
{"nick":"piscisaureus","message":"it doesn't happen","date":"2012-09-10T21:16:53.572Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-09-10T21:17:08.209Z","type":"message"}
{"nick":"indutny","message":"sorry, misread you","date":"2012-09-10T21:17:10.896Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: anyway, mode_cnt is 0","date":"2012-09-10T21:20:48.944Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-09-10T21:20:53.999Z","type":"message"}
{"nick":"indutny","message":"odd","date":"2012-09-10T21:20:55.142Z","type":"message"}
{"nick":"CIA-129","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307openssl-asm\u000f * r\u0002c34087d\u000f \u000310\u000f/ (deps/openssl/asm/Makefile deps/openssl/asm-gen.sh)\u0002:\u000f openssl: regenerate asm code with a Makefile - http://git.io/NWd4FQ","date":"2012-09-10T21:24:49.658Z","type":"message"}
{"nick":"CIA-129","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307openssl-asm\u000f * r\u00029aff820\u000f \u000310\u000f/ (50 files in 42 dirs)\u0002:\u000f openssl: regenerate asm code - http://git.io/ltFgrg","date":"2012-09-10T21:24:50.473Z","type":"message"}
{"nick":"piscisaureus","message":"yay","date":"2012-09-10T21:24:50.473Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: both structs changed","date":"2012-09-10T21:25:09.373Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-09-10T21:25:14.450Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I patched them and it works","date":"2012-09-10T21:25:27.399Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: not a very solid stragey tho :-)","date":"2012-09-10T21:25:34.488Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: yay","date":"2012-09-10T21:25:34.724Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: haha","date":"2012-09-10T21:25:38.426Z","type":"message"}
{"nick":"indutny","message":"yes, relying on non-fixed APIs","date":"2012-09-10T21:25:47.709Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: so, I've found a way to embed CFRunLoop in libuv's event loop","date":"2012-09-10T21:26:10.851Z","type":"message"}
{"nick":"indutny","message":"hope everyone are happy now","date":"2012-09-10T21:26:20.103Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-09-10T21:26:28.875Z","type":"message"}
{"nick":"piscisaureus","message":"maybe we can download all the versions of cfrunloop.c ","date":"2012-09-10T21:27:44.169Z","type":"message"}
{"nick":"piscisaureus","message":"and see how often this bitch changes","date":"2012-09-10T21:27:48.924Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: btw - why don't you use CFRunLoopCopyAllModes?","date":"2012-09-10T21:31:43.456Z","type":"message"}
{"nick":"indutny","message":"dunno","date":"2012-09-10T21:32:53.974Z","type":"message"}
{"nick":"indutny","message":"what is it doing","date":"2012-09-10T21:32:57.468Z","type":"message"}
{"nick":"piscisaureus","message":"I suppose it copies _modes :-)","date":"2012-09-10T21:33:13.252Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: I suppose it's returning CFStringRefs","date":"2012-09-10T21:33:28.811Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-09-10T21:33:30.605Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: that's what user knows about modes","date":"2012-09-10T21:33:36.159Z","type":"message"}
{"nick":"indutny","message":"    CFSetApplyFunction(rl->_modes, (__CFRunLoopGetModeName), array);","date":"2012-09-10T21:33:58.883Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-09-10T21:33:59.535Z","type":"message"}
{"nick":"indutny","message":"indeed","date":"2012-09-10T21:34:00.650Z","type":"message"}
{"nick":"indutny","message":"it returns mode names","date":"2012-09-10T21:34:10.278Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: do you want to pull this shit into libuv?","date":"2012-09-10T21:35:09.491Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: let's sleep on it, and pull the fsevents stuff that you already have","date":"2012-09-10T21:35:49.014Z","type":"message"}
{"nick":"piscisaureus","message":"although - I found a race condition :-)","date":"2012-09-10T21:35:56.998Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-09-10T21:35:57.396Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: well, I can wait on semaphore after it","date":"2012-09-10T21:36:11.528Z","type":"message"}
{"nick":"indutny","message":"but it will block","date":"2012-09-10T21:36:25.659Z","type":"message"}
{"nick":"indutny","message":"and it'll be racey anyway","date":"2012-09-10T21:36:35.513Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: does it crash?","date":"2012-09-10T21:36:40.233Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2012-09-10T21:36:42.870Z","type":"message"}
{"nick":"piscisaureus","message":"it hanfs","date":"2012-09-10T21:36:44.841Z","type":"message"}
{"nick":"piscisaureus","message":"*hangs","date":"2012-09-10T21:36:47.467Z","type":"message"}
{"nick":"indutny","message":"or just isn't catching changes","date":"2012-09-10T21:36:48.907Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: so it's waiting for changes, right?","date":"2012-09-10T21:36:59.060Z","type":"message"}
{"nick":"indutny","message":"not literally hang","date":"2012-09-10T21:37:03.775Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: yes","date":"2012-09-10T21:37:06.475Z","type":"message"}
{"nick":"indutny","message":"well, that's just how it works","date":"2012-09-10T21:37:13.896Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: did you review the fsevents patch?","date":"2012-09-10T21:37:21.630Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i looked at it","date":"2012-09-10T21:37:30.003Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: oh - well, nvm","date":"2012-09-10T21:37:30.746Z","type":"message"}
{"nick":"mikeal","date":"2012-09-10T21:37:45.081Z","type":"join"}
{"nick":"piscisaureus","message":"indutny: so to continue with my endless complaints","date":"2012-09-10T21:37:47.349Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-09-10T21:37:52.001Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: now the binary that you get depends on the os x version that you compile with","date":"2012-09-10T21:38:08.817Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: that's not so nice since we distribute binaries","date":"2012-09-10T21:38:16.858Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: yes","date":"2012-09-10T21:38:17.102Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: we can compile it for later versions","date":"2012-09-10T21:38:26.230Z","type":"message"}
{"nick":"indutny","message":"and use safely on older versions","date":"2012-09-10T21:38:31.769Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: yeah, that would be nice","date":"2012-09-10T21:38:37.196Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I think you meant \"compile *on* later versions\" :_)","date":"2012-09-10T21:39:05.366Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: I think I prefer to just add these two #defines to libuv's source code","date":"2012-09-10T21:39:21.085Z","type":"message"}
{"nick":"piscisaureus","message":"or whatever they are - enums","date":"2012-09-10T21:39:31.313Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: lets do it","date":"2012-09-10T21:39:37.171Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: can you give me the values?","date":"2012-09-10T21:39:41.836Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: which ones exactly? Do you need me to gist a particular header file?","date":"2012-09-10T21:39:59.368Z","type":"message"}
{"nick":"indutny","message":"kFSEventStreamEventFlagItemRenamed","date":"2012-09-10T21:40:05.640Z","type":"message"}
{"nick":"indutny","message":"kFSEventStreamCreateFlagFileEvents","date":"2012-09-10T21:40:12.624Z","type":"message"}
{"nick":"indutny","message":"and other EventFlags","date":"2012-09-10T21:40:21.309Z","type":"message"}
{"nick":"piscisaureus","message":"god, those names","date":"2012-09-10T21:40:41.584Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-09-10T21:40:51.795Z","type":"message"}
{"nick":"stagas_","reason":"Ping timeout: 252 seconds","date":"2012-09-10T21:40:56.835Z","type":"quit"}
{"nick":"indutny","message":"yeah","date":"2012-09-10T21:41:00.003Z","type":"message"}
{"nick":"indutny","message":"I think we do not really need EventFlagItemRenamed","date":"2012-09-10T21:41:10.345Z","type":"message"}
{"nick":"piscisaureus","message":"hmm, they're not in /usr/include ...","date":"2012-09-10T21:41:41.606Z","type":"message"}
{"nick":"indutny","message":"yes","date":"2012-09-10T21:42:00.440Z","type":"message"}
{"nick":"indutny","message":"you should search them in xcode's folder","date":"2012-09-10T21:42:07.021Z","type":"message"}
{"nick":"piscisaureus1","message":"in /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/CarbonCore.framework/Versions/A/Headers/FSEvents.h","date":"2012-09-10T21:44:14.556Z","type":"message"}
{"nick":"piscisaureus1","message":"...","date":"2012-09-10T21:44:16.408Z","type":"message"}
{"nick":"stagas_","date":"2012-09-10T21:45:01.058Z","type":"join"}
{"nick":"piscisaureus1","message":"indutny: https://gist.github.com/100e072f83c64543f1cd","date":"2012-09-10T21:45:23.251Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: thanks","date":"2012-09-10T21:45:41.614Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: bnoordhuis: running tests","date":"2012-09-10T21:50:48.419Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: force pushed https://github.com/joyent/libuv/pull/525","date":"2012-09-10T21:52:09.601Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: also, I'll be very glad if you'll find a way to watch _waitPort with kevent()","date":"2012-09-10T21:54:13.977Z","type":"message"}
{"nick":"indutny","message":"I hadn't got any luck on this field","date":"2012-09-10T21:54:19.484Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-09-10T21:54:22.803Z","type":"quit"}
{"nick":"AutowiredConstru","reason":"Quit: staticif","date":"2012-09-10T21:56:08.318Z","type":"quit"}
{"nick":"stagas_","reason":"Ping timeout: 248 seconds","date":"2012-09-10T21:58:08.127Z","type":"quit"}
{"nick":"dshaw_","date":"2012-09-10T21:58:09.938Z","type":"join"}
{"nick":"piscisaureus1","message":"bnoordhuis: so about the emfile trick","date":"2012-09-10T21:58:17.233Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: i just really reviewed it","date":"2012-09-10T21:58:24.443Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: so, ...","date":"2012-09-10T21:58:29.970Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: lgtm","date":"2012-09-10T21:58:32.944Z","type":"message"}
{"nick":"bnoordhuis","message":"well... good :)","date":"2012-09-10T21:58:39.247Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: btw, your glasses are still here","date":"2012-09-10T21:58:56.825Z","type":"message"}
{"nick":"bnoordhuis","message":"as is my laptop","date":"2012-09-10T21:59:02.381Z","type":"message"}
{"nick":"stagas_","date":"2012-09-10T21:59:06.694Z","type":"join"}
{"nick":"piscisaureus1","message":"bnoordhuis: eh?","date":"2012-09-10T21:59:13.460Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: no, just your glasses","date":"2012-09-10T21:59:17.940Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: there were some government officials here today, they took out half the inventory, so that could be it","date":"2012-09-10T21:59:58.943Z","type":"message"}
{"nick":"bnoordhuis","message":"har har","date":"2012-09-10T22:00:05.505Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus1: btw, i'll probably be in the office tomorrow","date":"2012-09-10T22:04:05.352Z","type":"message"}
{"nick":"piscisaureus","message":"oh no","date":"2012-09-10T22:04:13.701Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but it's no-ben tuesday tomorrow...","date":"2012-09-10T22:04:42.367Z","type":"message"}
{"nick":"stagas_","reason":"Ping timeout: 240 seconds","date":"2012-09-10T22:06:08.219Z","type":"quit"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-09-10T22:08:08.177Z","type":"quit"}
{"nick":"rendar","date":"2012-09-10T22:09:50.029Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus: you'll be happy to know it's no-ben thursday this week","date":"2012-09-10T22:11:48.280Z","type":"message"}
{"nick":"piscisaureus","message":"yup","date":"2012-09-10T22:12:10.145Z","type":"message"}
{"nick":"piscisaureus","message":"just like last week, the week before and the week before tat","date":"2012-09-10T22:12:25.118Z","type":"message"}
{"nick":"piscisaureus","message":"*that","date":"2012-09-10T22:12:26.981Z","type":"message"}
{"nick":"piscisaureus","message":"you don't notice how valuable something is it until it is taken away","date":"2012-09-10T22:13:23.510Z","type":"message"}
{"nick":"c4milo_","reason":"Remote host closed the connection","date":"2012-09-10T22:16:02.412Z","type":"quit"}
{"nick":"c4milo","date":"2012-09-10T22:16:28.633Z","type":"join"}
{"nick":"hz","reason":"Ping timeout: 272 seconds","date":"2012-09-10T22:18:54.313Z","type":"quit"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-10T22:19:31.315Z","type":"quit"}
{"nick":"c4milo","reason":"Ping timeout: 264 seconds","date":"2012-09-10T22:21:29.396Z","type":"quit"}
{"nick":"piscisaureus1","message":"indutny: ya, I have no luck with _wakeupPort either","date":"2012-09-10T22:46:13.978Z","type":"message"}
{"nick":"piscisaureus1","message":"indutny: no errors but the loop just doesn't wake up","date":"2012-09-10T22:46:30.212Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: does your makefile cd to the source dir before running perl?","date":"2012-09-10T22:47:43.505Z","type":"message"}
{"nick":"piscisaureus1","message":"bnoordhuis: I had to do that because otherwise some .pl scripts fail to find perlasm","date":"2012-09-10T22:48:05.881Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: odd","date":"2012-09-10T22:48:58.744Z","type":"message"}
{"nick":"indutny","message":"piscisaureus1: lets look at it tomorrow","date":"2012-09-10T22:49:10.538Z","type":"message"}
{"nick":"indutny","message":"going to sleep now","date":"2012-09-10T22:49:12.701Z","type":"message"}
{"nick":"indutny","message":"ttyl","date":"2012-09-10T22:49:13.366Z","type":"message"}
{"nick":"piscisaureus","message":"indutny: sleep well, ttyl","date":"2012-09-10T22:50:11.981Z","type":"message"}
{"nick":"CIA-129","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307no-unwanted-destruction\u000f * r\u0002231a712\u000f \u000310\u000f/ lib/stream.js \u0002:\u000f stream.pipe: Don't call destroy() unless it's a function - http://git.io/TnV2iA","date":"2012-09-10T22:59:49.453Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis, piscisaureus: thoughts on that ^?","date":"2012-09-10T22:59:58.993Z","type":"message"}
{"nick":"isaacs","message":"it's kind of a wart that i'd actually thougth we already fixed.","date":"2012-09-10T23:00:10.536Z","type":"message"}
{"nick":"isaacs","message":"but every writable stream nowadays must implement destroy() even if it does nothing","date":"2012-09-10T23:00:22.888Z","type":"message"}
{"nick":"piscisaureus","message":"okay","date":"2012-09-10T23:00:53.973Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: ^","date":"2012-09-10T23:01:02.927Z","type":"message"}
{"nick":"isaacs","message":"landing on 0.8","date":"2012-09-10T23:01:11.094Z","type":"message"}
{"nick":"isaacs","message":"it's a bug, imo","date":"2012-09-10T23:01:13.580Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: what's the bargain?","date":"2012-09-10T23:01:29.968Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: what can I land on 0.8 in return?","date":"2012-09-10T23:01:38.772Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus: if you're going to remove some undocumented \"blow up in your face if you don't do some stupid dance\" behavior, then yes, that can go in a stable release.","date":"2012-09-10T23:02:18.372Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: you'd be surprised","date":"2012-09-10T23:02:37.734Z","type":"message"}
{"nick":"isaacs","message":"i dont' think anyone's *depending* on throwing from calling a non-function here.","date":"2012-09-10T23:02:47.719Z","type":"message"}
{"nick":"piscisaureus","message":"nopr","date":"2012-09-10T23:02:55.306Z","type":"message"}
{"nick":"piscisaureus","message":"isaacs: it might be something where \"set %HOME%=%USERPROFILE%\" is the stupid dance","date":"2012-09-10T23:03:16.226Z","type":"message"}
{"nick":"isaacs","message":"and the existing \"call destroy() on close\" semantics don't change.","date":"2012-09-10T23:03:17.622Z","type":"message"}
{"nick":"piscisaureus","message":"er, \"set HOME=%USERPROFILE%\" is the stupid dance","date":"2012-09-10T23:03:31.394Z","type":"message"}
{"nick":"isaacs","message":"sure.","date":"2012-09-10T23:03:37.663Z","type":"message"}
{"nick":"piscisaureus","message":"haha","date":"2012-09-10T23:03:43.981Z","type":"message"}
{"nick":"piscisaureus","message":"I was half kidding","date":"2012-09-10T23:03:48.617Z","type":"message"}
{"nick":"isaacs","message":"that's a little less stupid of a dance.","date":"2012-09-10T23:03:50.521Z","type":"message"}
{"nick":"isaacs","message":"we can do it in master.","date":"2012-09-10T23:03:54.756Z","type":"message"}
{"nick":"isaacs","message":"or we can just do like npm, and set HOME ourselves intelligently on windows","date":"2012-09-10T23:04:12.809Z","type":"message"}
{"nick":"isaacs","message":"or you can use the osenv module","date":"2012-09-10T23:04:25.833Z","type":"message"}
{"nick":"piscisaureus","message":"or implement uv_user_info()","date":"2012-09-10T23:04:53.825Z","type":"message"}
{"nick":"CIA-129","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u000241e1b17\u000f \u000310\u000f/ lib/stream.js \u0002:\u000f stream.pipe: Don't call destroy() unless it's a function - http://git.io/UyKVGA","date":"2012-09-10T23:04:54.138Z","type":"message"}
{"nick":"isaacs","message":"Raynos: ^","date":"2012-09-10T23:05:05.019Z","type":"message"}
{"nick":"Raynos","message":"isaacs: o/","date":"2012-09-10T23:05:22.707Z","type":"message"}
{"nick":"piscisaureus","message":"the fact that fsevents is only for corefoundation users pisses me off bigtime","date":"2012-09-10T23:06:14.630Z","type":"message"}
{"nick":"piscisaureus","message":"like, what windows felt like before I got over that","date":"2012-09-10T23:06:30.409Z","type":"message"}
{"nick":"loladiro","date":"2012-09-10T23:10:06.392Z","type":"join"}
{"nick":"piscisaureus1","reason":"Quit: Leaving.","date":"2012-09-10T23:40:45.571Z","type":"quit"}
{"nick":"c4milo","date":"2012-09-10T23:46:21.895Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-09-10T23:47:35.327Z","type":"join"}
{"nick":"mitsuhiko","message":"if the timer is initialized with 0 and 1000 does it mean the timer fires instantly and then every second?","date":"2012-09-10T23:47:45.444Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-09-10T23:47:51.516Z","type":"quit"}
{"nick":"piscisaureus_","message":"yep","date":"2012-09-10T23:48:51.891Z","type":"message"}
{"nick":"piscisaureus_","message":"mitsuhiko: ^","date":"2012-09-10T23:48:59.452Z","type":"message"}
{"nick":"mitsuhiko","message":"oh, there is a comment now","date":"2012-09-10T23:49:00.023Z","type":"message"}
{"nick":"mitsuhiko","message":"should migrate to latest uv i guess","date":"2012-09-10T23:49:07.057Z","type":"message"}
{"nick":"mitsuhiko","message":"speaks volumes for libuv that i did not encounter a single bug that was not my fault in a months time :)","date":"2012-09-10T23:49:29.595Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-09-10T23:50:34.333Z","type":"message"}
{"nick":"piscisaureus_","message":"well we fixed many actually :-)","date":"2012-09-10T23:50:40.639Z","type":"message"}
{"nick":"piscisaureus_","message":"mitsuhiko: but thanks, I'll take that as a compliment","date":"2012-09-10T23:50:54.417Z","type":"message"}
{"nick":"mitsuhiko","message":"you should. i have a blast with libuv :)","date":"2012-09-10T23:51:10.526Z","type":"message"}
{"nick":"piscisaureus_","message":"cool","date":"2012-09-10T23:51:20.343Z","type":"message"}
{"nick":"piscisaureus_","message":"mitsuhiko: what are you doing with it?","date":"2012-09-10T23:51:26.366Z","type":"message"}
{"nick":"mitsuhiko","message":"a sort of pubsub server","date":"2012-09-10T23:51:40.157Z","type":"message"}
{"nick":"mitsuhiko","message":"it handles persistent messaging connections for computer games","date":"2012-09-10T23:51:49.844Z","type":"message"}
{"nick":"piscisaureus_","message":"mitsuhiko: your job? or just a hobby project","date":"2012-09-10T23:52:09.792Z","type":"message"}
{"nick":"piscisaureus_","message":"this sounds like a job","date":"2012-09-10T23:52:13.977Z","type":"message"}
{"nick":"mitsuhiko","message":"yeah, job :)","date":"2012-09-10T23:52:22.001Z","type":"message"}
{"nick":"mitsuhiko","message":"but oh well, i'm hacking on this in the middle of the night so pretty much also hobby :)","date":"2012-09-10T23:52:43.299Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-09-10T23:52:49.568Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-09-10T23:54:35.564Z","type":"quit"}
{"nick":"mitsuhiko","message":"it's a shame that you can't get async vsync. would love to play around with libuv as a mainloop for a proper game","date":"2012-09-10T23:55:09.677Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-09-10T23:55:52.023Z","type":"quit"}
{"nick":"piscisaureus_","message":"I suppose vsync is pretty timing sensitive","date":"2012-09-10T23:56:35.306Z","type":"message"}
{"nick":"piscisaureus_","message":"so that's a bit of a problem indeed","date":"2012-09-10T23:56:41.541Z","type":"message"}
{"nick":"piscisaureus_","message":"I think joining with other event loops is also (still) not very easy","date":"2012-09-10T23:56:56.368Z","type":"message"}
{"nick":"mitsuhiko","message":"i saw uv_run2 a few days ago so that might get me some way","date":"2012-09-10T23:57:17.090Z","type":"message"}
{"nick":"mitsuhiko","message":"not sure how that does with the timings though","date":"2012-09-10T23:57:25.828Z","type":"message"}
{"nick":"piscisaureus_","message":"oh, the timers will still run I'm sure","date":"2012-09-10T23:57:40.435Z","type":"message"}
{"nick":"piscisaureus_","message":"it's more like","date":"2012-09-10T23:57:42.421Z","type":"message"}
{"nick":"piscisaureus_","message":"you want the event loop to wake up on either io *or* user input","date":"2012-09-10T23:58:22.618Z","type":"message"}
{"nick":"mitsuhiko","message":"it's just that i definitely enjoyed the server side more than integrating that with unreal","date":"2012-09-10T23:58:24.123Z","type":"message"}
{"nick":"mitsuhiko","message":"they have a rather  interesting network stack","date":"2012-09-10T23:58:33.572Z","type":"message"}
{"nick":"piscisaureus_","message":"and handling user input is not really possible","date":"2012-09-10T23:58:48.361Z","type":"message"}
{"nick":"piscisaureus_","message":"mitsuhiko: so you're writing an unreal server?","date":"2012-09-10T23:58:56.325Z","type":"message"}
{"nick":"mitsuhiko","message":"nope, it runs alongside of a traditional gameserver","date":"2012-09-10T23:59:09.249Z","type":"message"}
{"nick":"mitsuhiko","message":"we're moving as much stuff as possible outside of what unreal is doing","date":"2012-09-10T23:59:20.789Z","type":"message"}
{"nick":"mitsuhiko","message":"and result is that you can do things outside of the game with the game","date":"2012-09-10T23:59:32.424Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, right","date":"2012-09-10T23:59:40.637Z","type":"message"}
