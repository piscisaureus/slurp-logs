{"nick":"ircretary","reason":"Remote host closed the connection","date":"2013-05-02T00:00:01.307Z","type":"quit"}
{"nick":"ircretary","date":"2013-05-02T00:00:08.599Z","type":"join"}
{"nick":"trevnorris","message":"oh, yeah. her","date":"2013-05-02T00:00:10.725Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: guessing by avatar pic and name, anyway.  seems to present as female.","date":"2013-05-02T00:00:12.189Z","type":"message"}
{"nick":"trevnorris","message":"oh, yup. her pic on twit","date":"2013-05-02T00:01:19.341Z","type":"message"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-05-02T00:02:12.533Z","type":"quit"}
{"nick":"isaacs","message":"i think we should try to assume, in absence of knowledge, that developers are female.","date":"2013-05-02T00:02:22.948Z","type":"message"}
{"nick":"isaacs","message":"of course, point of fact, you'll be wrong more often.","date":"2013-05-02T00:02:30.534Z","type":"message"}
{"nick":"hz","date":"2013-05-02T00:02:46.191Z","type":"quit"}
{"nick":"isaacs","message":"but analyzed from a utility model of knowledge, the damage done by ostracizing a male programmer is much lower than ostracizing a female programmer.","date":"2013-05-02T00:03:17.503Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2013-05-02T00:06:00.863Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 276 seconds","date":"2013-05-02T00:06:36.447Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: holy fuck dude. simple hello world: node - Requests/sec:  20236.10; Haywire - Requests/sec: 216798.00","date":"2013-05-02T00:07:37.506Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-05-02T00:07:54.787Z","type":"message"}
{"nick":"isaacs","message":"buffers and v8 contexts aren't free :)","date":"2013-05-02T00:08:02.688Z","type":"message"}
{"nick":"trevnorris","message":"mother. seriously.","date":"2013-05-02T00:08:25.918Z","type":"message"}
{"nick":"trevnorris","message":"but by an order of magnitude? that's way more than I thought.","date":"2013-05-02T00:10:28.820Z","type":"message"}
{"nick":"isaacs","message":"sounds about right","date":"2013-05-02T00:11:05.525Z","type":"message"}
{"nick":"isaacs","message":"she's also not implementing ALL of http","date":"2013-05-02T00:11:12.306Z","type":"message"}
{"nick":"isaacs","message":"just some specific paths, and not in a completely generic way","date":"2013-05-02T00:11:30.951Z","type":"message"}
{"nick":"isaacs","message":"that's why node.c would be so exciting","date":"2013-05-02T00:11:40.960Z","type":"message"}
{"nick":"trevnorris","message":"true true. mainly I was just looking for an upper limit.","date":"2013-05-02T00:11:41.114Z","type":"message"}
{"nick":"isaacs","message":"http_parser.c and libuv are great, but too low level","date":"2013-05-02T00:11:54.655Z","type":"message"}
{"nick":"trevnorris","message":"to determine how hard to push the boundary.","date":"2013-05-02T00:11:57.563Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2013-05-02T00:12:00.323Z","type":"message"}
{"nick":"trevnorris","message":"cool. yeah. node.c sounds awesome.","date":"2013-05-02T00:12:10.642Z","type":"message"}
{"nick":"isaacs","message":"if we had a similarly-powerful node.c platform, we could really get some serious comparisons","date":"2013-05-02T00:12:17.563Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-05-02T00:12:25.129Z","type":"join"}
{"nick":"trevnorris","message":"man. performance tuning is a seriously deep rabbit hole.","date":"2013-05-02T00:12:46.870Z","type":"message"}
{"nick":"isaacs","message":"my guess is that it's somewhere around an oom","date":"2013-05-02T00:13:13.506Z","type":"message"}
{"nick":"isaacs","message":"maybe not quite as much as haywire, but at least 5x","date":"2013-05-02T00:13:30.487Z","type":"message"}
{"nick":"trevnorris","message":"cool. yeah.","date":"2013-05-02T00:14:17.203Z","type":"message"}
{"nick":"abraxas","date":"2013-05-02T00:16:54.617Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: so users don't have access to the stream .buffer array, right?","date":"2013-05-02T00:19:14.664Z","type":"message"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T00:20:30.360Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-05-02T00:20:53.324Z","type":"quit"}
{"nick":"abraxas","reason":"Ping timeout: 276 seconds","date":"2013-05-02T00:21:33.298Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 276 seconds","date":"2013-05-02T00:22:12.550Z","type":"quit"}
{"nick":"trevnorris","message":"oh, this is going to be good. hopefully have something for tomorrow.","date":"2013-05-02T00:23:13.062Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: they should not be touching that, correct.","date":"2013-05-02T00:25:52.801Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: not directly","date":"2013-05-02T00:25:56.606Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: only via .push(), .unshift(), .read(), .write() etc.","date":"2013-05-02T00:26:10.643Z","type":"message"}
{"nick":"kenperkins","date":"2013-05-02T00:27:05.399Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-02T00:29:33.263Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T00:30:57.473Z","type":"quit"}
{"nick":"st_luke","date":"2013-05-02T00:31:13.933Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: got a teaser?","date":"2013-05-02T00:32:22.487Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2013-05-02T00:40:41.609Z","type":"quit"}
{"nick":"inolen1","reason":"Quit: Leaving.","date":"2013-05-02T00:41:38.258Z","type":"quit"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T00:50:53.667Z","type":"quit"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-05-02T00:57:05.079Z","type":"quit"}
{"nick":"kenperkins","date":"2013-05-02T00:59:43.809Z","type":"join"}
{"nick":"qard","date":"2013-05-02T01:02:15.582Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: it's basically a way to get around the persistent/makeweak overhead while making them mostly safe.","date":"2013-05-02T01:02:20.385Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: the use case is that the .buffer[] is just a holder for the data until it's .concat() onto another buffer.","date":"2013-05-02T01:02:51.122Z","type":"message"}
{"nick":"trevnorris","message":"so we don't need an entire buffer instance there since it'll  be put into a buffer instance later.","date":"2013-05-02T01:03:09.647Z","type":"message"}
{"nick":"kenperkins","reason":"Read error: Connection reset by peer","date":"2013-05-02T01:03:50.980Z","type":"quit"}
{"nick":"abraxas","date":"2013-05-02T01:03:52.561Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-05-02T01:04:15.196Z","type":"quit"}
{"nick":"kenperkins","date":"2013-05-02T01:04:19.365Z","type":"join"}
{"nick":"perezd","date":"2013-05-02T01:07:20.670Z","type":"join"}
{"nick":"c4milo","date":"2013-05-02T01:20:51.395Z","type":"join"}
{"nick":"kazupon","date":"2013-05-02T01:24:30.115Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-05-02T01:32:17.004Z","type":"quit"}
{"nick":"hz","date":"2013-05-02T01:44:55.454Z","type":"join"}
{"nick":"hz","reason":"Client Quit","date":"2013-05-02T01:45:57.651Z","type":"quit"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-05-02T01:49:40.298Z","type":"quit"}
{"nick":"isaacs","message":"trevnorris: intriguing.  won't that be worse when there's only one of those in the list, though?","date":"2013-05-02T02:21:38.679Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: right now, Buffer.concat([oneBuffer]) just returns [0]","date":"2013-05-02T02:21:51.810Z","type":"message"}
{"nick":"benoitc","reason":"Changing host","date":"2013-05-02T02:22:50.989Z","type":"quit"}
{"nick":"benoitc","date":"2013-05-02T02:22:51.134Z","type":"join"}
{"nick":"TooTallNate","date":"2013-05-02T02:23:55.514Z","type":"join"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T02:34:10.103Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-05-02T02:39:01.517Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2013-05-02T02:39:02.554Z","type":"quit"}
{"nick":"perezd","date":"2013-05-02T02:44:43.466Z","type":"join"}
{"nick":"wavded","date":"2013-05-02T02:45:33.626Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-02T02:45:52.397Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-02T02:53:24.674Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-02T02:56:48.412Z","type":"nick"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2013-05-02T03:02:32.889Z","type":"quit"}
{"nick":"qard","reason":"Quit: Leaving.","date":"2013-05-02T03:02:38.725Z","type":"quit"}
{"nick":"wavded","reason":"Quit: Hasta la pasta","date":"2013-05-02T03:03:12.931Z","type":"quit"}
{"nick":"amartens","date":"2013-05-02T03:07:12.896Z","type":"join"}
{"nick":"amartens","reason":"Client Quit","date":"2013-05-02T03:10:37.262Z","type":"quit"}
{"nick":"amartens","date":"2013-05-02T03:14:05.938Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-02T03:27:28.309Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-02T03:27:55.001Z","type":"join"}
{"nick":"c4milo","reason":"Ping timeout: 272 seconds","date":"2013-05-02T03:32:48.847Z","type":"quit"}
{"nick":"qard","date":"2013-05-02T03:32:59.920Z","type":"join"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-02T03:35:45.343Z","type":"nick"}
{"nick":"inolen","date":"2013-05-02T03:36:50.800Z","type":"join"}
{"nick":"qard","reason":"Ping timeout: 240 seconds","date":"2013-05-02T03:41:53.782Z","type":"quit"}
{"nick":"kenperkins","date":"2013-05-02T03:47:21.691Z","type":"join"}
{"nick":"amartens","reason":"Quit: Leaving.","date":"2013-05-02T03:47:40.613Z","type":"quit"}
{"nick":"isaacs","message":"ok, i'm dumb.","date":"2013-05-02T04:08:56.783Z","type":"message"}
{"nick":"isaacs","message":"the more i start trying to actually use this thing, I'm realizing it's exactly DecodeWrite and DecodeBytes, which we should just fucking be using in StreamWrap.","date":"2013-05-02T04:09:20.168Z","type":"message"}
{"nick":"wolfeidau","date":"2013-05-02T04:09:21.587Z","type":"join"}
{"nick":"isaacs","message":"DERP","date":"2013-05-02T04:09:23.159Z","type":"message"}
{"nick":"isaacs","message":"and they can be improved to match the thing in StreamWrap, which is better, afaict","date":"2013-05-02T04:14:18.177Z","type":"message"}
{"nick":"wolfeidau","reason":"Remote host closed the connection","date":"2013-05-02T04:14:56.844Z","type":"quit"}
{"nick":"isaacs","message":"ohhh, wait, no.  becuase it does this \"max size\" thing","date":"2013-05-02T04:15:29.687Z","type":"message"}
{"nick":"isaacs","message":"which avoids a lot of Utf8Length() calls.","date":"2013-05-02T04:15:39.725Z","type":"message"}
{"nick":"kenperkins","reason":"Read error: Connection reset by peer","date":"2013-05-02T04:17:48.835Z","type":"quit"}
{"nick":"octetcloud","date":"2013-05-02T04:18:28.984Z","type":"join"}
{"nick":"octetcloud","reason":"Ping timeout: 240 seconds","date":"2013-05-02T04:22:33.751Z","type":"quit"}
{"nick":"amartens","date":"2013-05-02T04:30:25.902Z","type":"join"}
{"nick":"amartens","reason":"Client Quit","date":"2013-05-02T04:30:29.612Z","type":"quit"}
{"nick":"qard","date":"2013-05-02T04:33:36.555Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-02T05:00:30.475Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-02T05:03:43.229Z","type":"join"}
{"nick":"bajtos","date":"2013-05-02T05:04:18.823Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-05-02T05:17:02.619Z","type":"join"}
{"nick":"bajtos","message":"bnoordhuis: I am looking at seting debuger port for cluster workers, will you have time to discuss the implementation?","date":"2013-05-02T05:41:19.707Z","type":"message"}
{"nick":"benoitc","reason":"Excess Flood","date":"2013-05-02T05:52:44.105Z","type":"quit"}
{"nick":"mikeal","date":"2013-05-02T05:54:48.071Z","type":"join"}
{"nick":"benoitc","date":"2013-05-02T05:57:53.852Z","type":"join"}
{"nick":"csaoh","date":"2013-05-02T05:58:27.681Z","type":"join"}
{"nick":"porco","date":"2013-05-02T06:10:03.968Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-02T06:11:42.778Z","type":"quit"}
{"nick":"qard","reason":"Quit: Leaving.","date":"2013-05-02T06:12:28.073Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: good morning","date":"2013-05-02T06:14:14.004Z","type":"message"}
{"nick":"stolsma","date":"2013-05-02T06:24:56.541Z","type":"join"}
{"nick":"inolen","message":"isaacs: were there any slides related to that image you tweeted out the other day of npm / the jenga tower?","date":"2013-05-02T06:29:58.731Z","type":"message"}
{"nick":"rendar","date":"2013-05-02T06:30:13.689Z","type":"join"}
{"nick":"isaacs","message":"inolen: you'll have to wait for the talk, I think :)","date":"2013-05-02T06:30:18.024Z","type":"message"}
{"nick":"inolen","message":"ah, when is that?","date":"2013-05-02T06:30:29.206Z","type":"message"}
{"nick":"isaacs","message":"inolen: oh, actually: https://skydrive.live.com/?cid=10c1b8af05aea524&id=10C1B8AF05AEA524%21125","date":"2013-05-02T06:31:11.784Z","type":"message"}
{"nick":"isaacs","message":"https://twitter.com/eranhammer/status/329637546596376577","date":"2013-05-02T06:31:22.643Z","type":"message"}
{"nick":"isaacs","message":"inolen: not sure when it'll be online","date":"2013-05-02T06:31:28.023Z","type":"message"}
{"nick":"isaacs","message":"inolen: but really, the slides are just pictures.  you need the story to go with it","date":"2013-05-02T06:31:39.143Z","type":"message"}
{"nick":"inolen","message":"Sure, I'll wait for that then :)","date":"2013-05-02T06:31:46.848Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-05-02T06:32:38.942Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Miroslav Bajto≈°\u000f \u00037v0.10\u000f * \u0002a32a243\u0002 : debugger: breakpoints in scripts not loaded yet - http://git.io/o4Kk-g","date":"2013-05-02T06:54:31.380Z","type":"message"}
{"nick":"bnoordhuis","message":"hey isaacs, what's up?","date":"2013-05-02T06:54:58.512Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: i'm around for a couple more minutes","date":"2013-05-02T06:55:18.885Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: not too much","date":"2013-05-02T06:56:01.307Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: realized that iw as reinventing DecodeBytes and DecodeWrite, and came up with a simpler API for my idea with piscisaureus","date":"2013-05-02T06:56:29.817Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good","date":"2013-05-02T06:56:48.127Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: bonus, gonna support base64 and hex writes to streamwraps as well, though no one actually cares about that anyway","date":"2013-05-02T06:57:01.136Z","type":"message"}
{"nick":"bnoordhuis","message":"simpler is better, grandma always used to say","date":"2013-05-02T06:57:01.572Z","type":"message"}
{"nick":"isaacs","message":"yep :)","date":"2013-05-02T06:57:06.045Z","type":"message"}
{"nick":"isaacs","message":"smart grandma :)","date":"2013-05-02T06:57:15.065Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah... she also said things about people with different skin colors but let's not go there today","date":"2013-05-02T06:57:43.701Z","type":"message"}
{"nick":"bnoordhuis","message":"so what is the api going to look like?","date":"2013-05-02T06:57:55.548Z","type":"message"}
{"nick":"chilts","reason":"Ping timeout: 255 seconds","date":"2013-05-02T06:58:50.481Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: size_t StringBytes::Length(Handle<String>string, enum encoding encoding);","date":"2013-05-02T06:59:18.910Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: size_t StringBytes::Write(char *buf, size_t buflen, Handle<String> string, enum encoding encoding);","date":"2013-05-02T06:59:53.952Z","type":"message"}
{"nick":"chilts","date":"2013-05-02T07:00:03.298Z","type":"join"}
{"nick":"isaacs","message":"basically, DecodeBytes and DecodeWrite","date":"2013-05-02T07:00:03.735Z","type":"message"}
{"nick":"isaacs","message":"except, the buflen is an upper limit.","date":"2013-05-02T07:00:14.034Z","type":"message"}
{"nick":"isaacs","message":"and the length calculation is fast rather than guaranteed","date":"2013-05-02T07:00:31.044Z","type":"message"}
{"nick":"isaacs","message":"(can be oversized, espcially for utf8)","date":"2013-05-02T07:00:43.432Z","type":"message"}
{"nick":"isaacs","message":"anyway, it's way past my bedtime.  see you in 8 hours or so.","date":"2013-05-02T07:01:52.563Z","type":"message"}
{"nick":"isaacs","action":"&","date":"2013-05-02T07:01:57.222Z","type":"action"}
{"nick":"LOUDBOT","message":"I'M NOT SAYING THERE SHOULD BE A CAPITAL PUNISHMENT FOR STUPIDITY, BUT WHY DON'T WE JUST TAKE THE SAFETY LABELS OFF OF EVERYTHING AND LET THE PROBLEM SOLVE ITSELF?","date":"2013-05-02T07:01:57.802Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, isaac","date":"2013-05-02T07:03:21.292Z","type":"message"}
{"nick":"bnoordhuis","message":"api looks reasonable to me","date":"2013-05-02T07:03:29.064Z","type":"message"}
{"nick":"piscisaureus_","date":"2013-05-02T07:16:20.562Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: question about rerere","date":"2013-05-02T07:16:58.545Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2013-05-02T07:17:07.724Z","type":"message"}
{"nick":"bnoordhuis","message":"if i set it up, will it auto-fix the merge conflict in libuv's src/version.c?","date":"2013-05-02T07:17:15.001Z","type":"message"}
{"nick":"bnoordhuis","message":"it's trivial to fix by hand of course but automate what you can, right?","date":"2013-05-02T07:17:31.441Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: btw, there's a bug in the release tool. it should wrap changelog lines at 80 columns","date":"2013-05-02T07:20:52.864Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: probably not","date":"2013-05-02T07:21:10.990Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: instead of... 79?","date":"2013-05-02T07:21:20.968Z","type":"message"}
{"nick":"bnoordhuis","message":"oh wait, looks like it does (wrapping at 80 cols, that is)","date":"2013-05-02T07:21:26.594Z","type":"message"}
{"nick":"bnoordhuis","message":"sorry, my bad","date":"2013-05-02T07:21:43.024Z","type":"message"}
{"nick":"piscisaureus_","message":"there is a bug in the release tool in that it includes the bump commit in the changelog sometimes","date":"2013-05-02T07:21:55.011Z","type":"message"}
{"nick":"piscisaureus_","message":"unless you manually edit it out","date":"2013-05-02T07:21:59.164Z","type":"message"}
{"nick":"piscisaureus_","message":"it doesn't for me but it apparently does for isaac","date":"2013-05-02T07:22:06.051Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I don't know an off-hand trick to avoid merge conflicts in version.c (and AUTHORS / ChangeLog)","date":"2013-05-02T07:23:18.476Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: btw we should make a v0.10 release if saghul is going to release pyuv today","date":"2013-05-02T07:24:30.235Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you can do it if you want :)","date":"2013-05-02T07:24:37.010Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #169 \u00037UNSTABLE\u000f windows-x64 (8/582) smartos-x64 (3/582) windows-ia32 (8/582) linux-ia32 (1/582) http://jenkins.nodejs.org/job/nodejs-v0.10/169/","date":"2013-05-02T07:24:47.602Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u0002ebdeaed\u0002 : Merge remote-tracking branch 'origin/v0.10' (+9 more commits) - http://git.io/BBDeaw","date":"2013-05-02T07:24:58.611Z","type":"message"}
{"nick":"saghul","message":"piscisaureus_ yeah, I was planning to do so this evening","date":"2013-05-02T07:25:05.650Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #23 \u00037UNSTABLE\u000f windows-x64 (4/189) smartos-ia32 (3/188) windows-ia32 (4/189) smartos-x64 (3/188) osx-ia32 (1/189) osx-x64 (1/189) http://jenkins.nodejs.org/job/libuv-master-gyp/23/","date":"2013-05-02T07:30:18.567Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master\u0002: #85 \u00037UNSTABLE\u000f windows (5/189) osx (2/189) smartos (3/188) linux (1/188) http://jenkins.nodejs.org/job/libuv-master/85/","date":"2013-05-02T07:31:12.569Z","type":"message"}
{"nick":"csaoh","date":"2013-05-02T07:31:32.486Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'll give it a spin","date":"2013-05-02T07:34:31.709Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: how does it work? just `node release`?","date":"2013-05-02T07:36:14.279Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: 1) you have to check out the correct branch/commit that you want to release in a libuv working tree.","date":"2013-05-02T07:36:54.233Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: that tree should have the upstream tags and only those (well, atleast no private tags that look like v0.1.2)","date":"2013-05-02T07:37:27.235Z","type":"message"}
{"nick":"bnoordhuis","message":"and i have to set up gpg, it seems","date":"2013-05-02T07:37:27.385Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yes","date":"2013-05-02T07:37:31.963Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then you use `node release --dir /path/to/libuv`","date":"2013-05-02T07:37:49.328Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you must also ensure you can ssh into libuv@libuv.org","date":"2013-05-02T07:38:02.994Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't think i can","date":"2013-05-02T07:38:22.261Z","type":"message"}
{"nick":"bnoordhuis","message":"is the password 'hunter2'?","date":"2013-05-02T07:38:47.858Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: bennetjedegekste1991","date":"2013-05-02T07:49:05.161Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2013-05-02T07:51:01.643Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #40 \u00037UNSTABLE\u000f windows-ia32 (146/587) osx-ia32 (1/587) windows-x64 (146/587) osx-x64 (1/587) http://jenkins.nodejs.org/job/libuv-node-integration/40/","date":"2013-05-02T08:00:13.738Z","type":"message"}
{"nick":"dominictarr","date":"2013-05-02T08:02:29.937Z","type":"join"}
{"nick":"groundwater","reason":"Ping timeout: 252 seconds","date":"2013-05-02T08:13:02.985Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-02T08:21:05.627Z","type":"quit"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-02T08:26:37.959Z","type":"quit"}
{"nick":"stagas","date":"2013-05-02T08:53:39.640Z","type":"join"}
{"nick":"kazupon","date":"2013-05-02T08:56:53.957Z","type":"join"}
{"nick":"bnoordhuis","date":"2013-05-02T08:57:17.455Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 255 seconds","date":"2013-05-02T09:01:41.519Z","type":"quit"}
{"nick":"kazupon","reason":"Ping timeout: 272 seconds","date":"2013-05-02T09:05:56.738Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-02T09:06:10.124Z","type":"join"}
{"nick":"timoxley","date":"2013-05-02T09:16:25.362Z","type":"join"}
{"nick":"dominictarr","date":"2013-05-02T09:42:20.875Z","type":"join"}
{"nick":"wolfeidau","date":"2013-05-02T09:57:28.917Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-02T10:08:58.280Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: Nettalk6 - www.ntalk.de","date":"2013-05-02T10:11:07.242Z","type":"quit"}
{"nick":"stolsma","reason":"Ping timeout: 245 seconds","date":"2013-05-02T10:16:16.536Z","type":"quit"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-02T10:21:51.178Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2013-05-02T10:26:33.377Z","type":"quit"}
{"nick":"csaoh","date":"2013-05-02T10:29:39.687Z","type":"join"}
{"nick":"dominictarr","date":"2013-05-02T10:33:41.672Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037v0.10\u000f * \u0002c8d39cc\u0002 : ChangeLog: fix minor errors - http://git.io/MxRXTQ","date":"2013-05-02T10:46:09.629Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #50 \u00037UNSTABLE\u000f smartos (3/186) windows (5/187) linux (1/186) osx (1/187) http://jenkins.nodejs.org/job/libuv-v0.10/50/","date":"2013-05-02T10:48:14.674Z","type":"message"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T10:51:01.776Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-05-02T10:51:40.340Z","type":"quit"}
{"nick":"porco","reason":"Quit: Linkinus - http://linkinus.com","date":"2013-05-02T10:52:09.006Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #13 \u00037UNSTABLE\u000f smartos-ia32 (3/186) windows-x64 (4/187) linux-ia32 (1/186) smartos-x64 (4/186) windows-ia32 (5/187) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/13/","date":"2013-05-02T10:53:17.636Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033isaacs\u000f \u00037refs/tags/v0.10.5\u000f * \u0002751c127\u0002 : 2013.04.24, Version 0.10.5 (Stable) - http://git.io/E-Ghug","date":"2013-05-02T11:00:41.681Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037refs/tags/v0.10.3\u000f * \u00025716386\u0002 : 2013.02.04, Version 0.10.3 (Stable) - http://git.io/F0EqmQ","date":"2013-05-02T11:00:43.709Z","type":"message"}
{"nick":"piscisaureus_","message":"SHIT","date":"2013-05-02T11:08:16.161Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033isaacs\u000f \u00037refs/tags/v0.10.5\u000f * \u00021c18137\u0002 : 2013.04.24, Version 0.10.5 (Stable) - http://git.io/oVgU3w","date":"2013-05-02T11:10:22.698Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037refs/tags/v0.10.3\u000f * \u000250c57ab\u0002 : 2013.02.04, Version 0.10.3 (Stable) - http://git.io/M8571A","date":"2013-05-02T11:10:24.642Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #41 \u00034FAILURE\u000f smartos-x64 (1/582) linux-x64 (1/582) http://jenkins.nodejs.org/job/libuv-node-integration/41/","date":"2013-05-02T11:11:37.774Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033isaacs\u000f \u00037refs/tags/v0.10.5\u000f * \u0002637ecf8\u0002 : 2013.04.24, Version 0.10.5 (Stable) - http://git.io/HEhqhw","date":"2013-05-02T11:15:39.706Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Bert Belder\u000f \u00037v0.10\u000f * \u0002f6fb1df\u0002 : ChangeLog: fix incorrect release date - http://git.io/JvY4nA","date":"2013-05-02T11:15:55.680Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-02T11:26:57.108Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-05-02T11:29:56.430Z","type":"join"}
{"nick":"dominictarr","reason":"Read error: Connection reset by peer","date":"2013-05-02T11:31:21.619Z","type":"quit"}
{"nick":"hz","date":"2013-05-02T11:31:33.476Z","type":"join"}
{"nick":"stolsma","date":"2013-05-02T11:32:09.164Z","type":"join"}
{"nick":"bajtos","date":"2013-05-02T11:39:16.477Z","type":"join"}
{"nick":"c4milo","date":"2013-05-02T11:40:08.872Z","type":"join"}
{"nick":"bajtos","message":"bnoordhuis: piscisaureus_: are you around? I'd like to discuss my commit that enables cluster debugging. https://github.com/bajtos/node/commit/16714af7dcaabdb6679678be29f023f5f941b21e","date":"2013-05-02T11:44:07.744Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: piscisaureus_: the first question is - which parts can be backported to v0.10 (if not all of them)?","date":"2013-05-02T11:45:16.003Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: i'm here but i'm finishing up something","date":"2013-05-02T11:55:23.847Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037v0.10\u000f * \u00029b801d5\u0002 : darwin: rename darwin-getproctitle.m (+1 more commits) - http://git.io/CdTizw","date":"2013-05-02T12:12:10.982Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, done","date":"2013-05-02T12:13:27.956Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: the lib/cluster.js diff between v0.10 and master is unfortunately very big","date":"2013-05-02T12:13:57.438Z","type":"message"}
{"nick":"bnoordhuis","message":"straight-up cherry-picking is not possible","date":"2013-05-02T12:14:11.397Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: I was more concerned about possible breaking changes - piscisaureus_ was not sure about the bit where SIGUSR1 to master triggers SIGUSR1 in workers","date":"2013-05-02T12:15:23.454Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: i looked at v0.10, seems that for example the part about setting debug ports (read from environ variable + change --debug=port to --debug) should be easy to backport","date":"2013-05-02T12:18:46.148Z","type":"message"}
{"nick":"bnoordhuis","message":"ah that","date":"2013-05-02T12:18:47.297Z","type":"message"}
{"nick":"bnoordhuis","message":"well, the SIGUSR1 thing is certainly a change in behavior, therefore not eligble","date":"2013-05-02T12:19:12.938Z","type":"message"}
{"nick":"bnoordhuis","message":"*eligible","date":"2013-05-02T12:19:17.414Z","type":"message"}
{"nick":"bajtos","message":"ok.","date":"2013-05-02T12:19:52.599Z","type":"message"}
{"nick":"bajtos","message":"what would be the best approach? create PR for master with single commit containing all changes, and then PR for v0.10 with hand-crafted commit containing only debug port changes?","date":"2013-05-02T12:20:30.798Z","type":"message"}
{"nick":"bajtos","message":"(btw that will be a change of behaviour too, although it is more like a bug fix than a feature)","date":"2013-05-02T12:22:01.213Z","type":"message"}
{"nick":"AvianFlu","date":"2013-05-02T12:22:42.047Z","type":"join"}
{"nick":"dominictarr","date":"2013-05-02T12:27:08.951Z","type":"join"}
{"nick":"dominictarr","reason":"Read error: Connection reset by peer","date":"2013-05-02T12:32:54.390Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-02T12:33:34.313Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2013-05-02T12:40:14.369Z","type":"quit"}
{"nick":"kazupon","date":"2013-05-02T12:40:48.450Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2013-05-02T12:45:31.299Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-02T12:48:42.507Z","type":"join"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-02T13:01:47.366Z","type":"nick"}
{"nick":"bnoordhuis","message":"bajtos: getting there :)","date":"2013-05-02T13:21:35.809Z","type":"message"}
{"nick":"kevinswiber","date":"2013-05-02T13:22:22.066Z","type":"join"}
{"nick":"betta","date":"2013-05-02T13:26:16.280Z","type":"join"}
{"nick":"betta","message":"hi","date":"2013-05-02T13:28:30.804Z","type":"message"}
{"nick":"bnoordhuis","message":"sup betta?","date":"2013-05-02T13:29:23.905Z","type":"message"}
{"nick":"betta","message":"a little question I fear....","date":"2013-05-02T13:30:02.437Z","type":"message"}
{"nick":"betta","message":"if I create a new \"server\"-socket using uv_tcp_bind an a port of 0, is there any way to get the port","date":"2013-05-02T13:30:14.558Z","type":"message"}
{"nick":"betta","message":"?","date":"2013-05-02T13:30:17.595Z","type":"message"}
{"nick":"betta","message":"(the port which was choosen by the OS)","date":"2013-05-02T13:30:29.152Z","type":"message"}
{"nick":"stolsma","reason":"Ping timeout: 260 seconds","date":"2013-05-02T13:30:59.974Z","type":"quit"}
{"nick":"betta","message":"up till now I used getsockname() in connection with \"stream->io_watcher.io\"","date":"2013-05-02T13:31:00.747Z","type":"message"}
{"nick":"bnoordhuis","message":"betta: uv_tcp_getsockname()","date":"2013-05-02T13:31:23.076Z","type":"message"}
{"nick":"betta","message":".___.","date":"2013-05-02T13:31:29.731Z","type":"message"}
{"nick":"betta","message":"oh well","date":"2013-05-02T13:31:43.870Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-02T13:34:11.529Z","type":"nick"}
{"nick":"betta","message":"thanks bnoordhuis","date":"2013-05-02T13:34:55.077Z","type":"message"}
{"nick":"bnoordhuis","message":"no problem :)","date":"2013-05-02T13:35:47.023Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: you around?","date":"2013-05-02T13:35:51.852Z","type":"message"}
{"nick":"defunctzombie_zz","new_nick":"defunctzombie","date":"2013-05-02T13:36:11.776Z","type":"nick"}
{"nick":"bajtos","message":"bnoordhuis: yep","date":"2013-05-02T13:36:26.633Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: so NODE_DEBUG_PORT","date":"2013-05-02T13:36:58.913Z","type":"message"}
{"nick":"bnoordhuis","message":"i already posted a comment on the commit","date":"2013-05-02T13:37:05.912Z","type":"message"}
{"nick":"bnoordhuis","message":"but for the record, i don't object to the env var","date":"2013-05-02T13:37:12.038Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: yes, it's a tricky thing","date":"2013-05-02T13:37:13.712Z","type":"message"}
{"nick":"bnoordhuis","message":"i just don't like that it comes with 30+ lines of c++ code","date":"2013-05-02T13:37:23.513Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: I understand, I am not very happy about it either (plus it's copy and pasted and modified from env getter/setter for JS)","date":"2013-05-02T13:37:57.603Z","type":"message"}
{"nick":"bnoordhuis","message":"i gathered that much, yes :)","date":"2013-05-02T13:38:09.329Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: I don't see any way how to move it to javascript while running it before we start V8 (for `node --debug` case)","date":"2013-05-02T13:39:41.729Z","type":"message"}
{"nick":"bajtos","message":"(from obvious reasons)","date":"2013-05-02T13:40:16.591Z","type":"message"}
{"nick":"bnoordhuis","message":"no, okay","date":"2013-05-02T13:40:58.937Z","type":"message"}
{"nick":"bnoordhuis","message":"that's why i suggested to hack the worker's process args","date":"2013-05-02T13:41:17.005Z","type":"message"}
{"nick":"bnoordhuis","message":"the reason i'd rather see it in js even if means some disparate code","date":"2013-05-02T13:41:32.075Z","type":"message"}
{"nick":"bnoordhuis","message":"is that there's only two or three people that realistically maintain the c++ code","date":"2013-05-02T13:41:55.227Z","type":"message"}
{"nick":"bnoordhuis","message":"while there is a much larger pool of people willing to dive into the js side of things","date":"2013-05-02T13:42:06.015Z","type":"message"}
{"nick":"bnoordhuis","message":"iow, more js and less c++ means less work for me :)","date":"2013-05-02T13:42:25.297Z","type":"message"}
{"nick":"bajtos","message":"understood.","date":"2013-05-02T13:43:08.837Z","type":"message"}
{"nick":"bajtos","message":"what about using --debug-port=xyz instead of NODE_DEBUG_PORT then? it is still some C++ code, but it should be much less than for environment variables","date":"2013-05-02T13:44:55.270Z","type":"message"}
{"nick":"bajtos","message":"the ugly thing about --debug-port is that you will see it in `ps` output even when running production processes without debugging","date":"2013-05-02T13:45:48.249Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: i can live with that","date":"2013-05-02T13:45:48.484Z","type":"message"}
{"nick":"bnoordhuis","message":"meh. on a scale of 1 to 10 of things to worry about, that ranks a 3 at best","date":"2013-05-02T13:46:21.769Z","type":"message"}
{"nick":"bnoordhuis","message":"turning it around, it makes debugging the debugger easier :)","date":"2013-05-02T13:47:20.243Z","type":"message"}
{"nick":"bajtos","message":"now I realized that node handles --debug only if it's a first parameter. that would simplify cluster code - either there is --debug/--debug-brk as the first parameter, or we add --debug-port","date":"2013-05-02T13:47:35.322Z","type":"message"}
{"nick":"bnoordhuis","message":"yep","date":"2013-05-02T13:47:53.615Z","type":"message"}
{"nick":"bajtos","message":"ok, I'll do it this way","date":"2013-05-02T13:48:04.751Z","type":"message"}
{"nick":"bajtos","message":"oh, I am wrong, it looks at all parameters - there is a loop in ParseArgs","date":"2013-05-02T13:48:51.267Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, but it stops at the first non-arg argument","date":"2013-05-02T13:49:54.712Z","type":"message"}
{"nick":"bnoordhuis","message":"'non-arg argument' <- oxymoron","date":"2013-05-02T13:50:08.111Z","type":"message"}
{"nick":"bnoordhuis","message":"you get my point","date":"2013-05-02T13:50:12.789Z","type":"message"}
{"nick":"bajtos","message":"yes :)","date":"2013-05-02T13:50:32.690Z","type":"message"}
{"nick":"kazupon","date":"2013-05-02T13:51:28.626Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: what doesn't strike you as very safe","date":"2013-05-02T13:52:43.698Z","type":"message"}
{"nick":"kazupon","reason":"Read error: Connection reset by peer","date":"2013-05-02T13:53:43.291Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: calling uv_async_init() from another thread","date":"2013-05-02T13:54:13.445Z","type":"message"}
{"nick":"piscisaureus_","message":"ooh","date":"2013-05-02T13:54:26.401Z","type":"message"}
{"nick":"piscisaureus_","message":"bajtos: that was not the idea. you need to async_init from the main thread when node starts up.","date":"2013-05-02T13:54:39.261Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: well, node already seems to be doing it","date":"2013-05-02T13:55:19.913Z","type":"message"}
{"nick":"bnoordhuis","message":"EnableDebugThreadProc() -> EnableDebug() -> uv_async_init()","date":"2013-05-02T13:55:32.506Z","type":"message"}
{"nick":"betta","reason":"Quit: - nbs-irc 2.39 - www\u000f.nbs-irc\u000f.net -","date":"2013-05-02T13:55:59.159Z","type":"quit"}
{"nick":"bnoordhuis","message":"(in src/node.cc)","date":"2013-05-02T13:56:00.423Z","type":"message"}
{"nick":"bajtos","message":"I guess we should fix both calls to uv_async_init() - think of a case when somebody sends SIGUSR1 twice","date":"2013-05-02T13:58:42.383Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: yep. the handle should be initialized (and unref'd) at startup, not when the signal arrives","date":"2013-05-02T13:59:35.945Z","type":"message"}
{"nick":"bajtos","message":"I'll address it in different PR after I finish this cluster debugging changes, if that's ok?","date":"2013-05-02T14:01:38.736Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: ad --debug-port - what about this? https://github.com/bajtos/node/commit/d42ad766dfee0b5ca3a8c92c26e091c3374d06c6","date":"2013-05-02T14:04:33.197Z","type":"message"}
{"nick":"piscisaureus_","message":"wait - what","date":"2013-05-02T14:15:42.506Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if that's true then what bajtos is doing shouldn't be necessary","date":"2013-05-02T14:16:00.285Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you're way behind, we've iterated, pivoted and so on at least three times","date":"2013-05-02T14:16:32.044Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuisL ok","date":"2013-05-02T14:16:49.302Z","type":"message"}
{"nick":"piscisaureus_","message":"* bnoordhuis","date":"2013-05-02T14:16:54.694Z","type":"message"}
{"nick":"kenperkins","date":"2013-05-02T14:19:20.810Z","type":"join"}
{"nick":"bajtos","message":"bnoordhuis: I think it's time to squash all commits and submit a PR, what do you think?","date":"2013-05-02T14:19:47.992Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: go ahead","date":"2013-05-02T14:22:18.228Z","type":"message"}
{"nick":"dominictarr","reason":"Ping timeout: 264 seconds","date":"2013-05-02T14:23:36.467Z","type":"quit"}
{"nick":"dominictarr","date":"2013-05-02T14:27:58.840Z","type":"join"}
{"nick":"bajtos","message":"bnoordhuis: https://github.com/joyent/node/pull/5397","date":"2013-05-02T14:29:48.120Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis","date":"2013-05-02T14:36:35.356Z","type":"message"}
{"nick":"bajtos","message":"regarding moving uv_async_init() out of EnableDebug","date":"2013-05-02T14:37:02.093Z","type":"message"}
{"nick":"bajtos","message":"the change is small, shall I add it to PR 5397 or start a new one?","date":"2013-05-02T14:37:27.721Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: don't care as long as it's a separate commit","date":"2013-05-02T14:41:34.252Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: ok, it will be there in a minute","date":"2013-05-02T14:41:57.953Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: done","date":"2013-05-02T14:47:00.588Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: could you please review? I'll have to leave soon :(","date":"2013-05-02T14:47:37.264Z","type":"message"}
{"nick":"bnoordhuis","message":"that's my life, reviewing other people's code all day","date":"2013-05-02T14:48:09.019Z","type":"message"}
{"nick":"bnoordhuis","message":"momma was right, i should've become a lawyer","date":"2013-05-02T14:48:17.646Z","type":"message"}
{"nick":"bajtos","message":"bnoordhuis: programmers are at least more popular than lawyers :)","date":"2013-05-02T14:49:02.696Z","type":"message"}
{"nick":"bajtos","message":"at least among other programmers :-D","date":"2013-05-02T14:49:19.097Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that's true. they get paid significantly less than lawyers though","date":"2013-05-02T14:49:54.328Z","type":"message"}
{"nick":"bnoordhuis","message":"i was talking to a lawyer this morning at $500/hour :-/","date":"2013-05-02T14:50:14.287Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: \"Fixed bug in initialization of uv_async_t handles related to debugging.\" <- too vague","date":"2013-05-02T14:50:48.376Z","type":"message"}
{"nick":"bnoordhuis","message":"also, past tense :)","date":"2013-05-02T14:50:53.285Z","type":"message"}
{"nick":"bajtos","message":"oh","date":"2013-05-02T14:50:59.034Z","type":"message"}
{"nick":"bnoordhuis","message":"describe what the bug was, its (potential) effect and how you fixed it","date":"2013-05-02T14:51:24.355Z","type":"message"}
{"nick":"bnoordhuis","message":"bajtos: same for the other commit btw, i.e. s/Implemented/Implement/","date":"2013-05-02T14:53:57.729Z","type":"message"}
{"nick":"dap","date":"2013-05-02T15:00:10.858Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-05-02T15:05:51.787Z","type":"quit"}
{"nick":"bajtos2","date":"2013-05-02T15:09:11.411Z","type":"join"}
{"nick":"bajtos","reason":"Ping timeout: 264 seconds","date":"2013-05-02T15:09:48.468Z","type":"quit"}
{"nick":"bajtos2","new_nick":"bajtos","date":"2013-05-02T15:09:55.245Z","type":"nick"}
{"nick":"bajtos","reason":"Client Quit","date":"2013-05-02T15:10:08.702Z","type":"quit"}
{"nick":"bajtos","date":"2013-05-02T15:10:27.000Z","type":"join"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-02T15:16:05.123Z","type":"quit"}
{"nick":"bajtos","reason":"Quit: Nettalk6 - www.ntalk.de","date":"2013-05-02T15:18:47.887Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 264 seconds","date":"2013-05-02T15:23:00.437Z","type":"quit"}
{"nick":"isaacs","message":"who uses Buffer.charsWritten?","date":"2013-05-02T15:42:54.242Z","type":"message"}
{"nick":"isaacs","message":"this thing is a pita","date":"2013-05-02T15:42:59.520Z","type":"message"}
{"nick":"dominictarr","date":"2013-05-02T15:47:11.080Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: forgot that still exists in v0.10. at least it's gone in master. :)","date":"2013-05-02T15:55:49.332Z","type":"message"}
{"nick":"defunctzombie","new_nick":"defunctzombie_zz","date":"2013-05-02T16:02:03.843Z","type":"nick"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-02T16:03:39.387Z","type":"quit"}
{"nick":"isaacs","message":"orly?","date":"2013-05-02T16:04:34.048Z","type":"message"}
{"nick":"isaacs","message":"nice.","date":"2013-05-02T16:04:35.104Z","type":"message"}
{"nick":"isaacs","message":"i was just about to suggest we remove it :)","date":"2013-05-02T16:04:42.747Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: it getting in the way of some changes you want to make?","date":"2013-05-02T16:06:16.047Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: nah, just making this a bit more sticky, that's all.","date":"2013-05-02T16:07:16.695Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: need to pass a int* to a function that was otherwise a bit simpler.","date":"2013-05-02T16:07:36.065Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-05-02T16:08:28.014Z","type":"join"}
{"nick":"tjfontaine","message":"lets see why windows died today","date":"2013-05-02T16:08:34.201Z","type":"message"}
{"nick":"octetcloud","date":"2013-05-02T16:09:02.948Z","type":"join"}
{"nick":"tjfontaine","message":"oh look it bluescreen'd, how predictable","date":"2013-05-02T16:10:22.181Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, seriously?","date":"2013-05-02T16:12:17.942Z","type":"message"}
{"nick":"tjfontaine","message":"ya","date":"2013-05-02T16:13:02.792Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: omg","date":"2013-05-02T16:13:02.945Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: you are a saint, sir.","date":"2013-05-02T16:13:08.243Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-02T16:14:01.835Z","type":"message"}
{"nick":"benoitc","reason":"Ping timeout: 245 seconds","date":"2013-05-02T16:14:11.716Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #14 \u00034FAILURE\u000f osx-ia32 (1/187) smartos-ia32 (3/186) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/14/","date":"2013-05-02T16:15:19.331Z","type":"message"}
{"nick":"benoitc","date":"2013-05-02T16:17:28.255Z","type":"join"}
{"nick":"isaacs","message":"it's so confusing, this chars written thing","date":"2013-05-02T16:17:39.635Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-master-gyp\u0002: #24 \u00034FAILURE\u000f windows-x64 (4/189) http://jenkins.nodejs.org/job/libuv-master-gyp/24/","date":"2013-05-02T16:17:55.242Z","type":"message"}
{"nick":"isaacs","message":"like, for buf.write(string, 'utf8'), i mean, ok, it's the number of characters in the string that were written","date":"2013-05-02T16:17:55.517Z","type":"message"}
{"nick":"isaacs","message":"but for buf.write(string, 'hex')?  i can't figure out what this is even supposed to mean..","date":"2013-05-02T16:18:06.600Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: well, if you can","date":"2013-05-02T16:18:39.645Z","type":"message"}
{"nick":"trevnorris","message":"'t figure it out, then doubt anyone else is using it.","date":"2013-05-02T16:18:54.423Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2013-05-02T16:19:02.997Z","type":"message"}
{"nick":"isaacs","message":"in that case, it's double the number of bytes written","date":"2013-05-02T16:19:17.452Z","type":"message"}
{"nick":"isaacs","message":"like, the number of hex chars consumed, i guess?","date":"2013-05-02T16:19:23.763Z","type":"message"}
{"nick":"tjfontaine","message":"seems that way","date":"2013-05-02T16:19:31.331Z","type":"message"}
{"nick":"tjfontaine","message":"I interpret charsWritten as \"usually equal to bytes, unless it's utf8\"","date":"2013-05-02T16:20:13.223Z","type":"message"}
{"nick":"kenperkins","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T16:22:48.745Z","type":"quit"}
{"nick":"trevnorris","message":"anyone know if it's possible to set what a prototype of an ObjecTemplate should be on NewInstance(), or do you have to start with a FunctionTemplate()?","date":"2013-05-02T16:22:52.763Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: well, unless it's utf8 or ucs2 or hex","date":"2013-05-02T16:23:30.973Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: it's the number of characters consumed in the string","date":"2013-05-02T16:23:40.794Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: so you can do another write of the rest, if it wasn't all written","date":"2013-05-02T16:23:52.952Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: evil","date":"2013-05-02T16:23:54.244Z","type":"message"}
{"nick":"kenperkins","date":"2013-05-02T16:23:56.570Z","type":"join"}
{"nick":"isaacs","message":"but at least, for ucs2 and hex, it's just double","date":"2013-05-02T16:24:09.295Z","type":"message"}
{"nick":"isaacs","message":"utf8 is the only hard one","date":"2013-05-02T16:24:12.468Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I didn't see one, but if you find it let me know","date":"2013-05-02T16:24:20.193Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: will do","date":"2013-05-02T16:24:31.971Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: I only saw NewInstance() and NewInstance(argv) more or less","date":"2013-05-02T16:24:40.210Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: this is up your alley... it looks like HexWrite swallows errors and returns 0 bytes written for bounds violations.  the others all thrwo.","date":"2013-05-02T16:24:46.236Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: oh mother.","date":"2013-05-02T16:25:10.668Z","type":"message"}
{"nick":"trevnorris","action":"checks if new buffer implementation does the same.","date":"2013-05-02T16:25:23.153Z","type":"action"}
{"nick":"isaacs","message":"(good example of the class of errors that DRY code prevents, btw.  not that DRY is always best, but in this case, yes.)","date":"2013-05-02T16:25:24.480Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10-gyp\u0002: #15 \u00037UNSTABLE\u000f osx-ia32 (1/187) smartos-ia32 (3/186) windows-x64 (5/187) smartos-x64 (3/186) windows-ia32 (5/187) http://jenkins.nodejs.org/job/libuv-v0.10-gyp/15/","date":"2013-05-02T16:25:24.632Z","type":"message"}
{"nick":"MI6","message":"\u0002libuv-v0.10\u0002: #51 \u00037UNSTABLE\u000f smartos (3/186) windows (6/187) linux (1/186) osx (1/187) http://jenkins.nodejs.org/job/libuv-v0.10/51/","date":"2013-05-02T16:25:25.315Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i'm unifying our \"put string+encoding into char*\" code","date":"2013-05-02T16:25:54.209Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so that i can use it in crypto","date":"2013-05-02T16:25:59.756Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i think i'm gonna make hex just throw for bounds violations, since it ought to anywya.","date":"2013-05-02T16:26:22.389Z","type":"message"}
{"nick":"isaacs","message":"  if (start >= parent->length_) {","date":"2013-05-02T16:26:38.648Z","type":"message"}
{"nick":"isaacs","message":"    Local<Integer> val = Integer::New(0);","date":"2013-05-02T16:26:38.791Z","type":"message"}
{"nick":"isaacs","message":"    constructor_template->GetFunction()->Set(chars_written_sym, val);","date":"2013-05-02T16:26:38.792Z","type":"message"}
{"nick":"isaacs","message":"    return scope.Close(val);","date":"2013-05-02T16:26:38.792Z","type":"message"}
{"nick":"isaacs","message":"  }","date":"2013-05-02T16:26:38.792Z","type":"message"}
{"nick":"isaacs","message":"^ that is kinda sad.","date":"2013-05-02T16:26:44.210Z","type":"message"}
{"nick":"isaacs","message":"if only because the other Buffer::*Write() functions all throw on tha","date":"2013-05-02T16:26:57.191Z","type":"message"}
{"nick":"isaacs","message":"t","date":"2013-05-02T16:26:58.379Z","type":"message"}
{"nick":"isaacs","message":"(or just lack protection, in some of them)","date":"2013-05-02T16:27:09.781Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: new buffers have a unified ParseArrayIndex. right now it coerces. but if it should throw then easy change. :)","date":"2013-05-02T16:27:14.542Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: kewl.","date":"2013-05-02T16:27:30.970Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i suspect that landing this change in 0.10 will make life a bit annoying for you when we merge into master.","date":"2013-05-02T16:27:46.071Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i apologize in advance.","date":"2013-05-02T16:27:50.717Z","type":"message"}
{"nick":"trevnorris","message":"no worries. nature of coding. :)","date":"2013-05-02T16:28:11.042Z","type":"message"}
{"nick":"TooTallNate","date":"2013-05-02T16:39:15.657Z","type":"join"}
{"nick":"mikeal","date":"2013-05-02T16:43:35.085Z","type":"join"}
{"nick":"perezd","date":"2013-05-02T16:47:23.794Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037v0.10\u000f * \u00020e21d7b\u0002 : doc: link joyent logo in website footer - http://git.io/59qq7A","date":"2013-05-02T16:48:56.525Z","type":"message"}
{"nick":"isaacs","message":"^ surprised no one complained harder about that sooner","date":"2013-05-02T16:49:09.904Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2013-05-02T16:49:55.671Z","type":"message"}
{"nick":"benoitc","reason":"Quit: unexpected thing makes me to quit","date":"2013-05-02T16:50:59.246Z","type":"quit"}
{"nick":"qard","date":"2013-05-02T16:56:50.800Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 260 seconds","date":"2013-05-02T16:57:16.018Z","type":"quit"}
{"nick":"MI6","message":"\u0002libuv-node-integration\u0002: #42 \u00037UNSTABLE\u000f windows-ia32 (9/582) smartos-x64 (1/582) windows-x64 (8/582) smartos-ia32 (1/582) http://jenkins.nodejs.org/job/libuv-node-integration/42/","date":"2013-05-02T16:58:20.483Z","type":"message"}
{"nick":"benoitc","date":"2013-05-02T16:58:29.349Z","type":"join"}
{"nick":"st_luke","date":"2013-05-02T17:01:44.959Z","type":"join"}
{"nick":"hz","date":"2013-05-02T17:02:21.555Z","type":"quit"}
{"nick":"hz","date":"2013-05-02T17:03:04.462Z","type":"join"}
{"nick":"csaoh","reason":"Quit: csaoh","date":"2013-05-02T17:05:39.623Z","type":"quit"}
{"nick":"trevnorris","message":"bugger. SetWrapperClassId can only be set on persistents. which means it's the only way to track memory for a heap dump. =P","date":"2013-05-02T17:05:41.347Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: have my initial implementation ready. and works fine.","date":"2013-05-02T17:06:00.079Z","type":"message"}
{"nick":"rphillips","reason":"Excess Flood","date":"2013-05-02T17:06:21.284Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: and turning them into a buffer isn't an issue.","date":"2013-05-02T17:06:26.513Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2013-05-02T17:06:35.755Z","type":"message"}
{"nick":"rphillips","date":"2013-05-02T17:06:52.899Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: this is for the \"Streams use fake buffers instead of real buffers\" thing?","date":"2013-05-02T17:06:55.942Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2013-05-02T17:07:01.407Z","type":"quit"}
{"nick":"isaacs","message":"minibuffers","date":"2013-05-02T17:07:03.372Z","type":"message"}
{"nick":"isaacs","message":"whatever you're calling them :)","date":"2013-05-02T17:07:07.016Z","type":"message"}
{"nick":"tjfontaine","message":"thinbuffers","date":"2013-05-02T17:07:08.857Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-05-02T17:07:09.709Z","type":"message"}
{"nick":"isaacs","message":"call them FastBuffers","date":"2013-05-02T17:07:17.428Z","type":"message"}
{"nick":"isaacs","message":"just for extra confusion :)","date":"2013-05-02T17:07:22.731Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-05-02T17:07:25.539Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-05-02T17:07:26.827Z","type":"message"}
{"nick":"trevnorris","message":"they're super fast, but just can't track them in a heapdump.","date":"2013-05-02T17:07:50.695Z","type":"message"}
{"nick":"amartens","date":"2013-05-02T17:07:52.919Z","type":"join"}
{"nick":"trevnorris","message":"(as mentioned above)","date":"2013-05-02T17:07:57.989Z","type":"message"}
{"nick":"eris0xff","date":"2013-05-02T17:08:41.110Z","type":"join"}
{"nick":"eris0xff","message":"good morning","date":"2013-05-02T17:08:52.008Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: the api is basically \"var obj = _ucalloc(N, {})\", then when you're done with it: \"_dipose({})\"","date":"2013-05-02T17:09:18.041Z","type":"message"}
{"nick":"trevnorris","message":"it'll clear out the attached memory.","date":"2013-05-02T17:09:29.246Z","type":"message"}
{"nick":"trevnorris","message":"or you can pass it to an internal Buffer function that will convert it into a normal buffer.","date":"2013-05-02T17:09:48.155Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: can you set some recognizable field on theM?","date":"2013-05-02T17:10:30.057Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: yeah. what did you have in mind?","date":"2013-05-02T17:10:44.251Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: thingie.isMiniBuffer = true","date":"2013-05-02T17:10:44.537Z","type":"message"}
{"nick":"trevnorris","message":"sure.","date":"2013-05-02T17:10:50.327Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just something so that if you dump them in ::findjsobjects or ::jsprint in mdb, they'll stand out","date":"2013-05-02T17:11:06.161Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ah. great idea. ok.","date":"2013-05-02T17:11:19.003Z","type":"message"}
{"nick":"tjfontaine","message":"have we indoctrinated him enough to make him leave linux?","date":"2013-05-02T17:11:30.915Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: could also be useful to put the length or whatever other minimal debuggery could be good.","date":"2013-05-02T17:11:36.476Z","type":"message"}
{"nick":"trevnorris","message":"ok. let me whip something up.","date":"2013-05-02T17:11:56.375Z","type":"message"}
{"nick":"rphillips","reason":"Max SendQ exceeded","date":"2013-05-02T17:12:47.301Z","type":"quit"}
{"nick":"rphillips","date":"2013-05-02T17:13:22.271Z","type":"join"}
{"nick":"txdv","reason":"Read error: Connection reset by peer","date":"2013-05-02T17:23:04.060Z","type":"quit"}
{"nick":"txdv","date":"2013-05-02T17:23:24.788Z","type":"join"}
{"nick":"stagas","date":"2013-05-02T17:23:46.261Z","type":"join"}
{"nick":"hz","date":"2013-05-02T17:26:04.503Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-05-02T17:36:26.779Z","type":"quit"}
{"nick":"kevinswiber","date":"2013-05-02T17:36:48.676Z","type":"join"}
{"nick":"MI6","message":"\u0002nodejs-master\u0002: #190 \u00034FAILURE\u000f windows-x64 (147/587) http://jenkins.nodejs.org/job/nodejs-master/190/","date":"2013-05-02T17:39:17.691Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #170 \u00034FAILURE\u000f linux-x64 (1/582) windows-x64 (5/342) windows-ia32 (8/582) http://jenkins.nodejs.org/job/nodejs-v0.10/170/","date":"2013-05-02T17:40:30.680Z","type":"message"}
{"nick":"tjfontaine","message":"ah build timeout ont eh first one","date":"2013-05-02T17:40:34.682Z","type":"message"}
{"nick":"tjfontaine","message":"yup same for that one","date":"2013-05-02T17:40:56.654Z","type":"message"}
{"nick":"tjfontaine","action":"changes how that works","date":"2013-05-02T17:41:05.422Z","type":"action"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2013-05-02T17:43:03.887Z","type":"quit"}
{"nick":"mikeal","date":"2013-05-02T17:48:38.232Z","type":"join"}
{"nick":"brson","date":"2013-05-02T17:51:22.532Z","type":"join"}
{"nick":"indexzero","date":"2013-05-02T17:55:18.950Z","type":"join"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-05-02T17:55:55.373Z","type":"quit"}
{"nick":"eris0xff","reason":"Ping timeout: 245 seconds","date":"2013-05-02T17:56:43.186Z","type":"quit"}
{"nick":"bnoordhuis","date":"2013-05-02T18:03:10.688Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-05-02T18:05:17.214Z","type":"quit"}
{"nick":"st_luke","date":"2013-05-02T18:05:53.916Z","type":"join"}
{"nick":"bnoordhuis","reason":"Ping timeout: 240 seconds","date":"2013-05-02T18:07:33.766Z","type":"quit"}
{"nick":"trevnorris","message":"for future reference, going to refer to these as ThinBuffer.","date":"2013-05-02T18:09:23.197Z","type":"message"}
{"nick":"tjfontaine","message":"I win!","date":"2013-05-02T18:09:39.200Z","type":"message"}
{"nick":"trevnorris","message":"well, it's more like a thin wrapper around external memory allocation, but that's too long.","date":"2013-05-02T18:10:03.847Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2013-05-02T18:10:10.933Z","type":"message"}
{"nick":"trevnorris","message":"but they are now faster than even pooled buffers on the js side. and almost twice as fast on the cc side.","date":"2013-05-02T18:10:47.987Z","type":"message"}
{"nick":"isaacs","message":"hmmm.... i think i'm getting carried away.","date":"2013-05-02T18:11:18.708Z","type":"message"}
{"nick":"isaacs","message":"probably shouldnot try to DRY out the Buffer::*Slice() methods as well...","date":"2013-05-02T18:11:31.085Z","type":"message"}
{"nick":"tjfontaine","message":"refocus time","date":"2013-05-02T18:11:33.580Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2013-05-02T18:11:35.835Z","type":"message"}
{"nick":"isaacs","message":"though, it would be nice to havea single node::StringEncoding class that just converted back and forth between a string/buffer+encoding and a char*/size_t","date":"2013-05-02T18:12:43.705Z","type":"message"}
{"nick":"isaacs","message":"we have a lot of not-quite-identical implementations kicking around, in buffer.cc and node.cc","date":"2013-05-02T18:12:59.221Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-05-02T18:13:07.118Z","type":"message"}
{"nick":"isaacs","message":"dating to various different node epochs","date":"2013-05-02T18:13:11.024Z","type":"message"}
{"nick":"isaacs","message":"with comments and assertions that don't always make sense.","date":"2013-05-02T18:13:20.866Z","type":"message"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T18:13:22.406Z","type":"quit"}
{"nick":"isaacs","message":"it's one of those things where you start sweeping the floor, then realize it's a dirt floor.  at some point you either get out the shovel, or just accept it.","date":"2013-05-02T18:13:41.014Z","type":"message"}
{"nick":"tjfontaine","message":"haha","date":"2013-05-02T18:14:13.098Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-02T18:14:52.279Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-02T18:15:18.923Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: so this is going onto the v0.10 branch, right?","date":"2013-05-02T18:16:20.877Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-05-02T18:16:29.487Z","type":"message"}
{"nick":"isaacs","message":"it's all internal, and will improve crypto performance considerably.","date":"2013-05-02T18:16:42.331Z","type":"message"}
{"nick":"trevnorris","message":"ok.","date":"2013-05-02T18:16:48.225Z","type":"message"}
{"nick":"trevnorris","action":"prepares for the rebase after merge","date":"2013-05-02T18:17:12.653Z","type":"action"}
{"nick":"trevnorris","message":"man, buffers are getting a serious overhaul.","date":"2013-05-02T18:17:20.691Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: if you wanna follow the action, my crypto-fix-perf is starting to look like the intended shape.","date":"2013-05-02T18:18:52.172Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just pushed the (hopefully) last changes that affect Buffer and other generic stuff.","date":"2013-05-02T18:19:06.484Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: basically just moving all the string decoding into one place, and thus making the Buffer::*Write() functions all consistent in their behavior at the same time","date":"2013-05-02T18:19:41.478Z","type":"message"}
{"nick":"isaacs","message":"now on to the actual motivation for this :)","date":"2013-05-02T18:19:55.590Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 272 seconds","date":"2013-05-02T18:20:06.780Z","type":"quit"}
{"nick":"isaacs","message":"oh!  and, with this, it should be pretty easy to move more of our string-to-buffer stuff below the C++ boundary","date":"2013-05-02T18:20:13.605Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: does that touch much of the actual argument parsing, or just the encode/decode part?","date":"2013-05-02T18:20:24.583Z","type":"message"}
{"nick":"isaacs","message":"so maybe fs etc can get faster.","date":"2013-05-02T18:20:27.145Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: just the decode part (not encode)","date":"2013-05-02T18:20:40.159Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but i made a Buffer::StringWrite<encoding> template, so they're all going through the same code path now","date":"2013-05-02T18:20:59.561Z","type":"message"}
{"nick":"isaacs","message":"this also highlights just how awful Buffer._charsWritten really is, since you can see it doing opposite things right in the same function :)","date":"2013-05-02T18:21:31.933Z","type":"message"}
{"nick":"trevnorris","message":"coolio. I didn't touch any of that. just the argument parsing.","date":"2013-05-02T18:21:36.908Z","type":"message"}
{"nick":"trevnorris","message":"lol, yeah.","date":"2013-05-02T18:21:39.459Z","type":"message"}
{"nick":"isaacs","message":"you knwo, i <3 the speed that you can crank shit out with JS, but C and C++ really do feel so much more pure in a very satisfying wya.","date":"2013-05-02T18:22:06.068Z","type":"message"}
{"nick":"isaacs","message":"fewer mysteries.  just you and your memory and the operations your'e telling it to perform on it.","date":"2013-05-02T18:22:33.998Z","type":"message"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-02T18:24:03.640Z","type":"quit"}
{"nick":"timoxley","date":"2013-05-02T18:29:20.021Z","type":"join"}
{"nick":"TooTallNate","date":"2013-05-02T18:33:00.097Z","type":"join"}
{"nick":"c4milo","date":"2013-05-02T18:34:29.166Z","type":"join"}
{"nick":"kevinswiber","date":"2013-05-02T18:38:38.664Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ok. api is now: \"var a = ucalloc(n); a.dispose()\". also .isThinBuffer and .length are set.","date":"2013-05-02T18:40:51.825Z","type":"message"}
{"nick":"trevnorris","message":"and it's hella fast.","date":"2013-05-02T18:41:11.931Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2013-05-02T18:41:39.864Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-05-02T18:53:21.826Z","type":"quit"}
{"nick":"wolfeidau","message":"Anyone have any tips on building mac-tick-processor in the node-v0.10.5 tar source bundle can't seem to compile v8 standalone even after removing gyp file for tests","date":"2013-05-02T19:04:02.866Z","type":"message"}
{"nick":"normanm","date":"2013-05-02T19:07:22.141Z","type":"join"}
{"nick":"normanm","message":"hi there.. one small question‚Ä¶ does libuv support edge-triggered epoll on linux ?","date":"2013-05-02T19:07:40.208Z","type":"message"}
{"nick":"normanm","message":"I know it was discussed to support it some time ago but not know the outcome","date":"2013-05-02T19:07:58.124Z","type":"message"}
{"nick":"normanm","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T19:22:43.634Z","type":"quit"}
{"nick":"inolen","reason":"Quit: Leaving.","date":"2013-05-02T19:25:25.108Z","type":"quit"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-05-02T19:25:58.852Z","type":"quit"}
{"nick":"inolen","date":"2013-05-02T19:27:01.515Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ok, this is beautiful. so I can ucalloc and turn that into a full Buffer instance in the same time it takes to generate a new Buffer instance.","date":"2013-05-02T19:27:58.503Z","type":"message"}
{"nick":"isaacs","message":"awesome!","date":"2013-05-02T19:28:09.844Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and ucalloc is same speed for 1 byte buffers, as pooled Buffers, but +100% faster for anything over 1kB","date":"2013-05-02T19:28:50.854Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: and i'm anxious to see the outcome of what you're doing now.","date":"2013-05-02T19:31:19.165Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it's coming along pretty nicely","date":"2013-05-02T19:31:29.694Z","type":"message"}
{"nick":"isaacs","message":"just tedious","date":"2013-05-02T19:31:30.924Z","type":"message"}
{"nick":"isaacs","message":"crypto isn't the dryest bit of code in node.js :0","date":"2013-05-02T19:31:40.571Z","type":"message"}
{"nick":"isaacs","message":"in fact, it's soaking wet :)","date":"2013-05-02T19:31:47.522Z","type":"message"}
{"nick":"trevnorris","message":"lol. well, it'll be nice to get it there.","date":"2013-05-02T19:31:55.778Z","type":"message"}
{"nick":"isaacs","action":"resisting the urge to dig up the dirt floor...","date":"2013-05-02T19:32:02.694Z","type":"action"}
{"nick":"EhevuTov","date":"2013-05-02T19:32:06.086Z","type":"join"}
{"nick":"trevnorris","message":"let's hold that off for v0.13, in prep for v1. :)","date":"2013-05-02T19:32:26.669Z","type":"message"}
{"nick":"timoxley","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T19:33:01.737Z","type":"quit"}
{"nick":"creationix","message":"remind me what EPIPE means","date":"2013-05-02T19:35:07.166Z","type":"message"}
{"nick":"isaacs","message":"creationix: the thing you're trying to write to is no longer there.","date":"2013-05-02T19:35:36.154Z","type":"message"}
{"nick":"creationix","message":"I'm trying to pipe stdin to stdout using only process.binding('tty_wrap').TTY on fd 0 and 1","date":"2013-05-02T19:35:40.174Z","type":"message"}
{"nick":"isaacs","message":"creationix: ie, the socket's been closed, etc.","date":"2013-05-02T19:35:41.660Z","type":"message"}
{"nick":"isaacs","message":"creationix: in a unix pipe situation, usually it means that the other side has closed.","date":"2013-05-02T19:35:54.805Z","type":"message"}
{"nick":"creationix","message":"implement a bare-bones cat essentially","date":"2013-05-02T19:35:56.671Z","type":"message"}
{"nick":"isaacs","message":"creationix: ie:  ./writeALot | ./readALittle","date":"2013-05-02T19:36:09.346Z","type":"message"}
{"nick":"isaacs","message":"creationix: right.","date":"2013-05-02T19:36:17.529Z","type":"message"}
{"nick":"creationix","message":"I using node on windows","date":"2013-05-02T19:36:22.929Z","type":"message"}
{"nick":"isaacs","message":"creationix: cat just detects EPIPE and shuts down","date":"2013-05-02T19:36:24.489Z","type":"message"}
{"nick":"isaacs","message":"creationix: you should probably do the same","date":"2013-05-02T19:36:30.159Z","type":"message"}
{"nick":"creationix","message":"hmm, I get epipe the first time I try to write to stdout","date":"2013-05-02T19:38:22.219Z","type":"message"}
{"nick":"creationix","message":"do I need to do something special to setup stdout?","date":"2013-05-02T19:38:34.256Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: pushed the first bit of the crypto changes to my branch","date":"2013-05-02T19:39:12.919Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i don't think the buffer stuff is going to change any further.","date":"2013-05-02T19:39:20.859Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: so if you want to try seeing how your stuff and mine collides, could get a head start on it.  but it's probably not so bad.","date":"2013-05-02T19:39:41.090Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: coolio. thx.","date":"2013-05-02T19:41:35.403Z","type":"message"}
{"nick":"isaacs","message":"and already got back most of the crypto stream creation performance regression.","date":"2013-05-02T19:43:09.858Z","type":"message"}
{"nick":"isaacs","message":"lunch, and then the rest :)","date":"2013-05-02T19:43:15.967Z","type":"message"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-02T19:47:00.461Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2013-05-02T19:48:01.505Z","type":"quit"}
{"nick":"indexzero","date":"2013-05-02T19:49:21.980Z","type":"join"}
{"nick":"tjfontaine","message":"wolfeidau: ben has a separate tool that generates the tick processor that I generally use","date":"2013-05-02T19:53:17.315Z","type":"message"}
{"nick":"kevinswiber","date":"2013-05-02T19:53:33.648Z","type":"join"}
{"nick":"creationix","message":"weird, as soon as I mess with a TTY instance for fd 1 my node process hard-exits","date":"2013-05-02T19:54:22.252Z","type":"message"}
{"nick":"creationix","message":"is there something special about stdout on windows?","date":"2013-05-02T19:54:35.748Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: https://github.com/bnoordhuis/node-profiler/tree/master/tools the nprof one","date":"2013-05-02T19:54:48.212Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: o that would rock, turns out I also ran into also bug in v8 raising an error on private field, just worked out the cxxflag to fix it","date":"2013-05-02T19:55:05.013Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-05-02T19:55:45.020Z","type":"message"}
{"nick":"creationix","message":"by TTY instance I mean new (process.binding('tty_wrap').TTY)(1, false);","date":"2013-05-02T19:56:13.134Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: wow that is awesome, so you just run that in the v8 snapshot within deps in nodes source tree?","date":"2013-05-02T19:58:01.624Z","type":"message"}
{"nick":"tjfontaine","message":"wolfeidau: no he ships the necessary v8 bits I think, so you don't need node to build it","date":"2013-05-02T19:59:05.386Z","type":"message"}
{"nick":"wolfeidau","message":"o sweet so just clone that and build","date":"2013-05-02T19:59:18.672Z","type":"message"}
{"nick":"tjfontaine","message":"yup","date":"2013-05-02T19:59:21.679Z","type":"message"}
{"nick":"tjfontaine","message":"it may be that those bits may need updating for newer v8's at times, dunno how fragile it is","date":"2013-05-02T19:59:44.335Z","type":"message"}
{"nick":"kuebk","date":"2013-05-02T20:00:03.772Z","type":"join"}
{"nick":"tjfontaine","message":"they are 4months old, so releatively fresh","date":"2013-05-02T20:00:08.882Z","type":"message"}
{"nick":"piscisaureus_","message":"https://github.com/TechEmpower/FrameworkBenchmarks/blob/master/nodejs/hello.js","date":"2013-05-02T20:00:19.853Z","type":"message"}
{"nick":"trevnorris","message":"you do need to make sure the version of the parser matches the version of v8 in node.","date":"2013-05-02T20:00:20.006Z","type":"message"}
{"nick":"wolfeidau","message":"yeah i ran the latest v8 mac-tick-processor and it spewed out warnings, hence the journey through v8 and trying to get it built in the nodes v8 source tree","date":"2013-05-02T20:01:14.439Z","type":"message"}
{"nick":"creationix","message":"well, using process.stdout._handle works, I guess you can't open it twice","date":"2013-05-02T20:01:21.903Z","type":"message"}
{"nick":"wolfeidau","message":"tjfontaine: But I will try that now, should be able to hack sometihng together either way :)","date":"2013-05-02T20:01:50.273Z","type":"message"}
{"nick":"tjfontaine","message":"enjoy!","date":"2013-05-02T20:01:58.974Z","type":"message"}
{"nick":"tjfontaine","message":":)","date":"2013-05-02T20:02:00.008Z","type":"message"}
{"nick":"tjfontaine","message":"os.unlink() [Error 32] The process cannot access the file because it is being used by another process: 'c:\\\\users\\\\admini~1\\\\appdata\\\\local\\\\temp\\\\2\\\\tmp5w8yjz'","date":"2013-05-02T20:02:22.657Z","type":"message"}
{"nick":"tjfontaine","message":"I love you so much windows","date":"2013-05-02T20:02:29.084Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-02T20:02:52.933Z","type":"quit"}
{"nick":"indutny","message":"rust is so fucking cool","date":"2013-05-02T20:03:11.645Z","type":"message"}
{"nick":"creationix","message":"isaacs: the EPIPE was because I was opening stdout in read mode and then writing to it","date":"2013-05-02T20:03:15.561Z","type":"message"}
{"nick":"indutny","message":"I don't want to write C :)","date":"2013-05-02T20:03:17.072Z","type":"message"}
{"nick":"c4milo","date":"2013-05-02T20:03:18.745Z","type":"join"}
{"nick":"creationix","message":"so that makes sense","date":"2013-05-02T20:03:25.244Z","type":"message"}
{"nick":"trevnorris","message":"indutny: cool. i'll go tell the team that. :)","date":"2013-05-02T20:03:30.254Z","type":"message"}
{"nick":"indutny","message":"haha","date":"2013-05-02T20:03:36.950Z","type":"message"}
{"nick":"indutny","message":"great","date":"2013-05-02T20:03:41.775Z","type":"message"}
{"nick":"c4milo","reason":"Read error: Connection reset by peer","date":"2013-05-02T20:03:43.924Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-02T20:04:02.485Z","type":"join"}
{"nick":"dpemmons","reason":"Read error: Operation timed out","date":"2013-05-02T20:04:51.902Z","type":"quit"}
{"nick":"dpemmons","date":"2013-05-02T20:06:26.315Z","type":"join"}
{"nick":"pquerna","reason":"Ping timeout: 256 seconds","date":"2013-05-02T20:07:16.404Z","type":"quit"}
{"nick":"pquerna","date":"2013-05-02T20:07:29.482Z","type":"join"}
{"nick":"trevnorris","message":"indutny: i added an api to the allocator. it's user controlled memory. the user has to run .dipose() on the object before it goes out of scope.","date":"2013-05-02T20:07:52.693Z","type":"message"}
{"nick":"trevnorris","message":"but man it's freakin fast.","date":"2013-05-02T20:07:56.851Z","type":"message"}
{"nick":"indutny","message":"hah","date":"2013-05-02T20:08:05.996Z","type":"message"}
{"nick":"indutny","message":"no doubts","date":"2013-05-02T20:08:11.529Z","type":"message"}
{"nick":"trevnorris","message":"and I can convert it onto a full Buffer instance in about the same time instantiating a Buffer takes.","date":"2013-05-02T20:09:07.525Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: * ThinBuffer: New API for Leaking Memory (Trevor Norris)","date":"2013-05-02T20:09:44.959Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: ;P","date":"2013-05-02T20:09:50.078Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-05-02T20:09:57.073Z","type":"message"}
{"nick":"isaacs","message":"seriously, though, i think we really need this.","date":"2013-05-02T20:10:23.049Z","type":"message"}
{"nick":"isaacs","message":"like a buffer, but you manually dispose i.","date":"2013-05-02T20:10:28.306Z","type":"message"}
{"nick":"isaacs","message":"*it","date":"2013-05-02T20:10:29.248Z","type":"message"}
{"nick":"tjfontaine","message":"yes, I agree","date":"2013-05-02T20:10:48.556Z","type":"message"}
{"nick":"isaacs","message":"we do a lot of gymnastics to keep buffers referenced in async stuff anyway","date":"2013-05-02T20:10:50.092Z","type":"message"}
{"nick":"isaacs","message":"with this, we can just pass around the actual void* or whatever, and dispose it when it's finished, rather than relying on gc","date":"2013-05-02T20:11:18.467Z","type":"message"}
{"nick":"isaacs","message":"i doubt it's the answer to all our problems, but certaily a handy tool.","date":"2013-05-02T20:11:40.586Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-05-02T20:11:48.692Z","type":"message"}
{"nick":"tjfontaine","message":"it will make for some annoying use after free's","date":"2013-05-02T20:11:48.842Z","type":"message"}
{"nick":"isaacs","action":"&","date":"2013-05-02T20:11:55.942Z","type":"action"}
{"nick":"LOUDBOT","message":"HAHAHAHHAHHAHAHHAHAHAHAHA","date":"2013-05-02T20:11:56.562Z","type":"message"}
{"nick":"tjfontaine","message":"exactly","date":"2013-05-02T20:12:00.811Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: how do you mean?","date":"2013-05-02T20:12:32.819Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: if/when people DoItWrong","date":"2013-05-02T20:12:46.106Z","type":"message"}
{"nick":"indutny","message":"isaacs: it could hurt extensibility","date":"2013-05-02T20:14:06.358Z","type":"message"}
{"nick":"indutny","message":"i.e. spdy and others","date":"2013-05-02T20:14:25.953Z","type":"message"}
{"nick":"indutny","message":"but","date":"2013-05-02T20:14:38.595Z","type":"message"}
{"nick":"indutny","message":"probably they can handle it","date":"2013-05-02T20:14:42.691Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: for now it's very not public api. and has very BIG warnings about using it.","date":"2013-05-02T20:14:47.680Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: doesn't mean when I'm using it I won't make a mistake ;)","date":"2013-05-02T20:15:06.862Z","type":"message"}
{"nick":"trevnorris","message":"lol, yeah.","date":"2013-05-02T20:15:12.085Z","type":"message"}
{"nick":"tjfontaine","message":"but a bug in general will likely manifest itself as use-after-free","date":"2013-05-02T20:15:26.652Z","type":"message"}
{"nick":"trevnorris","message":"the only possible problem is a memory leak.","date":"2013-05-02T20:15:50.946Z","type":"message"}
{"nick":"tjfontaine","message":"the difference is that now we see that scenario as a \"leak\" because something has a reference and they shouldn't care about it anymore","date":"2013-05-02T20:15:59.137Z","type":"message"}
{"nick":"trevnorris","message":"when you .dispose() it zeros the allocated memory on the object. so at least no seg fault. =P","date":"2013-05-02T20:16:22.747Z","type":"message"}
{"nick":"AvianFlu","date":"2013-05-02T20:16:36.740Z","type":"join"}
{"nick":"tjfontaine","message":"that seems even worse :/","date":"2013-05-02T20:16:38.256Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-05-02T20:16:44.489Z","type":"message"}
{"nick":"tjfontaine","message":"you're trying to reference memory that isn't there anymore and only get a subtle reaction :)","date":"2013-05-02T20:17:11.237Z","type":"message"}
{"nick":"tjfontaine","message":"unless you throw on the .read*/.write*","date":"2013-05-02T20:17:26.692Z","type":"message"}
{"nick":"trevnorris","message":"well. nothing should be done with the object after .dipose(). and the memory won't disappear until you do.","date":"2013-05-02T20:17:49.192Z","type":"message"}
{"nick":"trevnorris","message":"so getting a seg fault is impossible either way.","date":"2013-05-02T20:17:56.974Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: from an api I agree with you, but it needs to do something when the user doesnt' follow the api","date":"2013-05-02T20:18:08.939Z","type":"message"}
{"nick":"trevnorris","message":"hm.","date":"2013-05-02T20:18:21.978Z","type":"message"}
{"nick":"trevnorris","message":"that would be, the object going out of scope and .dispose() hasn't been run.","date":"2013-05-02T20:18:41.669Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not saying it needs to be overly resilient and protect you, just that the user needs to know they've done something wrong","date":"2013-05-02T20:18:50.348Z","type":"message"}
{"nick":"trevnorris","message":"agreed. i'll keep thinking about a way to do that.","date":"2013-05-02T20:19:11.816Z","type":"message"}
{"nick":"trevnorris","message":"for now only way I can think is to Persist the object","date":"2013-05-02T20:19:25.985Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: consider if I have a reference, and someone else .dispose'd it","date":"2013-05-02T20:19:26.129Z","type":"message"}
{"nick":"trevnorris","message":"yeah. then memory is free'd and array indexes will be \"undefined\"","date":"2013-05-02T20:20:11.110Z","type":"message"}
{"nick":"tjfontaine","message":"right, which is pretty subtle","date":"2013-05-02T20:20:21.212Z","type":"message"}
{"nick":"trevnorris","message":"i mean. I guess you could see this as js version of malloc/free","date":"2013-05-02T20:20:53.358Z","type":"message"}
{"nick":"trevnorris","message":"users can screw that up (heavens knows I have)","date":"2013-05-02T20:21:04.149Z","type":"message"}
{"nick":"trevnorris","message":"oh, but that will explode in a fireball ","date":"2013-05-02T20:21:26.728Z","type":"message"}
{"nick":"tjfontaine","message":"right, and we're js and have enough information to provide the user with a little better world","date":"2013-05-02T20:21:48.234Z","type":"message"}
{"nick":"trevnorris","message":"ok, well. if I don't zero out the memory on the object then the program will fail w/ a stack trace and dump.","date":"2013-05-02T20:22:04.506Z","type":"message"}
{"nick":"tjfontaine","message":"can we just have an if(this._disposed) throw()?","date":"2013-05-02T20:22:35.622Z","type":"message"}
{"nick":"tjfontaine","message":"I mean, people are doing really bad things :)","date":"2013-05-02T20:22:56.889Z","type":"message"}
{"nick":"trevnorris","message":"oh, yeah. I can set that when .dispose is run. no problem.","date":"2013-05-02T20:23:00.242Z","type":"message"}
{"nick":"tjfontaine","message":"I'm not sure if its the right thing to do of course, just that if we're going to provide this disposable memory mechanism we need to have a way to know about use-after-free's","date":"2013-05-02T20:24:19.490Z","type":"message"}
{"nick":"trevnorris","message":"hm. may have to re-think the names. now I have ._dipose and ._disposed =P","date":"2013-05-02T20:24:25.486Z","type":"message"}
{"nick":"trevnorris","message":"tjfontaine: seems right. we're doing that same thing a lot of other places.","date":"2013-05-02T20:24:37.523Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2013-05-02T20:24:42.831Z","type":"message"}
{"nick":"tjfontaine","message":"this is one of those cases where i think `throw` is right","date":"2013-05-02T20:24:56.234Z","type":"message"}
{"nick":"tjfontaine","message":"I guess maybe it could respect noAssert","date":"2013-05-02T20:25:13.046Z","type":"message"}
{"nick":"trevnorris","message":"also exists in the v8 api. e.g. IsNearDeath","date":"2013-05-02T20:25:19.938Z","type":"message"}
{"nick":"kuebk","date":"2013-05-02T20:26:32.661Z","type":"quit"}
{"nick":"trevnorris","message":"tjfontaine: done. now can check ._disposed.","date":"2013-05-02T20:30:20.392Z","type":"message"}
{"nick":"tjfontaine","message":"trevnorris: excellent","date":"2013-05-02T20:30:28.837Z","type":"message"}
{"nick":"trevnorris","message":"good idea. thanks.","date":"2013-05-02T20:30:38.180Z","type":"message"}
{"nick":"st_luke","date":"2013-05-02T20:33:03.207Z","type":"quit"}
{"nick":"st_luke","date":"2013-05-02T20:35:51.664Z","type":"join"}
{"nick":"kevinswiber","reason":"Remote host closed the connection","date":"2013-05-02T20:37:13.036Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: nothing big, but just noticed in _stream_readable: \"[...]This way, it might trigger a nextTick recursion warning[...]\"","date":"2013-05-02T20:43:31.581Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: problem is that'll be removed in v0.12. so just have to keep that in mind.","date":"2013-05-02T20:43:56.261Z","type":"message"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2013-05-02T20:46:05.510Z","type":"quit"}
{"nick":"hz","reason":"Ping timeout: 264 seconds","date":"2013-05-02T21:02:00.444Z","type":"quit"}
{"nick":"trevnorris","message":"ah man. I was so close to getting all green from jenkins.","date":"2013-05-02T21:06:30.660Z","type":"message"}
{"nick":"tjfontaine","message":"haha","date":"2013-05-02T21:06:53.662Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-02T21:07:25.038Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-02T21:07:50.973Z","type":"join"}
{"nick":"hz","date":"2013-05-02T21:08:01.425Z","type":"join"}
{"nick":"hz","reason":"Client Quit","date":"2013-05-02T21:10:46.958Z","type":"quit"}
{"nick":"pquerna","message":"mmmm haystack.","date":"2013-05-02T21:11:22.167Z","type":"message"}
{"nick":"pquerna","message":"haywire.","date":"2013-05-02T21:11:32.340Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 272 seconds","date":"2013-05-02T21:13:00.843Z","type":"quit"}
{"nick":"st_luke","message":"can we get ##leveldb added to http://logs.nodejs.org/channels? it's the node.js specific leveldb channel","date":"2013-05-02T21:13:09.556Z","type":"message"}
{"nick":"benoitc","reason":"Read error: No route to host","date":"2013-05-02T21:16:57.662Z","type":"quit"}
{"nick":"hz","date":"2013-05-02T21:20:43.505Z","type":"join"}
{"nick":"tjfontaine","message":"hmm nodejs-jenkins why aren't you complaining about pull requests","date":"2013-05-02T21:24:06.311Z","type":"message"}
{"nick":"piscisaureus_","message":"st_luke: done","date":"2013-05-02T21:24:28.083Z","type":"message"}
{"nick":"st_luke","message":"piscisaureus_: thanks","date":"2013-05-02T21:24:42.865Z","type":"message"}
{"nick":"rendar","date":"2013-05-02T21:26:27.522Z","type":"quit"}
{"nick":"trevnorris","message":"mother effing. 2 months working on this thing and I'm still finding stupid issues like number of tabs...","date":"2013-05-02T21:29:13.552Z","type":"message"}
{"nick":"bnoordhuis","date":"2013-05-02T21:30:48.417Z","type":"join"}
{"nick":"perezd","date":"2013-05-02T21:31:51.554Z","type":"join"}
{"nick":"isaacs","message":"trevnorris: well, the warning will disappear","date":"2013-05-02T21:32:07.112Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but the warning will disappear because nextTick will just keep spinning, which is actually fine in this case.","date":"2013-05-02T21:32:25.235Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: oh. well cool. so it's not infinitely recursive. it just hits the warning. alright.","date":"2013-05-02T21:32:55.485Z","type":"message"}
{"nick":"isaacs","message":"righ","date":"2013-05-02T21:33:02.751Z","type":"message"}
{"nick":"isaacs","message":"also, in some cases, triggering a warning in Writable can have *terrible* effects","date":"2013-05-02T21:33:28.631Z","type":"message"}
{"nick":"mcavage","date":"2013-05-02T21:33:36.426Z","type":"join"}
{"nick":"isaacs","message":"since process.stderr is a Writable","date":"2013-05-02T21:33:38.292Z","type":"message"}
{"nick":"trevnorris","message":"oh. freak.","date":"2013-05-02T21:33:53.565Z","type":"message"}
{"nick":"isaacs","message":"it'd be nice for maybe console.error to not go through the same process.stderr Writable, but meh.","date":"2013-05-02T21:38:05.490Z","type":"message"}
{"nick":"mcavage","reason":"Remote host closed the connection","date":"2013-05-02T21:41:17.936Z","type":"quit"}
{"nick":"hz","date":"2013-05-02T21:56:27.210Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-02T21:56:36.468Z","type":"join"}
{"nick":"hz","date":"2013-05-02T21:57:16.662Z","type":"join"}
{"nick":"stolsma","date":"2013-05-02T21:58:31.653Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2013-05-02T22:00:22.084Z","type":"quit"}
{"nick":"benoitc","date":"2013-05-02T22:00:27.233Z","type":"join"}
{"nick":"pachet","date":"2013-05-02T22:01:32.724Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-05-02T22:09:50.960Z","type":"quit"}
{"nick":"stagas","reason":"Read error: Connection reset by peer","date":"2013-05-02T22:12:32.278Z","type":"quit"}
{"nick":"trevnorris","message":"bnoordhuis: while you're here. i've implemented a persistentless data store that required the user to manually free memory when they're done.","date":"2013-05-02T22:20:14.290Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: right now it's only for internal use, but it's also very fast.","date":"2013-05-02T22:20:25.272Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: problem is you can't assign a class_id to a non-persistent, so there isn't a way to view the memory in a heap dump.","date":"2013-05-02T22:20:59.964Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: that's a little sad but not really a showstopper","date":"2013-05-02T22:23:46.702Z","type":"message"}
{"nick":"bnoordhuis","message":"as long as the memory is relatively shortlived anyway","date":"2013-05-02T22:23:58.244Z","type":"message"}
{"nick":"trevnorris","message":"bnoordhuis: cool. didn't know if you'd have a problem with that. :)","date":"2013-05-02T22:26:04.181Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i got him to add a .length and .isThinBuffer fields.","date":"2013-05-02T22:26:39.859Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: so at least you'll be able to view it in ::jsprint","date":"2013-05-02T22:26:48.580Z","type":"message"}
{"nick":"isaacs","message":"and tell wtf it is","date":"2013-05-02T22:26:54.458Z","type":"message"}
{"nick":"TooTallNate","date":"2013-05-02T22:27:06.714Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: mind telling me if i'm doing something stupid?","date":"2013-05-02T22:27:34.214Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i've got this StringBytes thing working for decoding a Handle<Value> to a char*+size_t pair","date":"2013-05-02T22:28:06.796Z","type":"message"}
{"nick":"trevnorris","message":"I just need to write a doc on the wiki or something why we won't be using Uint8Array...","date":"2013-05-02T22:28:21.242Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: but it turns out that our code that goes the other way is ALSO kinda crap.  so i'm thinking of adding StringBytes::Encode as well as StringBytes::Decode","date":"2013-05-02T22:28:42.232Z","type":"message"}
{"nick":"isaacs","message":"and then having Buffer basically just consume all its encoding/decoding stuff from the StringBytes functions","date":"2013-05-02T22:29:10.739Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: too much stuff in one place?  or sensible?","date":"2013-05-02T22:29:21.779Z","type":"message"}
{"nick":"bnoordhuis","message":"it sounds sensible. i guess i'd need to see the code","date":"2013-05-02T22:29:46.715Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: since users shouldn't be touching the stream buffers array, couldn't we just track the char* in cc, then use what you're doing now to turn a chunk into a buffer before it's returned?","date":"2013-05-02T22:29:58.380Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: maybe.","date":"2013-05-02T22:30:31.290Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: oh, btw, if you set decodeStrings:false in the options for writable, or do setEncoding for readable, then there'll be strings in that array, not buffers.","date":"2013-05-02T22:31:08.345Z","type":"message"}
{"nick":"st_luke","date":"2013-05-02T22:32:14.452Z","type":"join"}
{"nick":"trevnorris","message":"isaacs: ah, thanks.","date":"2013-05-02T22:32:36.378Z","type":"message"}
{"nick":"dominictarr","reason":"Quit: dominictarr","date":"2013-05-02T22:41:45.398Z","type":"quit"}
{"nick":"pachet","reason":"Quit: leaving","date":"2013-05-02T22:47:21.471Z","type":"quit"}
{"nick":"stolsma","reason":"Ping timeout: 252 seconds","date":"2013-05-02T22:49:11.383Z","type":"quit"}
{"nick":"rje","reason":"Ping timeout: 256 seconds","date":"2013-05-02T23:07:28.122Z","type":"quit"}
{"nick":"rje","date":"2013-05-02T23:09:56.452Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Sam Roberts\u000f \u00037v0.10\u000f * \u000241cbdc5\u0002 : doc: document return values of EventEmitter methods - http://git.io/GrmFUw","date":"2013-05-02T23:10:39.355Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2013-05-02T23:12:14.879Z","type":"quit"}
{"nick":"c4milo","date":"2013-05-02T23:12:41.618Z","type":"join"}
{"nick":"st_luke","reason":"Remote host closed the connection","date":"2013-05-02T23:14:37.474Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Sam Roberts\u000f \u00037master\u000f * \u0002f8d8122\u0002 : event: make setMaxListeners() return this (+6 more commits) - http://git.io/0hCNQg","date":"2013-05-02T23:15:55.790Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 276 seconds","date":"2013-05-02T23:17:36.332Z","type":"quit"}
{"nick":"isaacs","message":"bnoordhuis: thanks","date":"2013-05-02T23:18:19.686Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2013-05-02T23:19:35.287Z","type":"quit"}
{"nick":"hz","date":"2013-05-02T23:29:01.131Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs: for what?","date":"2013-05-02T23:29:45.148Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: the v0.10 merge","date":"2013-05-02T23:29:54.466Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, no problem","date":"2013-05-02T23:30:02.619Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: though i guess it's pretty easy right now, not much there.","date":"2013-05-02T23:30:04.732Z","type":"message"}
{"nick":"bnoordhuis","message":"today's was easy, yes. i did the difficult merge a couple of days ago :)","date":"2013-05-02T23:30:21.953Z","type":"message"}
{"nick":"bnoordhuis","message":"trevnorris: i'd give up if i were you","date":"2013-05-02T23:31:54.930Z","type":"message"}
{"nick":"c4milo","date":"2013-05-02T23:32:19.951Z","type":"join"}
{"nick":"trevnorris","message":"bnoordhuis: heh, yeah.","date":"2013-05-02T23:32:22.915Z","type":"message"}
{"nick":"bnoordhuis","message":"he probably means well, just a little clueless","date":"2013-05-02T23:33:07.586Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: which crypto branch?","date":"2013-05-02T23:33:09.895Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: crypto-fix-perf","date":"2013-05-02T23:33:50.125Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: on my fork","date":"2013-05-02T23:34:04.206Z","type":"message"}
{"nick":"trevnorris","message":":)","date":"2013-05-02T23:34:09.467Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: you still going with AAA?","date":"2013-05-02T23:34:13.941Z","type":"message"}
{"nick":"isaacs","message":"omg, yes.","date":"2013-05-02T23:34:21.427Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2013-05-02T23:34:22.262Z","type":"message"}
{"nick":"isaacs","message":"I <3 our users!","date":"2013-05-02T23:34:27.304Z","type":"message"}
{"nick":"isaacs","message":"and that's all i'll say about that.","date":"2013-05-02T23:34:32.041Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: gave up now.","date":"2013-05-02T23:34:38.883Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2013-05-02T23:34:39.823Z","type":"message"}
{"nick":"trevnorris","message":"want to try the rebase before I end today.","date":"2013-05-02T23:34:44.789Z","type":"message"}
{"nick":"isaacs","message":"seems like a nice guy.","date":"2013-05-02T23:34:48.294Z","type":"message"}
{"nick":"isaacs","message":"i've chatted with him before, he's been around node forever.","date":"2013-05-02T23:34:59.181Z","type":"message"}
{"nick":"trevnorris","message":"my wife told me I need to work on my people skills. figured he be a good victim.","date":"2013-05-02T23:35:17.860Z","type":"message"}
{"nick":"bnoordhuis","message":"my wife says the same thing. it's just something they do","date":"2013-05-02T23:36:03.573Z","type":"message"}
{"nick":"trevnorris","message":"lol","date":"2013-05-02T23:36:12.215Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2013-05-02T23:36:48.275Z","type":"quit"}
{"nick":"trevnorris","message":"isaacs: bugger. just rebased your branch on master. has conflicts.","date":"2013-05-02T23:37:38.060Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: also, do your changes build?","date":"2013-05-02T23:39:35.789Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: yeah","date":"2013-05-02T23:40:25.922Z","type":"message"}
{"nick":"trevnorris","message":"oop. that was my bad.","date":"2013-05-02T23:40:32.103Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but maybe the latest isn't pushed to that branch","date":"2013-05-02T23:40:33.985Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it's been a messy wip kind of thing","date":"2013-05-02T23:40:42.842Z","type":"message"}
{"nick":"trevnorris","message":"something like that usually is. :)","date":"2013-05-02T23:40:54.037Z","type":"message"}
{"nick":"tjfontaine","message":"`/bin/rm: /bin/rm: cannot execute binary file` sigh","date":"2013-05-02T23:41:23.617Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: i usually use the rimraf module to delete stuf on windows","date":"2013-05-02T23:46:29.890Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: rm is not reliable.","date":"2013-05-02T23:46:33.954Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: especially if you have a long filename somewhere.","date":"2013-05-02T23:46:42.561Z","type":"message"}
{"nick":"tjfontaine","message":"isaacs: that was from the build system","date":"2013-05-02T23:46:45.888Z","type":"message"}
{"nick":"tjfontaine","message":"http://jenkins.nodejs.org/job/node-pullrequest/291/DESTCPU=x64,label=osx/console","date":"2013-05-02T23:47:10.148Z","type":"message"}
{"nick":"isaacs","message":"oh, jeez","date":"2013-05-02T23:48:10.847Z","type":"message"}
{"nick":"tjfontaine","message":"keith thinks there's EMI in the server room :P","date":"2013-05-02T23:48:25.868Z","type":"message"}
{"nick":"tjfontaine","message":"I'm content in remembering that poor laptop wasn't doing so well before I made it our bitch","date":"2013-05-02T23:49:06.440Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: ok. i'm going to wait until you've rebased on master.","date":"2013-05-02T23:49:49.045Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2013-05-02T23:51:16.280Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: it'll be more like \"merged into master\"","date":"2013-05-02T23:51:24.218Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: but yeah","date":"2013-05-02T23:51:27.161Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: erm. yeah. :)","date":"2013-05-02T23:51:30.989Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: and basically, that'll just be a matter of removing the chars_written stuff","date":"2013-05-02T23:51:43.708Z","type":"message"}
{"nick":"trevnorris","message":"coolio","date":"2013-05-02T23:53:35.819Z","type":"message"}
{"nick":"trevnorris","message":"isaacs: i did that in ccda6bb, in case that helps.","date":"2013-05-02T23:54:09.177Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: kelw","date":"2013-05-02T23:54:53.540Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: i can probably just branch off v0.10, cherry-pick that commit, then apply my stuff, and have an easier time of it","date":"2013-05-02T23:55:23.855Z","type":"message"}
{"nick":"isaacs","message":"trevnorris: more likely, i'll just do the merge, and hand-fix.","date":"2013-05-02T23:55:35.680Z","type":"message"}
{"nick":"isaacs","message":"it's not that hard when you grok the code (ie, because you jsut wrote it)","date":"2013-05-02T23:55:48.813Z","type":"message"}
{"nick":"trevnorris","message":"heh, yeah.","date":"2013-05-02T23:55:57.713Z","type":"message"}
{"nick":"MI6","message":"\u0002nodejs-v0.10\u0002: #171 \u00037UNSTABLE\u000f windows-x64 (8/582) smartos-x64 (3/582) windows-ia32 (8/582) http://jenkins.nodejs.org/job/nodejs-v0.10/171/","date":"2013-05-02T23:58:35.648Z","type":"message"}
