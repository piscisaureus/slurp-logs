{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307many-writes-fix\u000f * r\u000276f6af6\u000f \u000310\u000f/ lib/net_uv.js \u0002:\u000f Simplify arg parsing in String.write - http://git.io/33I9tg","date":"2011-10-07T00:02:14.572Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000206b83e0\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f unix: avoid unnecessary read() syscall - http://git.io/yiyYhw","date":"2011-10-07T00:08:51.587Z","type":"message"}
{"nick":"piscisaureus_","message":"On my machine I can achieve another 5% speedup by applying various js optimizations","date":"2011-10-07T00:10:14.402Z","type":"message"}
{"nick":"creationix|work","reason":"Remote host closed the connection","date":"2011-10-07T00:11:59.333Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: like what?","date":"2011-10-07T00:12:32.874Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: It'll need some careful review, but I'll commit it soon","date":"2011-10-07T00:13:03.698Z","type":"message"}
{"nick":"piscisaureus_","message":"so you can test it","date":"2011-10-07T00:13:12.641Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2011-10-07T00:13:34.486Z","type":"message"}
{"nick":"ryah","message":"i think we're getting there","date":"2011-10-07T00:13:52.960Z","type":"message"}
{"nick":"bnoordhuis","message":"YES!","date":"2011-10-07T00:14:55.826Z","type":"message"}
{"nick":"bnoordhuis","message":"5961.55 [#/sec] <- v0.4","date":"2011-10-07T00:15:00.725Z","type":"message"}
{"nick":"bnoordhuis","message":"6495.24 [#/sec] <- master with many-writes-fix + http-hack","date":"2011-10-07T00:15:16.781Z","type":"message"}
{"nick":"bnoordhuis","message":"owned!","date":"2011-10-07T00:15:22.618Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307writefix2\u000f * r\u0002aac95e7\u000f \u000310\u000f/ (lib/buffer.js lib/http.js lib/net_uv.js)\u0002:\u000f mess - http://git.io/KMX9zg","date":"2011-10-07T00:15:23.958Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: Leaving.","date":"2011-10-07T00:15:25.947Z","type":"quit"}
{"nick":"piscisaureus","message":"bnoordhuis: ryah: try writefix2","date":"2011-10-07T00:15:59.459Z","type":"message"}
{"nick":"piscisaureus","message":"it's some experiments that give me +5%","date":"2011-10-07T00:16:14.143Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307many-writes-fix\u000f * r\u0002822ac44\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f Upgrade libuv to 06b83e0 - http://git.io/3YfF-w","date":"2011-10-07T00:16:14.950Z","type":"message"}
{"nick":"piscisaureus","message":"the caveat: there may be some experiments that make it slower :-/","date":"2011-10-07T00:16:42.794Z","type":"message"}
{"nick":"piscisaureus","message":"and it's a mess - I have no decent editor on my mac so I'll clean it up on windows","date":"2011-10-07T00:16:58.287Z","type":"message"}
{"nick":"ryah","message":"v0.4.10","date":"2011-10-07T00:19:06.499Z","type":"message"}
{"nick":"ryah","message":"6196.00","date":"2011-10-07T00:19:06.701Z","type":"message"}
{"nick":"ryah","message":"6357.14","date":"2011-10-07T00:19:06.863Z","type":"message"}
{"nick":"ryah","message":"6121.67 ","date":"2011-10-07T00:19:06.863Z","type":"message"}
{"nick":"ryah","message":"many-writes-fix 822ac44","date":"2011-10-07T00:19:06.863Z","type":"message"}
{"nick":"ryah","message":"6246.56","date":"2011-10-07T00:19:08.895Z","type":"message"}
{"nick":"ryah","message":"6218.53","date":"2011-10-07T00:19:11.447Z","type":"message"}
{"nick":"ryah","message":"6272.53","date":"2011-10-07T00:19:13.965Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i don't see a speed-up","date":"2011-10-07T00:20:23.000Z","type":"message"}
{"nick":"bnoordhuis","message":"well, maybe 0.5%","date":"2011-10-07T00:20:41.001Z","type":"message"}
{"nick":"bnoordhuis","message":"could just be noise","date":"2011-10-07T00:20:52.350Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-10-07T00:20:59.463Z","type":"message"}
{"nick":"piscisaureus","message":"I'll post the numbers","date":"2011-10-07T00:21:06.661Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-10-07T00:21:35.196Z","type":"join"}
{"nick":"ryah","message":"actually im still seeing the extra read with your fix ben","date":"2011-10-07T00:21:43.427Z","type":"message"}
{"nick":"ryah","message":"kevent(4, 4305518112, 1)\t\t = 1 0","date":"2011-10-07T00:21:43.990Z","type":"message"}
{"nick":"ryah","message":"read(16, \"GET /bytes/123 HTTP/1.0\\r\\nHost: localhost:8000\\r\\nUser-Agent: ApacheBench/2.3\\r\\nAccept: */*\\r\\n\\r\\n\\0\", 65536)\t\t = 91 0","date":"2011-10-07T00:21:44.146Z","type":"message"}
{"nick":"ryah","message":"write(16, \"HTTP/1.1 200 OK\\r\\nContent-Type: text/plain\\r\\nContent-Length: 123\\r\\nConnection: close\\r\\n\\r\\nCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC\\0\", 208)\t\t = 208 0","date":"2011-10-07T00:21:47.456Z","type":"message"}
{"nick":"ryah","message":"read(16, \"\\0\", 65536)\t\t = -1 Err#35","date":"2011-10-07T00:21:51.878Z","type":"message"}
{"nick":"ryah","message":"close(16)\t\t = 0 0","date":"2011-10-07T00:21:54.360Z","type":"message"}
{"nick":"piscisaureus_","message":" 6998.66 <— writefix2","date":"2011-10-07T00:22:45.542Z","type":"message"}
{"nick":"piscisaureus_","message":"fuck","date":"2011-10-07T00:22:49.966Z","type":"message"}
{"nick":"piscisaureus_","message":"stupid mac","date":"2011-10-07T00:22:52.790Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: yeah, hmm - i see it with single requests with curl but the number of error reads has dropped to zero with ab","date":"2011-10-07T00:24:34.121Z","type":"message"}
{"nick":"bnoordhuis","message":"wait, no - still lots of read errors","date":"2011-10-07T00:25:49.980Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: i think that if statement is in the wrong place","date":"2011-10-07T00:26:11.662Z","type":"message"}
{"nick":"bnoordhuis","message":"ffs","date":"2011-10-07T00:27:03.394Z","type":"message"}
{"nick":"ryah","message":"diff --git a/deps/uv/src/unix/stream.c b/deps/uv/src/unix/stream.c","date":"2011-10-07T00:27:05.480Z","type":"message"}
{"nick":"ryah","message":"index a68d7a9..7de318e 100644","date":"2011-10-07T00:27:05.762Z","type":"message"}
{"nick":"ryah","message":"--- a/deps/uv/src/unix/stream.c","date":"2011-10-07T00:27:05.923Z","type":"message"}
{"nick":"ryah","message":"+++ b/deps/uv/src/unix/stream.c","date":"2011-10-07T00:27:05.923Z","type":"message"}
{"nick":"ryah","message":"@@ -600,11 +600,11 @@ static void uv__read(uv_stream_t* stream) {","date":"2011-10-07T00:27:05.923Z","type":"message"}
{"nick":"ryah","message":"         } else {","date":"2011-10-07T00:27:08.071Z","type":"message"}
{"nick":"ryah","message":"           stream->read2_cb((uv_pipe_t*)stream, nread, buf, UV_UNKNOWN_HANDLE);","date":"2011-10-07T00:27:10.469Z","type":"message"}
{"nick":"ryah","message":"         }","date":"2011-10-07T00:27:12.970Z","type":"message"}
{"nick":"ryah","message":"+      }","date":"2011-10-07T00:27:15.409Z","type":"message"}
{"nick":"ryah","message":" ","date":"2011-10-07T00:27:17.989Z","type":"message"}
{"nick":"ryah","message":"-        /* Return if we didn't fill the buffer, there is no more data to read. */","date":"2011-10-07T00:27:20.591Z","type":"message"}
{"nick":"ryah","message":"-        if (nread < buflen) {","date":"2011-10-07T00:27:24.058Z","type":"message"}
{"nick":"ryah","message":"-          return;","date":"2011-10-07T00:27:26.446Z","type":"message"}
{"nick":"ryah","message":"-        }","date":"2011-10-07T00:27:29.038Z","type":"message"}
{"nick":"ryah","message":"+      /* Return if we didn't fill the buffer, there is no more data to read. */","date":"2011-10-07T00:27:31.439Z","type":"message"}
{"nick":"ryah","message":"+      if (nread < buflen) {","date":"2011-10-07T00:27:34.021Z","type":"message"}
{"nick":"ryah","message":"+        return;","date":"2011-10-07T00:27:36.504Z","type":"message"}
{"nick":"ryah","message":"       }","date":"2011-10-07T00:27:38.990Z","type":"message"}
{"nick":"ryah","message":"     }","date":"2011-10-07T00:27:41.628Z","type":"message"}
{"nick":"ryah","message":"   }","date":"2011-10-07T00:27:44.025Z","type":"message"}
{"nick":"ryah","message":"sorry - i thought that was smaller","date":"2011-10-07T00:27:46.593Z","type":"message"}
{"nick":"bnoordhuis","message":"i was thinking to myself \"man, lots of if statements here - gotta make sure everything lines up\" :/","date":"2011-10-07T00:28:24.846Z","type":"message"}
{"nick":"bnoordhuis","message":"can i squash and force-push it?","date":"2011-10-07T00:30:29.934Z","type":"message"}
{"nick":"ryah","message":"https://gist.github.com/d5095396f26c75b8cd84 <-- with the read fix","date":"2011-10-07T00:32:07.301Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: sure","date":"2011-10-07T00:32:09.383Z","type":"message"}
{"nick":"ryah","message":"looking good","date":"2011-10-07T00:32:42.909Z","type":"message"}
{"nick":"ryah","action":"goes back to child_process.fork","date":"2011-10-07T00:32:56.982Z","type":"action"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00025816f2d\u000f \u000310\u000f/ src/unix/stream.c \u0002:\u000f unix: avoid unnecessary read() syscall - http://git.io/eaO9FA","date":"2011-10-07T00:33:20.918Z","type":"message"}
{"nick":"luxigo","reason":"Remote host closed the connection","date":"2011-10-07T00:34:10.945Z","type":"quit"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307writefix2\u000f * r\u000211120fe\u000f \u000310\u000f/ lib/buffer.js \u0002:\u000f Never mind about the buffer stuff - http://git.io/S3V5pg","date":"2011-10-07T00:36:02.220Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307many-writes-fix\u000f * r\u0002626a258\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f uv: upgrade to 5816f2d - http://git.io/WdpR5w","date":"2011-10-07T00:36:17.035Z","type":"message"}
{"nick":"ryah","message":"./node test/pummel/test-net-write-callbacks.js  4.98s user 2.27s system 100% cpu 7.228 total","date":"2011-10-07T00:37:39.969Z","type":"message"}
{"nick":"ryah","message":":/","date":"2011-10-07T00:37:46.383Z","type":"message"}
{"nick":"bnoordhuis","message":"way better than it used to be","date":"2011-10-07T00:38:29.941Z","type":"message"}
{"nick":"bnoordhuis","message":"and we're still not batching writes","date":"2011-10-07T00:38:34.980Z","type":"message"}
{"nick":"ryah","message":"~/attic/v0.4.12/bin/node test/pummel/test-net-write-callbacks.js  1.56s user 0.77s system 99% cpu 2.343 total","date":"2011-10-07T00:39:27.864Z","type":"message"}
{"nick":"ryah","message":"true","date":"2011-10-07T00:39:44.270Z","type":"message"}
{"nick":"ryah","message":"what about that nexttick flush patch?","date":"2011-10-07T00:40:11.549Z","type":"message"}
{"nick":"piscisaureus_","message":"7136 7172  7131<—writefix2       6869 6954 6921 <— fix-many-writes","date":"2011-10-07T00:40:35.268Z","type":"message"}
{"nick":"piscisaureus_","message":"you should be able to see it too :-(","date":"2011-10-07T00:40:53.454Z","type":"message"}
{"nick":"ryah","message":"piscisaureus_: okay - im trying it","date":"2011-10-07T00:41:03.420Z","type":"message"}
{"nick":"piscisaureus_","message":"oh btw I did string/12","date":"2011-10-07T00:41:36.773Z","type":"message"}
{"nick":"piscisaureus_","message":"okay I agree it's not 5%","date":"2011-10-07T00:42:37.541Z","type":"message"}
{"nick":"piscisaureus_","message":"wishful thinking probably","date":"2011-10-07T00:43:19.721Z","type":"message"}
{"nick":"ryah","message":"https://gist.github.com/a4beba7a1cc9ce57d0cc","date":"2011-10-07T00:47:17.288Z","type":"message"}
{"nick":"ryah","message":"questionable improvement","date":"2011-10-07T00:48:59.746Z","type":"message"}
{"nick":"ryah","message":"v0.1.13: Requests per second:    4792.77 [#/sec] (mean)","date":"2011-10-07T01:03:21.485Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-10-07T01:05:58.411Z","type":"quit"}
{"nick":"ryah","message":"Requests per second:    5453.20 [#/sec] (mean)","date":"2011-10-07T01:09:32.415Z","type":"message"}
{"nick":"ryah","message":"^-- 0.2.6","date":"2011-10-07T01:09:35.923Z","type":"message"}
{"nick":"ryah","message":"i.e.","date":"2011-10-07T01:09:49.790Z","type":"message"}
{"nick":"ryah","message":"we're getting better","date":"2011-10-07T01:09:53.419Z","type":"message"}
{"nick":"ryah","message":"probably just V8 is getting better","date":"2011-10-07T01:10:01.774Z","type":"message"}
{"nick":"ryah","message":"but whatever :)","date":"2011-10-07T01:10:03.894Z","type":"message"}
{"nick":"ryah","message":"https://gist.github.com/1269191","date":"2011-10-07T01:13:18.272Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307many-writes-fix\u000f * r\u000259999c1\u000f \u000310\u000f/ (lib/http.js lib/net_uv.js)\u0002:\u000f Some small optimizations - http://git.io/GdHiJA","date":"2011-10-07T01:13:48.707Z","type":"message"}
{"nick":"piscisaureus_","message":"It can't get slower","date":"2011-10-07T01:16:43.143Z","type":"message"}
{"nick":"piscisaureus_","message":"that's the whole point :-)","date":"2011-10-07T01:16:48.879Z","type":"message"}
{"nick":"ryah","message":"well we've added a lot of features since v0.1.13","date":"2011-10-07T01:18:59.424Z","type":"message"}
{"nick":"ryah","message":"it probably would be best to do that progress on linux/x86","date":"2011-10-07T01:19:22.483Z","type":"message"}
{"nick":"ryah","message":"guys - we've ripped out the enitre platform into a library - and we've been able to make it faster","date":"2011-10-07T01:23:26.083Z","type":"message"}
{"nick":"ryah","message":"this is great","date":"2011-10-07T01:23:29.177Z","type":"message"}
{"nick":"ryah","message":"and added support for alien-OS at the same time","date":"2011-10-07T01:24:09.745Z","type":"message"}
{"nick":"ryah","message":"er - windows","date":"2011-10-07T01:24:15.434Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2011-10-07T01:25:07.886Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Quit: Leaving.","date":"2011-10-07T01:25:46.133Z","type":"quit"}
{"nick":"piscisaureus","message":"x86 is better indeed","date":"2011-10-07T01:26:53.932Z","type":"message"}
{"nick":"piscisaureus","message":"v8 has been improved much for x64","date":"2011-10-07T01:27:21.117Z","type":"message"}
{"nick":"piscisaureus","message":"so string concat and http hack is still coming up right?","date":"2011-10-07T01:30:42.006Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: ^ ?","date":"2011-10-07T01:30:45.315Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: yes","date":"2011-10-07T01:34:16.661Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm off to bed (and you should too, piscisaureus)","date":"2011-10-07T01:38:49.961Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight all","date":"2011-10-07T01:38:52.239Z","type":"message"}
{"nick":"piscisaureus","message":"yes I am going too ... soon","date":"2011-10-07T01:39:42.608Z","type":"message"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2011-10-07T01:40:50.378Z","type":"quit"}
{"nick":"piscisaureus","message":"Requests per second:    5161.79 [#/sec] (mean)","date":"2011-10-07T01:43:29.084Z","type":"message"}
{"nick":"piscisaureus","message":"^-- windows","date":"2011-10-07T01:43:51.932Z","type":"message"}
{"nick":"piscisaureus","message":"bad, but not that bad","date":"2011-10-07T01:44:13.066Z","type":"message"}
{"nick":"AvianFlu_","date":"2011-10-07T01:44:28.210Z","type":"join"}
{"nick":"piscisaureus","message":"(running ab locally)","date":"2011-10-07T01:44:30.751Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2011-10-07T01:44:41.341Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus: i would not put any weight into running ab locally","date":"2011-10-07T01:46:58.956Z","type":"message"}
{"nick":"piscisaureus","message":"I don't :-)","date":"2011-10-07T01:47:11.108Z","type":"message"}
{"nick":"piscisaureus","message":"but this is what naive people do","date":"2011-10-07T01:47:21.562Z","type":"message"}
{"nick":"piscisaureus","message":"should I download wcat btw>","date":"2011-10-07T01:47:26.452Z","type":"message"}
{"nick":"piscisaureus","message":"?","date":"2011-10-07T01:47:28.106Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: do you have a cluster?","date":"2011-10-07T01:49:05.679Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: you mean that server rack here in my bedroom?","date":"2011-10-07T01:49:38.828Z","type":"message"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2011-10-07T01:49:39.282Z","type":"nick"}
{"nick":"piscisaureus","message":"oh hmm no it's not there","date":"2011-10-07T01:49:44.656Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: i don't think wcat will be any useful then.. at some point i think you mentioned that you have a test cluster from rackspace...","date":"2011-10-07T01:51:27.035Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: oh - that's just 2 machines","date":"2011-10-07T01:51:45.164Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2011-10-07T01:52:46.369Z","type":"quit"}
{"nick":"piscisaureus","message":"igorzi: I think I can turn those off.. Haven't logged in for ages (the msft cluster is way better) and I am also leaving rackspace","date":"2011-10-07T01:52:57.118Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: oh.. does that mean that you'll spend more or less time on node? :)","date":"2011-10-07T01:56:53.951Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: it's going to stay the same","date":"2011-10-07T01:57:12.128Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: are you going somewhere else?  or just doing school?","date":"2011-10-07T01:58:10.234Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I im going to get paid by cloud9ide","date":"2011-10-07T01:58:24.569Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: and I am also going to work on another project related to my graduation","date":"2011-10-07T01:59:03.640Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: nice","date":"2011-10-07T01:59:10.372Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but for how long will you stay here?","date":"2011-10-07T02:00:29.952Z","type":"message"}
{"nick":"piscisaureus","message":"I want to keep you for a while :-)","date":"2011-10-07T02:00:44.556Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: don't know exactly, but i think/hope it'll be a while :)","date":"2011-10-07T02:16:59.625Z","type":"message"}
{"nick":"piscisaureus","message":"nice","date":"2011-10-07T02:17:58.491Z","type":"message"}
{"nick":"piscisaureus","message":"I am off","date":"2011-10-07T02:18:03.209Z","type":"message"}
{"nick":"igorzi","message":"night","date":"2011-10-07T02:18:33.354Z","type":"message"}
{"nick":"piscisaureus","reason":"Ping timeout: 248 seconds","date":"2011-10-07T02:22:39.673Z","type":"quit"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307master\u000f * r\u0002012fc07\u000f \u000310\u000f/ (include/uv-private/uv-win.h src/win/fs-event.c)\u0002:\u000f windows: fixes #193. Ensures that uv_fs_event deals with short and long names - http://git.io/KZfozQ","date":"2011-10-07T02:39:30.733Z","type":"message"}
{"nick":"erickt","date":"2011-10-07T03:41:59.513Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-10-07T05:47:21.124Z","type":"quit"}
{"nick":"creationix","date":"2011-10-07T05:57:48.666Z","type":"join"}
{"nick":"creationix","message":"uv timers are pretty cool","date":"2011-10-07T05:58:07.575Z","type":"message"}
{"nick":"creationix","message":"can someone help me figure out how to implement the repl I/O using libuv?","date":"2011-10-07T05:58:32.779Z","type":"message"}
{"nick":"creationix","message":"do I need to create a pipe on FD 0?","date":"2011-10-07T05:58:47.050Z","type":"message"}
{"nick":"creationix","message":"or is the tty type better?","date":"2011-10-07T06:04:16.282Z","type":"message"}
{"nick":"ryah","message":"creationix: uv_tty_open(0)","date":"2011-10-07T06:17:39.595Z","type":"message"}
{"nick":"ryah","message":"that's stdin","date":"2011-10-07T06:17:45.737Z","type":"message"}
{"nick":"ryah","message":"set it to raw mode","date":"2011-10-07T06:17:53.814Z","type":"message"}
{"nick":"ryah","message":"then start parsing ANSI escape codes","date":"2011-10-07T06:18:02.994Z","type":"message"}
{"nick":"creationix","message":"you mean uv_tty_init(0)","date":"2011-10-07T06:18:25.290Z","type":"message"}
{"nick":"creationix","message":"?","date":"2011-10-07T06:18:28.130Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-10-07T06:18:31.692Z","type":"message"}
{"nick":"creationix","message":"thanks","date":"2011-10-07T06:18:34.234Z","type":"message"}
{"nick":"ryah","message":"creationix: looking forward to this :)","date":"2011-10-07T06:18:45.375Z","type":"message"}
{"nick":"ryah","message":"creationix: i think your lua thing is going to be awesome","date":"2011-10-07T06:18:53.331Z","type":"message"}
{"nick":"creationix","message":"here's where we see if my inheritance works and I can call stream methods on the tty instance","date":"2011-10-07T06:19:00.889Z","type":"message"}
{"nick":"creationix","message":"ryah: It's sure fun","date":"2011-10-07T06:19:07.192Z","type":"message"}
{"nick":"creationix","message":"and lua has all sorts of posibilities that js doesn't really have","date":"2011-10-07T06:19:19.992Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-10-07T06:19:26.990Z","type":"message"}
{"nick":"creationix","message":"though it's not as web compatable","date":"2011-10-07T06:19:33.062Z","type":"message"}
{"nick":"ryah","message":"i like lua a lot","date":"2011-10-07T06:19:39.028Z","type":"message"}
{"nick":"creationix","message":"json arrays are particularly nasty","date":"2011-10-07T06:19:44.853Z","type":"message"}
{"nick":"ryah","message":"i would have loved to do node in lua","date":"2011-10-07T06:19:51.659Z","type":"message"}
{"nick":"ryah","message":"the whole js thing was too appealing though","date":"2011-10-07T06:19:58.378Z","type":"message"}
{"nick":"creationix","message":"well, I'll do it for you :)","date":"2011-10-07T06:20:05.482Z","type":"message"}
{"nick":"ryah","message":"good :)","date":"2011-10-07T06:20:10.098Z","type":"message"}
{"nick":"creationix","message":"it won't be a node clone, but libuv with lua sugar that makes sense","date":"2011-10-07T06:20:27.545Z","type":"message"}
{"nick":"ryah","message":"that's actually my secret hope with libuv :)","date":"2011-10-07T06:20:32.143Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-10-07T06:20:36.466Z","type":"message"}
{"nick":"creationix","message":"the fs module in mine has coroutines built in","date":"2011-10-07T06:20:45.626Z","type":"message"}
{"nick":"ryah","message":"do try to have a unified stream interface though","date":"2011-10-07T06:20:47.092Z","type":"message"}
{"nick":"creationix","message":"yeah, the streams are nice","date":"2011-10-07T06:20:54.454Z","type":"message"}
{"nick":"creationix","message":"I'll do that once I'm done binding uv","date":"2011-10-07T06:21:02.987Z","type":"message"}
{"nick":"creationix","message":"it's not too big, should only take a day or two more","date":"2011-10-07T06:21:13.178Z","type":"message"}
{"nick":"ryah","message":"+ 1","date":"2011-10-07T06:21:22.875Z","type":"message"}
{"nick":"creationix","message":"lol, raw mode is crazy","date":"2011-10-07T06:26:54.041Z","type":"message"}
{"nick":"creationix","message":"I'm going to try without it for now using rlwrap","date":"2011-10-07T06:26:59.840Z","type":"message"}
{"nick":"creationix","message":"but that's how you got tab complete in node","date":"2011-10-07T06:27:06.883Z","type":"message"}
{"nick":"creationix","message":"I see now","date":"2011-10-07T06:27:10.732Z","type":"message"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-10-07T06:33:54.971Z","type":"quit"}
{"nick":"creationix","message":"ryah: if you ever get bored, you're welcome to hang out in #luvit","date":"2011-10-07T06:41:23.543Z","type":"message"}
{"nick":"creationix","message":"normally it's a couple lua people and some random node user from russia","date":"2011-10-07T06:42:12.152Z","type":"message"}
{"nick":"creationix","message":"ryah: sweet, non-blocking repl!","date":"2011-10-07T06:50:53.987Z","type":"message"}
{"nick":"creationix","message":"best lua repl ever","date":"2011-10-07T06:51:01.608Z","type":"message"}
{"nick":"indutny","message":"creationix: joined #luvit","date":"2011-10-07T07:04:50.605Z","type":"message"}
{"nick":"indutny","message":":D","date":"2011-10-07T07:04:57.882Z","type":"message"}
{"nick":"creationix","message":"I see","date":"2011-10-07T07:05:09.164Z","type":"message"}
{"nick":"indutny","message":"ryah: yt?","date":"2011-10-07T07:10:05.045Z","type":"message"}
{"nick":"ryah","message":"indutny: yes","date":"2011-10-07T07:13:28.797Z","type":"message"}
{"nick":"creationix","reason":"Quit: creationix","date":"2011-10-07T07:15:03.314Z","type":"quit"}
{"nick":"creationix","date":"2011-10-07T07:20:15.764Z","type":"join"}
{"nick":"creationix","date":"2011-10-07T07:26:45.209Z","type":"part"}
{"nick":"creationix","date":"2011-10-07T07:36:46.976Z","type":"join"}
{"nick":"indutny","message":"ryah: sorry :)","date":"2011-10-07T07:36:52.022Z","type":"message"}
{"nick":"indutny","message":"I was away","date":"2011-10-07T07:36:56.067Z","type":"message"}
{"nick":"indutny","message":"I'll look into that issues today","date":"2011-10-07T07:37:04.833Z","type":"message"}
{"nick":"CoverSlide","reason":"Read error: Connection reset by peer","date":"2011-10-07T07:58:17.439Z","type":"quit"}
{"nick":"CoverSli1e","date":"2011-10-07T07:58:17.815Z","type":"join"}
{"nick":"ryah","message":"indutny: also","date":"2011-10-07T07:59:05.727Z","type":"message"}
{"nick":"ryah","message":"=== release test-debugger-repl ===                                 ","date":"2011-10-07T07:59:06.190Z","type":"message"}
{"nick":"ryah","message":"Path: simple/test-debugger-repl","date":"2011-10-07T07:59:06.350Z","type":"message"}
{"nick":"ryah","message":"Error: timeout!","date":"2011-10-07T07:59:06.350Z","type":"message"}
{"nick":"ryah","message":"Command: out/Release/node /Users/ryan/projects/node/test/simple/test-debugger-repl.js","date":"2011-10-07T07:59:06.350Z","type":"message"}
{"nick":"indutny","message":"k","date":"2011-10-07T07:59:16.085Z","type":"message"}
{"nick":"indutny","message":"I'll take a look","date":"2011-10-07T07:59:18.486Z","type":"message"}
{"nick":"ryah","message":"thanks","date":"2011-10-07T07:59:26.677Z","type":"message"}
{"nick":"indutny","message":"going to open pull request for libuv stuff","date":"2011-10-07T07:59:37.045Z","type":"message"}
{"nick":"indutny","message":"ryah: https://github.com/joyent/libuv/pull/214/files","date":"2011-10-07T07:59:57.732Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002471c570\u000f \u000310\u000f/ (6 files)\u0002:\u000f uv_write2 uv_read2_start binding - http://git.io/spkvPA","date":"2011-10-07T08:01:47.131Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002f6d8895\u000f \u000310\u000f/ (2 files)\u0002:\u000f mv test-child-process-spawn-node.js test/simple/test-child-process-fork.js - http://git.io/4r3ZDQ","date":"2011-10-07T08:01:47.331Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000208c12de\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f Upgrade libuv to 886b112 - http://git.io/OMfWJQ","date":"2011-10-07T08:01:47.612Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000226c5905\u000f \u000310\u000f/ (lib/child_process_uv.js src/node.cc)\u0002:\u000f ","date":"2011-10-07T08:01:48.081Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Reimplement child_process.fork","date":"2011-10-07T08:01:48.240Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Fixes test/simple/test-child-process-fork.js - http://git.io/3drUlg","date":"2011-10-07T08:01:48.240Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u000251f7ba4\u000f \u000310\u000f/ (14 files in 6 dirs)\u0002:\u000f Merge branch 'ipc-binding' - http://git.io/aB6hsw","date":"2011-10-07T08:01:48.240Z","type":"message"}
{"nick":"ryah","message":"child_process.fork is back","date":"2011-10-07T08:02:19.200Z","type":"message"}
{"nick":"ryah","message":"whew - that took a while","date":"2011-10-07T08:02:29.760Z","type":"message"}
{"nick":"mraleph","date":"2011-10-07T08:02:45.207Z","type":"join"}
{"nick":"indutny","message":":)","date":"2011-10-07T08:04:18.882Z","type":"message"}
{"nick":"indutny","message":"are customFds working?","date":"2011-10-07T08:04:39.324Z","type":"message"}
{"nick":"ryah","message":"indutny: should be","date":"2011-10-07T08:09:06.339Z","type":"message"}
{"nick":"indutny","message":"it's such a pleasure to delete functions and definitions from platform_* files","date":"2011-10-07T08:09:11.011Z","type":"message"}
{"nick":"indutny","message":":D","date":"2011-10-07T08:09:11.494Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002d2ab314\u000f \u000310\u000f/ node.gyp \u0002:\u000f Turn off V8's -Werror in GYP - http://git.io/sR2GBw","date":"2011-10-07T08:09:23.323Z","type":"message"}
{"nick":"indutny","message":"going to open pull req for node soon","date":"2011-10-07T08:09:37.499Z","type":"message"}
{"nick":"indutny","message":"are you going to be around for 5-10 minutes?","date":"2011-10-07T08:09:44.383Z","type":"message"}
{"nick":"ryah","message":"indutny: sure","date":"2011-10-07T08:09:52.063Z","type":"message"}
{"nick":"indutny","message":"cool","date":"2011-10-07T08:09:57.527Z","type":"message"}
{"nick":"indutny","message":"I'm not sure if I'm able to remove all unused header files for sunos and freebsd","date":"2011-10-07T08:11:54.952Z","type":"message"}
{"nick":"indutny","message":"but I'll remove them for windows, linux and darwin","date":"2011-10-07T08:12:07.686Z","type":"message"}
{"nick":"indutny","message":"ryah: https://gist.github.com/817aeafe93c3fbb53972","date":"2011-10-07T08:24:12.387Z","type":"message"}
{"nick":"indutny","message":"on windows","date":"2011-10-07T08:24:13.953Z","type":"message"}
{"nick":"indutny","message":"I think it's declared somewhere after","date":"2011-10-07T08:25:32.185Z","type":"message"}
{"nick":"indutny","message":"as it comes from win/winsock.h","date":"2011-10-07T08:25:47.022Z","type":"message"}
{"nick":"creationix","reason":"Ping timeout: 256 seconds","date":"2011-10-07T08:28:43.949Z","type":"quit"}
{"nick":"indutny","message":"ryah: https://github.com/joyent/node/pull/1838","date":"2011-10-07T08:28:45.644Z","type":"message"}
{"nick":"indutny","message":"brb","date":"2011-10-07T08:29:02.236Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002b413c77\u000f \u000310\u000f/ (3 files in 3 dirs)\u0002:\u000f ","date":"2011-10-07T08:30:53.486Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Support sending handles to other processes","date":"2011-10-07T08:30:53.648Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Needs test. - http://git.io/ivZGXg","date":"2011-10-07T08:30:53.648Z","type":"message"}
{"nick":"ryah","message":"indutny: thanks","date":"2011-10-07T08:33:19.278Z","type":"message"}
{"nick":"indutny","message":"you can pull this as it's already working","date":"2011-10-07T08:33:38.350Z","type":"message"}
{"nick":"indutny","message":"if you think we need it","date":"2011-10-07T08:33:42.053Z","type":"message"}
{"nick":"indutny","message":"but I can remove all headers","date":"2011-10-07T08:33:46.660Z","type":"message"}
{"nick":"indutny","message":"and we may pull this later","date":"2011-10-07T08:33:50.568Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u00026984553\u000f \u000310\u000f/ (9 files)\u0002:\u000f use uv for memory and loadavg functions - http://git.io/YdYpfg","date":"2011-10-07T08:34:39.583Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u00024561d9e\u000f \u000310\u000f/ src/node_os.cc \u0002:\u000f ","date":"2011-10-07T08:34:40.019Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Don't check sign of loadavg","date":"2011-10-07T08:34:40.182Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Fixes #1838 - http://git.io/j6oGLg","date":"2011-10-07T08:34:40.183Z","type":"message"}
{"nick":"ryah","message":"indutny: we can remove all the headers once all functions are in libuv :)","date":"2011-10-07T08:34:54.248Z","type":"message"}
{"nick":"indutny","message":"ok :)","date":"2011-10-07T08:36:05.509Z","type":"message"}
{"nick":"indutny","message":"woot","date":"2011-10-07T08:36:09.612Z","type":"message"}
{"nick":"ryah","message":" 9 files changed, 10 insertions(+), 270 deletions(-)","date":"2011-10-07T08:36:32.756Z","type":"message"}
{"nick":"ryah","action":"likes that","date":"2011-10-07T08:36:34.951Z","type":"action"}
{"nick":"indutny","message":":)","date":"2011-10-07T08:36:58.107Z","type":"message"}
{"nick":"indutny","message":"remove more, write less","date":"2011-10-07T08:37:06.015Z","type":"message"}
{"nick":"indutny","message":"ryah: btw, updated that libuv preq","date":"2011-10-07T08:39:06.456Z","type":"message"}
{"nick":"indutny","message":"https://github.com/joyent/libuv/pull/214","date":"2011-10-07T08:39:17.752Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u00021c72aeb\u000f \u000310\u000f/ src/unix/process.c \u0002:\u000f unix: IPC stdio stream should be duplex - http://git.io/1jvNgA","date":"2011-10-07T08:41:50.813Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Fedor Indutny\u000f \u000307master\u000f * r\u00025ac0400\u000f \u000310\u000f/ include/uv.h \u0002:\u000f better docs - http://git.io/NZew2A","date":"2011-10-07T08:41:51.048Z","type":"message"}
{"nick":"indutny","message":"great","date":"2011-10-07T08:41:55.278Z","type":"message"}
{"nick":"ryah","message":"thanks for the better docs","date":"2011-10-07T08:48:42.431Z","type":"message"}
{"nick":"indutny","message":"ohh :)","date":"2011-10-07T08:49:06.803Z","type":"message"}
{"nick":"indutny","message":"you're welcome","date":"2011-10-07T08:49:10.336Z","type":"message"}
{"nick":"indutny","message":"that was really simple","date":"2011-10-07T08:49:17.084Z","type":"message"}
{"nick":"indutny","message":"ryah: test-debugger-repl works for me","date":"2011-10-07T08:50:37.142Z","type":"message"}
{"nick":"ryah","message":"sometimes when i do","date":"2011-10-07T08:55:38.971Z","type":"message"}
{"nick":"ryah","message":"./node test/simple/test-debugger-repl.js >& /tmp/asdfsd","date":"2011-10-07T08:55:39.724Z","type":"message"}
{"nick":"ryah","message":"it pauses a little","date":"2011-10-07T08:55:44.133Z","type":"message"}
{"nick":"mraleph","date":"2011-10-07T09:01:06.058Z","type":"part"}
{"nick":"mraleph","date":"2011-10-07T09:01:14.890Z","type":"join"}
{"nick":"indutny","message":"strange","date":"2011-10-07T09:06:57.349Z","type":"message"}
{"nick":"indutny","message":"fck","date":"2011-10-07T09:49:34.814Z","type":"message"}
{"nick":"indutny","message":"ryah: can I ask you to help me with some C/C++ stuff?","date":"2011-10-07T09:49:44.451Z","type":"message"}
{"nick":"indutny","message":"one simple question, actually","date":"2011-10-07T09:49:48.131Z","type":"message"}
{"nick":"indutny","message":"I've one lib with header file where many functions has `namespace` as argument value","date":"2011-10-07T09:50:14.876Z","type":"message"}
{"nick":"indutny","message":"and I need to create wrapping C++ lib for it","date":"2011-10-07T09:50:30.606Z","type":"message"}
{"nick":"indutny","message":"but I can't include that header","date":"2011-10-07T09:50:42.204Z","type":"message"}
{"nick":"indutny","message":"because of C++ parser errors","date":"2011-10-07T09:50:51.942Z","type":"message"}
{"nick":"indutny","message":"is there anything I can do with it?","date":"2011-10-07T09:51:01.246Z","type":"message"}
{"nick":"indutny","message":"or just delete it and do something else :D","date":"2011-10-07T09:51:07.977Z","type":"message"}
{"nick":"ryah","message":"indutny: you need","date":"2011-10-07T10:28:22.268Z","type":"message"}
{"nick":"ryah","message":"#ifdef __cplusplus","date":"2011-10-07T10:28:22.641Z","type":"message"}
{"nick":"ryah","message":"extern \"C\" {","date":"2011-10-07T10:28:22.815Z","type":"message"}
{"nick":"ryah","message":"#endif","date":"2011-10-07T10:28:23.298Z","type":"message"}
{"nick":"indutny","message":"in those libs?","date":"2011-10-07T10:28:41.580Z","type":"message"}
{"nick":"indutny","message":"should this be in each \".h\" and \".c\" file?","date":"2011-10-07T10:29:07.945Z","type":"message"}
{"nick":"piscisaureus_","date":"2011-10-07T10:32:36.293Z","type":"join"}
{"nick":"ryah","message":"indutny: .h","date":"2011-10-07T10:32:59.022Z","type":"message"}
{"nick":"piscisaureus_","message":"mornin","date":"2011-10-07T10:33:13.292Z","type":"message"}
{"nick":"indutny","message":"doesn't seem to work...","date":"2011-10-07T10:33:14.032Z","type":"message"}
{"nick":"indutny","message":"morning","date":"2011-10-07T10:33:19.212Z","type":"message"}
{"nick":"ryah","message":"indutny: what's the error?","date":"2011-10-07T10:33:28.636Z","type":"message"}
{"nick":"indutny","message":"ryah: 'error: expected ‘,’ or ‘...’ before ‘namespace’'","date":"2011-10-07T10:33:43.578Z","type":"message"}
{"nick":"ryah","message":"and the context","date":"2011-10-07T10:33:58.924Z","type":"message"}
{"nick":"indutny","message":"\tdom_exception (*dom_node_lookup_prefix)(dom_node_internal *node,","date":"2011-10-07T10:34:23.342Z","type":"message"}
{"nick":"indutny","message":"\t\t\tdom_string *namespace, ","date":"2011-10-07T10:34:23.504Z","type":"message"}
{"nick":"indutny","message":"\t\t\tdom_string **result);","date":"2011-10-07T10:34:23.504Z","type":"message"}
{"nick":"indutny","message":"*namespace line","date":"2011-10-07T10:34:31.268Z","type":"message"}
{"nick":"indutny","message":":D","date":"2011-10-07T10:34:31.744Z","type":"message"}
{"nick":"piscisaureus_","message":"if it's just a header file, then `#define namespace foobar` does it :-)","date":"2011-10-07T10:34:40.502Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2011-10-07T10:34:53.409Z","type":"message"}
{"nick":"indutny","message":"it's in C too","date":"2011-10-07T10:34:56.512Z","type":"message"}
{"nick":"indutny","message":"but....","date":"2011-10-07T10:34:59.244Z","type":"message"}
{"nick":"indutny","message":"it's brilliant :D","date":"2011-10-07T10:35:01.973Z","type":"message"}
{"nick":"indutny","message":"let me try","date":"2011-10-07T10:35:08.792Z","type":"message"}
{"nick":"piscisaureus_","message":"no, you just need to do that when you include the header in c++","date":"2011-10-07T10:35:22.083Z","type":"message"}
{"nick":"indutny","message":"#define namespace gfckyrself :D","date":"2011-10-07T10:35:27.962Z","type":"message"}
{"nick":"ryah","message":"indutny: oh, i see :)","date":"2011-10-07T10:35:48.506Z","type":"message"}
{"nick":"piscisaureus_","message":"it could break though if you have struct members called `namespace`","date":"2011-10-07T10:35:51.010Z","type":"message"}
{"nick":"indutny","message":"that's really what I wish that lib developers","date":"2011-10-07T10:35:51.560Z","type":"message"}
{"nick":"ryah","message":"# define namespace ns","date":"2011-10-07T10:36:07.632Z","type":"message"}
{"nick":"ryah","message":"#include <something.h>","date":"2011-10-07T10:36:13.612Z","type":"message"}
{"nick":"ryah","message":"#undef namespace","date":"2011-10-07T10:36:20.613Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2011-10-07T10:36:22.824Z","type":"message"}
{"nick":"indutny","message":"thank you!","date":"2011-10-07T10:36:25.148Z","type":"message"}
{"nick":"ryah","message":"CPP FTW","date":"2011-10-07T10:36:40.772Z","type":"message"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2011-10-07T10:36:49.801Z","type":"quit"}
{"nick":"indutny","message":"yeeeaahh","date":"2011-10-07T10:36:52.116Z","type":"message"}
{"nick":"indutny","message":"it wooorks","date":"2011-10-07T10:36:55.873Z","type":"message"}
{"nick":"indutny","message":"omg","date":"2011-10-07T10:36:57.464Z","type":"message"}
{"nick":"indutny","message":"it's impossible","date":"2011-10-07T10:37:00.812Z","type":"message"}
{"nick":"indutny","message":":D","date":"2011-10-07T10:37:02.146Z","type":"message"}
{"nick":"indutny","message":"thank you","date":"2011-10-07T10:37:05.882Z","type":"message"}
{"nick":"piscisaureus","date":"2011-10-07T10:37:53.250Z","type":"join"}
{"nick":"piscisaureus","message":"ryah: did you get the ipc wrap to work?","date":"2011-10-07T10:39:45.352Z","type":"message"}
{"nick":"piscisaureus","message":"I want to try it on windows","date":"2011-10-07T10:39:50.174Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yes","date":"2011-10-07T11:04:13.459Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307master\u000f * r\u0002899358e\u000f \u000310\u000f/ (6 files in 4 dirs)\u0002:\u000f Add test-child-process-fork2 and fixes to make it work - http://git.io/lwV_rw","date":"2011-10-07T11:04:26.809Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: try it with this--^","date":"2011-10-07T11:04:30.422Z","type":"message"}
{"nick":"ryah","message":"you should get:","date":"2011-10-07T11:04:50.345Z","type":"message"}
{"nick":"ryah","message":"% ./node test/simple/test-child-process-fork2.js        ","date":"2011-10-07T11:04:50.717Z","type":"message"}
{"nick":"ryah","message":"PARENT send child server handle","date":"2011-10-07T11:04:50.956Z","type":"message"}
{"nick":"ryah","message":"CHILD got message: { hello: 'world' }","date":"2011-10-07T11:04:51.120Z","type":"message"}
{"nick":"ryah","message":"PARENT got message: { gotHandle: true }","date":"2011-10-07T11:04:52.239Z","type":"message"}
{"nick":"ryah","message":"%","date":"2011-10-07T11:04:58.531Z","type":"message"}
{"nick":"ryah","message":"still needs a test where it listens and accepts connections","date":"2011-10-07T11:05:47.614Z","type":"message"}
{"nick":"ryah","message":"but i think i should go to sleep.","date":"2011-10-07T11:05:55.311Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: yes you should :-)","date":"2011-10-07T11:17:23.667Z","type":"message"}
{"nick":"piscisaureus","message":"Don't go down the same way as I did","date":"2011-10-07T11:17:32.394Z","type":"message"}
{"nick":"bnoordhuis","date":"2011-10-07T11:27:12.396Z","type":"join"}
{"nick":"piscisaureus","message":"woor","date":"2011-10-07T11:40:16.143Z","type":"message"}
{"nick":"piscisaureus","message":"woot! it works","date":"2011-10-07T11:40:20.285Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: what works? your woman?","date":"2011-10-07T11:45:44.641Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: :-/","date":"2011-10-07T11:48:00.663Z","type":"message"}
{"nick":"bnoordhuis","message":"it's always fun when bnoordhuis is around","date":"2011-10-07T11:48:50.523Z","type":"message"}
{"nick":"bnoordhuis","message":"what are you working on, piscisaureus?","date":"2011-10-07T11:49:05.822Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: nothing","date":"2011-10-07T11:49:11.352Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: I was just testing fd passing in node on windows","date":"2011-10-07T11:49:21.644Z","type":"message"}
{"nick":"Marak","date":"2011-10-07T11:50:14.706Z","type":"join"}
{"nick":"piscisaureus","message":"Awesome","date":"2011-10-07T12:22:50.098Z","type":"message"}
{"nick":"piscisaureus","message":"I can actually distribute load across different nodes on windows","date":"2011-10-07T12:24:08.427Z","type":"message"}
{"nick":"piscisaureus","message":":-)","date":"2011-10-07T12:24:12.916Z","type":"message"}
{"nick":"piscisaureus","message":"There is a few bugs though -","date":"2011-10-07T12:24:25.713Z","type":"message"}
{"nick":"piscisaureus","message":"the child receives a raw Wrap object instead of a Socket","date":"2011-10-07T12:24:45.657Z","type":"message"}
{"nick":"piscisaureus","message":"and there is currently no way to prevent Server.Listen from attempting to bind() the received socket - so you'll get EINVAL","date":"2011-10-07T12:25:15.063Z","type":"message"}
{"nick":"piscisaureus","message":"apart from that It Just Works","date":"2011-10-07T12:25:23.334Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: ^","date":"2011-10-07T12:25:44.759Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-10-07T12:41:25.904Z","type":"quit"}
{"nick":"piscisaureus_","date":"2011-10-07T12:41:59.316Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: Leaving.","date":"2011-10-07T13:02:46.935Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-10-07T13:04:20.045Z","type":"join"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000281c09cb\u000f \u000310\u000f/ src/win/error.c \u0002:\u000f win: add error mappings for ECONNRESET - http://git.io/oA5U1g","date":"2011-10-07T13:54:06.025Z","type":"message"}
{"nick":"piscisaureus","message":"hey bnoordhuis","date":"2011-10-07T14:01:45.351Z","type":"message"}
{"nick":"piscisaureus","message":"wanna send a photo?","date":"2011-10-07T14:01:49.058Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: for the bio?","date":"2011-10-07T14:02:13.583Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: yeah","date":"2011-10-07T14:02:26.188Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: it's about time.","date":"2011-10-07T14:02:41.880Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: the conference is next week :-)","date":"2011-10-07T14:02:48.381Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll have to delegate this to my secretary","date":"2011-10-07T14:03:23.388Z","type":"message"}
{"nick":"bnoordhuis","message":"(i.e.  my girlfriend)","date":"2011-10-07T14:03:30.542Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: do it quickly","date":"2011-10-07T14:03:32.417Z","type":"message"}
{"nick":"piscisaureus","message":"you have 30 minutes","date":"2011-10-07T14:03:35.766Z","type":"message"}
{"nick":"piscisaureus","message":"I want this Node.JA (sic) hackers to go away","date":"2011-10-07T14:03:55.148Z","type":"message"}
{"nick":"piscisaureus","message":"so we have to come up with something","date":"2011-10-07T14:04:02.001Z","type":"message"}
{"nick":"piscisaureus","message":"before the weekend","date":"2011-10-07T14:04:09.504Z","type":"message"}
{"nick":"bnoordhuis","message":"my secretary is on the case","date":"2011-10-07T14:05:27.705Z","type":"message"}
{"nick":"CoverSli1e","new_nick":"CoverSlide","date":"2011-10-07T14:24:28.356Z","type":"nick"}
{"nick":"mraleph","reason":"Read error: Connection reset by peer","date":"2011-10-07T14:38:31.027Z","type":"quit"}
{"nick":"piscisaureus","message":"bnoordhuis: how is it going with your secretary","date":"2011-10-07T14:58:22.044Z","type":"message"}
{"nick":"erickt","date":"2011-10-07T15:04:14.376Z","type":"join"}
{"nick":"mraleph","date":"2011-10-07T15:23:13.675Z","type":"join"}
{"nick":"isaacs","date":"2011-10-07T15:35:31.163Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2011-10-07T15:38:31.089Z","type":"quit"}
{"nick":"erickt","date":"2011-10-07T15:51:26.590Z","type":"join"}
{"nick":"piscisaureus","message":"igorzi: yt?","date":"2011-10-07T15:56:12.297Z","type":"message"}
{"nick":"erickt","message":"Good morning everyone. I'm considering turning uv_udp into a uv_stream_t, since I can use a udp socket with send assuming I use connect","date":"2011-10-07T16:03:24.462Z","type":"message"}
{"nick":"erickt","message":"Plus I can then let getaddrinfo generically handle the configuration for me","date":"2011-10-07T16:04:13.325Z","type":"message"}
{"nick":"erickt","reason":"Quit: Page closed","date":"2011-10-07T16:05:09.781Z","type":"quit"}
{"nick":"creationix","date":"2011-10-07T16:06:29.330Z","type":"join"}
{"nick":"erickt","date":"2011-10-07T16:06:43.580Z","type":"join"}
{"nick":"creationix","reason":"Client Quit","date":"2011-10-07T16:07:35.706Z","type":"quit"}
{"nick":"indutny","message":"morning everyone","date":"2011-10-07T16:16:47.092Z","type":"message"}
{"nick":"indutny","message":"can I ask for WAF advice?","date":"2011-10-07T16:16:57.944Z","type":"message"}
{"nick":"indutny","message":"I've built static library","date":"2011-10-07T16:17:10.007Z","type":"message"}
{"nick":"indutny","message":"\"lib.a\"","date":"2011-10-07T16:17:12.077Z","type":"message"}
{"nick":"indutny","message":"how can I link it with WAF?","date":"2011-10-07T16:17:27.012Z","type":"message"}
{"nick":"indutny","message":"actually, how can I extend linker's options?","date":"2011-10-07T16:17:45.687Z","type":"message"}
{"nick":"piscisaureus","message":"look for LINK_FLAGS or something","date":"2011-10-07T16:17:54.964Z","type":"message"}
{"nick":"piscisaureus","message":"for windows we're adding ws2_32.lib etc","date":"2011-10-07T16:18:06.153Z","type":"message"}
{"nick":"piscisaureus","message":"so if you search for ws2_32 in the wscript file you'll figure it out","date":"2011-10-07T16:18:25.349Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2011-10-07T16:20:48.971Z","type":"message"}
{"nick":"indutny","message":"great","date":"2011-10-07T16:20:49.888Z","type":"message"}
{"nick":"indutny","message":"thank you","date":"2011-10-07T16:20:51.257Z","type":"message"}
{"nick":"erickt","message":"Is libuv switching to waf instead of gyp?","date":"2011-10-07T16:23:25.439Z","type":"message"}
{"nick":"indutny","message":"nope","date":"2011-10-07T16:23:35.030Z","type":"message"}
{"nick":"indutny","message":"erickt: that's for my own purposes","date":"2011-10-07T16:23:39.902Z","type":"message"}
{"nick":"indutny","message":"just spamming channel :D","date":"2011-10-07T16:23:48.090Z","type":"message"}
{"nick":"indutny","message":"sorry","date":"2011-10-07T16:23:49.072Z","type":"message"}
{"nick":"creationix","date":"2011-10-07T16:27:14.966Z","type":"join"}
{"nick":"piscisaureus","message":"erickt: we would never do that","date":"2011-10-07T16:27:30.681Z","type":"message"}
{"nick":"piscisaureus","message":"we are happy to move away from node","date":"2011-10-07T16:27:39.536Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 252 seconds","date":"2011-10-07T16:35:36.585Z","type":"quit"}
{"nick":"piscisaureus","message":"er, to move away from waf for node","date":"2011-10-07T16:39:35.083Z","type":"message"}
{"nick":"creationix","message":"piscisaureus: lol","date":"2011-10-07T16:44:54.873Z","type":"message"}
{"nick":"creationix","message":"I didn't see the conversation before, but that was concerning","date":"2011-10-07T16:45:08.216Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2011-10-07T16:52:03.590Z","type":"message"}
{"nick":"indutny","message":"Makefiles","date":"2011-10-07T16:52:06.586Z","type":"message"}
{"nick":"indutny","message":"why so serious?","date":"2011-10-07T16:52:15.004Z","type":"message"}
{"nick":"creationix","message":"hmm, read2 and write2 are for fd passing to child processes?","date":"2011-10-07T16:54:15.767Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-10-07T16:54:30.240Z","type":"message"}
{"nick":"creationix","message":"nice, I'll have to figure that out later","date":"2011-10-07T16:55:03.122Z","type":"message"}
{"nick":"creationix","message":"does it work no windows?","date":"2011-10-07T16:55:07.622Z","type":"message"}
{"nick":"creationix","message":"*on","date":"2011-10-07T16:55:12.156Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-10-07T16:55:25.905Z","type":"message"}
{"nick":"creationix","message":"cool","date":"2011-10-07T16:55:31.241Z","type":"message"}
{"nick":"piscisaureus","message":"creationix: you can only pass listening server handles though","date":"2011-10-07T16:56:33.439Z","type":"message"}
{"nick":"creationix","message":"ok","date":"2011-10-07T16:56:44.057Z","type":"message"}
{"nick":"piscisaureus","message":"creationix: anything else is not supported atm","date":"2011-10-07T16:56:48.178Z","type":"message"}
{"nick":"piscisaureus","message":"creationix: we could add that though - but we didn't really see the need so far","date":"2011-10-07T16:57:03.235Z","type":"message"}
{"nick":"creationix","message":"I'm wrapping spawn in luvit now, just trying to understand what I'm wrapping","date":"2011-10-07T16:57:19.366Z","type":"message"}
{"nick":"piscisaureus","message":":-)","date":"2011-10-07T16:57:30.964Z","type":"message"}
{"nick":"piscisaureus","message":"agreed","date":"2011-10-07T16:57:33.075Z","type":"message"}
{"nick":"creationix","message":"once I'm done wrapping the surface area of uv, someone needs to look at my code and tell me where I'm doing things stupid","date":"2011-10-07T17:00:42.212Z","type":"message"}
{"nick":"creationix","message":"I'm quite new to writing C and C++","date":"2011-10-07T17:00:57.056Z","type":"message"}
{"nick":"creationix","message":"valgrind has been my friend","date":"2011-10-07T17:01:09.822Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307\u000f * r\u00028fbfa70\u000f \u000310\u000f/ deps/uv/src/win/error.c \u0002:\u000f win: add error mappings for ECONNRESET - http://git.io/_wCvfQ","date":"2011-10-07T17:02:23.313Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307\u000f * r\u00022752b75\u000f \u000310\u000f/ lib/net_uv.js \u0002:\u000f Black hole tcp reads after destroy() - http://git.io/MBvrTg","date":"2011-10-07T17:02:23.541Z","type":"message"}
{"nick":"indutny","message":"why I'm getting undefined symbol errors","date":"2011-10-07T17:02:33.184Z","type":"message"}
{"nick":"indutny","message":"I'm sure that it was linked","date":"2011-10-07T17:02:38.539Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: hey","date":"2011-10-07T17:03:32.564Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307\u000f * r\u0002fcad5e3\u000f \u000310\u000f/ lib/net_uv.js \u0002:\u000f Black hole tcp reads after destroy() - http://git.io/29pTFg","date":"2011-10-07T17:03:59.226Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: so having 32 pending accepts isn't great for multiprocess sockets","date":"2011-10-07T17:04:16.052Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: because the second process will not accept anything before the first 32 accepts are used","date":"2011-10-07T17:04:45.282Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: hmm, why?","date":"2011-10-07T17:04:46.769Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: hmm","date":"2011-10-07T17:06:01.939Z","type":"message"}
{"nick":"igorzi","message":"maybe that should be 32 / number_of_procs?","date":"2011-10-07T17:06:44.221Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: that's not the problem","date":"2011-10-07T17:06:53.517Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: it's an ordering issue","date":"2011-10-07T17:06:58.061Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: is that really an issue though?  if we have 8 processes - we'll have 4 accepts in each process.. does it really matter that the1st 4 accepts will go to the 1st process?","date":"2011-10-07T17:08:00.212Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I did multiprocess accept with node","date":"2011-10-07T17:09:00.892Z","type":"message"}
{"nick":"piscisaureus","message":"ab -c 100 and it'll nicely distribute all incoming stuff","date":"2011-10-07T17:09:13.046Z","type":"message"}
{"nick":"piscisaureus","message":"but with ab -c 10 1 process takes everything","date":"2011-10-07T17:09:31.929Z","type":"message"}
{"nick":"piscisaureus","message":"this is with artificially blocking the event loop","date":"2011-10-07T17:09:47.025Z","type":"message"}
{"nick":"piscisaureus","message":"(for 100ms on every request)","date":"2011-10-07T17:09:56.679Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: i don't know.. i still think we need multiple pending accepts.. maybe just make it dynamic so that it can be adjusted with multi-proc scenarios","date":"2011-10-07T17:14:32.617Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I think it's okay but we have to make the order somewhat random","date":"2011-10-07T17:15:10.489Z","type":"message"}
{"nick":"piscisaureus","message":"so that the order of queued accepts doesn't become aaaabbbbccccddddaaaabbbbccccdddd","date":"2011-10-07T17:15:29.207Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: maybe start off with one, but after the accept returns post back 2","date":"2011-10-07T17:15:54.421Z","type":"message"}
{"nick":"piscisaureus","message":"until. the total number of accepts is 32","date":"2011-10-07T17:16:12.155Z","type":"message"}
{"nick":"creationix","message":"Is there a way to be notified when loadavg changes?","date":"2011-10-07T17:16:48.729Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 258 seconds","date":"2011-10-07T17:16:51.318Z","type":"quit"}
{"nick":"creationix","message":"it seems roughly every 4000ms","date":"2011-10-07T17:16:54.890Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2011-10-07T17:16:56.953Z","type":"message"}
{"nick":"piscisaureus","message":"it's probably os-dependent","date":"2011-10-07T17:17:12.137Z","type":"message"}
{"nick":"creationix","message":"ok, setInterval it is","date":"2011-10-07T17:17:22.222Z","type":"message"}
{"nick":"piscisaureus","message":":-)","date":"2011-10-07T17:17:26.634Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, that'll probably work.. start with 1, and keep increasing when connections are accepted for all pending accepts","date":"2011-10-07T17:19:45.650Z","type":"message"}
{"nick":"piscisaureus","message":"yeah","date":"2011-10-07T17:20:58.830Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: but, then does it need to scale down? (if there's a spike for example)","date":"2011-10-07T17:21:01.704Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-10-07T17:21:13.637Z","type":"message"}
{"nick":"piscisaureus","message":"I can't really imagine how that happens","date":"2011-10-07T17:21:25.731Z","type":"message"}
{"nick":"piscisaureus","message":"maybe it would if one process takes a very long request but the other gets fast ones.","date":"2011-10-07T17:21:53.452Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-10-07T17:22:14.846Z","type":"message"}
{"nick":"rmustacc","message":"creationix: It's not even probably os-dependent, it is. Each OS has a different way, especially because they somtimes have logarithmic decay","date":"2011-10-07T17:24:26.557Z","type":"message"}
{"nick":"creationix","message":"right, which is why I was hoping someone had already solved this","date":"2011-10-07T17:24:58.306Z","type":"message"}
{"nick":"creationix","message":"I guess polling and looking for changes isn't the worst thing in the world","date":"2011-10-07T17:25:09.979Z","type":"message"}
{"nick":"creationix","message":"just a little latency","date":"2011-10-07T17:25:24.493Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I kind of think that just 1 simultaneous accept is just fine in case of a shared socket","date":"2011-10-07T17:25:27.409Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: in real-world situations you probably spend much more time per request and accept less connections per second","date":"2011-10-07T17:26:15.202Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: so, http_simple is not a real-world situation?","date":"2011-10-07T17:26:41.897Z","type":"message"}
{"nick":"piscisaureus","message":"so it's better to improve load balancing than to improve apache bench performance","date":"2011-10-07T17:26:51.076Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: well, not in all respects","date":"2011-10-07T17:27:00.794Z","type":"message"}
{"nick":"creationix","date":"2011-10-07T17:27:09.587Z","type":"part"}
{"nick":"piscisaureus","message":"igorzi: http_simple is the same response every time, and unusually small too","date":"2011-10-07T17:27:22.847Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: a lot of decisions are made based on results of http_simple","date":"2011-10-07T17:27:38.222Z","type":"message"}
{"nick":"piscisaureus","message":"heh","date":"2011-10-07T17:27:52.207Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2011-10-07T17:27:53.438Z","type":"message"}
{"nick":"piscisaureus","message":"that's a real-world situation","date":"2011-10-07T17:28:00.740Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: http_simple ran almost 25% faster with 32 pending accepts","date":"2011-10-07T17:28:07.555Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-10-07T17:28:25.011Z","type":"message"}
{"nick":"piscisaureus","message":"that's a lot","date":"2011-10-07T17:28:26.791Z","type":"message"}
{"nick":"igorzi","message":"yeah","date":"2011-10-07T17:28:31.314Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: maybe we can include some type of auto-tuning mechanism?  basically start with 1 pending accept, and then auto-tune it based on how quickly the list of pending accepts fills up.","date":"2011-10-07T17:30:56.662Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: well... sounds complicated :-)","date":"2011-10-07T17:31:24.895Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: if you have a really awesome idea then +1 but otherwise I'm not sure","date":"2011-10-07T17:31:50.706Z","type":"message"}
{"nick":"igorzi","message":"when the number of concurrent connections spikes, this'll go up to 32.. then when we notice that most of the 32 pending connections are just waiting.. we can scale it back..","date":"2011-10-07T17:32:03.932Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but I don't know exacly how we can determine if they're waiting","date":"2011-10-07T17:33:12.904Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: you mean with HasOverlappedIoCompleted?","date":"2011-10-07T17:33:21.909Z","type":"message"}
{"nick":"AvianFlu","date":"2011-10-07T17:35:11.751Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: hmm.. maybe we can base that off how many accept completion packets are returned from GQCSEx?","date":"2011-10-07T17:37:42.423Z","type":"message"}
{"nick":"piscisaureus","message":"Let me think","date":"2011-10-07T17:37:53.988Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: can you help me?","date":"2011-10-07T17:38:03.146Z","type":"message"}
{"nick":"piscisaureus","message":"it depends","date":"2011-10-07T17:38:09.155Z","type":"message"}
{"nick":"indutny","message":":)","date":"2011-10-07T17:38:12.156Z","type":"message"}
{"nick":"indutny","message":"I've .node file","date":"2011-10-07T17:38:20.480Z","type":"message"}
{"nick":"indutny","message":"that has dom_hubbub_parser_create string inside","date":"2011-10-07T17:38:33.803Z","type":"message"}
{"nick":"indutny","message":"grep -R \"dom_hubbub_parser_create\" * reports that","date":"2011-10-07T17:38:38.070Z","type":"message"}
{"nick":"indutny","message":"aaah","date":"2011-10-07T17:38:48.645Z","type":"message"}
{"nick":"indutny","message":"nevermind","date":"2011-10-07T17:38:50.084Z","type":"message"}
{"nick":"indutny","message":"it reports it because I'm trying to run this command","date":"2011-10-07T17:38:58.075Z","type":"message"}
{"nick":"indutny","message":"k","date":"2011-10-07T17:38:59.676Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I think if we can randomize the process sufficiently we're going to be fine","date":"2011-10-07T17:41:57.347Z","type":"message"}
{"nick":"piscisaureus","message":"is the call scheduled for 15 minutes btw or 1hr15m ?","date":"2011-10-07T17:42:58.311Z","type":"message"}
{"nick":"erickt","date":"2011-10-07T17:43:48.651Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: right now it's scheduled to be in 15 min","date":"2011-10-07T17:44:13.748Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2011-10-07T17:45:17.590Z","type":"quit"}
{"nick":"piscisaureus","message":"ok cool, I can be there","date":"2011-10-07T17:45:29.521Z","type":"message"}
{"nick":"AvianFlu","date":"2011-10-07T17:45:37.213Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: what do you mean by randomize the process?","date":"2011-10-07T17:46:47.691Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: make sure that the queue of pending accepts is not too similar to aaaaaaaaaaaaaaaaabbbbbbbbbbbbbbbbb","date":"2011-10-07T17:47:19.108Z","type":"message"}
{"nick":"brson","date":"2011-10-07T17:47:23.177Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus: right, but how? :)","date":"2011-10-07T17:47:31.571Z","type":"message"}
{"nick":"piscisaureus","message":"where a is an accept queued by process 1 and b is queued by process 2","date":"2011-10-07T17:47:32.708Z","type":"message"}
{"nick":"piscisaureus","message":"yes, I'm thinking about that","date":"2011-10-07T17:47:53.427Z","type":"message"}
{"nick":"ryah","message":"http://blog.nodejs.org/2011/09/30/node-v0-5-8/#comment-1149 ","date":"2011-10-07T17:47:54.303Z","type":"message"}
{"nick":"igorzi","message":"(without sacrificing performance)","date":"2011-10-07T17:48:00.736Z","type":"message"}
{"nick":"igorzi","message":"he probably doesn't have sp2","date":"2011-10-07T17:49:43.077Z","type":"message"}
{"nick":"creationix","date":"2011-10-07T17:53:00.688Z","type":"join"}
{"nick":"creationix","message":"is there a uv way to get environment variables, or is that normal portable C like argv?","date":"2011-10-07T17:53:22.922Z","type":"message"}
{"nick":"ryah","message":"http://lists.cs.uiuc.edu/pipermail/llvmdev/2011-October/043719.html depresing","date":"2011-10-07T17:54:28.514Z","type":"message"}
{"nick":"ryah","message":"creationix: extern char** envioron;","date":"2011-10-07T17:54:43.894Z","type":"message"}
{"nick":"creationix","message":"ryah: I'm in normal C, not C++","date":"2011-10-07T17:55:06.708Z","type":"message"}
{"nick":"ryah","message":"environ","date":"2011-10-07T17:55:08.486Z","type":"message"}
{"nick":"creationix","message":"still the same?","date":"2011-10-07T17:55:10.982Z","type":"message"}
{"nick":"ryah","message":"yes","date":"2011-10-07T17:55:19.964Z","type":"message"}
{"nick":"creationix","message":"ok, so it's just a global, that works","date":"2011-10-07T17:55:23.090Z","type":"message"}
{"nick":"piscisaureus","message":"hmm randomizing is maybe not the solution","date":"2011-10-07T17:56:48.151Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: let's discuss at the call","date":"2011-10-07T17:56:53.817Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: ok.. can you pls dial my number again?  (this is the last time)","date":"2011-10-07T17:57:18.090Z","type":"message"}
{"nick":"piscisaureus","message":"sure, fine","date":"2011-10-07T17:57:25.283Z","type":"message"}
{"nick":"AvianFlu_","date":"2011-10-07T17:57:43.475Z","type":"join"}
{"nick":"creationix","message":"hmm, is getenv portable?","date":"2011-10-07T17:58:16.207Z","type":"message"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2011-10-07T17:58:30.555Z","type":"quit"}
{"nick":"piscisaureus","message":"ryah: call now?","date":"2011-10-07T17:59:59.093Z","type":"message"}
{"nick":"piscisaureus","message":"I will dial","date":"2011-10-07T18:00:04.028Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2011-10-07T18:00:12.874Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: call?","date":"2011-10-07T18:00:58.805Z","type":"message"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2011-10-07T18:01:19.674Z","type":"nick"}
{"nick":"igorzi","message":"piscisaureus: eyp","date":"2011-10-07T18:03:05.974Z","type":"message"}
{"nick":"igorzi","message":"yep","date":"2011-10-07T18:03:07.468Z","type":"message"}
{"nick":"indutny","message":"piscisaureus: what is \".a\" extension for?","date":"2011-10-07T18:14:40.239Z","type":"message"}
{"nick":"indutny","message":"static library?","date":"2011-10-07T18:14:43.243Z","type":"message"}
{"nick":"indutny","message":"can I use statically linked libraries in node extensions?","date":"2011-10-07T18:17:39.852Z","type":"message"}
{"nick":"rmustacc","message":"indutny: It needs to be linked into the .so","date":"2011-10-07T18:18:10.725Z","type":"message"}
{"nick":"indutny","message":"rmustacc: wouldn't it be shared library in that case?","date":"2011-10-07T18:18:35.152Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yeah benchmarks are everything :-/","date":"2011-10-07T18:19:54.593Z","type":"message"}
{"nick":"piscisaureus","message":"meh benchmarks","date":"2011-10-07T18:20:16.769Z","type":"message"}
{"nick":"creationix","date":"2011-10-07T18:20:29.126Z","type":"part"}
{"nick":"rmustacc","message":"indutny: Yes, but the way node extensions work is that you dlopen a shared object.","date":"2011-10-07T18:21:18.506Z","type":"message"}
{"nick":"indutny","message":"rmustacc: yep, I understand","date":"2011-10-07T18:21:28.013Z","type":"message"}
{"nick":"rmustacc","message":"So whatever shard object node-waf is generating needs to have your .a linked in.","date":"2011-10-07T18:21:28.835Z","type":"message"}
{"nick":"indutny","message":"rmustacc: obj.env.append_value(\"LINKFLAGS\", path + \"/libdom.a\")","date":"2011-10-07T18:21:55.978Z","type":"message"}
{"nick":"indutny","message":"that's what I'm doing","date":"2011-10-07T18:22:00.931Z","type":"message"}
{"nick":"indutny","message":"and it works partially","date":"2011-10-07T18:22:05.868Z","type":"message"}
{"nick":"indutny","message":"but that lib is linked with another static lib :D","date":"2011-10-07T18:22:30.940Z","type":"message"}
{"nick":"indutny","message":"and when it tries to execute method from it - it fails","date":"2011-10-07T18:22:42.855Z","type":"message"}
{"nick":"indutny","message":"'undefined symbol'","date":"2011-10-07T18:22:48.810Z","type":"message"}
{"nick":"rmustacc","message":"Well, then however your constructing the .a seems incorrect.","date":"2011-10-07T18:23:03.531Z","type":"message"}
{"nick":"rmustacc","message":"A .a is really just a collection of object files, nothing really more.","date":"2011-10-07T18:23:16.411Z","type":"message"}
{"nick":"indutny","message":"rmustacc: if I'll show you a repo - can you help me?","date":"2011-10-07T18:23:18.024Z","type":"message"}
{"nick":"indutny","message":"rmustacc: yeah","date":"2011-10-07T18:23:21.715Z","type":"message"}
{"nick":"indutny","message":"rmustacc: but can I create .a from .o and .a","date":"2011-10-07T18:23:34.763Z","type":"message"}
{"nick":"indutny","message":"or not","date":"2011-10-07T18:23:41.226Z","type":"message"}
{"nick":"rmustacc","message":"I don't recall off hand, I'd double check the ar man page.","date":"2011-10-07T18:24:00.122Z","type":"message"}
{"nick":"rmustacc","message":"It sounds like the answer is no though.","date":"2011-10-07T18:24:09.114Z","type":"message"}
{"nick":"indutny","message":"strange","date":"2011-10-07T18:24:21.980Z","type":"message"}
{"nick":"indutny","message":"hm....","date":"2011-10-07T18:24:26.010Z","type":"message"}
{"nick":"indutny","message":"so I need to create my own .a from all those .os?","date":"2011-10-07T18:24:35.013Z","type":"message"}
{"nick":"indutny","message":".o","date":"2011-10-07T18:24:37.125Z","type":"message"}
{"nick":"rmustacc","message":"Or use a different invocation to ar.","date":"2011-10-07T18:25:02.707Z","type":"message"}
{"nick":"rmustacc","message":"I've never really done much with static libraries.","date":"2011-10-07T18:25:43.208Z","type":"message"}
{"nick":"rmustacc","message":"By design we much always use dynamic libraries, so you can guarantee interfaces.","date":"2011-10-07T18:26:13.558Z","type":"message"}
{"nick":"rmustacc","message":"But it seems that it should be possible.","date":"2011-10-07T18:26:44.048Z","type":"message"}
{"nick":"indutny","message":"wow","date":"2011-10-07T18:26:44.746Z","type":"message"}
{"nick":"indutny","message":"it works","date":"2011-10-07T18:26:47.767Z","type":"message"}
{"nick":"indutny","message":"yahooooo!!!!","date":"2011-10-07T18:27:13.703Z","type":"message"}
{"nick":"indutny","message":"thank you","date":"2011-10-07T18:27:16.119Z","type":"message"}
{"nick":"indutny","message":"I just created one .a from all .o files","date":"2011-10-07T18:27:40.430Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 276 seconds","date":"2011-10-07T18:39:07.185Z","type":"quit"}
{"nick":"ryah","message":"bbiab","date":"2011-10-07T18:42:40.293Z","type":"message"}
{"nick":"ryah","message":"what are the current failing tests on windows?","date":"2011-10-07T18:59:44.475Z","type":"message"}
{"nick":"piscisaureus","message":"the c-ares test hangs :-(","date":"2011-10-07T19:06:39.049Z","type":"message"}
{"nick":"piscisaureus","message":"did we change anything about that?","date":"2011-10-07T19:06:48.482Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-10-07T19:07:26.522Z","type":"quit"}
{"nick":"ryah","message":"i just notice that too..","date":"2011-10-07T19:07:59.567Z","type":"message"}
{"nick":"piscisaureus","message":"I have to go","date":"2011-10-07T19:07:59.784Z","type":"message"}
{"nick":"piscisaureus","message":"also many tests crash","date":"2011-10-07T19:08:11.807Z","type":"message"}
{"nick":"ryah","message":"later","date":"2011-10-07T19:08:16.699Z","type":"message"}
{"nick":"piscisaureus","message":"it could be that we don't support redirected stdout yet on windows","date":"2011-10-07T19:08:31.610Z","type":"message"}
{"nick":"ryah","message":"k","date":"2011-10-07T19:08:55.018Z","type":"message"}
{"nick":"piscisaureus","message":"I will try to fix it later ...","date":"2011-10-07T19:09:28.801Z","type":"message"}
{"nick":"piscisaureus","message":"gtg now","date":"2011-10-07T19:09:31.319Z","type":"message"}
{"nick":"piscisaureus","message":"zu hause","date":"2011-10-07T19:09:49.075Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2011-10-07T19:10:51.385Z","type":"quit"}
{"nick":"mraleph","date":"2011-10-07T19:22:07.205Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2011-10-07T19:33:28.803Z","type":"quit"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303talltyler\u000f \u000307\u000f * r\u000210f97f9\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f ","date":"2011-10-07T19:34:44.485Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Fixing #1774 about issues when running node with --harmony_block_scoping v8 option","date":"2011-10-07T19:34:44.648Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Fixes #1837. - http://git.io/JzeWWQ","date":"2011-10-07T19:34:44.648Z","type":"message"}
{"nick":"piscisaureus","date":"2011-10-07T20:20:36.687Z","type":"join"}
{"nick":"piscisaureus","message":"ryah: redirected stdout seems to be the problem when running tests. I am going to fix this in libuv now.","date":"2011-10-07T20:23:02.602Z","type":"message"}
{"nick":"piscisaureus","message":"we can run the tests after that","date":"2011-10-07T20:23:12.435Z","type":"message"}
{"nick":"piscisaureus","message":"Maybe we can dog-food the libuv test-runner as well :-)","date":"2011-10-07T20:23:38.903Z","type":"message"}
{"nick":"ryah","message":"it'd be nice if we don't have recursive bugs in the test-runner","date":"2011-10-07T20:31:09.351Z","type":"message"}
{"nick":"ryah","message":"also it's nice that it doesn't currently depend on libuv","date":"2011-10-07T20:31:19.437Z","type":"message"}
{"nick":"ryah","message":"it hink it's usable for other projects","date":"2011-10-07T20:31:30.226Z","type":"message"}
{"nick":"piscisaureus","message":"ok","date":"2011-10-07T20:31:52.959Z","type":"message"}
{"nick":"piscisaureus","message":"well I wasn't in a hurry anyway","date":"2011-10-07T20:32:02.422Z","type":"message"}
{"nick":"ryah","message":"japj: is having some issues with a pipe exception on windows","date":"2011-10-07T20:32:04.583Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/issues/1840","date":"2011-10-07T20:32:15.991Z","type":"message"}
{"nick":"ryah","message":"this might be a bug for igorzi ","date":"2011-10-07T20:32:28.974Z","type":"message"}
{"nick":"piscisaureus","message":"btw - don't wait for me if you want to do a release today","date":"2011-10-07T20:33:23.199Z","type":"message"}
{"nick":"ryah","message":"ok","date":"2011-10-07T20:33:35.520Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: can we merge the speed improvement branch?","date":"2011-10-07T20:33:47.001Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: yes, that's fine","date":"2011-10-07T20:33:55.039Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: it works fine on windows","date":"2011-10-07T20:34:12.919Z","type":"message"}
{"nick":"ryah","message":"ok","date":"2011-10-07T20:35:01.758Z","type":"message"}
{"nick":"piscisaureus","message":"aah","date":"2011-10-07T20:35:38.524Z","type":"message"}
{"nick":"piscisaureus","message":"I see what causes japj's problem","date":"2011-10-07T20:36:01.336Z","type":"message"}
{"nick":"piscisaureus","message":"that's actually pretty bad","date":"2011-10-07T20:39:52.415Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307\u000f * r\u0002ed65b7b\u000f \u000310\u000f/ lib/net_uv.js \u0002:\u000f Simplify writeReq handling in net_uv - http://git.io/DP4acg","date":"2011-10-07T20:41:19.350Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307\u000f * r\u000229ec850\u000f \u000310\u000f/ lib/net_uv.js \u0002:\u000f Simplify arg parsing in String.write - http://git.io/4LTPhg","date":"2011-10-07T20:41:20.579Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307\u000f * r\u0002153629c\u000f \u000310\u000f/ (lib/http.js lib/net_uv.js)\u0002:\u000f Some small optimizations - http://git.io/lAa5LQ","date":"2011-10-07T20:41:21.798Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307\u000f * r\u00021bb820a\u000f \u000310\u000f/ lib/net_uv.js \u0002:\u000f ","date":"2011-10-07T20:41:23.256Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f net: remove unconditional getpeername() call","date":"2011-10-07T20:41:23.413Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Speeds up http_simple benchmark by about 1.0% - http://git.io/0eVIjA","date":"2011-10-07T20:41:23.413Z","type":"message"}
{"nick":"piscisaureus","action":"bbl","date":"2011-10-07T20:41:46.263Z","type":"action"}
{"nick":"piscisaureus","reason":"Ping timeout: 248 seconds","date":"2011-10-07T20:46:39.687Z","type":"quit"}
{"nick":"AvianFlu","reason":"Ping timeout: 260 seconds","date":"2011-10-07T20:51:11.646Z","type":"quit"}
{"nick":"AvianFlu","date":"2011-10-07T20:53:41.284Z","type":"join"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307\u000f * r\u000226c08a3\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f Do load balancing test in test-child-process-fork2. - http://git.io/gtvIKQ","date":"2011-10-07T20:59:43.586Z","type":"message"}
{"nick":"ryah","message":"lunch. bbiab","date":"2011-10-07T21:01:15.373Z","type":"message"}
{"nick":"brson","date":"2011-10-07T21:33:05.274Z","type":"join"}
{"nick":"igorzi","message":"ryah: fixing https://github.com/joyent/node/issues/1840.. should be done shortly","date":"2011-10-07T21:54:02.939Z","type":"message"}
{"nick":"AvianFlu","reason":"Ping timeout: 255 seconds","date":"2011-10-07T21:54:06.213Z","type":"quit"}
{"nick":"AvianFlu","date":"2011-10-07T21:54:24.200Z","type":"join"}
{"nick":"brson","reason":"Ping timeout: 260 seconds","date":"2011-10-07T21:55:09.329Z","type":"quit"}
{"nick":"isaacs","reason":"Quit: isaacs","date":"2011-10-07T22:00:16.659Z","type":"quit"}
{"nick":"piscisaureus","date":"2011-10-07T22:00:24.681Z","type":"join"}
{"nick":"piscisaureus","message":"ryah: igorzi: hey","date":"2011-10-07T22:05:27.876Z","type":"message"}
{"nick":"CIA-53","message":"\u0002libuv:\u000f \u000303Igor Zinkovsky\u000f \u000307\u000f * r\u00029f6024a\u000f \u000310\u000f/ (4 files in 2 dirs)\u0002:\u000f windows: fixes crash in pipe.c - http://git.io/TMzEtQ","date":"2011-10-07T22:05:35.905Z","type":"message"}
{"nick":"igorzi","message":"he","date":"2011-10-07T22:05:36.408Z","type":"message"}
{"nick":"igorzi","message":"hey","date":"2011-10-07T22:05:37.988Z","type":"message"}
{"nick":"piscisaureus","message":"did you guys agree that uv_pipe_t.ipc is public?","date":"2011-10-07T22:05:47.488Z","type":"message"}
{"nick":"piscisaureus","message":"it seems that node relies on it but uv-win doesn't touch it","date":"2011-10-07T22:06:03.660Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: yeah, i just fixed it.. i didn't realize that it hung off public uv_pipe_t","date":"2011-10-07T22:06:33.928Z","type":"message"}
{"nick":"piscisaureus","message":"ah ok","date":"2011-10-07T22:06:49.502Z","type":"message"}
{"nick":"piscisaureus","message":"that's japj's bug that ryan mentioned earlier","date":"2011-10-07T22:07:01.844Z","type":"message"}
{"nick":"igorzi","message":"yep, i just tracked it down too","date":"2011-10-07T22:07:15.277Z","type":"message"}
{"nick":"piscisaureus","message":"ok cool","date":"2011-10-07T22:07:40.550Z","type":"message"}
{"nick":"igorzi","message":"i also updated test-ipc to check for uv_pipe_t.ipc","date":"2011-10-07T22:09:58.080Z","type":"message"}
{"nick":"piscisaureus","message":"cool","date":"2011-10-07T22:10:13.894Z","type":"message"}
{"nick":"piscisaureus","message":"I'm upgrading libuv in node","date":"2011-10-07T22:10:21.801Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307\u000f * r\u0002a23d8ad\u000f \u000310\u000f/ (9 files in 5 dirs)\u0002:\u000f ","date":"2011-10-07T22:21:07.110Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Upgrade libuv to 9f6024a","date":"2011-10-07T22:21:07.266Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Fixes #1840 - http://git.io/T6fbXg","date":"2011-10-07T22:21:07.266Z","type":"message"}
{"nick":"piscisaureus","message":"AMND","date":"2011-10-07T22:21:18.389Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: oops - sorry","date":"2011-10-07T22:21:20.680Z","type":"message"}
{"nick":"isaacs","date":"2011-10-07T22:21:27.036Z","type":"join"}
{"nick":"piscisaureus","message":"anyway","date":"2011-10-07T22:21:28.222Z","type":"message"}
{"nick":"piscisaureus","message":"[04:28|% 100|+ 234|-  33]: Done","date":"2011-10-07T22:21:45.876Z","type":"message"}
{"nick":"piscisaureus","message":"^-- windows","date":"2011-10-07T22:21:51.362Z","type":"message"}
{"nick":"piscisaureus","message":"I am going to put it on google docs again","date":"2011-10-07T22:22:25.213Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: thanks","date":"2011-10-07T22:22:53.666Z","type":"message"}
{"nick":"ryah","message":"we're down to 6 on unix","date":"2011-10-07T22:23:02.290Z","type":"message"}
{"nick":"ryah","message":"i think i will attempt to port cluster to the new child_process.fork api this weekend","date":"2011-10-07T22:24:07.851Z","type":"message"}
{"nick":"piscisaureus","message":"should not be too hard","date":"2011-10-07T22:24:19.260Z","type":"message"}
{"nick":"isaacs","reason":"Client Quit","date":"2011-10-07T22:25:15.889Z","type":"quit"}
{"nick":"ryah","message":"fleet week in SF is annoying","date":"2011-10-07T22:25:38.859Z","type":"message"}
{"nick":"ryah","message":"they fly figher jets of the city all day","date":"2011-10-07T22:25:45.977Z","type":"message"}
{"nick":"piscisaureus","action":"googles fleet week","date":"2011-10-07T22:25:52.009Z","type":"action"}
{"nick":"ryah","message":"often above the sound barrier - it sets off all the car alarms","date":"2011-10-07T22:26:02.353Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: so, we decided to benchmark the multi-proc server using the test cluster (with and without pending accepts), right? ","date":"2011-10-07T22:34:02.349Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: yeah","date":"2011-10-07T22:34:11.819Z","type":"message"}
{"nick":"piscisaureus","message":"I want to make an informed decision","date":"2011-10-07T22:34:20.813Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: i can run that..","date":"2011-10-07T22:35:41.756Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: can you send me the js code?","date":"2011-10-07T22:35:56.865Z","type":"message"}
{"nick":"piscisaureus","message":"eh, well","date":"2011-10-07T22:36:17.739Z","type":"message"}
{"nick":"piscisaureus","message":"no","date":"2011-10-07T22:36:19.035Z","type":"message"}
{"nick":"piscisaureus","message":"I lost it due to dropbox going haywire","date":"2011-10-07T22:36:27.512Z","type":"message"}
{"nick":"piscisaureus","message":"but it's very easy to create so I can do that","date":"2011-10-07T22:36:40.900Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: ok","date":"2011-10-07T22:36:51.670Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: its just simple/test-child-process-fork2.js and test/fixtures/fork2.js","date":"2011-10-07T22:37:22.297Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: ok, thanks","date":"2011-10-07T22:37:40.838Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: I added created an extra tcp server and sent that","date":"2011-10-07T22:38:12.049Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but I had to hack up node somewhat, maybe you should wait for ryah fixing it","date":"2011-10-07T22:38:30.008Z","type":"message"}
{"nick":"piscisaureus","message":"(basically net.js tries to bind a shared socket again, which fails)","date":"2011-10-07T22:38:52.985Z","type":"message"}
{"nick":"ryah","message":"that should be fixed now","date":"2011-10-07T22:40:13.195Z","type":"message"}
{"nick":"ryah","message":"test-child-process-fork2.js has a load balancing example","date":"2011-10-07T22:40:43.791Z","type":"message"}
{"nick":"igorzi","message":"yep, got it","date":"2011-10-07T22:41:30.628Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: ryah: errors sheet is updated","date":"2011-10-07T22:46:01.781Z","type":"message"}
{"nick":"erickt","message":"Would anyone be interested in a patch that removes \"-mmacosx-version-min=10.4\" from the common.gypi? It's causing the gyp build on osx to break","date":"2011-10-07T22:48:18.107Z","type":"message"}
{"nick":"erickt","message":"the problem is that the kqueues support for watching file events requires 10.6, but we'll never use it because we're compiling for 10.4 compatibility","date":"2011-10-07T22:49:48.820Z","type":"message"}
{"nick":"AvianFlu_","date":"2011-10-07T22:52:03.406Z","type":"join"}
{"nick":"AvianFlu","reason":"Disconnected by services","date":"2011-10-07T22:54:00.410Z","type":"quit"}
{"nick":"AvianFlu_","new_nick":"AvianFlu","date":"2011-10-07T22:54:03.626Z","type":"nick"}
{"nick":"igorzi","message":"piscisaureus: can you pls send the pointer to the errors sheet again?","date":"2011-10-07T22:54:16.389Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: ryah: i'm probably missing something simple, but is there a way to create http server given a net server (in the child process)?","date":"2011-10-07T23:01:30.227Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: what I did is:","date":"2011-10-07T23:03:29.283Z","type":"message"}
{"nick":"piscisaureus","message":"var server = net.createServer(function() { ... });","date":"2011-10-07T23:03:29.637Z","type":"message"}
{"nick":"piscisaureus","message":"server._handle = whatever_was_received;","date":"2011-10-07T23:03:29.638Z","type":"message"}
{"nick":"piscisaureus","message":"server.listen(80);","date":"2011-10-07T23:03:29.638Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but ryah may have changed it a little","date":"2011-10-07T23:03:37.342Z","type":"message"}
{"nick":"piscisaureus","message":"Imho we should not give the user a raw handle but a suitable stream type instead","date":"2011-10-07T23:04:05.693Z","type":"message"}
{"nick":"brson","date":"2011-10-07T23:11:37.455Z","type":"join"}
{"nick":"ryah","message":"igorzi: i haven't thought of how to make an http server yet","date":"2011-10-07T23:25:08.196Z","type":"message"}
{"nick":"ryah","message":"igorzi: but i'll do that now..","date":"2011-10-07T23:25:12.930Z","type":"message"}
{"nick":"piscisaureus","message":"hmm. I now realize that my answer was totally inadequate","date":"2011-10-07T23:26:56.817Z","type":"message"}
{"nick":"piscisaureus","message":"sorry","date":"2011-10-07T23:27:02.448Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: igorzi: maybe it is not a bad idea to give the raw wrap to the user after all","date":"2011-10-07T23:28:05.745Z","type":"message"}
{"nick":"piscisaureus","message":"and the user should just do (new Server).listen(wrap);","date":"2011-10-07T23:28:37.001Z","type":"message"}
{"nick":"ryah","message":"yeah..","date":"2011-10-07T23:28:49.403Z","type":"message"}
{"nick":"piscisaureus","message":"although it may be painful to explain what a wrap is","date":"2011-10-07T23:28:52.045Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: i think that's a good idea","date":"2011-10-07T23:28:56.278Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: we can just call it a handle","date":"2011-10-07T23:29:02.068Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: the only gotcha for users is that you send a stream and then receive a handle","date":"2011-10-07T23:29:27.712Z","type":"message"}
{"nick":"ryah","message":"this will all be wrapped up with a better API anyway","date":"2011-10-07T23:30:00.896Z","type":"message"}
{"nick":"ryah","message":"trying to guess if the recved handle is an http server or tcp server is painful...","date":"2011-10-07T23:30:22.850Z","type":"message"}
{"nick":"piscisaureus","message":"yeah","date":"2011-10-07T23:30:29.690Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: did you post the link to the error spreadsheet?","date":"2011-10-07T23:31:30.846Z","type":"message"}
{"nick":"piscisaureus","message":"I would be tempted to expose a stream.getHandle() function but I don't want users messing with that","date":"2011-10-07T23:31:35.372Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: docs.google.com","date":"2011-10-07T23:31:39.170Z","type":"message"}
{"nick":"ryah","message":"oh thanks","date":"2011-10-07T23:31:52.630Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus: but your code (that you pasted above) should also work with http server, shouldn't it?","date":"2011-10-07T23:32:33.167Z","type":"message"}
{"nick":"piscisaureus","message":"ryah: you'd need a 2-layered approach","date":"2011-10-07T23:32:52.645Z","type":"message"}
{"nick":"piscisaureus","message":"Something like","date":"2011-10-07T23:33:34.342Z","type":"message"}
{"nick":"piscisaureus","message":"server = http.createServer(...)","date":"2011-10-07T23:33:34.504Z","type":"message"}
{"nick":"piscisaureus","message":"server.socket = server.connection = received_stream","date":"2011-10-07T23:33:34.504Z","type":"message"}
{"nick":"piscisaureus","message":"server.listen(80);","date":"2011-10-07T23:33:34.504Z","type":"message"}
{"nick":"piscisaureus","message":"er","date":"2011-10-07T23:33:39.707Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi, not ryah ^","date":"2011-10-07T23:33:46.599Z","type":"message"}
{"nick":"igorzi","message":"currently, it's a handle that gets received, right?  so server._handle should work for now?","date":"2011-10-07T23:34:26.830Z","type":"message"}
{"nick":"piscisaureus","message":"I don't know, ryah changed that","date":"2011-10-07T23:34:47.375Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: in the end `http_server.socket._handle` needs to be set","date":"2011-10-07T23:35:10.329Z","type":"message"}
{"nick":"ryah","message":"igorzi: let me change the api around a bit","date":"2011-10-07T23:35:25.827Z","type":"message"}
{"nick":"igorzi","message":"k, i'll wait","date":"2011-10-07T23:36:03.778Z","type":"message"}
{"nick":"igorzi","message":"ryah: piscisaureus: ctrl+c doesn't stop node anymore","date":"2011-10-07T23:42:28.073Z","type":"message"}
{"nick":"igorzi","message":"is it known?","date":"2011-10-07T23:42:31.796Z","type":"message"}
{"nick":"piscisaureus","message":"hmm","date":"2011-10-07T23:42:44.276Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f \u000303Ryan Dahl\u000f \u000307\u000f * r\u000212486a6\u000f \u000310\u000f/ (4 files in 3 dirs)\u0002:\u000f ","date":"2011-10-07T23:45:36.014Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Change API for sending handles","date":"2011-10-07T23:45:36.165Z","type":"message"}
{"nick":"CIA-53","message":"\u0002node:\u000f Does not support sending net.Server objects only raw TCPWrap objects. - http://git.io/iKti2w","date":"2011-10-07T23:45:36.166Z","type":"message"}
{"nick":"ryah","message":"igorzi: --^","date":"2011-10-07T23:45:37.324Z","type":"message"}
{"nick":"ryah","message":"igorzi: child.send(msg, httpserver._handle)","date":"2011-10-07T23:46:13.592Z","type":"message"}
{"nick":"ryah","message":"igorzi: process.on('message', function(msg, handle) { var s = new http.Server(); s.listen(handle); }","date":"2011-10-07T23:46:48.947Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/issues/1813 <- ctrl+c","date":"2011-10-07T23:49:59.987Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: ctrl+break twice will also kill it","date":"2011-10-07T23:52:07.019Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: but yeah, this should be fixed","date":"2011-10-07T23:52:16.433Z","type":"message"}
{"nick":"piscisaureus","message":"igorzi: here's the culprit: https://github.com/joyent/node/blob/master/src/node.cc#L2407","date":"2011-10-07T23:57:29.596Z","type":"message"}
