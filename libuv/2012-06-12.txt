{"nick":"mmalecki","date":"2012-06-12T00:01:30.085Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-12T00:04:42.312Z","type":"quit"}
{"nick":"mmalecki_","reason":"Ping timeout: 248 seconds","date":"2012-06-12T00:04:50.283Z","type":"quit"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002b27a4cb\u000f \u000310\u000f/ test/simple/test-module-loading.js \u0002:\u000f test-module-loading: convert backslashes to forward slashes - http://git.io/8oLX0A","date":"2012-06-12T00:05:53.870Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: a unix question - how long does it take before","date":"2012-06-12T00:10:17.433Z","type":"message"}
{"nick":"piscisaureus_","message":"net.createConnection(9932, 'www.c9.io') returns ECONNREFUSED ?","date":"2012-06-12T00:10:17.626Z","type":"message"}
{"nick":"piscisaureus_","message":"is it super small","date":"2012-06-12T00:10:31.688Z","type":"message"}
{"nick":"ryah","message":"can we get an os.tempDir() which returns \"/tmp\" ?","date":"2012-06-12T00:10:37.544Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_get_temp_dir?","date":"2012-06-12T00:10:53.711Z","type":"message"}
{"nick":"ryah","message":"and something else on windows?","date":"2012-06-12T00:10:54.435Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: yeah","date":"2012-06-12T00:11:29.922Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah you can also just use process.env.TEMP","date":"2012-06-12T00:11:41.497Z","type":"message"}
{"nick":"ryah","message":"It's kind of annoying that temp files during tests are put in node/test/tmp","date":"2012-06-12T00:11:43.451Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: in general or on my laptop?","date":"2012-06-12T00:11:43.693Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: for you","date":"2012-06-12T00:11:49.226Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: 0.3s","date":"2012-06-12T00:12:20.171Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-12T00:12:20.736Z","type":"quit"}
{"nick":"ryah","message":"piscisaureus_: i dont have that env on unix","date":"2012-06-12T00:12:23.347Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: aha","date":"2012-06-12T00:12:41.666Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: process.env.TEMP || '/tmp'. TEMP is a windows thing afaik","date":"2012-06-12T00:13:04.395Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-12T00:13:11.921Z","type":"message"}
{"nick":"mikeal","date":"2012-06-12T00:13:13.020Z","type":"join"}
{"nick":"piscisaureus_","message":"so I agree that it is not a bad idea","date":"2012-06-12T00:13:21.575Z","type":"message"}
{"nick":"bnoordhuis","message":"getting temp files right (securely) is surprisingly tricky though","date":"2012-06-12T00:13:41.875Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis, well, now that we have \"x\" mode it should be doable","date":"2012-06-12T00:13:57.986Z","type":"message"}
{"nick":"ryah","message":"https://github.com/joyent/node/issues/3407","date":"2012-06-12T00:14:05.218Z","type":"message"}
{"nick":"ryah","message":"go has this method - it's super useful","date":"2012-06-12T00:14:15.367Z","type":"message"}
{"nick":"piscisaureus_","message":"http://msdn.microsoft.com/en-us/library/windows/desktop/aa364992%28v=vs.85%29.aspx","date":"2012-06-12T00:14:20.881Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g.","date":"2012-06-12T00:14:24.143Z","type":"message"}
{"nick":"bnoordhuis","message":"mode x? i thought that died when vga went out of vogue","date":"2012-06-12T00:14:24.670Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, exclusive mode","date":"2012-06-12T00:15:01.149Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002517cea3\u000f \u000310\u000f/ test/pummel/test-net-connect-econnrefused.js \u0002:\u000f test-net-connect-econnrefused: don't take forever to complete - http://git.io/SS56vw","date":"2012-06-12T00:23:24.743Z","type":"message"}
{"nick":"mmalecki_","date":"2012-06-12T00:24:23.825Z","type":"join"}
{"nick":"c4milo","date":"2012-06-12T00:27:18.110Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 244 seconds","date":"2012-06-12T00:27:29.807Z","type":"quit"}
{"nick":"mmalecki_","reason":"Ping timeout: 252 seconds","date":"2012-06-12T00:29:48.067Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: hey","date":"2012-06-12T00:31:17.168Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: does \"vcbuild msi\" work for you?","date":"2012-06-12T00:31:28.085Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi","date":"2012-06-12T00:31:31.840Z","type":"message"}
{"nick":"piscisaureus_","message":": hey","date":"2012-06-12T00:31:37.210Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-06-12T00:31:38.306Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: no","date":"2012-06-12T00:31:41.618Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: there's something broken in the v8 gyp files","date":"2012-06-12T00:31:48.313Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: vcbuild nosnapshot msi works for me","date":"2012-06-12T00:31:57.079Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm.. how's wix connected to gyp?","date":"2012-06-12T00:32:40.618Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: oh, is wix broken ?","date":"2012-06-12T00:32:51.456Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_:; yep, i'm getting:","date":"2012-06-12T00:33:03.798Z","type":"message"}
{"nick":"igorzi","message":"Unresolved reference to symbol 'WixComponentGroup:Product.Generated' in section 'Product:*'","date":"2012-06-12T00:33:04.328Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: it goes away if i remove this: https://github.com/joyent/node/blob/master/tools/msvs/msi/product.wxs#L129","date":"2012-06-12T00:33:22.812Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: a sec, I am retrying","date":"2012-06-12T00:34:07.765Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: it would surprise me tho - isaac managed to build 0.7.10 today","date":"2012-06-12T00:34:23.376Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yes, works for me","date":"2012-06-12T00:35:04.312Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: maybe a difference in wix tools.. do you know which version of wix you got?","date":"2012-06-12T00:35:09.681Z","type":"message"}
{"nick":"piscisaureus_","message":"D:\\node4>candle","date":"2012-06-12T00:35:28.798Z","type":"message"}
{"nick":"piscisaureus_","message":"Microsoft (R) Windows Installer Xml Compiler version 3.5.2519.0","date":"2012-06-12T00:35:29.000Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm, i got 3.6","date":"2012-06-12T00:35:42.403Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: if you say that this line is bogus, be my guest and drop it :-)","date":"2012-06-12T00:35:59.046Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: let me verify first :)","date":"2012-06-12T00:36:25.785Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-06-12T00:41:21.032Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis: on unix, is it legal to kill a process twice ?","date":"2012-06-12T00:53:14.777Z","type":"message"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2012-06-12T00:55:19.176Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes and no","date":"2012-06-12T00:57:01.435Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you can send a signal twice, no problem, but if the process is already dead you'll get ESRCH","date":"2012-06-12T00:57:25.284Z","type":"message"}
{"nick":"piscisaureus_","message":"right, ok","date":"2012-06-12T00:57:33.550Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks","date":"2012-06-12T00:57:34.946Z","type":"message"}
{"nick":"bnoordhuis","message":"already dead means zombie mode","date":"2012-06-12T00:57:35.524Z","type":"message"}
{"nick":"piscisaureus_","message":"somehow I get EPERM when I try to kill python","date":"2012-06-12T01:01:03.926Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you're trying to kill a process that you don't own (and you're not root)","date":"2012-06-12T01:09:27.184Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: well, I am admin and UAC is off. Also, I jus spawned python myself","date":"2012-06-12T01:10:10.682Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, windows","date":"2012-06-12T01:10:23.886Z","type":"message"}
{"nick":"isaacs","message":"igorzi, piscisaureus_: I build it with `vcbuild msi release nosnapshot`","date":"2012-06-12T01:14:05.355Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-12T01:14:14.848Z","type":"message"}
{"nick":"piscisaureus_","message":"mksnapshot is broken","date":"2012-06-12T01:14:18.719Z","type":"message"}
{"nick":"pietern","reason":"Quit: pietern","date":"2012-06-12T01:15:28.497Z","type":"quit"}
{"nick":"isaacs","message":"that's a sham","date":"2012-06-12T01:16:38.293Z","type":"message"}
{"nick":"isaacs","message":"e","date":"2012-06-12T01:16:39.086Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I think there is a race in the child_process.exec timeout/overflow handling","date":"2012-06-12T01:20:51.696Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if the child exits normally just before it times out, or the buffer overflows","date":"2012-06-12T01:21:25.696Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: then child_process.js tries to kill it","date":"2012-06-12T01:21:41.312Z","type":"message"}
{"nick":"piscisaureus_","message":"but this means it might get ESRC","date":"2012-06-12T01:21:49.046Z","type":"message"}
{"nick":"piscisaureus_","message":"and then throw from child_process.js, which is not catchable","date":"2012-06-12T01:22:02.498Z","type":"message"}
{"nick":"piscisaureus_","message":"it's also rather lame that an exec-ed process can emit error","date":"2012-06-12T01:26:01.181Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: noted","date":"2012-06-12T01:27:49.970Z","type":"message"}
{"nick":"bnoordhuis","message":"but i'm off to bed :)","date":"2012-06-12T01:28:03.390Z","type":"message"}
{"nick":"piscisaureus_","message":"alright","date":"2012-06-12T01:28:07.857Z","type":"message"}
{"nick":"piscisaureus_","message":"I as going to say let's fire the guy","date":"2012-06-12T01:28:16.329Z","type":"message"}
{"nick":"bnoordhuis","reason":"Ping timeout: 265 seconds","date":"2012-06-12T01:34:34.442Z","type":"quit"}
{"nick":"abraxas","date":"2012-06-12T01:55:20.329Z","type":"join"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-06-12T02:04:37.494Z","type":"quit"}
{"nick":"erickt","reason":"Ping timeout: 248 seconds","date":"2012-06-12T02:24:34.283Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-12T02:25:00.658Z","type":"quit"}
{"nick":"abraxas","date":"2012-06-12T02:25:15.880Z","type":"join"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-06-12T02:30:43.371Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-12T02:38:57.108Z","type":"quit"}
{"nick":"Aria","date":"2012-06-12T02:44:00.206Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-12T02:45:57.086Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-06-12T03:07:33.581Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-06-12T03:09:07.612Z","type":"join"}
{"nick":"erickt","date":"2012-06-12T03:13:10.108Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-12T03:24:16.743Z","type":"quit"}
{"nick":"erickt","date":"2012-06-12T03:30:41.108Z","type":"join"}
{"nick":"erickt_","date":"2012-06-12T03:33:52.181Z","type":"join"}
{"nick":"erickt","reason":"Read error: Connection reset by peer","date":"2012-06-12T03:33:52.382Z","type":"quit"}
{"nick":"erickt_","new_nick":"erickt","date":"2012-06-12T03:33:52.624Z","type":"nick"}
{"nick":"erickt","reason":"Read error: Connection reset by peer","date":"2012-06-12T03:36:03.318Z","type":"quit"}
{"nick":"erickt","date":"2012-06-12T03:36:11.182Z","type":"join"}
{"nick":"brson","date":"2012-06-12T03:38:29.072Z","type":"join"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-06-12T04:23:08.047Z","type":"quit"}
{"nick":"benvie","date":"2012-06-12T04:53:21.688Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-12T05:06:47.858Z","type":"quit"}
{"nick":"isaacs","date":"2012-06-12T05:16:00.095Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-12T05:17:26.210Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-12T05:20:00.039Z","type":"join"}
{"nick":"TheJH","date":"2012-06-12T05:21:14.114Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 240 seconds","date":"2012-06-12T05:26:52.957Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-06-12T05:49:36.156Z","type":"quit"}
{"nick":"AvianFlu","reason":"Quit: This computer has gone to sleep","date":"2012-06-12T05:58:49.498Z","type":"quit"}
{"nick":"felixge","date":"2012-06-12T06:02:51.493Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-06-12T06:02:51.694Z","type":"quit"}
{"nick":"felixge","date":"2012-06-12T06:02:51.694Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-12T06:11:10.110Z","type":"quit"}
{"nick":"japj","date":"2012-06-12T06:19:34.195Z","type":"join"}
{"nick":"japj","message":"ircretary: ask piscisaureus_ if he recently did a clean build of nodejs master on windows?","date":"2012-06-12T06:21:07.585Z","type":"message"}
{"nick":"ircretary","message":"japj: I'm not sure what to do with that command.  Ask for help in PM.","date":"2012-06-12T06:21:07.788Z","type":"message"}
{"nick":"japj","message":"ircretary: tell piscisaureus_ did you recently do a clean build of nodejs master on windows?","date":"2012-06-12T06:21:29.528Z","type":"message"}
{"nick":"ircretary","message":"japj: I'll be sure to tell piscisaureus_","date":"2012-06-12T06:21:29.729Z","type":"message"}
{"nick":"japj","message":"ircretary: tell isaacs a windows build slave for travis might be usefull for node ;)","date":"2012-06-12T06:22:10.061Z","type":"message"}
{"nick":"ircretary","message":"japj: I'll be sure to tell isaacs","date":"2012-06-12T06:22:10.260Z","type":"message"}
{"nick":"japj","reason":"Remote host closed the connection","date":"2012-06-12T06:22:26.654Z","type":"quit"}
{"nick":"brson","date":"2012-06-12T06:45:26.930Z","type":"join"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-06-12T06:50:55.199Z","type":"quit"}
{"nick":"rendar","date":"2012-06-12T07:31:20.754Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-06-12T07:32:34.630Z","type":"quit"}
{"nick":"igorzi","reason":"Ping timeout: 245 seconds","date":"2012-06-12T08:19:06.267Z","type":"quit"}
{"nick":"saghul","reason":"Read error: Operation timed out","date":"2012-06-12T08:23:07.269Z","type":"quit"}
{"nick":"saghul","date":"2012-06-12T08:24:46.978Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-12T09:05:29.550Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-12T10:54:57.680Z","type":"join"}
{"nick":"hij1nx","reason":"Excess Flood","date":"2012-06-12T10:55:34.681Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-12T10:55:55.251Z","type":"join"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-12T11:04:51.191Z","type":"quit"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-06-12T11:19:48.404Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-12T11:37:01.390Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-12T11:38:38.779Z","type":"join"}
{"nick":"ira","date":"2012-06-12T11:42:42.974Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-06-12T11:43:11.965Z","type":"join"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-12T12:41:34.592Z","type":"quit"}
{"nick":"felixge","date":"2012-06-12T12:53:36.980Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-06-12T12:53:36.980Z","type":"quit"}
{"nick":"felixge","date":"2012-06-12T12:53:36.980Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: heya","date":"2012-06-12T13:05:24.903Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: don't you think that .readFile(Sync) logic is kindof borked","date":"2012-06-12T13:05:40.736Z","type":"message"}
{"nick":"indutny","message":"I just read the code and it's really vulnerable to race conditions","date":"2012-06-12T13:06:03.743Z","type":"message"}
{"nick":"\\toothrot","date":"2012-06-12T13:06:16.029Z","type":"join"}
{"nick":"indutny","message":"like file may be changed between fs.stat call and reading it","date":"2012-06-12T13:06:17.252Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: that's not the only thing wrong with it...","date":"2012-06-12T13:06:37.080Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/joyent/node/pull/3414","date":"2012-06-12T13:06:44.145Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: indeed, but it's really related to this \"optimization\"","date":"2012-06-12T13:07:01.769Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: the use of fs.stat is indeed subject to races with concurrent writers","date":"2012-06-12T13:07:25.968Z","type":"message"}
{"nick":"toothr","reason":"Ping timeout: 240 seconds","date":"2012-06-12T13:07:53.113Z","type":"quit"}
{"nick":"bnoordhuis","message":"but it's not really an issue if the writer enlarges the file","date":"2012-06-12T13:08:05.781Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: indeed, however there'll be always some race conditions, if we won't lock file (which is possible only on BSD)","date":"2012-06-12T13:08:08.005Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, file locking...","date":"2012-06-12T13:08:23.514Z","type":"message"}
{"nick":"bnoordhuis","message":"you know file locks are opt-in, right?","date":"2012-06-12T13:08:32.954Z","type":"message"}
{"nick":"indutny","message":"what do you mean by opt-in?","date":"2012-06-12T13:08:49.693Z","type":"message"}
{"nick":"bnoordhuis","message":"it only works if all readers and writers apply locks","date":"2012-06-12T13:09:09.197Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ah, right","date":"2012-06-12T13:09:17.000Z","type":"message"}
{"nick":"indutny","message":"I forgot this","date":"2012-06-12T13:09:25.282Z","type":"message"}
{"nick":"bnoordhuis","message":"re fs.stat, if the writer grows the file, we'll just do a partial read, no biggie","date":"2012-06-12T13:09:58.825Z","type":"message"}
{"nick":"bnoordhuis","message":"i'll have to check what happens if the file gets truncated","date":"2012-06-12T13:10:13.246Z","type":"message"}
{"nick":"bnoordhuis","message":"if the buffer gets shrunk correspondingly","date":"2012-06-12T13:10:27.687Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I think it'll hang","date":"2012-06-12T13:11:03.506Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Shigeki Ohtsu\u000f \u000307master\u000f * r\u0002e3a2dd1\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: fix fs.readFileSync to work on real empty file - http://git.io/WkmDmg","date":"2012-06-12T13:11:17.830Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Shigeki Ohtsu\u000f \u000307master\u000f * r\u00024eb2804\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: fix typo in fs.readFile of lying size=0 stat - http://git.io/Rs2daA","date":"2012-06-12T13:11:19.032Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: https://github.com/shigeki/node/blob/191c913d833251d956e6ce09eda7ca8dd896713a/lib/fs.js#L224","date":"2012-06-12T13:11:19.823Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: while .readFile() will just return error","date":"2012-06-12T13:12:50.711Z","type":"message"}
{"nick":"indutny","message":"well, this is an **edge case**","date":"2012-06-12T13:13:09.665Z","type":"message"}
{"nick":"indutny","message":"but it's still possible","date":"2012-06-12T13:13:15.236Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-06-12T13:13:18.363Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm yes, looks like it'll go in an infinite loop","date":"2012-06-12T13:16:29.497Z","type":"message"}
{"nick":"indutny","message":"indeed","date":"2012-06-12T13:24:55.396Z","type":"message"}
{"nick":"indutny","message":"is it supposed to give us some sort of dominance in vert.x competition","date":"2012-06-12T13:29:00.439Z","type":"message"}
{"nick":"indutny","message":"which I decline to exist :)","date":"2012-06-12T13:29:09.035Z","type":"message"}
{"nick":"bnoordhuis","message":"it seemed like low-hanging fruit at the time","date":"2012-06-12T13:32:31.099Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-06-12T13:37:47.022Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-06-12T13:38:26.185Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-06-12T13:39:04.322Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: https://github.com/bnoordhuis/node/commit/8f1aaee","date":"2012-06-12T13:41:04.770Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yeah, but what about .readFileSync?","date":"2012-06-12T13:41:34.474Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: .readFile fix lgtm","date":"2012-06-12T13:41:38.980Z","type":"message"}
{"nick":"c4milo","date":"2012-06-12T13:42:38.940Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: patience, young grashopper. everything in small steps :)","date":"2012-06-12T13:44:34.476Z","type":"message"}
{"nick":"indutny","message":"hahaha, right","date":"2012-06-12T13:44:41.319Z","type":"message"}
{"nick":"indutny","message":"actually .readFile won't loop","date":"2012-06-12T13:44:46.036Z","type":"message"}
{"nick":"indutny","message":"ah, no, it'll","date":"2012-06-12T13:45:02.147Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: it uses pread() and that returns 0 if you try to read past end of file, it won't error","date":"2012-06-12T13:46:53.227Z","type":"message"}
{"nick":"indutny","message":"yeah, I got it now","date":"2012-06-12T13:47:02.500Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307v0.6\u000f * r\u0002bb2ce1a\u000f \u000310\u000f/ lib/child_process.js \u0002:\u000f cluster: don't silently drop messages when the write queue gets big - http://git.io/Jci6fg","date":"2012-06-12T13:58:30.033Z","type":"message"}
{"nick":"isaacs","date":"2012-06-12T14:04:10.935Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: https://github.com/bnoordhuis/node/commit/e6c4619","date":"2012-06-12T14:06:36.938Z","type":"message"}
{"nick":"xaq","date":"2012-06-12T14:12:18.897Z","type":"join"}
{"nick":"rendar","reason":"Ping timeout: 265 seconds","date":"2012-06-12T14:12:55.487Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs: https://github.com/bnoordhuis/node/compare/master%5E%5E...master","date":"2012-06-12T14:16:39.515Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: lgtm","date":"2012-06-12T14:17:42.476Z","type":"message"}
{"nick":"bnoordhuis","message":"cool, i'll land it","date":"2012-06-12T14:17:49.964Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00028f1aaee\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: fix infinite loop in fs.readFile() - http://git.io/MGTdbA","date":"2012-06-12T14:18:02.171Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002e6c4619\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: fix infinite loop in fs.readFileSync() - http://git.io/YMZlKQ","date":"2012-06-12T14:18:02.445Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: test would be nice","date":"2012-06-12T14:18:35.870Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: how does the loop happen?","date":"2012-06-12T14:18:43.670Z","type":"message"}
{"nick":"indutny","message":"isaacs: I'm afraid that it's not really reproducible","date":"2012-06-12T14:18:53.402Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i'd be hard-pressed to write a reliable test for that :)","date":"2012-06-12T14:19:12.701Z","type":"message"}
{"nick":"isaacs","message":"oic","date":"2012-06-12T14:19:29.551Z","type":"message"}
{"nick":"isaacs","message":"so the bytesRead returns 0 even though we knew the size","date":"2012-06-12T14:19:37.509Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-06-12T14:19:45.330Z","type":"message"}
{"nick":"bnoordhuis","message":"stat'ing the file size is a nice optimization but you shouldn't trust it blindly","date":"2012-06-12T14:20:28.069Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: in that case, if size !== 0, you should also truncate buffer to pos","date":"2012-06-12T14:20:33.131Z","type":"message"}
{"nick":"rendar","date":"2012-06-12T14:21:04.498Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: otherwise we're returning garbage in that case.","date":"2012-06-12T14:21:23.140Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: yes, i was getting to that :)","date":"2012-06-12T14:21:32.171Z","type":"message"}
{"nick":"indutny","message":"is this week a release week?","date":"2012-06-12T14:22:20.312Z","type":"message"}
{"nick":"indutny","message":"isaacs: ^","date":"2012-06-12T14:22:43.686Z","type":"message"}
{"nick":"isaacs","message":"indutny: yes, i'd like to get 0.7.11 out asap.  we're waiting on ev_* shims in libuv, and landing listen({fd:#})","date":"2012-06-12T14:23:19.262Z","type":"message"}
{"nick":"isaacs","message":"indutny: since 0.7.10 went out yesterday, this is a double-release week :)","date":"2012-06-12T14:23:53.861Z","type":"message"}
{"nick":"indutny","message":"ook","date":"2012-06-12T14:24:36.395Z","type":"message"}
{"nick":"bnoordhuis","message":"is setting `buf.length = n` considered bad style?","date":"2012-06-12T14:26:51.084Z","type":"message"}
{"nick":"TheJH","date":"2012-06-12T14:27:24.191Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: can't you just return a slice?","date":"2012-06-12T14:27:39.443Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i mean, i do that all the time with arrays, i guess.","date":"2012-06-12T14:27:49.385Z","type":"message"}
{"nick":"isaacs","message":"but usually only to set it to 0","date":"2012-06-12T14:27:59.506Z","type":"message"}
{"nick":"isaacs","message":"oh! also, yes, we can test this, probably, by shimming fs.read so that it takes 100ms longer","date":"2012-06-12T14:28:30.170Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i guess that's better","date":"2012-06-12T14:28:35.411Z","type":"message"}
{"nick":"bnoordhuis","message":"also... out/Release/node -e 'Buffer(Buffer(2), 0, 2)' -> node: ../src/node_object_wrap.h:52: static T* node::ObjectWrap::Unwrap(v8::Handle<v8::Object>) [with T = node::Buffer]: Assertion `handle->InternalFieldCount() > 0' failed.","date":"2012-06-12T14:28:53.010Z","type":"message"}
{"nick":"isaacs","message":"weird","date":"2012-06-12T14:29:20.715Z","type":"message"}
{"nick":"isaacs","message":"that looks like a bug","date":"2012-06-12T14:29:27.049Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm going to force-push the buffer slice thing, don't want to clutter up the history too much","date":"2012-06-12T14:34:56.418Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002408bfec\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: fix infinite loop in fs.readFile() - http://git.io/ZDSIjA","date":"2012-06-12T14:35:16.150Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00020385b17\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: fix infinite loop in fs.readFileSync() - http://git.io/xJtH1A","date":"2012-06-12T14:35:16.547Z","type":"message"}
{"nick":"indutny","message":"oh noe","date":"2012-06-12T14:36:55.206Z","type":"message"}
{"nick":"indutny","message":"s/noe/noes","date":"2012-06-12T14:37:00.599Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: can you please assist me, what is max_int in C/C++? Is there any constant","date":"2012-06-12T14:38:37.393Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: INT_MAX from limits.h","date":"2012-06-12T14:39:01.716Z","type":"message"}
{"nick":"bnoordhuis","message":"what do you need it for?","date":"2012-06-12T14:39:07.153Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-06-12T14:39:12.049Z","type":"message"}
{"nick":"indutny","message":"for sort","date":"2012-06-12T14:39:19.117Z","type":"message"}
{"nick":"indutny","message":"int i = INT_MAX","date":"2012-06-12T14:40:07.465Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: there's also std::numeric_limits<int>::max() if you want go all c++-y","date":"2012-06-12T14:40:13.660Z","type":"message"}
{"nick":"bnoordhuis","message":"but INT_MAX is shorter","date":"2012-06-12T14:40:43.216Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 246 seconds","date":"2012-06-12T14:40:52.196Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: out of curiosity, how does INT_MAX come into play when sorting?","date":"2012-06-12T14:41:27.281Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well, I'm allocating registers and need some sort of maximum range  value","date":"2012-06-12T14:41:54.846Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: Later I'll choose a register with a minimal value","date":"2012-06-12T14:42:14.005Z","type":"message"}
{"nick":"AvianFlu","date":"2012-06-12T14:42:31.734Z","type":"join"}
{"nick":"bnoordhuis","message":"the llvm blog had an interesting blog post about register allocation sometime ago","date":"2012-06-12T14:42:47.607Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well, mraleph recommended a good article","date":"2012-06-12T14:43:08.903Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: http://www.christianwimmer.at/Publications/Wimmer04a/","date":"2012-06-12T14:43:26.008Z","type":"message"}
{"nick":"bnoordhuis","message":"http://blog.llvm.org/2011/09/greedy-register-allocation-in-llvm-30.html <- that one","date":"2012-06-12T14:43:29.580Z","type":"message"}
{"nick":"bnoordhuis","message":"ah right, i think i've read that paper","date":"2012-06-12T14:43:53.798Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: nice!","date":"2012-06-12T14:44:29.364Z","type":"message"}
{"nick":"indutny","message":"I'm really blocked by this stuff atm, actually","date":"2012-06-12T14:44:51.404Z","type":"message"}
{"nick":"tjfontaine","message":"llvm++","date":"2012-06-12T14:44:57.524Z","type":"message"}
{"nick":"kohai","message":"llvm has 1 beer","date":"2012-06-12T14:44:57.728Z","type":"message"}
{"nick":"indutny","message":"had already tried two different implementations","date":"2012-06-12T14:45:01.717Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-12T14:49:59.648Z","type":"join"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002048422d\u000f \u000310\u000f/ (src/win/winapi.c src/win/winapi.h)\u0002:\u000f windows: fix some comments - http://git.io/i_ugig","date":"2012-06-12T15:01:21.523Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002b7e150e\u000f \u000310\u000f/ src/win/process.c \u0002:\u000f windows: uv_kill() should report UV_ESRC when the victim is already dead - http://git.io/oPCIFQ","date":"2012-06-12T15:01:21.933Z","type":"message"}
{"nick":"hij1nx_","date":"2012-06-12T15:01:41.273Z","type":"join"}
{"nick":"hij1nx","reason":"Ping timeout: 265 seconds","date":"2012-06-12T15:03:40.442Z","type":"quit"}
{"nick":"hij1nx_","new_nick":"hij1nx","date":"2012-06-12T15:03:41.181Z","type":"nick"}
{"nick":"piscisaureus_","message":"any objections to upgrading libuv in node","date":"2012-06-12T15:06:50.263Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-06-12T15:06:51.354Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis, indutny ?","date":"2012-06-12T15:06:55.141Z","type":"message"}
{"nick":"indutny","message":"+1","date":"2012-06-12T15:07:58.848Z","type":"message"}
{"nick":"indutny","message":"what about that uv_read_start issue?","date":"2012-06-12T15:08:07.686Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-12T15:08:09.058Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#406 (master - b7e150e : Bert Belder): The build passed.","date":"2012-06-12T15:08:09.252Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/84f0d96ae04b...b7e150ee917c","date":"2012-06-12T15:08:09.252Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1602138","date":"2012-06-12T15:08:09.252Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-12T15:08:09.252Z","type":"part"}
{"nick":"piscisaureus_","message":"I will treat bnoordhuis' silence as a yes","date":"2012-06-12T15:08:13.953Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: we need some fixes for it","date":"2012-06-12T15:08:22.423Z","type":"message"}
{"nick":"loladiro","date":"2012-06-12T15:08:22.677Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002b615077\u000f \u000310\u000f/ (33 files in 7 dirs)\u0002:\u000f uv: upgrade to b7e150ee - http://git.io/Imn3OQ","date":"2012-06-12T15:08:29.383Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: even if they'll be trivial and incomplete","date":"2012-06-12T15:08:31.664Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yes. I need 23 other fixes as well","date":"2012-06-12T15:08:45.006Z","type":"message"}
{"nick":"piscisaureus_","message":"this helps","date":"2012-06-12T15:08:46.814Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-06-12T15:10:26.095Z","type":"message"}
{"nick":"indutny","message":"exactly 23?","date":"2012-06-12T15:10:30.940Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ^","date":"2012-06-12T15:10:32.397Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yes, actually :-)","date":"2012-06-12T15:10:44.759Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: well, I have 23 tests to fix, that is :-0","date":"2012-06-12T15:11:01.088Z","type":"message"}
{"nick":"indutny","message":"hahahaha","date":"2012-06-12T15:11:15.677Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-12T15:11:55.045Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-12T15:12:00.899Z","type":"join"}
{"nick":"toothr","date":"2012-06-12T15:12:45.847Z","type":"join"}
{"nick":"\\toothrot","reason":"Ping timeout: 240 seconds","date":"2012-06-12T15:14:53.043Z","type":"quit"}
{"nick":"pietern","date":"2012-06-12T15:15:31.453Z","type":"join"}
{"nick":"hij1nx","reason":"Quit: hij1nx","date":"2012-06-12T15:17:29.103Z","type":"quit"}
{"nick":"\\toothrot","date":"2012-06-12T15:22:45.671Z","type":"join"}
{"nick":"toothr","reason":"Ping timeout: 240 seconds","date":"2012-06-12T15:23:53.064Z","type":"quit"}
{"nick":"benvie","date":"2012-06-12T15:39:55.162Z","type":"quit"}
{"nick":"erickt","date":"2012-06-12T15:48:02.086Z","type":"join"}
{"nick":"brson","date":"2012-06-12T15:55:19.286Z","type":"join"}
{"nick":"erickt","reason":"Remote host closed the connection","date":"2012-06-12T15:55:42.745Z","type":"quit"}
{"nick":"erickt","date":"2012-06-12T15:56:02.986Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: yt?","date":"2012-06-12T16:04:49.618Z","type":"message"}
{"nick":"isaacs","message":"yo","date":"2012-06-12T16:05:09.251Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: nvm, I am going to comment on the issue anyway","date":"2012-06-12T16:05:36.816Z","type":"message"}
{"nick":"isaacs","message":"heh :)","date":"2012-06-12T16:05:46.087Z","type":"message"}
{"nick":"creationix","date":"2012-06-12T16:11:18.315Z","type":"part"}
{"nick":"piscisaureus_","message":"isaacs: https://github.com/joyent/node/issues/3409#issuecomment-6274853","date":"2012-06-12T16:14:26.639Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: so, i'm taking a look at listenfd","date":"2012-06-12T16:19:46.979Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: cool","date":"2012-06-12T16:19:55.404Z","type":"message"}
{"nick":"isaacs","message":"if I create a new TTYWrap, it seems to want to be either readable or not.","date":"2012-06-12T16:19:56.152Z","type":"message"}
{"nick":"isaacs","message":"how strict is that is_readable flag?","date":"2012-06-12T16:20:10.160Z","type":"message"}
{"nick":"mraleph","date":"2012-06-12T16:20:25.960Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: very :-)","date":"2012-06-12T16:20:26.649Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: why ?","date":"2012-06-12T16:20:28.873Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it is either readable or writable","date":"2012-06-12T16:20:41.526Z","type":"message"}
{"nick":"isaacs","message":"well... should the server's fd be readable...?","date":"2012-06-12T16:20:44.423Z","type":"message"}
{"nick":"isaacs","message":"or not?","date":"2012-06-12T16:20:45.689Z","type":"message"}
{"nick":"isaacs","message":"isn't it duplex always?","date":"2012-06-12T16:20:52.395Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: huh, you should never create a new TTYWrap","date":"2012-06-12T16:21:01.806Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: oh - right","date":"2012-06-12T16:21:22.538Z","type":"message"}
{"nick":"isaacs","message":"oh, i completely misread your comment","date":"2012-06-12T16:21:24.376Z","type":"message"}
{"nick":"piscisaureus_","message":"ghe","date":"2012-06-12T16:21:25.001Z","type":"message"}
{"nick":"piscisaureus_","message":"good question","date":"2012-06-12T16:21:27.140Z","type":"message"}
{"nick":"isaacs","message":"TcpWrap, not TtyWrap","date":"2012-06-12T16:21:33.830Z","type":"message"}
{"nick":"isaacs","message":"but yes, if guessHandleType returns 'TTY', then what?","date":"2012-06-12T16:21:43.474Z","type":"message"}
{"nick":"isaacs","message":"i guess we can just throw.","date":"2012-06-12T16:21:47.452Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, TTY handles are not usable, so yeah you could just throw","date":"2012-06-12T16:22:10.812Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-12T16:22:22.965Z","type":"message"}
{"nick":"\\toothrot","new_nick":"toothr","date":"2012-06-12T16:22:23.162Z","type":"nick"}
{"nick":"piscisaureus_","message":"isaacs: I suppose the readability of writability of a tty wrap could be detectable tho... maybe we should add that","date":"2012-06-12T16:22:49.650Z","type":"message"}
{"nick":"piscisaureus_","message":"no hurry tho :-)","date":"2012-06-12T16:22:58.947Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: the pipe_wrap listen({fd}) is pretty straightforward.  i don't actually see any way to bind a TcpWrap to a fd, though...","date":"2012-06-12T16:42:36.159Z","type":"message"}
{"nick":"piscisaureus_","message":"heh","date":"2012-06-12T16:43:02.127Z","type":"message"}
{"nick":"piscisaureus_","message":"there may not be one","date":"2012-06-12T16:43:05.199Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: add an issue to expose uv_tcp_open to libuv","date":"2012-06-12T16:43:41.127Z","type":"message"}
{"nick":"isaacs","message":"is that already in libuv?  or no?","date":"2012-06-12T16:43:53.458Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am sure there are internal methods for it - but it's probably not part of the public api","date":"2012-06-12T16:44:05.440Z","type":"message"}
{"nick":"piscisaureus_","message":"so we just need to expose uv_tcp_open","date":"2012-06-12T16:44:12.336Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-12T16:44:16.511Z","type":"message"}
{"nick":"stephank","date":"2012-06-12T16:45:14.785Z","type":"join"}
{"nick":"isaacs","message":"yeah, no uv_tcp_open in libuv atm","date":"2012-06-12T16:46:51.009Z","type":"message"}
{"nick":"benvie","date":"2012-06-12T16:48:49.211Z","type":"join"}
{"nick":"loladiro","date":"2012-06-12T17:00:07.744Z","type":"join"}
{"nick":"loladiro_","reason":"Ping timeout: 244 seconds","date":"2012-06-12T17:02:04.844Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-06-12T17:08:53.935Z","type":"join"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-06-12T17:10:03.713Z","type":"message"}
{"nick":"piscisaureus_","message":"I fucked something up guys","date":"2012-06-12T17:10:08.132Z","type":"message"}
{"nick":"piscisaureus_","message":"I'm going to have to force push node","date":"2012-06-12T17:10:19.200Z","type":"message"}
{"nick":"isaacs","message":"uh oh","date":"2012-06-12T17:10:31.365Z","type":"message"}
{"nick":"isaacs","message":"what happened?","date":"2012-06-12T17:10:34.016Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I accidentally committed a wrong file together with an uv upgrade","date":"2012-06-12T17:10:48.725Z","type":"message"}
{"nick":"japj","date":"2012-06-12T17:11:02.039Z","type":"join"}
{"nick":"isaacs","message":"can you revert the whole commit and then do it as two commits?","date":"2012-06-12T17:11:08.008Z","type":"message"}
{"nick":"isaacs","message":"ie, how \"wrong\" is the file?","date":"2012-06-12T17:11:18.676Z","type":"message"}
{"nick":"piscisaureus_","message":"well, it's just a test","date":"2012-06-12T17:11:28.879Z","type":"message"}
{"nick":"isaacs","message":"that doesn't sound so bad.  just git rm it and push a fix.","date":"2012-06-12T17:11:57.975Z","type":"message"}
{"nick":"isaacs","message":"force pushes are kind of unpleasant in a shared repo","date":"2012-06-12T17:12:07.331Z","type":"message"}
{"nick":"isaacs","message":"on master anyway","date":"2012-06-12T17:12:21.118Z","type":"message"}
{"nick":"indutny","message":"force pushes make kittens cry","date":"2012-06-12T17:13:35.148Z","type":"message"}
{"nick":"indutny","message":"in my house","date":"2012-06-12T17:13:39.060Z","type":"message"}
{"nick":"indutny","message":"especially when I do rebases","date":"2012-06-12T17:13:44.779Z","type":"message"}
{"nick":"japj","message":"isaacs: hi, I am unable to build node 0.7.10 on windows (from the tar.gz released, aswell as the master git tree)","date":"2012-06-12T17:13:45.487Z","type":"message"}
{"nick":"japj","message":"indutny: oh, how many kittens do you have?","date":"2012-06-12T17:13:57.502Z","type":"message"}
{"nick":"indutny","message":"japj: two","date":"2012-06-12T17:14:02.699Z","type":"message"}
{"nick":"japj","message":"indutny: I have only one cat, and he is from 1993","date":"2012-06-12T17:14:08.875Z","type":"message"}
{"nick":"indutny","message":"one big kitten and one small","date":"2012-06-12T17:14:09.470Z","type":"message"}
{"nick":"indutny","message":"well, my first cat is from 2010","date":"2012-06-12T17:14:20.329Z","type":"message"}
{"nick":"isaacs","message":"japj: add \"nosnapshot\" to the build comand","date":"2012-06-12T17:14:21.389Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.7.10-fix\u000f * r\u0002427662c\u000f \u000310\u000f/ (40 files in 13 dirs)\u0002:\u000f Do not gitignore npm's node_modules - http://git.io/GYXauQ","date":"2012-06-12T17:14:29.163Z","type":"message"}
{"nick":"isaacs","message":"japj: mksnapshot is busted atm","date":"2012-06-12T17:14:29.917Z","type":"message"}
{"nick":"japj","message":"isaacs: is that new? ","date":"2012-06-12T17:14:35.653Z","type":"message"}
{"nick":"japj","message":"ah","date":"2012-06-12T17:14:36.748Z","type":"message"}
{"nick":"isaacs","message":"japj: it's new-ish","date":"2012-06-12T17:14:40.907Z","type":"message"}
{"nick":"japj","message":"I was wondering, since It used to work without any issues","date":"2012-06-12T17:15:00.592Z","type":"message"}
{"nick":"japj","message":"and I got slightly worried ;)","date":"2012-06-12T17:15:13.835Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-12T17:17:17.774Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-12T17:24:40.477Z","type":"join"}
{"nick":"igorzi","date":"2012-06-12T17:30:02.360Z","type":"join"}
{"nick":"paddybyers","date":"2012-06-12T17:32:43.064Z","type":"join"}
{"nick":"isaacs","date":"2012-06-12T17:37:08.834Z","type":"join"}
{"nick":"hij1nx","reason":"Read error: Connection reset by peer","date":"2012-06-12T17:39:13.147Z","type":"quit"}
{"nick":"piscisaureus_","message":"as erik corry just said","date":"2012-06-12T17:40:55.147Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000305Erik Corry: \u000301My God, it's full of slowness!","date":"2012-06-12T17:40:56.637Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000305Erik Corry: \u0003013.9 gives me 6420/s","date":"2012-06-12T17:40:56.839Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000305Erik Corry: \u000301Bleeding edge gives me 5548/s","date":"2012-06-12T17:40:56.839Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000305Erik Corry: \u000301SOMEONE SHOULD FIX THIS\u0003\u000301","date":"2012-06-12T17:40:56.839Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-06-12T17:41:00.309Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- awareness","date":"2012-06-12T17:41:04.876Z","type":"message"}
{"nick":"japj","message":"hehe ;)","date":"2012-06-12T17:41:16.669Z","type":"message"}
{"nick":"japj","message":"is node the new v8 benchmark now?","date":"2012-06-12T17:41:37.935Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't think so","date":"2012-06-12T17:41:47.224Z","type":"message"}
{"nick":"japj","message":"anyway, before I head off to big band rehearsal for the evening.. is the v0.8 milestone list still up to date? https://github.com/joyent/node/issues?milestone=10&page=1&state=open I can have a look at 3099 if it is still relevant for 0.8","date":"2012-06-12T17:42:48.204Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-12T17:43:02.902Z","type":"join"}
{"nick":"isaacs","message":"hahah","date":"2012-06-12T17:43:43.105Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: that's awesome","date":"2012-06-12T17:43:45.255Z","type":"message"}
{"nick":"isaacs","message":"we should make it easier to swap out the v8 that node uses, just so that the v8 team can make sure that all their releases are awesome for us","date":"2012-06-12T17:44:07.827Z","type":"message"}
{"nick":"AvianFlu","message":"yeah, srsly, lol","date":"2012-06-12T17:44:09.097Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Operation timed out","date":"2012-06-12T17:46:20.479Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-12T17:46:47.058Z","type":"join"}
{"nick":"piscisaureus_","message":"it's not hard","date":"2012-06-12T17:48:19.976Z","type":"message"}
{"nick":"piscisaureus_","message":"rm -rf deps/v8","date":"2012-06-12T17:48:23.634Z","type":"message"}
{"nick":"piscisaureus_","message":"ls -s deps/v8 ~/v8-latest","date":"2012-06-12T17:48:39.501Z","type":"message"}
{"nick":"tjfontaine","message":"*ln","date":"2012-06-12T17:48:50.749Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-12T17:48:55.643Z","type":"message"}
{"nick":"piscisaureus_","message":"and reverse the argumetns :-)","date":"2012-06-12T17:49:01.478Z","type":"message"}
{"nick":"tjfontaine","message":"heh that too","date":"2012-06-12T17:49:06.792Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 248 seconds","date":"2012-06-12T17:51:30.271Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-12T17:52:15.914Z","type":"quit"}
{"nick":"TooTallNate","message":"japj: re #3099â€¦ i've been holding off since nobody has been asking for it specifically","date":"2012-06-12T17:52:36.204Z","type":"message"}
{"nick":"TooTallNate","message":"we may push it back to v0.9","date":"2012-06-12T17:52:43.271Z","type":"message"}
{"nick":"dap","date":"2012-06-12T17:56:49.222Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002cbeeea6\u000f \u000310\u000f/ (33 files in 7 dirs)\u0002:\u000f Revert \"uv: upgrade to b7e150ee\" - http://git.io/pizZcQ","date":"2012-06-12T17:57:11.052Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002a55faea\u000f \u000310\u000f/ (32 files in 6 dirs)\u0002:\u000f uv: upgrade to b7e150ee - http://git.io/ygvCqQ","date":"2012-06-12T17:57:11.451Z","type":"message"}
{"nick":"brson","date":"2012-06-12T17:58:30.118Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002486a5b3\u000f \u000310\u000f/ (doc/api/child_process.markdown lib/child_process.js)\u0002:\u000f Fix child_process.kill oddities - http://git.io/5mprZQ","date":"2012-06-12T17:59:11.498Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00023c283f9\u000f \u000310\u000f/ test/pummel/test-exec.js \u0002:\u000f test-exec: make it work on Windows - http://git.io/JIayeA","date":"2012-06-12T17:59:11.717Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ^ can you review the two `reviewme` commits ?","date":"2012-06-12T17:59:33.826Z","type":"message"}
{"nick":"hithere2","date":"2012-06-12T17:59:42.464Z","type":"join"}
{"nick":"TheJH","date":"2012-06-12T18:00:39.429Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: i'm still not convinced that throwing is better than emitting here.","date":"2012-06-12T18:00:42.892Z","type":"message"}
{"nick":"hij1nx","reason":"Read error: Connection reset by peer","date":"2012-06-12T18:01:08.237Z","type":"quit"}
{"nick":"isaacs","message":"it's an error connected to a specific node object.  if there are no listeners, it throws just the same.","date":"2012-06-12T18:01:23.660Z","type":"message"}
{"nick":"hij1nx","date":"2012-06-12T18:01:37.327Z","type":"join"}
{"nick":"isaacs","message":"it seems like it'd be good to at least have the *option* to handle that in the idiomatic node way","date":"2012-06-12T18:01:43.420Z","type":"message"}
{"nick":"loladiro_","date":"2012-06-12T18:03:27.579Z","type":"join"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-06-12T18:05:00.834Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: if that's true, then I think spawn() should also emit","date":"2012-06-12T18:05:29.413Z","type":"message"}
{"nick":"hij1nx","reason":"Read error: Connection reset by peer","date":"2012-06-12T18:05:50.894Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: and `kill` should emit error asynchronously","date":"2012-06-12T18:05:52.704Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: which will make it uncatchable again","date":"2012-06-12T18:06:04.690Z","type":"message"}
{"nick":"isaacs","message":"well, i mean, just change the throw with .emit(\"error\")","date":"2012-06-12T18:06:42.656Z","type":"message"}
{"nick":"isaacs","message":"the try/catch is still valid","date":"2012-06-12T18:06:51.609Z","type":"message"}
{"nick":"loladiro","reason":"Ping timeout: 252 seconds","date":"2012-06-12T18:06:54.047Z","type":"quit"}
{"nick":"loladiro_","new_nick":"loladiro","date":"2012-06-12T18:06:54.934Z","type":"nick"}
{"nick":"isaacs","message":"we throw in ctors, emit in methods","date":"2012-06-12T18:07:38.727Z","type":"message"}
{"nick":"isaacs","message":"but i can see it's an edge case","date":"2012-06-12T18:08:02.861Z","type":"message"}
{"nick":"isaacs","message":"how did v0.6 do it?","date":"2012-06-12T18:08:06.794Z","type":"message"}
{"nick":"isaacs","message":"v0.6 threwq.","date":"2012-06-12T18:08:21.968Z","type":"message"}
{"nick":"isaacs","message":"k.  whatever.  throw is fine, i guess.  lgtm :)","date":"2012-06-12T18:08:29.889Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if that changed, lemme look up the commit","date":"2012-06-12T18:08:47.050Z","type":"message"}
{"nick":"isaacs","message":"i think it might've been changed because of some cluster thing that's no longer relevant here, iirc.","date":"2012-06-12T18:09:06.366Z","type":"message"}
{"nick":"piscisaureus_","message":"https://github.com/joyent/node/commit/5b43c63c88ae191ca3a4b1b3d1a57222593c7f9c","date":"2012-06-12T18:09:54.064Z","type":"message"}
{"nick":"isaacs","message":"5b43c63c yeah","date":"2012-06-12T18:10:19.171Z","type":"message"}
{"nick":"isaacs","message":"sometimes commits are a bit TOO atomic ;)","date":"2012-06-12T18:10:38.606Z","type":"message"}
{"nick":"piscisaureus_","message":"It lacks reasoning","date":"2012-06-12T18:11:07.653Z","type":"message"}
{"nick":"isaacs","message":"i think it was AndreasMadsen's response to my suggestion that some other throws ought to have been error emits","date":"2012-06-12T18:11:54.354Z","type":"message"}
{"nick":"isaacs","message":"and he said, \"What about this one!?\" and i said, \"sure, lgtm\" because in this case the reasoning for throw or emit isn't so clear.","date":"2012-06-12T18:12:31.834Z","type":"message"}
{"nick":"piscisaureus_","message":"It seems I will ahve to fix the test","date":"2012-06-12T18:12:38.375Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I do not agree in this case, as you already noticed","date":"2012-06-12T18:12:49.907Z","type":"message"}
{"nick":"isaacs","message":"hahah","date":"2012-06-12T18:12:53.319Z","type":"message"}
{"nick":"isaacs","message":"and i'm capable of convincing myself in either direction, as you have no doubt noticed ;)","date":"2012-06-12T18:13:07.703Z","type":"message"}
{"nick":"dap","date":"2012-06-12T18:13:27.049Z","type":"join"}
{"nick":"isaacs","message":"in general, emit('error') is better for things that are: 1. tied to a specific object, 2. asynchronously triggered, and 3. outside the control of the programmer.","date":"2012-06-12T18:13:55.199Z","type":"message"}
{"nick":"isaacs","message":"if you call something with the wrong data types, throw immediately.","date":"2012-06-12T18:14:07.611Z","type":"message"}
{"nick":"isaacs","message":"but if something that works most of the time suddenly fails once in a blue moon, that's an event","date":"2012-06-12T18:14:21.080Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T18:14:29.478Z","type":"message"}
{"nick":"isaacs","message":"child.kill('SIGKILL') *usually* works.","date":"2012-06-12T18:14:38.062Z","type":"message"}
{"nick":"isaacs","message":"and it's not really up to you to make it work if it doesn't","date":"2012-06-12T18:14:46.826Z","type":"message"}
{"nick":"isaacs","action":"working on convincing myself the other direction, watch out...","date":"2012-06-12T18:14:56.261Z","type":"action"}
{"nick":"piscisaureus_","message":"well, the question is usually what you would do next","date":"2012-06-12T18:14:57.990Z","type":"message"}
{"nick":"isaacs","message":"in this case, i may want to know that the child didn't get my message.","date":"2012-06-12T18:15:17.205Z","type":"message"}
{"nick":"piscisaureus_","message":"normally in an error situation you would say, \"okay, it's broken, let's clean it up\"","date":"2012-06-12T18:15:22.640Z","type":"message"}
{"nick":"isaacs","message":"ie, sometimes you kill('SIGUSR2') to get it to do something","date":"2012-06-12T18:15:29.045Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T18:15:34.093Z","type":"message"}
{"nick":"piscisaureus_","message":"otherwise I would have made kill ignore it altogether :-)","date":"2012-06-12T18:15:44.283Z","type":"message"}
{"nick":"isaacs","message":"if i get a ESRC there, i want to know about it, and it's tied to an object, somewhat outside of my control, etc.","date":"2012-06-12T18:15:45.053Z","type":"message"}
{"nick":"isaacs","message":"that's a message.","date":"2012-06-12T18:15:48.976Z","type":"message"}
{"nick":"isaacs","message":"try/catch feels wrong here.","date":"2012-06-12T18:15:52.471Z","type":"message"}
{"nick":"isaacs","message":"and for exec()'s use-case, emit('error') is just as good, since nothing will be listening, and it'll throw","date":"2012-06-12T18:16:13.574Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so the problem is, how would you clean up your child process when error happens","date":"2012-06-12T18:16:19.569Z","type":"message"}
{"nick":"isaacs","message":"maybe i'd have to know to spawn a new one, or delete some files, or whatever.","date":"2012-06-12T18:16:31.306Z","type":"message"}
{"nick":"isaacs","message":"that's app-specific","date":"2012-06-12T18:16:33.701Z","type":"message"}
{"nick":"isaacs","message":"but *that* child is no longer doing his job as i expect.","date":"2012-06-12T18:16:41.414Z","type":"message"}
{"nick":"isaacs","message":"\"doing his job\" might be shutting down","date":"2012-06-12T18:16:48.576Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well, yeah, maybe you;d want to kill the process :-)","date":"2012-06-12T18:16:48.980Z","type":"message"}
{"nick":"isaacs","message":"but it might also be something else.","date":"2012-06-12T18:16:51.585Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so you cannot kill it because when you do, you will just trigger another error event","date":"2012-06-12T18:17:06.766Z","type":"message"}
{"nick":"isaacs","message":"unix signals are the worst design api in unix.","date":"2012-06-12T18:17:15.962Z","type":"message"}
{"nick":"isaacs","message":"they try to do way too much","date":"2012-06-12T18:17:21.968Z","type":"message"}
{"nick":"tjfontaine","message":"and it doesn't matter if they're in uninterruptible sleep anyway","date":"2012-06-12T18:17:41.854Z","type":"message"}
{"nick":"isaacs","message":"it would've been good to have signals be one thing, and \"shut down this process\" be a completely different thing.","date":"2012-06-12T18:17:42.328Z","type":"message"}
{"nick":"isaacs","message":"but anyway...","date":"2012-06-12T18:18:02.923Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: okay","date":"2012-06-12T18:18:22.712Z","type":"message"}
{"nick":"isaacs","message":"maybe we mark that the ChildProcess had a kill error, and if you try to kill it and it fails, and it already has a kill error, we just return","date":"2012-06-12T18:18:28.039Z","type":"message"}
{"nick":"piscisaureus_","message":"error event it wil be","date":"2012-06-12T18:18:31.264Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: how do you feel about a \"i had an error with kill\" flag?","date":"2012-06-12T18:18:44.153Z","type":"message"}
{"nick":"isaacs","message":"just to prevent the child.on('error', function (er) { log(er); child.kill() })","date":"2012-06-12T18:18:56.032Z","type":"message"}
{"nick":"isaacs","message":"none of the errors that kill raises can be fixed by killing again, anyway.","date":"2012-06-12T18:20:08.919Z","type":"message"}
{"nick":"isaacs","message":"so if you've gotten an error from kill(), then kill() should now be a noop","date":"2012-06-12T18:20:18.008Z","type":"message"}
{"nick":"japj","reason":"Ping timeout: 240 seconds","date":"2012-06-12T18:20:53.086Z","type":"quit"}
{"nick":"piscisaureus_","message":"well :-)","date":"2012-06-12T18:20:56.061Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: one failed kill doesn't mean the next will fail","date":"2012-06-12T18:21:18.087Z","type":"message"}
{"nick":"bnoordhuis","message":"back","date":"2012-06-12T18:21:22.302Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: some signals will trigger ENOSYS on windows ;_0","date":"2012-06-12T18:22:07.873Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: according to man 2 kill on osx, ubuntu, centos, and smartos, it can only raise ESRCH, EINVAL, or EPERM.","date":"2012-06-12T18:22:14.646Z","type":"message"}
{"nick":"isaacs","message":"oh, right, I forgot about The Moon.","date":"2012-06-12T18:22:22.270Z","type":"message"}
{"nick":"isaacs","message":"ok, so, if we get an ESRCH or EPERM or EINVAL, then this.kill = function () {}?","date":"2012-06-12T18:22:47.193Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok. so here are the meanings:","date":"2012-06-12T18:23:45.122Z","type":"message"}
{"nick":"piscisaureus_","message":"ESRC -> the child process is dead.","date":"2012-06-12T18:23:45.317Z","type":"message"}
{"nick":"piscisaureus_","message":"EPERM -> no access. should never happen with child processes that we spawned ourselves.","date":"2012-06-12T18:23:45.317Z","type":"message"}
{"nick":"piscisaureus_","message":"ENOSYS/EINVAL -> the signal is not supported on this platform. Should throw synchronously","date":"2012-06-12T18:23:45.317Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: sure.","date":"2012-06-12T18:24:07.183Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: eperm CAN happen, but omg desert island rare bs condition.","date":"2012-06-12T18:24:16.298Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: if the child dies, and the machine is spawning a lot of processes, eventually the pid will be reused.","date":"2012-06-12T18:24:29.202Z","type":"message"}
{"nick":"isaacs","message":"so the pid could come to refer to some process not owned by uid","date":"2012-06-12T18:24:49.151Z","type":"message"}
{"nick":"isaacs","message":"should be treated like esrch","date":"2012-06-12T18:24:58.362Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if the child dies, then node will emit an `exit` event and kill() will turn into a no-op","date":"2012-06-12T18:25:05.887Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: right.  i'm assuming that somehow that didn't work.","date":"2012-06-12T18:25:20.911Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: no","date":"2012-06-12T18:25:28.418Z","type":"message"}
{"nick":"isaacs","message":"it's safe to ignore.","date":"2012-06-12T18:25:32.867Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: and the pid can't be reused until we reaped the child","date":"2012-06-12T18:25:40.363Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so EPERM kan never happen","date":"2012-06-12T18:25:50.002Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so actually, I'm thinking","date":"2012-06-12T18:25:56.156Z","type":"message"}
{"nick":"piscisaureus_","message":"kill() should just return bool","date":"2012-06-12T18:26:02.066Z","type":"message"}
{"nick":"isaacs","message":"what about if the process does setuid() to some other uid?","date":"2012-06-12T18:26:06.249Z","type":"message"}
{"nick":"piscisaureus_","message":"oh, that I do not know","date":"2012-06-12T18:26:15.993Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ?","date":"2012-06-12T18:26:17.702Z","type":"message"}
{"nick":"bnoordhuis","message":"you'll get EPERM","date":"2012-06-12T18:26:20.855Z","type":"message"}
{"nick":"isaacs","message":"right, unless you'er uid=0, which on most systems you have to be to do setuid, but not all.","date":"2012-06-12T18:26:34.655Z","type":"message"}
{"nick":"bnoordhuis","message":"though you (almost) always have to be root in order for setuid to work","date":"2012-06-12T18:26:42.540Z","type":"message"}
{"nick":"isaacs","message":"on sunos you could enable that specific permission","date":"2012-06-12T18:26:44.753Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, linux has a capability for that","date":"2012-06-12T18:27:19.391Z","type":"message"}
{"nick":"isaacs","message":"so, imo, we should probably not assume that eperm can't happen","date":"2012-06-12T18:27:36.071Z","type":"message"}
{"nick":"isaacs","message":"even though it's crazy rare","date":"2012-06-12T18:27:41.607Z","type":"message"}
{"nick":"isaacs","message":"the reaping case, yes, that is rare enough to ignore.","date":"2012-06-12T18:27:49.134Z","type":"message"}
{"nick":"isaacs","message":"and maybe impossible, or an OS bug if it does happen :)","date":"2012-06-12T18:27:58.628Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-06-12T18:28:21.362Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: ok.","date":"2012-06-12T18:28:29.033Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: should ENOSYS be treated like EINVAL?","date":"2012-06-12T18:28:35.722Z","type":"message"}
{"nick":"isaacs","message":"when does that happen?","date":"2012-06-12T18:28:38.041Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: on windows","date":"2012-06-12T18:28:43.133Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: process.kill(process.pid, 'SIGABRT')","date":"2012-06-12T18:28:52.022Z","type":"message"}
{"nick":"isaacs","message":"ok","date":"2012-06-12T18:28:58.317Z","type":"message"}
{"nick":"brson","date":"2012-06-12T18:29:02.720Z","type":"join"}
{"nick":"isaacs","message":"maybe we shouldn't try to pre-filter the signals, and just let the OS tell us what it can and can't handle.","date":"2012-06-12T18:29:15.429Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: SIGABRT is defined but we have no way to inject that into a process","date":"2012-06-12T18:29:16.758Z","type":"message"}
{"nick":"isaacs","message":"if we get an EINVAL or ENOSYS then we throw it","date":"2012-06-12T18:29:24.488Z","type":"message"}
{"nick":"isaacs","message":"because your program is doing a wrong thing","date":"2012-06-12T18:29:29.379Z","type":"message"}
{"nick":"piscisaureus_","message":"ignore ESRC","date":"2012-06-12T18:29:37.638Z","type":"message"}
{"nick":"piscisaureus_","message":"in the case of child process","date":"2012-06-12T18:29:45.624Z","type":"message"}
{"nick":"piscisaureus_","message":"and emit EPERM","date":"2012-06-12T18:29:54.897Z","type":"message"}
{"nick":"piscisaureus_","message":"that makes sense","date":"2012-06-12T18:30:27.249Z","type":"message"}
{"nick":"isaacs","message":"so, kill() raising ESRCH can only happen via race condition, correct?  the child has died, but the 'exit' event hasn't happened yet?","date":"2012-06-12T18:30:32.227Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T18:30:37.293Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: not true for process.kill(pid) of course","date":"2012-06-12T18:30:48.586Z","type":"message"}
{"nick":"isaacs","message":"oh, wait:","date":"2012-06-12T18:30:49.185Z","type":"message"}
{"nick":"isaacs","message":"     [ESRCH]            The process id was given as 0, but the sending process does not have a process group.","date":"2012-06-12T18:30:50.923Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: for child_process.kill you don't specify a pid","date":"2012-06-12T18:31:14.087Z","type":"message"}
{"nick":"isaacs","message":"so, yeah, child_process.kill() should ignore ESRCH","date":"2012-06-12T18:31:19.650Z","type":"message"}
{"nick":"isaacs","message":"youer' right","date":"2012-06-12T18:31:20.957Z","type":"message"}
{"nick":"isaacs","message":"process.kill should probably just, i dunno... throw everythign?","date":"2012-06-12T18:31:44.886Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, it already does","date":"2012-06-12T18:31:53.191Z","type":"message"}
{"nick":"isaacs","message":"kewl.","date":"2012-06-12T18:31:55.376Z","type":"message"}
{"nick":"isaacs","message":"child.kill() ==> ESRCH, ignore; EPERM: emit; EINVAL,ENOSYS: throw","date":"2012-06-12T18:32:12.197Z","type":"message"}
{"nick":"isaacs","message":"commute time.  bbiab","date":"2012-06-12T18:33:42.906Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-12T18:34:04.513Z","type":"quit"}
{"nick":"piscisaureus_","message":"https://chromiumcodereview.appspot.com/9844025 <-- the culprit","date":"2012-06-12T18:39:12.458Z","type":"message"}
{"nick":"paddybyers","date":"2012-06-12T18:45:32.322Z","type":"join"}
{"nick":"hij1nx","date":"2012-06-12T18:53:38.478Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 244 seconds","date":"2012-06-12T18:53:47.735Z","type":"quit"}
{"nick":"ira","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2012-06-12T18:55:49.066Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-12T18:56:39.321Z","type":"join"}
{"nick":"avalanche123","date":"2012-06-12T19:00:52.208Z","type":"join"}
{"nick":"isaacs","date":"2012-06-12T19:03:49.801Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-06-12T19:08:46.711Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-12T19:11:55.035Z","type":"join"}
{"nick":"mikeal","date":"2012-06-12T19:12:02.588Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: is it possible to kill process 0 on unix (when you're root)","date":"2012-06-12T19:12:25.833Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: e.g. can I write a test that does kill(0) ?","date":"2012-06-12T19:12:35.517Z","type":"message"}
{"nick":"tjfontaine","message":"pid 1 is usually init, I have no idea what 0 would be","date":"2012-06-12T19:13:06.154Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: it's process 1 but no, you can't","date":"2012-06-12T19:13:09.148Z","type":"message"}
{"nick":"bnoordhuis","message":"you can however send a SIGSTOP to init","date":"2012-06-12T19:13:48.549Z","type":"message"}
{"nick":"bnoordhuis","message":"which is awesome because it will no longer reap zombie processes","date":"2012-06-12T19:14:01.778Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: will I get EPERM when I try ?","date":"2012-06-12T19:14:05.340Z","type":"message"}
{"nick":"piscisaureus_","message":"Yeah I never got why it rapes zombies anyway","date":"2012-06-12T19:14:30.487Z","type":"message"}
{"nick":"bnoordhuis","message":"haha","date":"2012-06-12T19:14:35.412Z","type":"message"}
{"nick":"bnoordhuis","message":"typo?","date":"2012-06-12T19:14:41.748Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-06-12T19:14:45.875Z","type":"message"}
{"nick":"tjfontaine","message":"necrophiliac that damn init","date":"2012-06-12T19:14:54.881Z","type":"message"}
{"nick":"tjfontaine","message":"is there a term for having sex with the undead?","date":"2012-06-12T19:15:07.411Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00024df98b9\u000f \u000310\u000f/ test/pummel/test-exec.js \u0002:\u000f test-exec: make it work on Windows - http://git.io/blZuPQ","date":"2012-06-12T19:15:17.411Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00028fe8cd5\u000f \u000310\u000f/ (lib/child_process.js src/node.js)\u0002:\u000f Fix child_process.kill oddities - http://git.io/scwFEg","date":"2012-06-12T19:15:17.806Z","type":"message"}
{"nick":"bnoordhuis","message":"i wonder if rule 34 applies here","date":"2012-06-12T19:16:21.234Z","type":"message"}
{"nick":"tjfontaine","message":"almost certainly","date":"2012-06-12T19:16:28.714Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: to answer your question, you should get an EPERM","date":"2012-06-12T19:16:35.659Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: good","date":"2012-06-12T19:17:53.847Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u000276e20fd\u000f \u000310\u000f/ (lib/child_process.js src/node.js)\u0002:\u000f Fix child_process.kill oddities - http://git.io/Rh21Ew","date":"2012-06-12T19:17:56.852Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: and on broken platforms, you will get a kernel panic","date":"2012-06-12T19:18:04.791Z","type":"message"}
{"nick":"piscisaureus_","message":"awesome","date":"2012-06-12T19:18:06.501Z","type":"message"}
{"nick":"tjfontaine","message":"did you just panic your system then?","date":"2012-06-12T19:18:30.106Z","type":"message"}
{"nick":"piscisaureus_","message":"tjfontaine: well, on windows the system process has pid 4","date":"2012-06-12T19:20:18.374Z","type":"message"}
{"nick":"piscisaureus_","message":":-p","date":"2012-06-12T19:20:20.803Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-06-12T19:20:23.417Z","type":"message"}
{"nick":"piscisaureus_","message":"and I get EPERM as well","date":"2012-06-12T19:20:24.563Z","type":"message"}
{"nick":"piscisaureus_","message":"pid 0 == inactive system processes","date":"2012-06-12T19:20:34.976Z","type":"message"}
{"nick":"piscisaureus_","message":"but I get ESRC","date":"2012-06-12T19:20:39.823Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: kill(0, sig) sends a signal to all the processes in the process group","date":"2012-06-12T19:22:10.127Z","type":"message"}
{"nick":"isaacs","message":"kill(0) kills hte process group","date":"2012-06-12T19:22:17.393Z","type":"message"}
{"nick":"isaacs","message":"process leader","date":"2012-06-12T19:22:21.588Z","type":"message"}
{"nick":"bnoordhuis","message":"hah, beat you!","date":"2012-06-12T19:22:23.476Z","type":"message"}
{"nick":"isaacs","message":"you did :)","date":"2012-06-12T19:22:25.730Z","type":"message"}
{"nick":"isaacs","message":"if you're not in a process group, then it's ESRCH","date":"2012-06-12T19:22:38.429Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, still here isaacs :-)","date":"2012-06-12T19:23:18.649Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ^-- second try","date":"2012-06-12T19:23:26.152Z","type":"message"}
{"nick":"isaacs","message":"back, actually","date":"2012-06-12T19:23:26.531Z","type":"message"}
{"nick":"isaacs","message":"about to go get lunch, though","date":"2012-06-12T19:23:36.885Z","type":"message"}
{"nick":"isaacs","message":"brb","date":"2012-06-12T19:25:32.822Z","type":"message"}
{"nick":"isaacs","message":"isn't child.stdout/err sometimes null, if it's set to 'ignore'?","date":"2012-06-12T19:25:43.519Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00024fc42c4\u000f \u000310\u000f/ (lib/child_process.js src/node.js)\u0002:\u000f Fix child_process.kill oddities - http://git.io/BccCNg","date":"2012-06-12T19:26:09.822Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: not when you use `exec`","date":"2012-06-12T19:26:18.072Z","type":"message"}
{"nick":"hij1nx","reason":"Ping timeout: 246 seconds","date":"2012-06-12T19:30:59.049Z","type":"quit"}
{"nick":"hij1nx","date":"2012-06-12T19:36:14.475Z","type":"join"}
{"nick":"piscisaureus_","message":"ok, I am going to take a break","date":"2012-06-12T19:36:48.957Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: will you @ keizersgracht this week?","date":"2012-06-12T19:37:07.328Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-06-12T19:41:46.077Z","type":"quit"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2012-06-12T19:42:22.048Z","type":"quit"}
{"nick":"hithere2","new_nick":"hithere","date":"2012-06-12T19:44:53.755Z","type":"nick"}
{"nick":"indutny","topic":"Release early, rape zombies","date":"2012-06-12T19:45:38.208Z","type":"topic"}
{"nick":"bnoordhuis","message":"indutny: haha :)","date":"2012-06-12T19:49:25.086Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.6\u000f * r\u0002e6339cc\u000f \u000310\u000f/ (src/node_crypto.cc test/simple/test-crypto.js)\u0002:\u000f crypto: make cipher/decipher accept buffer args - http://git.io/VZhjbA","date":"2012-06-12T19:53:28.656Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002900196e\u000f \u000310\u000f/ (src/node_crypto.cc test/simple/test-crypto.js)\u0002:\u000f crypto: make cipher/decipher accept buffer args - http://git.io/fLuq1w","date":"2012-06-12T19:53:38.497Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm, maybe that shouldn't have landed in v0.6...","date":"2012-06-12T19:54:39.823Z","type":"message"}
{"nick":"bnoordhuis","message":"and gone it is","date":"2012-06-12T19:55:27.674Z","type":"message"}
{"nick":"igorzi_","date":"2012-06-12T19:59:33.200Z","type":"join"}
{"nick":"igorzi","reason":"Ping timeout: 245 seconds","date":"2012-06-12T20:00:21.375Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-06-12T20:02:06.950Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-12T20:03:00.084Z","type":"quit"}
{"nick":"mikeal","date":"2012-06-12T20:03:32.942Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00028963a52\u000f \u000310\u000f/ doc/api/crypto.markdown \u0002:\u000f doc: update crypto cipher/decipher docs - http://git.io/436x_w","date":"2012-06-12T20:06:53.633Z","type":"message"}
{"nick":"pquerna","message":"philips: https://github.com/joyent/libuv/pull/466","date":"2012-06-12T20:14:15.553Z","type":"message"}
{"nick":"piscisaureus_","message":"would also need uv_get_poll_timeout to be exposed (and possibly renamed)","date":"2012-06-12T20:17:21.080Z","type":"message"}
{"nick":"philips","message":"bnoordhuis: piscisaureus_ : I would love to review the API you plan to build","date":"2012-06-12T20:21:56.155Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, i just closed that PR","date":"2012-06-12T20:22:30.714Z","type":"message"}
{"nick":"bnoordhuis","message":"philips: i'm undecided on the actual names but let's go with uv_poll_fd(loop) and uv_poll_timeout(loop) for now","date":"2012-06-12T20:23:01.604Z","type":"message"}
{"nick":"AvianFlu","message":"piscisaureus_, btw, isn't it ESRCH and not ESRC?","date":"2012-06-12T20:23:12.520Z","type":"message"}
{"nick":"bnoordhuis","message":"philips: it's TBD what unit of time the timeout should be","date":"2012-06-12T20:23:20.849Z","type":"message"}
{"nick":"piscisaureus_","message":"AvianFlu: you are probably riht","date":"2012-06-12T20:23:20.849Z","type":"message"}
{"nick":"piscisaureus_","message":"*right","date":"2012-06-12T20:23:25.316Z","type":"message"}
{"nick":"bnoordhuis","message":"it is","date":"2012-06-12T20:23:32.210Z","type":"message"}
{"nick":"philips","message":"I really want to integrate libuv in an Core Foundation event loop so I can build OSX apps in luvit","date":"2012-06-12T20:23:33.319Z","type":"message"}
{"nick":"piscisaureus_","message":"hey, I've heard that before","date":"2012-06-12T20:23:44.987Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: yes, you'd need the timeout","date":"2012-06-12T20:24:01.239Z","type":"message"}
{"nick":"bnoordhuis","message":"philips: also... what does core foundation use to poll?","date":"2012-06-12T20:24:13.857Z","type":"message"}
{"nick":"philips","message":"piscisaureus_: Yea, for sure","date":"2012-06-12T20:24:15.192Z","type":"message"}
{"nick":"philips","message":"bnoordhuis: you can use a kqueue to wake the loop up","date":"2012-06-12T20:24:25.130Z","type":"message"}
{"nick":"bnoordhuis","message":"kqueue is kind of notorious for not being very embeddable","date":"2012-06-12T20:24:26.052Z","type":"message"}
{"nick":"philips","message":"bnoordhuis: and a timer of course","date":"2012-06-12T20:24:29.089Z","type":"message"}
{"nick":"philips","message":"bnoordhuis: dirty hack I did to test it out: https://github.com/philips/eventloops/blob/master/osx.c#L50","date":"2012-06-12T20:24:53.316Z","type":"message"}
{"nick":"bnoordhuis","message":"philips: right. it works?","date":"2012-06-12T20:25:36.957Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: if you do it like that uv_timer and uv_idle won't work","date":"2012-06-12T20:25:43.978Z","type":"message"}
{"nick":"philips","message":"bnoordhuis: seems to but I need timers too","date":"2012-06-12T20:25:58.890Z","type":"message"}
{"nick":"philips","message":"bnoordhuis: well, the next timeout needed","date":"2012-06-12T20:26:04.294Z","type":"message"}
{"nick":"philips","message":"piscisaureus_: yea, I need the next timeout time, right?","date":"2012-06-12T20:26:25.134Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: yep","date":"2012-06-12T20:26:35.967Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: and you probably need to set the \"process only one event\" flag when you call CFRunLoopRunInMode","date":"2012-06-12T20:27:12.502Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: or, you have to be sure that you never start/change an uv_timer from a callback made by CF","date":"2012-06-12T20:27:39.257Z","type":"message"}
{"nick":"philips","message":"piscisaureus_: oh, right. Would have to mutex timer manipulation and run_once","date":"2012-06-12T20:29:04.155Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: well, that's one way","date":"2012-06-12T20:29:35.502Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: what you could also do","date":"2012-06-12T20:29:40.893Z","type":"message"}
{"nick":"piscisaureus_","message":"* create an CFSocket or whatever, the CF equivalent of uv_poll with the kqueue fd in it, and a dummy callback","date":"2012-06-12T20:30:10.431Z","type":"message"}
{"nick":"piscisaureus_","message":"* call CFRunLoopRunInMode from an uv_prepare callback","date":"2012-06-12T20:30:28.181Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: buffers in crypto!!! \\o/","date":"2012-06-12T20:30:29.278Z","type":"message"}
{"nick":"isaacs","message":"w00t","date":"2012-06-12T20:30:32.087Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: that's only a partial fix though :) there are probably other places where buffers should work but don't","date":"2012-06-12T20:31:10.029Z","type":"message"}
{"nick":"piscisaureus_","message":"philips: then just use uv_run to drive the loop :-)","date":"2012-06-12T20:31:23.874Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: sure.","date":"2012-06-12T20:31:57.507Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: btw, any chance of getting ev_* shimmed by thursday?","date":"2012-06-12T20:32:09.673Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i wanna get 0.7.11 out asap","date":"2012-06-12T20:32:21.276Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: er, maybe. i'm almost done with getting rid of libev, which would make shimming ev_io and friends a lot easier","date":"2012-06-12T20:33:06.239Z","type":"message"}
{"nick":"bnoordhuis","message":"biab","date":"2012-06-12T20:33:37.511Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: k.  please keep me posted.  people are awaiting it eagerly.","date":"2012-06-12T20:33:44.422Z","type":"message"}
{"nick":"creationix","date":"2012-06-12T20:34:46.078Z","type":"join"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u00027392362\u000f \u000310\u000f/ (lib/child_process.js src/node.js)\u0002:\u000f Fix child_process.kill oddities - http://git.io/HH3_tw","date":"2012-06-12T20:41:47.717Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307reviewme\u000f * r\u0002eeffde7\u000f \u000310\u000f/ test/simple/test-child-process-kill.js \u0002:\u000f test-child-process-kill: make it pass on windows - http://git.io/a6X4Ew","date":"2012-06-12T20:41:48.134Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- AvianFlu: fixed the ESRC(H)","date":"2012-06-12T20:42:08.150Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-12T20:42:43.897Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-12T20:42:49.300Z","type":"join"}
{"nick":"loladiro_","new_nick":"loladiro","date":"2012-06-12T20:43:07.001Z","type":"nick"}
{"nick":"piscisaureus_","message":"How do I build node-weak for the gc tests?","date":"2012-06-12T20:44:31.293Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: make node_modules/weak","date":"2012-06-12T20:44:50.934Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh, on windows?","date":"2012-06-12T20:44:56.672Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T20:45:00.520Z","type":"message"}
{"nick":"piscisaureus_","message":"all those tests are failing right now","date":"2012-06-12T20:45:07.824Z","type":"message"}
{"nick":"isaacs","message":"\t@if [ ! -f node ]; then make all; fi","date":"2012-06-12T20:45:19.659Z","type":"message"}
{"nick":"isaacs","message":"\t@if [ ! -d node_modules ]; then mkdir -p node_modules; fi","date":"2012-06-12T20:45:19.858Z","type":"message"}
{"nick":"isaacs","message":"\t./node deps/npm/bin/npm-cli.js install weak \\","date":"2012-06-12T20:45:19.858Z","type":"message"}
{"nick":"isaacs","message":"\t\t--nodedir=\"$(shell pwd)\" \\","date":"2012-06-12T20:45:21.138Z","type":"message"}
{"nick":"isaacs","message":"\t\t--prefix=\"$(shell pwd)\" --unsafe-perm # go ahead and run as root.","date":"2012-06-12T20:45:23.142Z","type":"message"}
{"nick":"piscisaureus_","message":"aha","date":"2012-06-12T20:45:48.147Z","type":"message"}
{"nick":"piscisaureus_","message":"that's not working on windows eh","date":"2012-06-12T20:45:56.785Z","type":"message"}
{"nick":"isaacs","message":"mkdir /p node_modules ; Release\\node.exe deps\\npm\\bin\\npm-cli.js install weak --nodedir=\"..cwd..\" --prefix=\"..cwd..\"","date":"2012-06-12T20:46:18.164Z","type":"message"}
{"nick":"isaacs","message":"i don't recall how to get the cwd in a cmd script","date":"2012-06-12T20:46:28.505Z","type":"message"}
{"nick":"piscisaureus_","message":"echo %~dp0","date":"2012-06-12T20:46:37.769Z","type":"message"}
{"nick":"isaacs","message":"~0db%","date":"2012-06-12T20:46:39.252Z","type":"message"}
{"nick":"isaacs","message":"oh, ah, right","date":"2012-06-12T20:46:42.784Z","type":"message"}
{"nick":"isaacs","message":"what does that mean, btw?","date":"2012-06-12T20:46:53.988Z","type":"message"}
{"nick":"piscisaureus_","message":"alright","date":"2012-06-12T20:46:54.190Z","type":"message"}
{"nick":"isaacs","message":"did someone's cat step on the keyboard, and they decided that would be the token?","date":"2012-06-12T20:47:04.057Z","type":"message"}
{"nick":"isaacs","message":"does dp stand for something?","date":"2012-06-12T20:47:07.139Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: %0 == argv[0]","date":"2012-06-12T20:47:16.841Z","type":"message"}
{"nick":"brson","reason":"Ping timeout: 244 seconds","date":"2012-06-12T20:47:27.677Z","type":"quit"}
{"nick":"isaacs","message":"directory prefix?","date":"2012-06-12T20:47:31.922Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs % (~options) 0","date":"2012-06-12T20:47:36.781Z","type":"message"}
{"nick":"piscisaureus_","message":"dp means directory path or something","date":"2012-06-12T20:47:45.149Z","type":"message"}
{"nick":"isaacs","message":"oh, right, dir path","date":"2012-06-12T20:47:49.420Z","type":"message"}
{"nick":"isaacs","message":"neat.","date":"2012-06-12T20:47:51.975Z","type":"message"}
{"nick":"isaacs","message":"are these options written down somewhere?","date":"2012-06-12T20:47:56.859Z","type":"message"}
{"nick":"mraleph1","date":"2012-06-12T20:48:07.072Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: no, drive path actually","date":"2012-06-12T20:48:22.921Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so d expands to c:\\ and p expands to Users\\blabla\\node","date":"2012-06-12T20:48:43.499Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: try `for /?`","date":"2012-06-12T20:48:57.813Z","type":"message"}
{"nick":"piscisaureus_","message":"(and skip to page 4 or so)","date":"2012-06-12T20:49:13.768Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: or here: http://technet.microsoft.com/en-us/library/bb490909","date":"2012-06-12T20:49:44.998Z","type":"message"}
{"nick":"isaacs","message":"neat","date":"2012-06-12T20:50:11.943Z","type":"message"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-12T20:51:37.906Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-12T20:51:43.082Z","type":"join"}
{"nick":"TooTallNate","message":"why wouldn't the `npm install weak` work on windows?","date":"2012-06-12T20:52:45.835Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: what happens?","date":"2012-06-12T20:52:57.240Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: well, I don't know","date":"2012-06-12T20:53:30.776Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: probably because node and npm aren't installed, or there's no node_modules folder already","date":"2012-06-12T20:53:38.186Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: but I don't like that I have to do that to make `vcbuild test` work","date":"2012-06-12T20:53:55.283Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: do I have to create node_modules upfront","date":"2012-06-12T20:54:05.980Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-06-12T20:54:07.624Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: oh, maybe because there's no `./node`, but theres `Release/node`","date":"2012-06-12T20:54:07.986Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: oh, another thing: can you send me a pull req that documents the nodedir config?","date":"2012-06-12T20:54:21.466Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I never do, and it usually works :-)","date":"2012-06-12T20:54:22.410Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: if there's a node_modules folder in ../ then it'll install it there instead.","date":"2012-06-12T20:54:37.974Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-06-12T20:54:44.720Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: sure, though technically *any* node-gyp variable can be specified through npm like that","date":"2012-06-12T20:54:51.211Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: best practice is to create the dir first in this case, since we don't have a package.json, and npm doesn't have any other way to know where your project root is","date":"2012-06-12T20:55:04.286Z","type":"message"}
{"nick":"piscisaureus_","message":"zet iz not wat whe whant eh","date":"2012-06-12T20:55:05.370Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: wanna document all the node-gyp variables in npm's docs, then?","date":"2012-06-12T20:55:20.171Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: where should that go exactly (theres lots of .md files :D )","date":"2012-06-12T20:55:47.920Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: doc/cli/config.md.  the list of options is in alphabetical order.","date":"2012-06-12T20:56:08.639Z","type":"message"}
{"nick":"TooTallNate","message":"ahh cool. ya i can do that","date":"2012-06-12T20:56:17.155Z","type":"message"}
{"nick":"japj","date":"2012-06-12T20:59:03.779Z","type":"join"}
{"nick":"erickt","reason":"Ping timeout: 240 seconds","date":"2012-06-12T20:59:52.926Z","type":"quit"}
{"nick":"erickt","date":"2012-06-12T21:01:18.324Z","type":"join"}
{"nick":"brson","date":"2012-06-12T21:17:16.435Z","type":"join"}
{"nick":"loladiro_","reason":"Read error: Connection reset by peer","date":"2012-06-12T21:20:05.282Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-12T21:20:24.118Z","type":"join"}
{"nick":"avalanche123","reason":"Quit: Computer has gone to sleep.","date":"2012-06-12T21:22:49.456Z","type":"quit"}
{"nick":"\\toothrot","date":"2012-06-12T21:23:43.786Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: whenever you have time, review the reviewme branch :-)","date":"2012-06-12T21:25:20.894Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: then I can carry on fixing tests","date":"2012-06-12T21:25:27.598Z","type":"message"}
{"nick":"isaacs","message":"ok, back to it","date":"2012-06-12T21:25:58.569Z","type":"message"}
{"nick":"isaacs","message":"call just ended","date":"2012-06-12T21:26:00.398Z","type":"message"}
{"nick":"piscisaureus_","message":"kewl","date":"2012-06-12T21:26:06.200Z","type":"message"}
{"nick":"toothr","reason":"Ping timeout: 245 seconds","date":"2012-06-12T21:26:28.127Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: +      this.killed = true; ","date":"2012-06-12T21:29:27.303Z","type":"message"}
{"nick":"\\toothrot","new_nick":"toothr","date":"2012-06-12T21:29:30.375Z","type":"nick"}
{"nick":"isaacs","message":"piscisaureus_: so, it's probably outside of the scope here, but why do we set that, exactly?","date":"2012-06-12T21:29:39.107Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't know, but it always was there","date":"2012-06-12T21:29:55.559Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: child.kill('SIGUSR2') would set child.killed = true","date":"2012-06-12T21:29:59.184Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-06-12T21:30:00.637Z","type":"message"}
{"nick":"isaacs","message":"i guess, whatevs, let's leave it","date":"2012-06-12T21:30:10.743Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: that is 0.9 work I suppose","date":"2012-06-12T21:30:39.899Z","type":"message"}
{"nick":"isaacs","message":"ok, i like it","date":"2012-06-12T21:30:47.131Z","type":"message"}
{"nick":"isaacs","message":"lgtm","date":"2012-06-12T21:30:48.592Z","type":"message"}
{"nick":"piscisaureus_","message":"good","date":"2012-06-12T21:30:51.842Z","type":"message"}
{"nick":"piscisaureus_","message":"phew","date":"2012-06-12T21:30:53.458Z","type":"message"}
{"nick":"isaacs","message":"land it, then make tests pass, or if you find some moments, lmk where to go to add tcp_open","date":"2012-06-12T21:31:17.319Z","type":"message"}
{"nick":"isaacs","message":"uv_tcp_open","date":"2012-06-12T21:31:21.120Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-06-12T21:31:50.241Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002b53b8b8\u000f \u000310\u000f/ test/pummel/test-exec.js \u0002:\u000f test-exec: make it work on Windows - http://git.io/jngf4A","date":"2012-06-12T21:31:55.066Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u000210f85fa\u000f \u000310\u000f/ (lib/child_process.js src/node.js)\u0002:\u000f Fix child_process.kill oddities - http://git.io/53UJWQ","date":"2012-06-12T21:31:55.262Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002b866a96\u000f \u000310\u000f/ test/simple/test-child-process-kill.js \u0002:\u000f test-child-process-kill: make it pass on windows - http://git.io/d4EGew","date":"2012-06-12T21:31:55.262Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: actually, uv_guess_handle doesn't even detect tcp handles atm","date":"2012-06-12T21:32:07.223Z","type":"message"}
{"nick":"isaacs","message":"w00t","date":"2012-06-12T21:32:09.039Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: it says they're pipes","date":"2012-06-12T21:32:16.017Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: oh, really?","date":"2012-06-12T21:32:21.627Z","type":"message"}
{"nick":"piscisaureus_","message":"which probably works 95% btw","date":"2012-06-12T21:32:29.398Z","type":"message"}
{"nick":"isaacs","message":"i thought they'd get UV_UNKNOWN","date":"2012-06-12T21:32:30.664Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-06-12T21:32:36.805Z","type":"message"}
{"nick":"isaacs","message":"maybe we can just make listenFD be a pipe thing?","date":"2012-06-12T21:32:38.974Z","type":"message"}
{"nick":"isaacs","message":"isn't that what it used to be?","date":"2012-06-12T21:32:45.664Z","type":"message"}
{"nick":"isaacs","message":"(in which case, i'm basically done)","date":"2012-06-12T21:32:53.437Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: umm, well, I think it works 95% now","date":"2012-06-12T21:33:04.960Z","type":"message"}
{"nick":"piscisaureus_","message":"read/write etc should all work (on unix)","date":"2012-06-12T21:33:13.462Z","type":"message"}
{"nick":"piscisaureus_","message":"windows doesn't matter","date":"2012-06-12T21:33:18.715Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-06-12T21:33:25.288Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: just the stuff like remoteAddress will probably do something weird","date":"2012-06-12T21:33:33.776Z","type":"message"}
{"nick":"piscisaureus_","message":"or, that won't work at all","date":"2012-06-12T21:33:45.393Z","type":"message"}
{"nick":"isaacs","message":"so, i'm tempted to just raise ENOTSUP or something on windows, to be sure.","date":"2012-06-12T21:33:52.094Z","type":"message"}
{"nick":"piscisaureus_","message":"address() will do something weird","date":"2012-06-12T21:33:53.429Z","type":"message"}
{"nick":"isaacs","message":"i'd rather that it crash fast than behave oddly","date":"2012-06-12T21:33:59.936Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: when, exactly ?","date":"2012-06-12T21:34:09.367Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: if windows says it's a pipe, it is really a pipe","date":"2012-06-12T21:34:20.209Z","type":"message"}
{"nick":"isaacs","message":"Server.listen({fd:3}) <-- throws on windows","date":"2012-06-12T21:34:21.306Z","type":"message"}
{"nick":"piscisaureus_","message":"windows will tell you fd 3 is unknown otherwise","date":"2012-06-12T21:34:31.376Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-06-12T21:34:34.988Z","type":"message"}
{"nick":"piscisaureus_","message":"so you should probably throw when that happens","date":"2012-06-12T21:34:38.793Z","type":"message"}
{"nick":"isaacs","message":"but listening on a pipe, is that going to be weird on windoes?","date":"2012-06-12T21:34:45.647Z","type":"message"}
{"nick":"piscisaureus_","message":"umm","date":"2012-06-12T21:34:51.810Z","type":"message"}
{"nick":"isaacs","message":"let's assume for the moment it's only pipes that we care about","date":"2012-06-12T21:34:52.172Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-12T21:34:55.437Z","type":"message"}
{"nick":"piscisaureus_","message":"you'll probably get EISCONN :-)","date":"2012-06-12T21:35:03.916Z","type":"message"}
{"nick":"isaacs","message":"hm.","date":"2012-06-12T21:35:11.537Z","type":"message"}
{"nick":"piscisaureus_","message":"so, whatever you think is right","date":"2012-06-12T21:35:14.610Z","type":"message"}
{"nick":"isaacs","message":"for now, let's unix philosophy this shit.","date":"2012-06-12T21:35:21.357Z","type":"message"}
{"nick":"isaacs","message":"just try and do what we need to do, and see what yells at us.","date":"2012-06-12T21:35:34.012Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-12T21:35:43.042Z","type":"message"}
{"nick":"isaacs","message":"node is not your mommy.","date":"2012-06-12T21:35:47.744Z","type":"message"}
{"nick":"piscisaureus_","message":"I will try it once you land it","date":"2012-06-12T21:35:48.837Z","type":"message"}
{"nick":"isaacs","message":"k","date":"2012-06-12T21:35:54.611Z","type":"message"}
{"nick":"piscisaureus_","message":"and fix libuv if it should do something it doesn't atm","date":"2012-06-12T21:36:02.092Z","type":"message"}
{"nick":"piscisaureus_","action":"continues cooking","date":"2012-06-12T21:36:27.063Z","type":"action"}
{"nick":"ira","date":"2012-06-12T21:36:36.127Z","type":"join"}
{"nick":"igorzi_","message":"piscisaureus_: hey","date":"2012-06-12T21:39:17.778Z","type":"message"}
{"nick":"igorzi_","message":"piscisaureus_: pls review the ETW patch: https://github.com/igorzi/node/commit/ae3737a0f1bd8ba16917f8750bf808eedb0e100f","date":"2012-06-12T21:39:20.675Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-12T21:43:44.327Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-12T21:44:19.128Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-12T21:47:09.633Z","type":"join"}
{"nick":"isaacs","message":"hmmm...","date":"2012-06-12T21:50:44.841Z","type":"message"}
{"nick":"isaacs","message":"i'm having a bit of trouble coming up with a portable use case here.","date":"2012-06-12T21:50:54.256Z","type":"message"}
{"nick":"isaacs","message":"all the uses for listenfd that i can find are either handled better with cluster, or are very illumos-specific","date":"2012-06-12T21:51:16.210Z","type":"message"}
{"nick":"japj","reason":"Read error: Connection reset by peer","date":"2012-06-12T21:53:36.834Z","type":"quit"}
{"nick":"avalanche123","date":"2012-06-12T21:54:40.837Z","type":"join"}
{"nick":"AvianFlu","reason":"\"Leaving\"","date":"2012-06-12T21:55:21.666Z","type":"part"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-12T21:55:55.257Z","type":"quit"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T21:59:16.943Z","type":"message"}
{"nick":"piscisaureus_","message":"illumon--","date":"2012-06-12T21:59:19.474Z","type":"message"}
{"nick":"kohai","message":"illumon has -1 beer","date":"2012-06-12T21:59:19.880Z","type":"message"}
{"nick":"piscisaureus_","message":"illumos--","date":"2012-06-12T21:59:26.345Z","type":"message"}
{"nick":"kohai","message":"illumos has -1 beer","date":"2012-06-12T21:59:27.312Z","type":"message"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-06-12T21:59:30.196Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: although systemd does something similar I think","date":"2012-06-12T21:59:38.074Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-06-12T21:59:43.313Z","type":"message"}
{"nick":"isaacs","message":"i'm trying out some thigns","date":"2012-06-12T21:59:46.036Z","type":"message"}
{"nick":"isaacs","message":"i think i'll be able to do it","date":"2012-06-12T21:59:50.002Z","type":"message"}
{"nick":"isaacs","message":"just would prefer that it be closer to an actual use case so that i know we're getting it right, that's all.","date":"2012-06-12T22:00:03.922Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-06-12T22:00:10.246Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe illumos should not do this crazy stuff","date":"2012-06-12T22:00:34.083Z","type":"message"}
{"nick":"isaacs","message":"ahah","date":"2012-06-12T22:00:38.058Z","type":"message"}
{"nick":"isaacs","message":"well, they'd just use fork or cluster, except that the fd is being passed between zones","date":"2012-06-12T22:00:53.792Z","type":"message"}
{"nick":"isaacs","message":"so the processes can only do ipc, they can't actually spawn one anotehr","date":"2012-06-12T22:01:03.177Z","type":"message"}
{"nick":"isaacs","message":"and that ipc can only be over a socket","date":"2012-06-12T22:01:11.487Z","type":"message"}
{"nick":"isaacs","message":"making an OS is hard :)","date":"2012-06-12T22:01:21.326Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well I know a very nice way to do this stuff","date":"2012-06-12T22:01:37.776Z","type":"message"}
{"nick":"piscisaureus_","message":"net.createConnection(1234, 'the-other-zones-ip'')","date":"2012-06-12T22:02:06.554Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- isaacs: what about that?","date":"2012-06-12T22:02:11.843Z","type":"message"}
{"nick":"piscisaureus_","message":"fully portable","date":"2012-06-12T22:02:13.983Z","type":"message"}
{"nick":"mrb_bk","date":"2012-06-12T22:02:16.862Z","type":"part"}
{"nick":"AvianFlu","date":"2012-06-12T22:02:35.852Z","type":"join"}
{"nick":"dap","message":"piscisaureus_: For a test case, or for our use case? Doesn't work for our use case because you can't auth the other side the way you can with a UDS.","date":"2012-06-12T22:03:00.704Z","type":"message"}
{"nick":"piscisaureus_","message":"dap: just curious, what if I send a dirfd to over the UDS ?","date":"2012-06-12T22:04:09.986Z","type":"message"}
{"nick":"piscisaureus_","message":"can I then open files in the other zone's fs (with openat etc?)","date":"2012-06-12T22:04:29.256Z","type":"message"}
{"nick":"dap","message":"piscisaureus_: Remember that in Unix, you *always* listen on an FD.  The only reason illumos is special for this use case is because Node has taken two of the most common cases of that (listening on UDS and TCP sockets) and made them first-class (or special cases, depending on your point of view :), and we've already been using another one.","date":"2012-06-12T22:04:31.086Z","type":"message"}
{"nick":"dap","message":"piscisaureus_: not sure.","date":"2012-06-12T22:04:51.543Z","type":"message"}
{"nick":"piscisaureus_","message":"dap: I know you always listen on an fd... but it's rather to listen on an fd that you didn't create yourself","date":"2012-06-12T22:06:27.922Z","type":"message"}
{"nick":"piscisaureus_","message":"*rather odd","date":"2012-06-12T22:06:31.935Z","type":"message"}
{"nick":"piscisaureus_","message":"or let's say, uncommon","date":"2012-06-12T22:06:37.546Z","type":"message"}
{"nick":"piscisaureus_","message":"dap: also, I think read() and write() are the kind of operations that you would do on every fd. listen() is just an oddball thing for sockets.","date":"2012-06-12T22:08:16.191Z","type":"message"}
{"nick":"dap","message":"What I meant was that Unix made an explicit decision to decouple the source of the fd from uses like bind and listen, precisely so that you could compose them in ways the creators didn't initially consider without having to change the API.  I don't think it was an accident that there's no \"create tcp socket and listen\" function.","date":"2012-06-12T22:08:39.508Z","type":"message"}
{"nick":"dap","message":"I understand Node's reasons for first-classing those things, of course.","date":"2012-06-12T22:08:57.264Z","type":"message"}
{"nick":"dap","message":"But if the more primitive model isn't exposed, you can expect to hear from people with use cases you hadn't expected :)","date":"2012-06-12T22:09:50.715Z","type":"message"}
{"nick":"dap","message":"My point was really just that in the Unix context, it's totally reasonable to listen on an fd you got from some other place â€” that's how the API is designed.","date":"2012-06-12T22:10:50.396Z","type":"message"}
{"nick":"dap","message":"In defense of our doing so :)","date":"2012-06-12T22:11:01.522Z","type":"message"}
{"nick":"demarchi","date":"2012-06-12T22:12:52.040Z","type":"part"}
{"nick":"piscisaureus_","message":"dap, ok :-)","date":"2012-06-12T22:12:52.388Z","type":"message"}
{"nick":"piscisaureus_","message":"dap: what I find very weird about unix is that you have to guess which fds you may have inherited","date":"2012-06-12T22:13:26.799Z","type":"message"}
{"nick":"piscisaureus_","message":"dap: it would be much nicer to just have","date":"2012-06-12T22:14:09.138Z","type":"message"}
{"nick":"piscisaureus_","message":"int main(int argc, char* arv[], int fdc, int fdv[]) {","date":"2012-06-12T22:14:09.339Z","type":"message"}
{"nick":"stephank","date":"2012-06-12T22:16:48.509Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: what's up with this missing \"npmlog\" in v0.7.10?","date":"2012-06-12T22:17:27.119Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi_: what's the conceptual difference between etw_provider and win32_etw_provider ?","date":"2012-06-12T22:18:50.553Z","type":"message"}
{"nick":"AvianFlu","message":"TooTallNate, it was left out of the git tag but not the tarball, there's a second 0.7.10-fix tag or something","date":"2012-06-12T22:20:22.681Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: 'node_modules' was added to .gitignore for `make test-gc` to not pollute the repo","date":"2012-06-12T22:20:32.664Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: should've been ./node_modules","date":"2012-06-12T22:20:38.684Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: fixed on the 0.7.10-fix tag, and the tarball and binaries","date":"2012-06-12T22:20:47.599Z","type":"message"}
{"nick":"TooTallNate","message":"ahh right","date":"2012-06-12T22:20:54.463Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: the tarballs too? how long ago?","date":"2012-06-12T22:21:04.242Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: less than an hour after release.","date":"2012-06-12T22:21:23.588Z","type":"message"}
{"nick":"isaacs","message":"iirc","date":"2012-06-12T22:21:27.368Z","type":"message"}
{"nick":"TooTallNate","message":"what does that mean?","date":"2012-06-12T22:23:13.440Z","type":"message"}
{"nick":"TooTallNate","message":"Assertion failed: (!!(events & UV__IO_READ) ^ !!(events & UV__IO_WRITE)), function uv__stream_io, file ../deps/uv/src/unix/stream.c, line 730.","date":"2012-06-12T22:23:13.980Z","type":"message"}
{"nick":"TooTallNate","message":"^ happens with this script: https://gist.github.com/2920470","date":"2012-06-12T22:23:57.739Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: i bet you'll have an idea :D ^","date":"2012-06-12T22:27:31.449Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 240 seconds","date":"2012-06-12T22:27:53.058Z","type":"quit"}
{"nick":"bnoordhuis","message":"TooTallNate: yes. i can probably even fix it","date":"2012-06-12T22:28:14.598Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: does that mean libuv bug?","date":"2012-06-12T22:28:37.149Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: yes","date":"2012-06-12T22:29:10.065Z","type":"message"}
{"nick":"TooTallNate","message":"damn :D","date":"2012-06-12T22:29:23.445Z","type":"message"}
{"nick":"piscisaureus_","message":"it means you're doing something unsupported :-p","date":"2012-06-12T22:29:24.337Z","type":"message"}
{"nick":"TooTallNate","message":"want me to open an issue?","date":"2012-06-12T22:29:27.599Z","type":"message"}
{"nick":"piscisaureus_","message":"imo if we would want to support that, the syntax should be","date":"2012-06-12T22:30:27.582Z","type":"message"}
{"nick":"piscisaureus_","message":"tty.createReadStream() :-)","date":"2012-06-12T22:30:34.623Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: agreed :)","date":"2012-06-12T22:31:07.500Z","type":"message"}
{"nick":"TooTallNate","message":" /dev/tty is literally the only valid thing I can think of that your would pass in though :D","date":"2012-06-12T22:31:24.122Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T22:31:29.720Z","type":"message"}
{"nick":"piscisaureus_","message":"and on w1nd0w5 you would pass in \"conin$\" or \"conout$\"","date":"2012-06-12T22:31:56.903Z","type":"message"}
{"nick":"TooTallNate","message":"well, cool, at least there's an equivalent :D","date":"2012-06-12T22:32:29.513Z","type":"message"}
{"nick":"piscisaureus_","message":"let's see if that works","date":"2012-06-12T22:32:38.060Z","type":"message"}
{"nick":"erickt","date":"2012-06-12T22:33:42.153Z","type":"join"}
{"nick":"TooTallNate","message":"a little background: i'm trying to make `echo \"{ foo: 'bar' }\" | cdir` work on hij1nx's cdir :D","date":"2012-06-12T22:35:14.298Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what did we decide about https://github.com/joyent/node/issues/3402 ? set UV_HANDLE_READING flag and start read watcher after connect or listen?","date":"2012-06-12T22:35:24.095Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: i kind of consider it a bug. you shouldn't be able to hit that assert","date":"2012-06-12T22:35:49.594Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: fix windows and make uv_read_start possible before connecting","date":"2012-06-12T22:36:13.357Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: is there a simple fix?","date":"2012-06-12T22:36:33.984Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: 'fix windows' seems a challenging task...","date":"2012-06-12T22:36:52.643Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: yes. don't do that :)","date":"2012-06-12T22:36:58.956Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: yeah, also, it's kinda irrelevant here","date":"2012-06-12T22:37:12.322Z","type":"message"}
{"nick":"TooTallNate","message":"ya ya :p i think my use-case is fair though","date":"2012-06-12T22:37:24.358Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: however, I am going to fix windows before looking at that bug","date":"2012-06-12T22:37:24.889Z","type":"message"}
{"nick":"piscisaureus_","message":"see you in two weeks","date":"2012-06-12T22:37:28.519Z","type":"message"}
{"nick":"bnoordhuis","message":"and that was the last we ever heard of him","date":"2012-06-12T22:37:43.242Z","type":"message"}
{"nick":"piscisaureus_","message":"damn","date":"2012-06-12T22:38:39.382Z","type":"message"}
{"nick":"piscisaureus_","message":"suddenly I found myself in the rape zombies channel","date":"2012-06-12T22:38:51.733Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: you know, that snippet actually works for me, once i add a require('assert')","date":"2012-06-12T22:39:33.561Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: ohh, right...","date":"2012-06-12T22:39:55.769Z","type":"message"}
{"nick":"TooTallNate","message":"so it's the same issue as before","date":"2012-06-12T22:40:01.063Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: https://github.com/joyent/node/issues/3072","date":"2012-06-12T22:40:46.715Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: yes","date":"2012-06-12T22:41:19.995Z","type":"message"}
{"nick":"bnoordhuis","message":"though i don't quite understand what os x does different","date":"2012-06-12T22:41:41.302Z","type":"message"}
{"nick":"TooTallNate","message":"hmmm, damn","date":"2012-06-12T22:42:31.914Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: anything i can do to help debug?","date":"2012-06-12T22:43:40.416Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: inspect it in gdb?","date":"2012-06-12T22:45:08.018Z","type":"message"}
{"nick":"bnoordhuis","message":"the two things to look for are how the fd is added to the pollset","date":"2012-06-12T22:45:22.325Z","type":"message"}
{"nick":"bnoordhuis","message":"i.e. is it being watched for reading, writing or both","date":"2012-06-12T22:45:41.139Z","type":"message"}
{"nick":"TooTallNate","message":"does that take more that `bt full`? :p","date":"2012-06-12T22:46:13.166Z","type":"message"}
{"nick":"bnoordhuis","message":"yes :)","date":"2012-06-12T22:46:21.475Z","type":"message"}
{"nick":"xaq","reason":"Read error: Connection reset by peer","date":"2012-06-12T22:47:20.485Z","type":"quit"}
{"nick":"xaq","date":"2012-06-12T22:47:50.574Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-12T22:51:18.977Z","type":"quit"}
{"nick":"rendar","date":"2012-06-12T22:56:38.857Z","type":"quit"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-12T23:00:24.869Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-12T23:01:17.233Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-12T23:03:14.898Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-12T23:03:20.671Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: ping","date":"2012-06-12T23:10:32.279Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ewa?","date":"2012-06-12T23:10:49.747Z","type":"message"}
{"nick":"mraleph1","reason":"Quit: Leaving.","date":"2012-06-12T23:11:28.240Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: i want to share uv_handle_init() between unix and win","date":"2012-06-12T23:12:11.822Z","type":"message"}
{"nick":"bnoordhuis","message":"or at least make it accessible","date":"2012-06-12T23:12:21.557Z","type":"message"}
{"nick":"bnoordhuis","message":"do you want to keep it inlined?","date":"2012-06-12T23:12:28.422Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it would be nice to keep it inlined, yes","date":"2012-06-12T23:13:28.691Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: also, go ahead","date":"2012-06-12T23:13:36.435Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2012-06-12T23:13:49.249Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi_: hey, yt?","date":"2012-06-12T23:14:09.622Z","type":"message"}
{"nick":"loladiro_","reason":"Quit: loladiro_","date":"2012-06-12T23:19:47.447Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/bnoordhuis/libuv/commit/c5d62b7","date":"2012-06-12T23:19:55.610Z","type":"message"}
{"nick":"loladiro","date":"2012-06-12T23:22:08.200Z","type":"join"}
{"nick":"loladiro","reason":"Client Quit","date":"2012-06-12T23:22:24.504Z","type":"quit"}
{"nick":"piscisaureus_","message":"bnoordhuis:","date":"2012-06-12T23:22:42.463Z","type":"message"}
{"nick":"piscisaureus_","message":"#ifdef WIN32","date":"2012-06-12T23:22:42.661Z","type":"message"}
{"nick":"piscisaureus_","message":"handle->next_closing = NULL;","date":"2012-06-12T23:22:43.917Z","type":"message"}
{"nick":"piscisaureus_","message":"why ?","date":"2012-06-12T23:22:45.356Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: where does unix keep the endgame queue?","date":"2012-06-12T23:23:58.222Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: https://github.com/joyent/libuv/blob/84f0d96/src/win/process.c#L1095 <- that looks like a bug","date":"2012-06-12T23:24:07.784Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: why not?","date":"2012-06-12T23:24:28.832Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: how so?","date":"2012-06-12T23:24:34.501Z","type":"message"}
{"nick":"piscisaureus_","message":"(re the process bug)","date":"2012-06-12T23:24:40.327Z","type":"message"}
{"nick":"bnoordhuis","message":"what is this endgame queue you speak of?","date":"2012-06-12T23:24:40.524Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ah, you removed the endgame queue from unix ?","date":"2012-06-12T23:24:53.528Z","type":"message"}
{"nick":"bnoordhuis","message":"if (stream->type = UV_TTY) { <- assignment, not comparison","date":"2012-06-12T23:24:56.453Z","type":"message"}
{"nick":"piscisaureus_","message":"h, YES","date":"2012-06-12T23:25:19.763Z","type":"message"}
{"nick":"bnoordhuis","message":"YES <- that's what she said","date":"2012-06-12T23:25:37.308Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: re that commit, lgty or not?","date":"2012-06-12T23:26:24.945Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I don't mind you initializing handle->endgame_next","date":"2012-06-12T23:26:57.107Z","type":"message"}
{"nick":"piscisaureus_","message":"or whatever","date":"2012-06-12T23:27:00.544Z","type":"message"}
{"nick":"bnoordhuis","message":"is that a lgtm?","date":"2012-06-12T23:27:20.870Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but I wonder why you don't init the similar-in-purpose list that unix uses","date":"2012-06-12T23:27:25.583Z","type":"message"}
{"nick":"bnoordhuis","message":"what list?","date":"2012-06-12T23:27:48.139Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, i understand the confusion :)","date":"2012-06-12T23:28:08.637Z","type":"message"}
{"nick":"bnoordhuis","message":"read carefully, young grashopper: #ifndef _WIN32","date":"2012-06-12T23:28:17.845Z","type":"message"}
{"nick":"piscisaureus_","message":"ha!","date":"2012-06-12T23:28:35.225Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-12T23:28:39.576Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-06-12T23:28:42.454Z","type":"message"}
{"nick":"piscisaureus_","message":"lgtm","date":"2012-06-12T23:28:43.356Z","type":"message"}
{"nick":"bnoordhuis","message":"cool :)","date":"2012-06-12T23:28:46.810Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000295e89c6\u000f \u000310\u000f/ (14 files in 3 dirs)\u0002:\u000f unix, windows: share uv__handle_init() - http://git.io/nFEVDg","date":"2012-06-12T23:29:56.456Z","type":"message"}
{"nick":"CIA-108","message":"\u0002libuv:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u00029f44b0e\u000f \u000310\u000f/ src/win/process.c \u0002:\u000f windows: fix serious typo in init_child_stdio - http://git.io/MS0tIw","date":"2012-06-12T23:31:39.404Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: mind if I upgrade libuv in node again?","date":"2012-06-12T23:31:53.050Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: not at all","date":"2012-06-12T23:32:04.372Z","type":"message"}
{"nick":"piscisaureus_","message":"lemme run the uv tests once more before doing that","date":"2012-06-12T23:32:30.547Z","type":"message"}
{"nick":"bnoordhuis","message":"that's always a good idea :)","date":"2012-06-12T23:32:45.205Z","type":"message"}
{"nick":"piscisaureus_","message":"+156 -0","date":"2012-06-12T23:33:33.961Z","type":"message"}
{"nick":"piscisaureus_","message":"\\o","date":"2012-06-12T23:33:44.083Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Bert Belder\u000f \u000307master\u000f * r\u0002e4f4c63\u000f \u000310\u000f/ (14 files in 3 dirs)\u0002:\u000f uv: upgrade to 9f44b0e3 - http://git.io/sOX9rg","date":"2012-06-12T23:37:25.364Z","type":"message"}
{"nick":"piscisaureus_","message":"Node on windows: 20 failures left","date":"2012-06-12T23:37:28.195Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: do you know what test-eio-limit is supposed to test?","date":"2012-06-12T23:39:31.996Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-12T23:39:46.435Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#407 (master - 95e89c6 : Ben Noordhuis): The build passed.","date":"2012-06-12T23:39:46.635Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/b7e150ee917c...95e89c6a0efe","date":"2012-06-12T23:39:46.635Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1606032","date":"2012-06-12T23:39:46.635Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-12T23:39:46.635Z","type":"part"}
{"nick":"c4milo","date":"2012-06-12T23:40:39.946Z","type":"join"}
{"nick":"travis-ci","date":"2012-06-12T23:41:34.813Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#408 (master - 9f44b0e : Bert Belder): The build passed.","date":"2012-06-12T23:41:35.007Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/95e89c6a0efe...9f44b0e393f6","date":"2012-06-12T23:41:35.008Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1606034","date":"2012-06-12T23:41:35.008Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-12T23:41:35.008Z","type":"part"}
{"nick":"piscisaureus_","message":"aah hmm","date":"2012-06-12T23:48:33.800Z","type":"message"}
{"nick":"piscisaureus_","message":"node should make inherited stdios non-inheritable","date":"2012-06-12T23:48:50.999Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: hey, what would you prefer:","date":"2012-06-12T23:51:44.042Z","type":"message"}
{"nick":"piscisaureus_","message":"make all inherited fds noninheritable -","date":"2012-06-12T23:51:44.241Z","type":"message"}
{"nick":"piscisaureus_","message":"* uv_init() does that automatically, or...","date":"2012-06-12T23:51:44.241Z","type":"message"}
{"nick":"piscisaureus_","message":"* have some explicit function for that, or...","date":"2012-06-12T23:51:44.241Z","type":"message"}
{"nick":"piscisaureus_","message":"* have it done by uv_pipe_open / uv_tty_open ?","date":"2012-06-12T23:51:44.241Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I understand that on unix the problem is kinda different. The likelihood of \"accidentally\" inheriting a stdio fd is small because generally you would dup2 something else over it. Also, on unix there is no way to tell which fds are inherited.","date":"2012-06-12T23:51:44.943Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yes. so i don't quite understand the problem :)","date":"2012-06-12T23:53:34.362Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ok, here's the problem","date":"2012-06-12T23:53:41.046Z","type":"message"}
{"nick":"piscisaureus_","message":"test-child-process-detached","date":"2012-06-12T23:53:48.270Z","type":"message"}
{"nick":"piscisaureus_","message":"it spawns a process, which spawns another, which spawns another","date":"2012-06-12T23:54:04.473Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but the first process never exits","date":"2012-06-12T23:54:20.146Z","type":"message"}
{"nick":"piscisaureus_","message":"because the child_process.stdout/err streams keep the loop alive","date":"2012-06-12T23:54:32.861Z","type":"message"}
{"nick":"AvianFlu","message":"piscisaureus_, I noticed that late last night.  for some reason if you change process.on('exit') to child.on('exit') it'll work","date":"2012-06-12T23:54:45.199Z","type":"message"}
{"nick":"piscisaureus_","message":"because they are accidentally inherited by the 3rd process","date":"2012-06-12T23:54:49.903Z","type":"message"}
{"nick":"AvianFlu","message":"wellï¿½ it won't hang","date":"2012-06-12T23:55:04.201Z","type":"message"}
{"nick":"piscisaureus_","message":"AvianFlu: well, I know what the problem is :-)","date":"2012-06-12T23:55:22.656Z","type":"message"}
{"nick":"piscisaureus_","message":"It has been reported by some microsoft israel guys a couple of months ago actually","date":"2012-06-12T23:55:38.028Z","type":"message"}
{"nick":"AvianFlu","message":"oh yeah, I remember that issue","date":"2012-06-12T23:55:45.036Z","type":"message"}
{"nick":"piscisaureus_","message":"I can make the same happen on unix, actually","date":"2012-06-12T23:56:49.342Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: if that helps you understand the problem","date":"2012-06-12T23:56:56.597Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i'm listening","date":"2012-06-12T23:58:29.171Z","type":"message"}
{"nick":"bnoordhuis","message":"but i think i got the gist of it","date":"2012-06-12T23:58:38.022Z","type":"message"}
{"nick":"bnoordhuis","message":"so why does that child process inherit stdio fds in the first place?","date":"2012-06-12T23:59:28.696Z","type":"message"}
