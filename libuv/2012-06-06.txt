{"nick":"piscisaureus_","message":"lemme see","date":"2012-06-06T00:00:04.714Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: https://github.com/tjfontaine/node-vlc/blob/master/examples/vlc.js run as: node vlc.js /dev/null","date":"2012-06-06T00:00:32.426Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: what's that v8.log from that you pasted earlier?","date":"2012-06-06T00:00:59.739Z","type":"message"}
{"nick":"TooTallNate","message":"woah, vlc, nice :)","date":"2012-06-06T00:01:01.043Z","type":"message"}
{"nick":"TooTallNate","action":"looking","date":"2012-06-06T00:01:03.233Z","type":"action"}
{"nick":"tjfontaine","message":"heh, it's young for now :)","date":"2012-06-06T00:01:17.858Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: I had something else implemented that basically just wrapped CreatePipe and pipe2, but that turned out not to be flexible enough","date":"2012-06-06T00:01:18.750Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis It seems to log all LoadIC and StoreIC twice, *or* it actually does them twice","date":"2012-06-06T00:01:41.542Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: hmm","date":"2012-06-06T00:02:17.435Z","type":"message"}
{"nick":"tjfontaine","message":"oh I didn't realize I could DEBUG=ref, lemme see if this verifies my theory","date":"2012-06-06T00:02:22.439Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: how would you suggest use use this","date":"2012-06-06T00:02:24.580Z","type":"message"}
{"nick":"piscisaureus_","message":"like","date":"2012-06-06T00:03:06.012Z","type":"message"}
{"nick":"piscisaureus_","message":"stdio_containers[0].flags = UV_DUAL_PIPE","date":"2012-06-06T00:03:06.234Z","type":"message"}
{"nick":"piscisaureus_","message":"... and then ?","date":"2012-06-06T00:03:06.234Z","type":"message"}
{"nick":"loladiro","message":"basically, you create an empty uv_dual_pipe_t whenever you need explicit control over the other file end too. ","date":"2012-06-06T00:03:15.554Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: DEBUG=ref*","date":"2012-06-06T00:03:19.425Z","type":"message"}
{"nick":"loladiro","message":"uv_spawn lazily creates the rest","date":"2012-06-06T00:03:23.121Z","type":"message"}
{"nick":"TooTallNate","message":"don't forget the * ;)","date":"2012-06-06T00:03:26.410Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: i'm trying out your example now though","date":"2012-06-06T00:03:32.929Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: ok","date":"2012-06-06T00:04:06.549Z","type":"message"}
{"nick":"loladiro","message":"basically it allows reusing the same fds/handles which is something we need for Julia","date":"2012-06-06T00:04:21.242Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: yeah, I know what you need :-)","date":"2012-06-06T00:04:58.393Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: but I was wonderhing how libuv would do the lazy creation of the pipe","date":"2012-06-06T00:06:01.022Z","type":"message"}
{"nick":"piscisaureus_","message":"like you have","date":"2012-06-06T00:06:03.339Z","type":"message"}
{"nick":"loladiro","message":"so, for example, you create a uv_dual_pipe_t with UV_STREAM_READ_PIPE and give it an uninitialized pipe. Then you pass that to two calls of uv_spawn, the first one of which initialized the uv_pipe_t and saves the other handle/fd in the uv_dual_pipe_t structure and the second one just reuses that","date":"2012-06-06T00:06:23.557Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_spawn(yyy); // <-- is the pipe created here","date":"2012-06-06T00:06:25.482Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_spawn(zzz);  // <-- or there","date":"2012-06-06T00:06:25.708Z","type":"message"}
{"nick":"loladiro","message":"In the first one","date":"2012-06-06T00:06:34.660Z","type":"message"}
{"nick":"piscisaureus_","message":"ah ok","date":"2012-06-06T00:06:38.865Z","type":"message"}
{"nick":"loladiro","message":"whenever you use it first","date":"2012-06-06T00:06:42.253Z","type":"message"}
{"nick":"piscisaureus_","message":"so why can we not have","date":"2012-06-06T00:06:42.523Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, ok, I see","date":"2012-06-06T00:07:43.045Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-06T00:09:53.785Z","type":"quit"}
{"nick":"TooTallNate","message":"tjfontaine: do you know which version of VLC I need?","date":"2012-06-06T00:10:15.363Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: so, let's consider","date":"2012-06-06T00:10:17.754Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_pipe_t pipe1, pipe2","date":"2012-06-06T00:10:17.974Z","type":"message"}
{"nick":"piscisaureus_","message":"uv_pipe2_init(&pipe1, &pipe2, UV_PIPE_SAFE | UV_PIPE_DUPLEX);","date":"2012-06-06T00:10:17.974Z","type":"message"}
{"nick":"piscisaureus_","message":"spawn(yyy) // pipe1 as stdout","date":"2012-06-06T00:10:17.974Z","type":"message"}
{"nick":"piscisaureus_","message":"spawn(zzz) // pipe2 as stdin","date":"2012-06-06T00:10:17.974Z","type":"message"}
{"nick":"piscisaureus_","message":"...","date":"2012-06-06T00:10:17.974Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: the problem would be closing the pipes, right?","date":"2012-06-06T00:10:25.706Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: apparently I don't have \"libvlc_set_exit_handler\" in mine","date":"2012-06-06T00:10:27.324Z","type":"message"}
{"nick":"c4milo","date":"2012-06-06T00:10:42.244Z","type":"join"}
{"nick":"piscisaureus_","message":"because you have to uv_close, which means you have wait for the close callback before freeing, which mean you can't allocate them on the stack, yadda yadda","date":"2012-06-06T00:11:23.102Z","type":"message"}
{"nick":"loladiro","message":"you can allocate the uv_dual_pipe_t on the stack. Just no the uninitialized un_pipe_t","date":"2012-06-06T00:12:24.712Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u000228e851c\u000f \u000310\u000f/ (lib/repl.js test/simple/test-repl.js)\u0002:\u000f Warn about running npm in the repl - http://git.io/mhr-mw","date":"2012-06-06T00:12:30.337Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: so, yeah, the downside is that this introduces more api","date":"2012-06-06T00:13:00.797Z","type":"message"}
{"nick":"piscisaureus_","message":"like, significantly more. A new type, new concepts","date":"2012-06-06T00:13:13.623Z","type":"message"}
{"nick":"loladiro","message":"yeah, that's the problem","date":"2012-06-06T00:13:47.455Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: so maybe we could do something where you just init two real libuv pipe objects","date":"2012-06-06T00:13:48.444Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: oh, can you just comment it out?","date":"2012-06-06T00:13:51.801Z","type":"message"}
{"nick":"piscisaureus_","message":"but we give you some way to free them without using a close callback","date":"2012-06-06T00:14:01.987Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: I have been testing with 2.0.1 on osx","date":"2012-06-06T00:14:03.368Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: ya, that's what i've been doing, there's a bunch missing though","date":"2012-06-06T00:14:14.476Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-06T00:14:20.869Z","type":"quit"}
{"nick":"TooTallNate","message":"i'll update my old add VLC :p","date":"2012-06-06T00:14:21.089Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-06-06T00:14:30.478Z","type":"message"}
{"nick":"isaacs","date":"2012-06-06T00:14:39.200Z","type":"join"}
{"nick":"mmalecki","date":"2012-06-06T00:15:15.040Z","type":"join"}
{"nick":"c4milo_","date":"2012-06-06T00:15:17.220Z","type":"join"}
{"nick":"piscisaureus_","message":"loladiro: what are the `uv_stream_t* pipe` fields for?","date":"2012-06-06T00:15:36.048Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: Sometimes we need to create a real uv_pipe_t (i.e. an overlapped pipe on windows)","date":"2012-06-06T00:16:10.597Z","type":"message"}
{"nick":"loladiro","message":"I guess it should be uv_pipe_t instead of uv_stream_t","date":"2012-06-06T00:16:30.561Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: aaah","date":"2012-06-06T00:16:44.102Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: so you propose a function that creates an connected pipe with two ends","date":"2012-06-06T00:17:37.163Z","type":"message"}
{"nick":"piscisaureus_","message":"and for either end you would specify whether you want a raw fd, or a real uv_pipe_t object?","date":"2012-06-06T00:17:59.228Z","type":"message"}
{"nick":"loladiro","message":"yes","date":"2012-06-06T00:18:08.138Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: do you have an api in mind for this function?","date":"2012-06-06T00:18:23.038Z","type":"message"}
{"nick":"loladiro","message":"I wanted to have us_spawn to it, but it could be a separate function too","date":"2012-06-06T00:18:45.342Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-06-06T00:19:14.786Z","type":"quit"}
{"nick":"loladiro","message":"*uv_spawn of course","date":"2012-06-06T00:19:15.225Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: ok, that could be... but if you do that, how would you turn one end into a real uv_pipe_t ?","date":"2012-06-06T00:19:16.217Z","type":"message"}
{"nick":"piscisaureus_","message":"like, if it is all done by uv_spawn?","date":"2012-06-06T00:19:28.908Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-06-06T00:19:38.201Z","type":"quit"}
{"nick":"loladiro","message":"you specify which end needs to be a real pipe and then you can do it with dual_pipe.write.pipe","date":"2012-06-06T00:19:59.875Z","type":"message"}
{"nick":"piscisaureus_","message":"ah, right","date":"2012-06-06T00:20:27.820Z","type":"message"}
{"nick":"c4milo","date":"2012-06-06T00:21:16.198Z","type":"join"}
{"nick":"piscisaureus_","message":"lemme think for a sec","date":"2012-06-06T00:21:39.474Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.19-release\u000f * r\u00026cc8ffe\u000f \u000310\u000f/ (243 files in 21 dirs)\u0002:\u000f Upgrade npm to 1.1.24 - http://git.io/i-wEYw","date":"2012-06-06T00:24:27.390Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.19-release\u000f * r\u0002f077935\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f 2012.06.06 Version 0.6.19 (stable) - http://git.io/PkXLFQ","date":"2012-06-06T00:24:27.613Z","type":"message"}
{"nick":"ArmyOfBruce","date":"2012-06-06T00:24:39.675Z","type":"join"}
{"nick":"TooTallNate","message":"tjfontaine: i see the problem now :)","date":"2012-06-06T00:24:55.438Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: my fault? :)","date":"2012-06-06T00:25:42.204Z","type":"message"}
{"nick":"TooTallNate","message":"no, my fault :D i just added that null-pointer -> JS null functionality the other day","date":"2012-06-06T00:26:07.963Z","type":"message"}
{"nick":"TooTallNate","message":"need to do a release for `ref`","date":"2012-06-06T00:26:17.013Z","type":"message"}
{"nick":"TooTallNate","message":"one sec","date":"2012-06-06T00:26:18.824Z","type":"message"}
{"nick":"tjfontaine","message":"k","date":"2012-06-06T00:26:22.705Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: and when that's all done you can tell me if I'm crazy for my pull request on ffi :)","date":"2012-06-06T00:27:42.461Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: ya, so try ref@0.0.17, should work now","date":"2012-06-06T00:29:02.965Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: and re: pull request. it looks pretty good, but i'm really on the fence due to the fact that i tagged v1.0.0 like a week ago :p","date":"2012-06-06T00:29:25.674Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2012-06-06T00:29:55.544Z","type":"message"}
{"nick":"tjfontaine","message":"excellent, seems fixed now, thanks TooTallNate ","date":"2012-06-06T00:31:00.244Z","type":"message"}
{"nick":"vtjnash","date":"2012-06-06T00:31:15.560Z","type":"join"}
{"nick":"TooTallNate","message":"tjfontaine: nice! cool project btw. I'll keep my eye on it ;)","date":"2012-06-06T00:31:24.326Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: heh, I hit one small wart with it, and I'm not sure how I feel about it, libvlc traps signals, so it kinda makes your life uninterruptible","date":"2012-06-06T00:32:01.657Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: I was more impressed that my ffi generator still worked :)","date":"2012-06-06T00:33:14.897Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: so what are the implications of that (trapping signals)?","date":"2012-06-06T00:34:46.545Z","type":"message"}
{"nick":"tjfontaine","message":"well, it'd be nice if you could ^C the son of a bitch :P","date":"2012-06-06T00:35:19.934Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: what about https://gist.github.com/2879135 ?","date":"2012-06-06T00:36:43.494Z","type":"message"}
{"nick":"isaacs","message":"test, please: http://nodejs.org/dist/v0.6.19/node-v0.6.19-RC0.tar.gz","date":"2012-06-06T00:37:03.268Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: I don't really like the way spawn() interacts with pipes right now","date":"2012-06-06T00:37:04.163Z","type":"message"}
{"nick":"piscisaureus_","message":"what I don't like about my proposal is uv_pipe_close_sync :-(","date":"2012-06-06T00:38:02.468Z","type":"message"}
{"nick":"piscisaureus_","message":"c'mon isaacs... I am trying to shift my day/night rythm to normal hours","date":"2012-06-06T00:38:34.951Z","type":"message"}
{"nick":"piscisaureus_","message":":-p","date":"2012-06-06T00:38:40.434Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: test tomorrow :)","date":"2012-06-06T00:38:53.169Z","type":"message"}
{"nick":"piscisaureus_","message":"ok","date":"2012-06-06T00:38:58.347Z","type":"message"}
{"nick":"piscisaureus_","message":"that's fine","date":"2012-06-06T00:39:01.381Z","type":"message"}
{"nick":"isaacs","message":"oh, i think there's a v8 update.  shoot.","date":"2012-06-06T00:39:19.081Z","type":"message"}
{"nick":"isaacs","message":"ok, there'll be a RC1 anyway :)","date":"2012-06-06T00:39:26.183Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: you should move to europe. It'd be better if we all live in the same time zone.","date":"2012-06-06T00:39:41.169Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i think that you're half-right.","date":"2012-06-06T00:40:47.638Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I hear good stories about Somalia as well. Time zone wise, it's probably close enough","date":"2012-06-06T00:40:48.597Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: you guys should move to California","date":"2012-06-06T00:41:02.072Z","type":"message"}
{"nick":"isaacs","message":"instead of snow, we have incredible mexican food.","date":"2012-06-06T00:41:10.580Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: Presumably, one couldn't start reading a pipe that was created with PIPE_SPAWN_SAFE, right? I'm wondering whether it's good to use uv_pipe_t to encapsulate both types of pipes","date":"2012-06-06T00:41:18.452Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: yes, that would be possible.","date":"2012-06-06T00:41:36.256Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: besides, igorzi is in US Pacific time.  there is just hte problem of indutny.","date":"2012-06-06T00:41:52.007Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: it just wouldn't be optimal from a scalability POV","date":"2012-06-06T00:41:55.729Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: as they say, omsk is a lovely town, but it's a very long walk.","date":"2012-06-06T00:42:00.180Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: Wouldn't it require synchronous reads or something as it's not an overlapped pipe on windows?","date":"2012-06-06T00:42:27.833Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: there's better ways to convince than the californian food","date":"2012-06-06T00:42:33.481Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: yeah, so we'd do it on the thread pool","date":"2012-06-06T00:42:44.008Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: Ah, makes sense. I suppose that would be a good solution then","date":"2012-06-06T00:43:07.667Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: the same as stdin/stdout/stderr is usually handled (because the pipe we'd get from our parent is synchronous too, usually","date":"2012-06-06T00:43:10.576Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yes, there are better ways.","date":"2012-06-06T00:43:10.798Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: there's also the sunshine.","date":"2012-06-06T00:43:18.407Z","type":"message"}
{"nick":"AvianFlu","message":"isaacs, two consistent failures for you: https://gist.github.com/4a8d30f67282f9896b02","date":"2012-06-06T00:43:27.266Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so you are a fan of Drs. P too, now?","date":"2012-06-06T00:43:44.869Z","type":"message"}
{"nick":"isaacs","message":"Drs. P?","date":"2012-06-06T00:44:09.648Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: That seems like a good solution to me. Do you want to implement that, or do you want me to?","date":"2012-06-06T00:44:26.096Z","type":"message"}
{"nick":"mikeal","date":"2012-06-06T00:44:27.089Z","type":"join"}
{"nick":"piscisaureus_","message":"loladiro: I don't really have a problem with your api, but I don't like adding functions and types. (and if anything I prefer more functions over more types) :-)","date":"2012-06-06T00:44:58.529Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: do you think you could?","date":"2012-06-06T00:45:04.669Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-06-06T00:45:17.145Z","type":"quit"}
{"nick":"piscisaureus_","message":"loladiro: in that case, I prefer you to do it. But start with one platform","date":"2012-06-06T00:45:18.953Z","type":"message"}
{"nick":"loladiro","message":"piscisaureus_: Hmm, I could take a shot at it. Would you want the pipes to still be created inside uv_spawn?","date":"2012-06-06T00:45:45.451Z","type":"message"}
{"nick":"isaacs","message":"oh, wait a second, you already updated v8 to 3.6.6.25","date":"2012-06-06T00:45:46.535Z","type":"message"}
{"nick":"isaacs","message":"i'm a doof.","date":"2012-06-06T00:45:49.908Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: this is your chance for eternal fame in the libuv commit logs. But beware... we are review nazi's (well, bnoordhuis is)","date":"2012-06-06T00:46:08.192Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: well, just keep that as it is","date":"2012-06-06T00:46:19.464Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: the actual pipe should be created bu uv_pipe_link I think","date":"2012-06-06T00:46:54.592Z","type":"message"}
{"nick":"piscisaureus_","message":"like, the fds/HANDLEs","date":"2012-06-06T00:47:01.100Z","type":"message"}
{"nick":"loladiro","message":"That's what I though too","date":"2012-06-06T00:47:03.230Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: if this works out well I might remove the UV_CREATE_PIPE flag even","date":"2012-06-06T00:47:27.981Z","type":"message"}
{"nick":"piscisaureus_","message":"because I like this api better","date":"2012-06-06T00:47:32.496Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.19-release\u000f * r\u0002e5d3ea7\u000f \u000310\u000f/ (249 files in 23 dirs)\u0002:\u000f Upgrade npm to 1.1.24 - http://git.io/zwfwbg","date":"2012-06-06T00:47:38.923Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6.19-release\u000f * r\u0002debf552\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f 2012.06.06 Version 0.6.19 (stable) - http://git.io/Yg_u6Q","date":"2012-06-06T00:47:39.364Z","type":"message"}
{"nick":"piscisaureus_","message":"except for the uv_pipe_close_sync api but I guess we'll have to live with it","date":"2012-06-06T00:47:46.737Z","type":"message"}
{"nick":"loladiro","message":"So, if we don't call uv_pipe_link, will the pipe by be created by uv_spawn?","date":"2012-06-06T00:48:20.956Z","type":"message"}
{"nick":"loladiro","message":"i.e. if the pipe has an invalid file descriptor","date":"2012-06-06T00:48:31.654Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-06T00:48:43.506Z","type":"quit"}
{"nick":"piscisaureus_","message":"loladiro: well, no, uv_spawn will send you some terrible insults","date":"2012-06-06T00:48:49.343Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: unless (in the current API) UV_CREATE_PIPE is specified","date":"2012-06-06T00:49:01.936Z","type":"message"}
{"nick":"loladiro","message":"Right, so how would we handle the case where we only need one pipe then","date":"2012-06-06T00:49:25.053Z","type":"message"}
{"nick":"loladiro","message":"(if we want to get rid of UV_CREATE_PIPE)","date":"2012-06-06T00:49:35.159Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: re: omsk is a nice town but its a long walk\" <-- that's what Drs. P said. It sounds better in dutch","date":"2012-06-06T00:49:56.530Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: a sec. /me typing","date":"2012-06-06T00:50:07.351Z","type":"message"}
{"nick":"loladiro","message":"sure","date":"2012-06-06T00:50:11.860Z","type":"message"}
{"nick":"loladiro","message":"another thing to consider maybe is the overhead of an extra uv_pipe_t when all you need is a raw fd. I don't know how big uv_pipe_t is atm","date":"2012-06-06T00:51:55.644Z","type":"message"}
{"nick":"bnoordhuis","message":"also, beware of wolves along the way","date":"2012-06-06T00:52:02.431Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: https://gist.github.com/2879181","date":"2012-06-06T00:52:07.424Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: well, if you stack allocate them then it's probably fine","date":"2012-06-06T00:52:22.463Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: an uv_pipe_t is a couple of 100 bytes but stack space is sort of free","date":"2012-06-06T00:52:42.328Z","type":"message"}
{"nick":"loladiro","message":"I suppose","date":"2012-06-06T00:52:58.903Z","type":"message"}
{"nick":"piscisaureus_","message":"at worst, uv_pipe_init memsets the entire thing","date":"2012-06-06T00:53:01.929Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: I know - for a while I was worried about that too","date":"2012-06-06T00:53:17.363Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: but considering that spawn takes like 5 ms or so, I don't think setting a couple of bytes really matters","date":"2012-06-06T00:54:00.942Z","type":"message"}
{"nick":"loladiro","message":"hmm good point","date":"2012-06-06T00:54:29.961Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: but if you have a better idea for a nice and clean api, then I am still open for it.","date":"2012-06-06T00:54:41.304Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: the alternative would be to just create raw OS handles","date":"2012-06-06T00:55:02.468Z","type":"message"}
{"nick":"piscisaureus_","message":"and provide an API to turn that into a real libuv pipe","date":"2012-06-06T00:55:25.667Z","type":"message"}
{"nick":"piscisaureus_","message":"that api exists, btw - uv_pipe_open","date":"2012-06-06T00:55:39.072Z","type":"message"}
{"nick":"piscisaureus_","message":"the only downside is that it takes an fd which is not ideal on windows, but that is something that could be easily fixed","date":"2012-06-06T00:55:59.225Z","type":"message"}
{"nick":"loladiro","message":"I'm rather reluctant to create raw fs handles outside of libuv (I have no problem passing them around though)","date":"2012-06-06T00:58:08.862Z","type":"message"}
{"nick":"loladiro","message":"*fds","date":"2012-06-06T00:58:17.184Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-06-06T00:59:22.648Z","type":"message"}
{"nick":"piscisaureus_","message":"you'd also need uv_close_os_pipe(x)","date":"2012-06-06T00:59:32.679Z","type":"message"}
{"nick":"piscisaureus_","message":"meh","date":"2012-06-06T00:59:34.704Z","type":"message"}
{"nick":"loladiro","message":"I'm not sure what the best solution here is","date":"2012-06-06T01:00:38.508Z","type":"message"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-06-06T01:02:30.078Z","type":"quit"}
{"nick":"mmalecki_","date":"2012-06-06T01:02:33.574Z","type":"join"}
{"nick":"piscisaureus_","message":"loladiro: in the end it's just a matter of making a decision, and then do it","date":"2012-06-06T01:03:16.711Z","type":"message"}
{"nick":"piscisaureus_","message":"and then stick to it until you know something better","date":"2012-06-06T01:03:28.566Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: so, were you planning to start working on it anytime soon? Like now, or tomorrow?","date":"2012-06-06T01:03:51.722Z","type":"message"}
{"nick":"loladiro","message":"yeah","date":"2012-06-06T01:03:57.159Z","type":"message"}
{"nick":"loladiro","message":"It's one of two things that's missing for libuv in Julia and the second thing kinda depends on this work to be done","date":"2012-06-06T01:04:32.315Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 256 seconds","date":"2012-06-06T01:05:36.990Z","type":"quit"}
{"nick":"isaacs","message":"AvianFlu: simple/test-net-pipe-connect-errors fails on Linux in 0.6.18 as well, i'm not too worried about it","date":"2012-06-06T01:06:22.804Z","type":"message"}
{"nick":"isaacs","message":"i'm also seeing test-dgram-broadcast-multi-process fail on 0.6.18 and 0.6.19 on CentOS","date":"2012-06-06T01:06:40.895Z","type":"message"}
{"nick":"AvianFlu","message":"those weren't on linux","date":"2012-06-06T01:06:45.728Z","type":"message"}
{"nick":"AvianFlu","message":"the ones I gisted","date":"2012-06-06T01:06:49.670Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: kewl. I suggest you do it the uv_pipe_link way. Feel free to adapt the api of you see any oversights, but try to keep it simple and consistent :-)","date":"2012-06-06T01:07:14.373Z","type":"message"}
{"nick":"loladiro","message":"ok. I'll let you know","date":"2012-06-06T01:07:37.338Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: oh, really?","date":"2012-06-06T01:08:04.967Z","type":"message"}
{"nick":"AvianFlu","message":"no, I got a macbook since the last time I ran tests for y'all :D","date":"2012-06-06T01:08:17.641Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: oh, that's mac","date":"2012-06-06T01:08:25.282Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2012-06-06T01:08:28.469Z","type":"message"}
{"nick":"AvianFlu","message":"I'm rebooting the linux laptop now","date":"2012-06-06T01:08:28.692Z","type":"message"}
{"nick":"AvianFlu","message":"but regardless, 0.6.18 seems like it's behaving the same","date":"2012-06-06T01:08:35.737Z","type":"message"}
{"nick":"isaacs","message":" /Users is the giveaway","date":"2012-06-06T01:08:40.151Z","type":"message"}
{"nick":"isaacs","message":"instead of /home","date":"2012-06-06T01:08:43.806Z","type":"message"}
{"nick":"AvianFlu","message":"yeah, generally","date":"2012-06-06T01:08:46.203Z","type":"message"}
{"nick":"piscisaureus_","message":"loladiro: if you can manage, try to talk me a little earlier. I try to stop working during the night.","date":"2012-06-06T01:09:32.879Z","type":"message"}
{"nick":"isaacs","message":"AvianFlu: hm, those pass for me on os x","date":"2012-06-06T01:09:41.534Z","type":"message"}
{"nick":"isaacs","message":"i'm getting 0 failures on mac, actually, which is kind of odd and makes me afraid.","date":"2012-06-06T01:09:53.527Z","type":"message"}
{"nick":"piscisaureus_","message":"ok, guys, I'm gone","date":"2012-06-06T01:10:03.287Z","type":"message"}
{"nick":"piscisaureus_","message":"laterr","date":"2012-06-06T01:10:05.295Z","type":"message"}
{"nick":"AvianFlu","message":"I'm on osx 10.7.4, and those fail the same on 0.6.18 and the 0.6.19 rc","date":"2012-06-06T01:10:14.455Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-06-06T01:10:23.757Z","type":"quit"}
{"nick":"isaacs","message":"kewl.  yeah, it looks pretty good.","date":"2012-06-06T01:10:25.109Z","type":"message"}
{"nick":"isaacs","message":"[01:15|% 100|+ 349|-   2]: Done                                                ","date":"2012-06-06T01:15:50.189Z","type":"message"}
{"nick":"isaacs","message":"smartos ^","date":"2012-06-06T01:15:53.297Z","type":"message"}
{"nick":"isaacs","message":"same 2 failures we always say, s/\"rename\"/\"change\"/ because apparently i cba to fix that test.","date":"2012-06-06T01:16:06.514Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-06-06T01:17:16.546Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-06T01:18:14.850Z","type":"part"}
{"nick":"AvianFlu","message":"isaacs, everything passed on linux except for message/stack_overflow, which isn't news either","date":"2012-06-06T01:18:40.796Z","type":"message"}
{"nick":"ryah","message":"isaacs: RC0 on x64 linux - [20:30|% 100|+ 762|-   8]: Done ","date":"2012-06-06T01:19:07.434Z","type":"message"}
{"nick":"mmalecki_","reason":"Quit: leaving","date":"2012-06-06T01:20:03.235Z","type":"quit"}
{"nick":"isaacs","message":"ryah: wowzers.","date":"2012-06-06T01:20:57.468Z","type":"message"}
{"nick":"isaacs","message":"ryah: what kind of linux?","date":"2012-06-06T01:21:03.823Z","type":"message"}
{"nick":"ryah","message":"ubuntu","date":"2012-06-06T01:21:10.053Z","type":"message"}
{"nick":"isaacs","message":"hm.","date":"2012-06-06T01:21:20.004Z","type":"message"}
{"nick":"ryah","message":"https://gist.github.com/3a6718b7ad0a0ed1f33e","date":"2012-06-06T01:23:54.804Z","type":"message"}
{"nick":"dshaw_","date":"2012-06-06T01:24:03.065Z","type":"join"}
{"nick":"isaacs","message":"hm.  the debugger stuff is not terribly surprising, but the tls stuff worries me a little bit.","date":"2012-06-06T01:25:32.635Z","type":"message"}
{"nick":"mjr_","message":"Poor TLS needs a lot of love.","date":"2012-06-06T01:26:01.804Z","type":"message"}
{"nick":"ryah","message":"test/pummel/test-tls-ci-reneg-attack.js fails always","date":"2012-06-06T01:27:48.839Z","type":"message"}
{"nick":"ryah","message":"both release and debug","date":"2012-06-06T01:28:10.143Z","type":"message"}
{"nick":"isaacs","message":"yeah, that's what's worrying","date":"2012-06-06T01:28:35.909Z","type":"message"}
{"nick":"isaacs","message":"it works on centos.","date":"2012-06-06T01:28:39.928Z","type":"message"}
{"nick":"isaacs","message":"i'm spinning up an ubuntu drone now","date":"2012-06-06T01:28:46.359Z","type":"message"}
{"nick":"ryah","message":"% openssl version  ","date":"2012-06-06T01:29:50.546Z","type":"message"}
{"nick":"ryah","message":"OpenSSL 1.0.1 14 Mar 2012","date":"2012-06-06T01:29:50.780Z","type":"message"}
{"nick":"ryah","message":"cutting edge!","date":"2012-06-06T01:30:13.583Z","type":"message"}
{"nick":"mjr_","message":"woah","date":"2012-06-06T01:30:31.439Z","type":"message"}
{"nick":"mjr_","message":"So modern.","date":"2012-06-06T01:30:34.505Z","type":"message"}
{"nick":"ryah","message":"i just run aptitude update all day long now that i have so much free time :)","date":"2012-06-06T01:30:54.304Z","type":"message"}
{"nick":"isaacs","action":"compiling the universe","date":"2012-06-06T01:31:27.224Z","type":"action"}
{"nick":"mjr_","message":"Hey, we figured out that openssl on our old Linux machines was using some kind of better x86 magic so all crypto operations ran faster there than they do on SmartOS.","date":"2012-06-06T01:31:29.243Z","type":"message"}
{"nick":"mjr_","message":"sad face","date":"2012-06-06T01:31:31.210Z","type":"message"}
{"nick":"isaacs","message":"mjr_: yeah, that's something you should get some joyent folks to fix.","date":"2012-06-06T01:31:55.934Z","type":"message"}
{"nick":"isaacs","message":"mjr_: i think rmustacc was looking into it","date":"2012-06-06T01:32:06.583Z","type":"message"}
{"nick":"mjr_","message":"Yeah, bmc told me that rmustacc was on it, but I'm not sure what the latest is.","date":"2012-06-06T01:32:28.567Z","type":"message"}
{"nick":"ryah","message":"mjr_: AES instructions?","date":"2012-06-06T01:32:30.130Z","type":"message"}
{"nick":"isaacs","message":"ryah: what do you have to apt-get to get openssl?","date":"2012-06-06T01:32:47.576Z","type":"message"}
{"nick":"mjr_","message":"ryah: it seems to be ALL crypto ops.","date":"2012-06-06T01:32:48.754Z","type":"message"}
{"nick":"isaacs","message":"ssl?  ssl-dev?  libssl-dev-headersopen++?","date":"2012-06-06T01:32:57.622Z","type":"message"}
{"nick":"AvianFlu","message":"isaacs, libssl-dev I think","date":"2012-06-06T01:32:59.892Z","type":"message"}
{"nick":"mjr_","message":"We use MD5 as part of our hash ring protocol, and MD5 is a lot faster right now on Linux than it is on SmartOS.","date":"2012-06-06T01:33:10.126Z","type":"message"}
{"nick":"isaacs","message":"sweet, thanks","date":"2012-06-06T01:33:30.000Z","type":"message"}
{"nick":"mjr_","message":"Anyway, I was surprised that it made such a big difference.","date":"2012-06-06T01:33:57.766Z","type":"message"}
{"nick":"ryah","message":"mjr_: via openssl?","date":"2012-06-06T01:34:43.253Z","type":"message"}
{"nick":"mjr_","message":"I can only assume that require(\"crypto\").createHash(\"md5\") uses openssl.","date":"2012-06-06T01:35:12.706Z","type":"message"}
{"nick":"mjr_","message":"But I haven't verified.","date":"2012-06-06T01:35:18.758Z","type":"message"}
{"nick":"ryah","message":"yeah","date":"2012-06-06T01:35:18.987Z","type":"message"}
{"nick":"isaacs","message":"yeah, that would have to be it","date":"2012-06-06T01:35:24.482Z","type":"message"}
{"nick":"isaacs","message":"mjr_: rm said that he'd verified","date":"2012-06-06T01:35:41.281Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: does a Buffer.writeArray(type, arr) make sense?","date":"2012-06-06T01:35:43.058Z","type":"message"}
{"nick":"mjr_","message":"ryah: but it's also the other crypto ops to make HTTPS work.  It's just that those are harder to make a standalone load test for.","date":"2012-06-06T01:36:28.563Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: i'm working on a ref-array module, which will implement C-array logic","date":"2012-06-06T01:37:46.094Z","type":"message"}
{"nick":"TooTallNate","message":"similar to ref-struct","date":"2012-06-06T01:38:03.411Z","type":"message"}
{"nick":"tjfontaine","message":"TooTallNate: ok, in the mean time is there a canonical way to do it?","date":"2012-06-06T01:38:25.145Z","type":"message"}
{"nick":"isaacs","message":"hm","date":"2012-06-06T01:38:57.302Z","type":"message"}
{"nick":"isaacs","message":"[01:31|% 100|+ 350|-   1]: Done                                                ","date":"2012-06-06T01:38:58.062Z","type":"message"}
{"nick":"isaacs","message":"ryah: ^  that's on Linux 7527bd77-ab3e-474b-ace7-eed6053931e7 3.1.10joyent-ubuntu-10-opt #1 SMP Fri Jan 20 09:55:31 PST 2012 x86_64 GNU/Linux","date":"2012-06-06T01:39:18.536Z","type":"message"}
{"nick":"TooTallNate","message":"tjfontaine: i mean, just \"by hand\". that is, create a Buffer instance with `numItems * typeSize` length","date":"2012-06-06T01:39:21.314Z","type":"message"}
{"nick":"tjfontaine","message":"ok","date":"2012-06-06T01:39:30.362Z","type":"message"}
{"nick":"TooTallNate","message":"and then write values to them at the correct offset","date":"2012-06-06T01:39:31.788Z","type":"message"}
{"nick":"TooTallNate","message":"node-ffi actually does that in a couple places","date":"2012-06-06T01:39:44.523Z","type":"message"}
{"nick":"TooTallNate","message":"cause I didn't want to wait for ref-array :p","date":"2012-06-06T01:39:52.679Z","type":"message"}
{"nick":"tjfontaine","message":"hehe","date":"2012-06-06T01:40:03.200Z","type":"message"}
{"nick":"pietern","date":"2012-06-06T01:40:54.910Z","type":"join"}
{"nick":"pietern","reason":"Client Quit","date":"2012-06-06T01:40:55.145Z","type":"quit"}
{"nick":"abraxas","date":"2012-06-06T01:44:12.879Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-06-06T01:50:58.425Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs, ryah: https://github.com/joyent/node/issues/3183","date":"2012-06-06T01:51:34.695Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: hooray, you have friends now :)","date":"2012-06-06T01:55:36.466Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it's not just you","date":"2012-06-06T01:55:39.589Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: it looks like it's accurately detecting the reneg attack, it's just not throwing enough or something?","date":"2012-06-06T01:55:57.662Z","type":"message"}
{"nick":"vtjnash","date":"2012-06-06T01:56:05.451Z","type":"part"}
{"nick":"AvianFlu","message":"interestingly, I see that failure too, on ubuntu, but not debian","date":"2012-06-06T01:56:09.771Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: i think it's because of a bug in the openssl cli tool","date":"2012-06-06T01:57:02.158Z","type":"message"}
{"nick":"isaacs","message":"hm.","date":"2012-06-06T01:57:17.317Z","type":"message"}
{"nick":"isaacs","message":"let's fix the test on v0.8, and call it a new feature.","date":"2012-06-06T01:57:36.188Z","type":"message"}
{"nick":"bnoordhuis","message":"heh","date":"2012-06-06T01:57:40.404Z","type":"message"}
{"nick":"bnoordhuis","message":"iirc if you hack the test and make it use s_client 1.0.1, it passes","date":"2012-06-06T01:58:12.025Z","type":"message"}
{"nick":"isaacs","message":"interesting","date":"2012-06-06T01:58:19.350Z","type":"message"}
{"nick":"isaacs","message":"anyway, i'm out.  have a good night.","date":"2012-06-06T01:58:25.873Z","type":"message"}
{"nick":"isaacs","message":"0.6.19 tomorrow morning","date":"2012-06-06T01:58:29.766Z","type":"message"}
{"nick":"erickt","date":"2012-06-06T01:58:32.502Z","type":"join"}
{"nick":"bnoordhuis","message":"you too, isaac","date":"2012-06-06T01:58:33.080Z","type":"message"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-06T01:58:37.008Z","type":"quit"}
{"nick":"AvianFlu","reason":"\"Leaving\"","date":"2012-06-06T02:08:37.281Z","type":"part"}
{"nick":"toothr","reason":"Read error: Connection reset by peer","date":"2012-06-06T02:10:48.076Z","type":"quit"}
{"nick":"toothr","date":"2012-06-06T02:13:09.544Z","type":"join"}
{"nick":"TooTallNate","reason":"Ping timeout: 252 seconds","date":"2012-06-06T02:14:47.040Z","type":"quit"}
{"nick":"CIA-112","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00026fe7530\u000f \u000310\u000f/ src/uv-common.c \u0002:\u000f unix, windows: add debug mode handle printer - http://git.io/46OCQQ","date":"2012-06-06T02:27:15.945Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-06T02:29:11.111Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#387 (master - 6fe7530 : Ben Noordhuis): The build is still failing.","date":"2012-06-06T02:29:11.340Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/24f8a53...6fe7530","date":"2012-06-06T02:29:11.341Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1542415","date":"2012-06-06T02:29:11.341Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-06T02:29:11.341Z","type":"part"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-06-06T02:32:07.553Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-06T02:42:16.854Z","type":"join"}
{"nick":"loladiro_","date":"2012-06-06T02:54:21.855Z","type":"join"}
{"nick":"loladiro_","reason":"Client Quit","date":"2012-06-06T02:54:38.051Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-06T02:54:47.837Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 260 seconds","date":"2012-06-06T02:56:39.830Z","type":"quit"}
{"nick":"loladiro_","reason":"Client Quit","date":"2012-06-06T02:57:11.553Z","type":"quit"}
{"nick":"loladiro","date":"2012-06-06T02:57:20.799Z","type":"join"}
{"nick":"toothr","reason":"Read error: Connection reset by peer","date":"2012-06-06T03:04:10.169Z","type":"quit"}
{"nick":"c4milo__","date":"2012-06-06T03:04:21.008Z","type":"join"}
{"nick":"loladiro_","date":"2012-06-06T03:04:55.836Z","type":"join"}
{"nick":"\\toothrot","date":"2012-06-06T03:05:39.274Z","type":"join"}
{"nick":"saghul_","date":"2012-06-06T03:06:08.324Z","type":"join"}
{"nick":"c4milo___","date":"2012-06-06T03:06:26.161Z","type":"join"}
{"nick":"loladiro","reason":"Read error: Connection reset by peer","date":"2012-06-06T03:06:30.571Z","type":"quit"}
{"nick":"c4milo_","reason":"Read error: Connection reset by peer","date":"2012-06-06T03:06:30.571Z","type":"quit"}
{"nick":"saghul","reason":"Ping timeout: 260 seconds","date":"2012-06-06T03:06:30.800Z","type":"quit"}
{"nick":"c4milo","reason":"Read error: Connection reset by peer","date":"2012-06-06T03:06:31.820Z","type":"quit"}
{"nick":"saghul_","new_nick":"saghul","date":"2012-06-06T03:06:35.095Z","type":"nick"}
{"nick":"\\toothrot","new_nick":"toothr","date":"2012-06-06T03:07:29.276Z","type":"nick"}
{"nick":"brson","date":"2012-06-06T03:08:37.716Z","type":"join"}
{"nick":"c4milo___","reason":"Remote host closed the connection","date":"2012-06-06T03:09:30.781Z","type":"quit"}
{"nick":"ira","reason":"Quit: Leaving...","date":"2012-06-06T03:14:56.205Z","type":"quit"}
{"nick":"c4milo__","reason":"Remote host closed the connection","date":"2012-06-06T03:19:26.638Z","type":"quit"}
{"nick":"mikeal","date":"2012-06-06T03:20:06.979Z","type":"join"}
{"nick":"CIA-112","message":"\u0002libuv:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002649ad50\u000f \u000310\u000f/ (include/uv-private/ev.h src/unix/core.c src/unix/ev/ev.c)\u0002:\u000f unix: fix event loop stall - http://git.io/nuyLYQ","date":"2012-06-06T03:21:44.554Z","type":"message"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-06-06T03:22:52.463Z","type":"quit"}
{"nick":"travis-ci","date":"2012-06-06T03:23:59.082Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#388 (master - 649ad50 : Ben Noordhuis): The build is still failing.","date":"2012-06-06T03:23:59.306Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/6fe7530...649ad50","date":"2012-06-06T03:23:59.306Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1542647","date":"2012-06-06T03:23:59.306Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-06T03:23:59.306Z","type":"part"}
{"nick":"loladiro_","reason":"Remote host closed the connection","date":"2012-06-06T03:27:38.251Z","type":"quit"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00025f41140\u000f \u000310\u000f/ (5 files in 5 dirs)\u0002:\u000f deps: upgrade libuv to 649ad50 - http://git.io/t2pOAg","date":"2012-06-06T03:32:35.009Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303Joel Brandt\u000f \u000307master\u000f * r\u0002b9c5eee\u000f \u000310\u000f/ src/node.h \u0002:\u000f add NODE_EXTERN to node::Start - http://git.io/nD_xPw","date":"2012-06-06T03:32:36.231Z","type":"message"}
{"nick":"mikeal","date":"2012-06-06T04:34:16.031Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-06-06T04:35:43.657Z","type":"quit"}
{"nick":"abraxas_","date":"2012-06-06T04:41:01.980Z","type":"join"}
{"nick":"abraxas","reason":"Read error: Connection reset by peer","date":"2012-06-06T04:41:39.874Z","type":"quit"}
{"nick":"abraxas_","reason":"Remote host closed the connection","date":"2012-06-06T04:47:34.621Z","type":"quit"}
{"nick":"abraxas","date":"2012-06-06T04:48:08.790Z","type":"join"}
{"nick":"loladiro","date":"2012-06-06T04:54:35.656Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-06T04:59:42.555Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-06T05:00:13.930Z","type":"quit"}
{"nick":"isaacs","date":"2012-06-06T05:02:01.287Z","type":"join"}
{"nick":"dshaw_","date":"2012-06-06T05:44:59.797Z","type":"join"}
{"nick":"paddybyers","date":"2012-06-06T05:48:15.481Z","type":"join"}
{"nick":"indexzero","date":"2012-06-06T06:30:58.899Z","type":"join"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-06-06T06:47:58.785Z","type":"quit"}
{"nick":"indexzero","reason":"Quit: indexzero","date":"2012-06-06T06:49:09.694Z","type":"quit"}
{"nick":"rendar","date":"2012-06-06T06:55:23.604Z","type":"join"}
{"nick":"mikeal","date":"2012-06-06T06:57:57.006Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 260 seconds","date":"2012-06-06T06:58:44.541Z","type":"quit"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-06T06:59:00.511Z","type":"quit"}
{"nick":"indexzero","date":"2012-06-06T07:00:53.060Z","type":"join"}
{"nick":"indexzero","reason":"Ping timeout: 244 seconds","date":"2012-06-06T07:15:02.587Z","type":"quit"}
{"nick":"indexzero","date":"2012-06-06T07:19:39.265Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-06-06T07:24:26.227Z","type":"quit"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-06-06T07:48:33.791Z","type":"quit"}
{"nick":"paddybyers","date":"2012-06-06T08:02:34.474Z","type":"join"}
{"nick":"abraxas","date":"2012-06-06T09:00:17.061Z","type":"join"}
{"nick":"bbenvie","date":"2012-06-06T09:13:54.063Z","type":"join"}
{"nick":"benvie","reason":"Ping timeout: 245 seconds","date":"2012-06-06T09:14:58.544Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-06T09:38:13.524Z","type":"quit"}
{"nick":"avalanche123","reason":"Ping timeout: 250 seconds","date":"2012-06-06T09:51:27.641Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-06-06T09:55:16.903Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-06-06T11:03:51.589Z","type":"join"}
{"nick":"mmalecki","date":"2012-06-06T11:09:33.606Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 248 seconds","date":"2012-06-06T11:36:02.305Z","type":"quit"}
{"nick":"ira","date":"2012-06-06T11:56:17.870Z","type":"join"}
{"nick":"ibc","date":"2012-06-06T11:57:49.162Z","type":"join"}
{"nick":"ibc","message":"hi, Makefile has these lines commented:","date":"2012-06-06T12:05:39.134Z","type":"message"}
{"nick":"ibc","message":"#test-%: test/run-tests$(E)","date":"2012-06-06T12:05:39.352Z","type":"message"}
{"nick":"ibc","message":" #       test/run-tests $(@:test-%=%)","date":"2012-06-06T12:05:39.352Z","type":"message"}
{"nick":"ibc","message":"why? I've descommented and used it to run a single test, it's useful.","date":"2012-06-06T12:05:39.352Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-06-06T12:35:20.353Z","type":"join"}
{"nick":"mmalecki_","date":"2012-06-06T12:45:20.936Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 256 seconds","date":"2012-06-06T12:48:51.694Z","type":"quit"}
{"nick":"mmalecki_","new_nick":"mmalecki","date":"2012-06-06T12:50:52.889Z","type":"nick"}
{"nick":"mmalecki_","date":"2012-06-06T13:13:24.904Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 260 seconds","date":"2012-06-06T13:16:44.106Z","type":"quit"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-06T13:17:01.711Z","type":"quit"}
{"nick":"mmalecki_","new_nick":"mmalecki","date":"2012-06-06T13:17:09.089Z","type":"nick"}
{"nick":"abraxas","date":"2012-06-06T13:18:44.311Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-06T13:19:34.090Z","type":"quit"}
{"nick":"abraxas","date":"2012-06-06T13:21:49.383Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-06-06T13:25:12.926Z","type":"quit"}
{"nick":"c4milo","date":"2012-06-06T13:45:01.307Z","type":"join"}
{"nick":"dshaw_","date":"2012-06-06T13:46:18.719Z","type":"join"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-06-06T13:46:29.822Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 260 seconds","date":"2012-06-06T13:48:14.041Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-06-06T13:53:20.738Z","type":"join"}
{"nick":"ira","reason":"Quit: Leaving...","date":"2012-06-06T14:00:32.383Z","type":"quit"}
{"nick":"xaq","date":"2012-06-06T14:04:31.163Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 265 seconds","date":"2012-06-06T14:08:30.492Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-06-06T14:35:36.766Z","type":"join"}
{"nick":"bbenvie","date":"2012-06-06T15:05:49.870Z","type":"quit"}
{"nick":"bnoordhuis","message":"you know what's odd? fs.symlink('foo', 'bar') works and is synchronous","date":"2012-06-06T15:07:08.906Z","type":"message"}
{"nick":"bnoordhuis","message":"but then why have fs.symlinkSync?","date":"2012-06-06T15:07:28.241Z","type":"message"}
{"nick":"TheJH","date":"2012-06-06T15:07:29.615Z","type":"join"}
{"nick":"bnoordhuis","message":"looks like a bug to me","date":"2012-06-06T15:07:50.211Z","type":"message"}
{"nick":"creationix","message":"bnoordhuis: are you sure it's sync?  I get:","date":"2012-06-06T15:18:34.422Z","type":"message"}
{"nick":"creationix","message":"fs.symlink(\"foo\", \"bar\");fs.statSync(\"bar\")","date":"2012-06-06T15:18:36.371Z","type":"message"}
{"nick":"creationix","message":"Error: ENOENT, no such file or directory 'bar'","date":"2012-06-06T15:18:38.390Z","type":"message"}
{"nick":"creationix","message":"nevermind","date":"2012-06-06T15:19:23.597Z","type":"message"}
{"nick":"creationix","message":"it is sync, I just had to use lstat since the symlink was pointing to an invalid path","date":"2012-06-06T15:19:38.374Z","type":"message"}
{"nick":"ibc","reason":"Remote host closed the connection","date":"2012-06-06T15:20:14.641Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-06-06T15:23:47.611Z","type":"quit"}
{"nick":"TheJH_","date":"2012-06-06T15:24:10.336Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 252 seconds","date":"2012-06-06T15:27:31.039Z","type":"quit"}
{"nick":"TheJH__","date":"2012-06-06T15:29:30.428Z","type":"join"}
{"nick":"TheJH__","new_nick":"TheJH","date":"2012-06-06T15:30:47.861Z","type":"nick"}
{"nick":"c4milo_","date":"2012-06-06T15:31:06.171Z","type":"join"}
{"nick":"TheJH_","reason":"Ping timeout: 252 seconds","date":"2012-06-06T15:33:01.038Z","type":"quit"}
{"nick":"piscisaureus_","message":"huh","date":"2012-06-06T15:33:01.318Z","type":"message"}
{"nick":"piscisaureus_","message":"so why is symlink synchronous in the first place?","date":"2012-06-06T15:33:09.625Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 260 seconds","date":"2012-06-06T15:33:48.969Z","type":"quit"}
{"nick":"avalanche123","date":"2012-06-06T15:39:51.908Z","type":"join"}
{"nick":"stephank","date":"2012-06-06T15:49:39.958Z","type":"join"}
{"nick":"avalanche123","reason":"Ping timeout: 260 seconds","date":"2012-06-06T15:53:38.958Z","type":"quit"}
{"nick":"avalanche123","date":"2012-06-06T15:55:26.375Z","type":"join"}
{"nick":"dshaw_","date":"2012-06-06T15:58:11.627Z","type":"join"}
{"nick":"piscisaureus_","message":"windows paths are so terrible","date":"2012-06-06T16:07:45.445Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am fixing the fs.exists('file/.') issue, but it requires me pushing path.resolve into libuv","date":"2012-06-06T16:08:37.713Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: super painful...","date":"2012-06-06T16:08:57.057Z","type":"message"}
{"nick":"piscisaureus_","message":"ircretary: tell isaacs http://piscisaureus.no.de/libuv/2012-06-06#16:08:37.713","date":"2012-06-06T16:09:29.021Z","type":"message"}
{"nick":"ircretary","message":"piscisaureus_: I'll be sure to tell isaacs","date":"2012-06-06T16:09:29.242Z","type":"message"}
{"nick":"isaacs","date":"2012-06-06T16:11:54.126Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: feel free to mark that as a v0.9 thing","date":"2012-06-06T16:12:51.486Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I will if it takes too long","date":"2012-06-06T16:13:10.894Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it's seriously a very minor issue.  afaict, the only real issue is that fs.exists is weird(er)","date":"2012-06-06T16:13:17.500Z","type":"message"}
{"nick":"isaacs","message":"but i've been anti-path/fs.exists for over a year now","date":"2012-06-06T16:13:32.925Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: there's another issue","date":"2012-06-06T16:13:35.639Z","type":"message"}
{"nick":"isaacs","message":"if it wasn't so entrenched, i'd cut it","date":"2012-06-06T16:13:38.881Z","type":"message"}
{"nick":"isaacs","message":"orly?","date":"2012-06-06T16:13:44.698Z","type":"message"}
{"nick":"piscisaureus_","message":"or rather, an inconsistency","date":"2012-06-06T16:13:45.575Z","type":"message"}
{"nick":"isaacs","message":"a path inconsistency issue?","date":"2012-06-06T16:13:56.523Z","type":"message"}
{"nick":"isaacs","message":"oh!  lemme guess","date":"2012-06-06T16:14:01.850Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: suppose","date":"2012-06-06T16:14:07.912Z","type":"message"}
{"nick":"piscisaureus_","message":"mkdir -p a/b","date":"2012-06-06T16:14:08.139Z","type":"message"}
{"nick":"piscisaureus_","message":"ln -s a/b link","date":"2012-06-06T16:14:08.139Z","type":"message"}
{"nick":"piscisaureus_","message":"ls link/..","date":"2012-06-06T16:14:08.139Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: which path should that list ?","date":"2012-06-06T16:14:20.559Z","type":"message"}
{"nick":"isaacs","message":"oh, i was thinking that was a different thing","date":"2012-06-06T16:14:24.415Z","type":"message"}
{"nick":"isaacs","message":"one sec","date":"2012-06-06T16:14:25.548Z","type":"message"}
{"nick":"isaacs","message":"that should print out 'b'","date":"2012-06-06T16:14:37.117Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-06-06T16:14:42.654Z","type":"message"}
{"nick":"isaacs","message":"since it'd be like ln a/b/..","date":"2012-06-06T16:14:46.494Z","type":"message"}
{"nick":"piscisaureus_","message":"well, not on windows apparently","date":"2012-06-06T16:14:47.727Z","type":"message"}
{"nick":"isaacs","message":"what does win do?","date":"2012-06-06T16:14:53.338Z","type":"message"}
{"nick":"piscisaureus_","message":"windows seems to pre-normalize paths","date":"2012-06-06T16:14:56.892Z","type":"message"}
{"nick":"isaacs","message":"oh...","date":"2012-06-06T16:15:06.468Z","type":"message"}
{"nick":"isaacs","message":"so you ln .","date":"2012-06-06T16:15:12.165Z","type":"message"}
{"nick":"piscisaureus_","message":"lemme try to be sure","date":"2012-06-06T16:15:12.433Z","type":"message"}
{"nick":"isaacs","message":"er, ls .","date":"2012-06-06T16:15:14.226Z","type":"message"}
{"nick":"isaacs","message":"yeah, that's a problem","date":"2012-06-06T16:15:26.747Z","type":"message"}
{"nick":"isaacs","message":"but again, not a HUGE problem.","date":"2012-06-06T16:15:34.405Z","type":"message"}
{"nick":"isaacs","message":"if it's hard, we can push it till post-v0.8","date":"2012-06-06T16:15:43.341Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so the thing is, this is also what windows seems to always do","date":"2012-06-06T16:16:04.457Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so I can change path resolution rules within node, but that might be very surprising for people","date":"2012-06-06T16:16:24.867Z","type":"message"}
{"nick":"erickt","date":"2012-06-06T16:16:27.057Z","type":"join"}
{"nick":"piscisaureus_","message":"well, not very, since they'll likely never notice","date":"2012-06-06T16:16:35.376Z","type":"message"}
{"nick":"creationix","action":"is a fan of pushing resolve to libuv, but just because of lazyness","date":"2012-06-06T16:16:53.152Z","type":"action"}
{"nick":"bulatshakirzyano","date":"2012-06-06T16:17:09.093Z","type":"join"}
{"nick":"piscisaureus_","message":"ok now it gets *really* weird","date":"2012-06-06T16:19:18.911Z","type":"message"}
{"nick":"piscisaureus_","message":"windows: readdir \\\\\\\\?\\\\d:\\\\test\\\\sym\\\\link\\\\.. -> does the same as on unix","date":"2012-06-06T16:19:47.107Z","type":"message"}
{"nick":"piscisaureus_","message":"readdir \\\\\\\\?\\\\d:\\\\test\\\\somedir\\\\.. -> ENOENT, since paths that start with \\\\?\\ are not supposed to have .. resolved","date":"2012-06-06T16:20:30.749Z","type":"message"}
{"nick":"piscisaureus_","message":"WTF","date":"2012-06-06T16:20:33.637Z","type":"message"}
{"nick":"isaacs","message":"i think that history is quite clear on this point: the way that unix does paths is simple and correct, and the way that windows does paths is obtuse and unnecessarily retarded.","date":"2012-06-06T16:21:54.346Z","type":"message"}
{"nick":"isaacs","message":"\"that's how unix works\" is always the best approach for path resolution stuff.","date":"2012-06-06T16:22:17.709Z","type":"message"}
{"nick":"isaacs","message":"if someone's surprised, then they'll quickly come to love it.  they'll be more surprised if their windows desktop and their linux server behave differently","date":"2012-06-06T16:22:39.934Z","type":"message"}
{"nick":"isaacs","message":"windows has many fine features.  but the path stuff is insane.","date":"2012-06-06T16:23:11.104Z","type":"message"}
{"nick":"dap","date":"2012-06-06T16:28:21.622Z","type":"join"}
{"nick":"indutny","message":"isaacs: not only that stuff","date":"2012-06-06T16:29:08.735Z","type":"message"}
{"nick":"indutny","message":"isaacs: API is quite wierd too","date":"2012-06-06T16:29:17.173Z","type":"message"}
{"nick":"indutny","message":"isaacs: and no fork()","date":"2012-06-06T16:29:20.967Z","type":"message"}
{"nick":"indutny","message":"isaacs: actually, almost everything else is fine to me","date":"2012-06-06T16:29:30.557Z","type":"message"}
{"nick":"piscisaureus_","message":"the path stuff is absolutely mind boggling","date":"2012-06-06T16:30:32.112Z","type":"message"}
{"nick":"piscisaureus_","message":"I would say I know a lot about how it works on windows","date":"2012-06-06T16:30:45.482Z","type":"message"}
{"nick":"piscisaureus_","message":"yet I discover new edge cases every time I have to deal with paths","date":"2012-06-06T16:31:07.531Z","type":"message"}
{"nick":"indutny","message":"who is doing force pushes to master?","date":"2012-06-06T16:31:39.728Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: node or libuv?","date":"2012-06-06T16:31:54.179Z","type":"message"}
{"nick":"indutny","message":"it's not first time that I can't fast-forward my local repo","date":"2012-06-06T16:31:55.463Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: node","date":"2012-06-06T16:31:57.430Z","type":"message"}
{"nick":"isaacs","message":"indutny: that's weird.","date":"2012-06-06T16:32:01.161Z","type":"message"}
{"nick":"isaacs","message":"i force-push to vX.Y.Z-release branches","date":"2012-06-06T16:32:10.787Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I don't know. But if you look at the logs, it'll show up easily","date":"2012-06-06T16:32:11.014Z","type":"message"}
{"nick":"isaacs","message":"indutny: do you have local commits that are not on master?","date":"2012-06-06T16:32:40.347Z","type":"message"}
{"nick":"indutny","message":"isaacs: well, I'm not sure now","date":"2012-06-06T16:32:48.248Z","type":"message"}
{"nick":"indutny","message":"I just deleted my local branch","date":"2012-06-06T16:32:52.037Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: http://piscisaureus.no.de/libuv/latest#03:32:36.231 was the last push","date":"2012-06-06T16:33:16.495Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: but when I get fetch then it doesn't show a forced update","date":"2012-06-06T16:34:02.402Z","type":"message"}
{"nick":"indutny","message":"hm..","date":"2012-06-06T16:34:16.260Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-06-06T16:34:17.532Z","type":"message"}
{"nick":"indutny","message":"so ref/unref for process_wrap, right?","date":"2012-06-06T16:34:35.525Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ^","date":"2012-06-06T16:35:23.409Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: yep","date":"2012-06-06T16:35:30.096Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-06T16:39:02.817Z","type":"quit"}
{"nick":"mikeal","date":"2012-06-06T16:42:47.698Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: btw: https://github.com/isaacs/npm/commit/a41d0c91054cfa896ffb0a5366a30f206cfa2feb","date":"2012-06-06T16:46:25.493Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: i'll get that in for the next release (not 0.6.19)","date":"2012-06-06T16:46:25.734Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: ok","date":"2012-06-06T16:46:45.947Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I think it was japj complaining about that :-)","date":"2012-06-06T16:46:54.442Z","type":"message"}
{"nick":"isaacs","message":"speaking of which... test, please: http://nodejs.org/dist/v0.6.19/","date":"2012-06-06T16:46:56.528Z","type":"message"}
{"nick":"isaacs","message":"ircretary: tell japj Re: Gubblebum font https://github.com/isaacs/npm/commit/a41d0c91054cfa896ffb0a5366a30f206cfa2feb","date":"2012-06-06T16:47:09.278Z","type":"message"}
{"nick":"ircretary","message":"isaacs: I'll be sure to tell japj","date":"2012-06-06T16:47:09.503Z","type":"message"}
{"nick":"russfrank","reason":"Quit: leaving","date":"2012-06-06T16:47:12.420Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-06-06T16:48:19.053Z","type":"join"}
{"nick":"russfrank","date":"2012-06-06T16:48:29.376Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-06-06T16:52:37.613Z","type":"quit"}
{"nick":"dshaw_","date":"2012-06-06T16:55:46.042Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-06T16:55:51.169Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus_: is there any reason for us to do not have: bool uv_is_active(uv_handle_t* handle)","date":"2012-06-06T16:57:05.156Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-06-06T16:57:12.714Z","type":"message"}
{"nick":"indutny","message":"we have","date":"2012-06-06T16:57:14.347Z","type":"message"}
{"nick":"indutny","message":":D","date":"2012-06-06T16:57:15.809Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: we have","date":"2012-06-06T16:57:16.870Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: but it's int because bool is a c++ type","date":"2012-06-06T16:57:25.546Z","type":"message"}
{"nick":"indutny","message":"ah well","date":"2012-06-06T16:58:07.462Z","type":"message"}
{"nick":"indutny","message":"that's not what I actually want","date":"2012-06-06T16:58:14.385Z","type":"message"}
{"nick":"indutny","message":"uv_is_reffed(...)","date":"2012-06-06T16:58:21.415Z","type":"message"}
{"nick":"indutny","message":"i.e. the same as uv_is_active but for UV__HANDLE_REF flag","date":"2012-06-06T16:58:34.797Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u0002e5d3ea7\u000f \u000310\u000f/ (249 files in 23 dirs)\u0002:\u000f Upgrade npm to 1.1.24 - http://git.io/zwfwbg","date":"2012-06-06T16:59:23.259Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u0002debf552\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f 2012.06.06 Version 0.6.19 (stable) - http://git.io/Yg_u6Q","date":"2012-06-06T16:59:23.790Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u000279d77cf\u000f \u000310\u000f/ (252 files in 25 dirs)\u0002:\u000f Merge branch 'v0.6.19-release' into v0.6 - http://git.io/WsZQmA","date":"2012-06-06T16:59:24.689Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u00021285cd9\u000f \u000310\u000f/ src/node_version.h \u0002:\u000f Now working on 0.6.20 - http://git.io/cfK_NQ","date":"2012-06-06T16:59:26.014Z","type":"message"}
{"nick":"bulatshakirzyano","reason":"Quit: Computer has gone to sleep.","date":"2012-06-06T16:59:35.955Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus_: what do you think?","date":"2012-06-06T17:00:12.851Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: what do you need it for ?","date":"2012-06-06T17:00:35.529Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: well, we have unref_ property for HandleWrap, which is used for active handles list: https://github.com/joyent/node/blob/master/src/node.cc#L1348","date":"2012-06-06T17:01:28.700Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: and if I'll add HandleWrap::Ref method - I'll need to track `int ref_count`","date":"2012-06-06T17:02:16.781Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I will look later but I am in a call right now","date":"2012-06-06T17:02:23.514Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: it takes some thought which is hard if you're trying to pay attention :-)","date":"2012-06-06T17:02:39.014Z","type":"message"}
{"nick":"indutny","message":"hahaha","date":"2012-06-06T17:02:49.359Z","type":"message"}
{"nick":"indutny","message":"looks like I've overlooked this issue anyway","date":"2012-06-06T17:03:01.792Z","type":"message"}
{"nick":"indutny","message":"so nvm :P","date":"2012-06-06T17:03:04.535Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-06-06T17:03:29.286Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-06-06T17:04:28.361Z","type":"join"}
{"nick":"piscisaureus_","message":"isaacs: release, cool","date":"2012-06-06T17:08:28.203Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am still running tests in the background but so far nothing funky showed up","date":"2012-06-06T17:08:51.736Z","type":"message"}
{"nick":"piscisaureus_","message":"well, nothing unknown","date":"2012-06-06T17:08:58.034Z","type":"message"}
{"nick":"isaacs","message":"yeah, i just went ahead with it","date":"2012-06-06T17:09:05.014Z","type":"message"}
{"nick":"isaacs","message":"there's hardly anything new in this release anyway","date":"2012-06-06T17:09:11.432Z","type":"message"}
{"nick":"ira","date":"2012-06-06T17:09:16.063Z","type":"join"}
{"nick":"isaacs","message":"few relatively minor edge-case bug fixes, and an npm update.","date":"2012-06-06T17:09:23.761Z","type":"message"}
{"nick":"isaacs","message":"v0.6 is coming in for a landing.","date":"2012-06-06T17:09:32.392Z","type":"message"}
{"nick":"mikeal","date":"2012-06-06T17:10:32.975Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-06T17:13:17.706Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-06-06T17:16:27.138Z","type":"quit"}
{"nick":"theCole","date":"2012-06-06T17:17:32.555Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-06-06T17:18:37.379Z","type":"quit"}
{"nick":"indutny","message":"piscisaureus_: isaacs https://github.com/joyent/node/pull/3381","date":"2012-06-06T17:21:46.935Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ^","date":"2012-06-06T17:21:49.281Z","type":"message"}
{"nick":"isaacs","message":"indutny: yeeeesssssss","date":"2012-06-06T17:24:03.948Z","type":"message"}
{"nick":"isaacs","message":"indutny: not a lgtm, just like the feature :)","date":"2012-06-06T17:24:46.952Z","type":"message"}
{"nick":"isaacs","message":"indutny: can you make a brief note about your child_process changes on https://github.com/joyent/node/wiki/API-changes-between-v0.6-and-v0.8 at some point?","date":"2012-06-06T17:25:21.094Z","type":"message"}
{"nick":"isaacs","message":"indutny: in the \"Added\" section","date":"2012-06-06T17:25:33.533Z","type":"message"}
{"nick":"creationix","message":"why would you unref a child process?","date":"2012-06-06T17:26:34.895Z","type":"message"}
{"nick":"erickt","date":"2012-06-06T17:26:52.921Z","type":"join"}
{"nick":"creationix","message":"though I've often wanted to be able to unref a setInterval","date":"2012-06-06T17:26:53.372Z","type":"message"}
{"nick":"creationix","message":"\"do something on an interval, but don't block exit\"","date":"2012-06-06T17:27:13.762Z","type":"message"}
{"nick":"indutny","message":"creationix: that's upcoming :P","date":"2012-06-06T17:28:17.701Z","type":"message"}
{"nick":"indutny","message":"creationix: child_process.spawn('ping', ['nodejs.org']).unref()","date":"2012-06-06T17:28:44.740Z","type":"message"}
{"nick":"creationix","message":"multi-process setInterval :P","date":"2012-06-06T17:31:00.625Z","type":"message"}
{"nick":"indutny","message":"hahahahaha","date":"2012-06-06T17:31:19.291Z","type":"message"}
{"nick":"TooTallNate","date":"2012-06-06T17:36:18.770Z","type":"join"}
{"nick":"AvianFlu","date":"2012-06-06T17:36:22.713Z","type":"join"}
{"nick":"indutny","message":"piscisaureus_: creationix: timers can now be ref()/unref()","date":"2012-06-06T17:36:49.245Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: what else should be updated?","date":"2012-06-06T17:36:56.023Z","type":"message"}
{"nick":"creationix","message":"is it exposed to node?","date":"2012-06-06T17:37:01.677Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: in node? that'd be cool","date":"2012-06-06T17:37:05.086Z","type":"message"}
{"nick":"indutny","message":"AvianFlu: btw, https://github.com/joyent/node/pull/3381/files","date":"2012-06-06T17:37:07.953Z","type":"message"}
{"nick":"indutny","message":"creationix: I think so","date":"2012-06-06T17:37:15.919Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: yes","date":"2012-06-06T17:37:17.529Z","type":"message"}
{"nick":"indutny","message":"that was very simple","date":"2012-06-06T17:37:27.202Z","type":"message"}
{"nick":"AvianFlu","message":"awesome!","date":"2012-06-06T17:37:28.104Z","type":"message"}
{"nick":"AvianFlu","message":"indutny, ++","date":"2012-06-06T17:37:31.188Z","type":"message"}
{"nick":"kohai","message":"indutny has 25 beers","date":"2012-06-06T17:37:31.411Z","type":"message"}
{"nick":"loladiro","date":"2012-06-06T17:37:42.907Z","type":"join"}
{"nick":"indutny","message":"piscisaureus_: does uv_ref/uv_unref works well with timers/","date":"2012-06-06T17:37:58.691Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: cross-platform","date":"2012-06-06T17:38:03.915Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, why not","date":"2012-06-06T17:38:08.270Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-06-06T17:38:15.132Z","type":"message"}
{"nick":"indutny","message":"I just heard that you or bnoordhuis was rewriting the","date":"2012-06-06T17:38:28.483Z","type":"message"}
{"nick":"indutny","message":"s/the/them","date":"2012-06-06T17:38:31.378Z","type":"message"}
{"nick":"creationix","action":"is excited to update libuv into his *uv projects to get the ref refactor","date":"2012-06-06T17:39:22.607Z","type":"action"}
{"nick":"creationix","message":"I think I'll do candor.io first","date":"2012-06-06T17:39:30.880Z","type":"message"}
{"nick":"creationix","message":"maybe later this week","date":"2012-06-06T17:39:34.134Z","type":"message"}
{"nick":"indutny","message":"creationix: haha","date":"2012-06-06T17:39:36.806Z","type":"message"}
{"nick":"indutny","message":"creationix: well, we definitely need to take care about it in next weeks","date":"2012-06-06T17:39:48.557Z","type":"message"}
{"nick":"indutny","message":"I'm still trying to make feature-ssa work in my spare time","date":"2012-06-06T17:39:58.375Z","type":"message"}
{"nick":"creationix","message":"nodeconf ftw!","date":"2012-06-06T17:40:01.247Z","type":"message"}
{"nick":"mmalecki","date":"2012-06-06T17:47:41.755Z","type":"join"}
{"nick":"mmalecki","reason":"Quit: Reconnecting","date":"2012-06-06T17:56:16.307Z","type":"quit"}
{"nick":"mmalecki","date":"2012-06-06T17:56:28.137Z","type":"join"}
{"nick":"isaacs","message":"the tricky thing about ref/unref for timers/intervals in node is that setTimeout(fn, t) only creates a single uv timer for each unique value of t","date":"2012-06-06T17:56:40.581Z","type":"message"}
{"nick":"isaacs","message":"so we'd have to do a bit of juggling to get that right","date":"2012-06-06T17:56:59.231Z","type":"message"}
{"nick":"isaacs","message":"(that is, not for v0.8, maybe for later)","date":"2012-06-06T17:57:09.796Z","type":"message"}
{"nick":"isaacs","message":"unless it's really really","date":"2012-06-06T17:57:14.254Z","type":"message"}
{"nick":"isaacs","message":"*really easy","date":"2012-06-06T17:57:20.298Z","type":"message"}
{"nick":"isaacs","message":"indutny, creationix^","date":"2012-06-06T17:57:26.234Z","type":"message"}
{"nick":"AndreasMadsen","date":"2012-06-06T18:03:21.505Z","type":"join"}
{"nick":"creationix","message":"isaacs: or we can document this behavior and leave the optimization in?","date":"2012-06-06T18:04:45.951Z","type":"message"}
{"nick":"piscisaureus_","message":"indutny: I don't think timers are really being rewritten. If timer ref/unref works then that's great","date":"2012-06-06T18:04:54.933Z","type":"message"}
{"nick":"creationix","message":"oh, you said t, not fn","date":"2012-06-06T18:05:03.348Z","type":"message"}
{"nick":"indutny","message":"isaacs: hm...","date":"2012-06-06T18:05:09.595Z","type":"message"}
{"nick":"creationix","message":"hmm, yeah, that could be dangerous","date":"2012-06-06T18:05:12.459Z","type":"message"}
{"nick":"indutny","message":"that needs to be considered","date":"2012-06-06T18:05:16.917Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-06-06T18:05:25.341Z","type":"quit"}
{"nick":"isaacs","message":"i mean, we can do all that juggling in javascrit","date":"2012-06-06T18:05:33.610Z","type":"message"}
{"nick":"isaacs","message":"but it just means it's a bit more involved, that's all","date":"2012-06-06T18:05:42.487Z","type":"message"}
{"nick":"creationix","message":"right","date":"2012-06-06T18:05:45.945Z","type":"message"}
{"nick":"indutny","message":"isaacs: well, I can do it","date":"2012-06-06T18:05:54.277Z","type":"message"}
{"nick":"isaacs","message":"we just need to have one that's ref'ed, and one that is not ref'ed, and then move the cb over.","date":"2012-06-06T18:05:56.316Z","type":"message"}
{"nick":"indutny","message":"just forgot that we're reusing timer_wraps","date":"2012-06-06T18:06:02.117Z","type":"message"}
{"nick":"isaacs","message":"so the js timer object is attached to the unrefed timer","date":"2012-06-06T18:06:09.026Z","type":"message"}
{"nick":"isaacs","message":"too late for that in v0.8","date":"2012-06-06T18:06:19.726Z","type":"message"}
{"nick":"isaacs","message":"but it's a nice api cleanup we can do for 0.9 :)","date":"2012-06-06T18:06:29.855Z","type":"message"}
{"nick":"indutny","message":"isaacs: Y R U SO COMPLX","date":"2012-06-06T18:06:32.485Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-06-06T18:06:36.522Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-06-06T18:06:47.478Z","type":"message"}
{"nick":"indutny","message":"but we can pull child.ref/unref stuff","date":"2012-06-06T18:06:57.927Z","type":"message"}
{"nick":"indutny","message":"in 0.8.x","date":"2012-06-06T18:07:01.607Z","type":"message"}
{"nick":"brson","date":"2012-06-06T18:07:23.786Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-06-06T18:08:48.974Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-06-06T18:09:33.701Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-06-06T18:15:07.232Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-06-06T18:18:11.759Z","type":"join"}
{"nick":"TooTallNate","message":"hmmm...","date":"2012-06-06T18:21:27.102Z","type":"message"}
{"nick":"TooTallNate","message":"> Buffer('hello', 'utf16le').toString('utf16le')","date":"2012-06-06T18:21:29.622Z","type":"message"}
{"nick":"TooTallNate","message":"'he'","date":"2012-06-06T18:21:29.841Z","type":"message"}
{"nick":"TooTallNate","message":"^ that doesn't seem right...","date":"2012-06-06T18:21:35.077Z","type":"message"}
{"nick":"igorzi","message":"isaacs: hey, yt?","date":"2012-06-06T18:24:02.294Z","type":"message"}
{"nick":"isaacs","message":"hi","date":"2012-06-06T18:24:07.480Z","type":"message"}
{"nick":"isaacs","message":"indutny: sure, that looks pretty minimal, as long as no one else objects.","date":"2012-06-06T18:24:26.044Z","type":"message"}
{"nick":"igorzi","message":"isaacs: it's not possible to require modules that are installed with --global, correct?","date":"2012-06-06T18:24:28.788Z","type":"message"}
{"nick":"isaacs","message":"igorzi: yes, that is the design","date":"2012-06-06T18:24:36.051Z","type":"message"}
{"nick":"igorzi","message":"isaacs: k, thx","date":"2012-06-06T18:24:43.986Z","type":"message"}
{"nick":"isaacs","message":"igorzi: of course, you can set NODE_PATH or require('/full/path/to/global/thing')","date":"2012-06-06T18:24:49.284Z","type":"message"}
{"nick":"isaacs","message":"igorzi: but really... just don't do that :)","date":"2012-06-06T18:24:57.458Z","type":"message"}
{"nick":"igorzi","message":"isaacs: yep.. --global is just not meant for this.. if you want to require - install locally","date":"2012-06-06T18:30:30.286Z","type":"message"}
{"nick":"ira","reason":"Quit: Textual IRC Client: http://www.textualapp.com/","date":"2012-06-06T18:33:18.973Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: Reconnecting","date":"2012-06-06T18:44:12.373Z","type":"quit"}
{"nick":"mmalecki_","date":"2012-06-06T18:44:20.862Z","type":"join"}
{"nick":"igorzi","message":"isaacs: how does NODE_PATH work exactly?","date":"2012-06-06T18:47:53.125Z","type":"message"}
{"nick":"isaacs","message":"igorzi: it's a :-separated set of paths to search for modules, after searching the node_modules folders as it does","date":"2012-06-06T18:48:08.784Z","type":"message"}
{"nick":"isaacs","message":"igorzi: on windows it's ;-separated","date":"2012-06-06T18:48:13.584Z","type":"message"}
{"nick":"mmalecki_","new_nick":"mmalecki","date":"2012-06-06T18:48:30.318Z","type":"nick"}
{"nick":"isaacs","message":"but npm intentionally does not put its global modules in the default NODE_PATH, because you should not be using global modules that way","date":"2012-06-06T18:48:43.408Z","type":"message"}
{"nick":"igorzi","message":"isaacs: yep, got it","date":"2012-06-06T18:49:08.979Z","type":"message"}
{"nick":"mmalecki_","date":"2012-06-06T18:53:04.794Z","type":"join"}
{"nick":"ibc","date":"2012-06-06T18:55:59.748Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-06-06T18:56:15.584Z","type":"quit"}
{"nick":"mmalecki","reason":"Ping timeout: 265 seconds","date":"2012-06-06T18:56:34.499Z","type":"quit"}
{"nick":"igorzi","message":"isaacs: what are the common use cases for NODE_PATH?","date":"2012-06-06T19:01:42.930Z","type":"message"}
{"nick":"isaacs","message":"igorzi: it's just there for legacy purposes","date":"2012-06-06T19:02:13.225Z","type":"message"}
{"nick":"isaacs","message":"igorzi: but if you were unhappy with localized modules and npm, you could write your own package manager to use it","date":"2012-06-06T19:02:31.925Z","type":"message"}
{"nick":"igorzi","message":"isaacs: so, it would be an abuse to use it for sharing a module across several aps?","date":"2012-06-06T19:02:53.219Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-06-06T19:05:20.139Z","type":"quit"}
{"nick":"mjr_","message":"We still use NODE_PATH, although increasingly I wish we didn't.","date":"2012-06-06T19:05:43.795Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-06-06T19:06:04.912Z","type":"join"}
{"nick":"isaacs","message":"igorzi: once npm link works in windows, i'd say yes.","date":"2012-06-06T19:08:37.719Z","type":"message"}
{"nick":"isaacs","message":"igorzi: really,it's better to just create a node_modules folder, and work there.","date":"2012-06-06T19:08:54.514Z","type":"message"}
{"nick":"isaacs","message":"igorzi: mkdir node_modules; cd node_modules; mkdir my-app; cd my-app; npm init; npm install blerg","date":"2012-06-06T19:09:24.621Z","type":"message"}
{"nick":"isaacs","message":"but i mean, it's not the worst thing ever.","date":"2012-06-06T19:09:46.295Z","type":"message"}
{"nick":"`3rdEden","date":"2012-06-06T19:10:00.743Z","type":"join"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/commit/c381662 <- review? makes fs.symlink('a', 'b') async","date":"2012-06-06T19:12:24.091Z","type":"message"}
{"nick":"bnoordhuis","message":"no test, i'm afraid - kind of hard to write for this","date":"2012-06-06T19:12:52.353Z","type":"message"}
{"nick":"`3rdEden","reason":"Client Quit","date":"2012-06-06T19:12:59.833Z","type":"quit"}
{"nick":"TooTallNate","message":"bnoordhuis: lgtm","date":"2012-06-06T19:13:16.616Z","type":"message"}
{"nick":"bnoordhuis","message":"thanks","date":"2012-06-06T19:13:25.473Z","type":"message"}
{"nick":"bnoordhuis","message":"something that kind of bugs me is that if you call the fs.* functions without a callback, they use a no-op function instead","date":"2012-06-06T19:14:17.821Z","type":"message"}
{"nick":"bnoordhuis","message":"but that no-op function doesn't report errors, it just swallows them","date":"2012-06-06T19:14:32.311Z","type":"message"}
{"nick":"bnoordhuis","message":"i'm to blame for that btw, i made it like that in 2010, when i didn't know any better :)","date":"2012-06-06T19:15:39.626Z","type":"message"}
{"nick":"TooTallNate","message":"lol","date":"2012-06-06T19:15:51.418Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002c381662\u000f \u000310\u000f/ lib/fs.js \u0002:\u000f fs: make fs.symlink() with no callback async - http://git.io/xtTTyg","date":"2012-06-06T19:15:59.107Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: where were do you think errors should go in that case?","date":"2012-06-06T19:16:04.140Z","type":"message"}
{"nick":"piscisaureus__","date":"2012-06-06T19:16:05.905Z","type":"join"}
{"nick":"bnoordhuis","message":"TooTallNate: good question. simply throw?","date":"2012-06-06T19:16:32.531Z","type":"message"}
{"nick":"bnoordhuis","message":"that's a rather big change in behavior","date":"2012-06-06T19:16:47.544Z","type":"message"}
{"nick":"TooTallNate","message":"with domains, we could have a smart default there","date":"2012-06-06T19:16:53.321Z","type":"message"}
{"nick":"felixge","date":"2012-06-06T19:17:01.936Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-06-06T19:17:02.156Z","type":"quit"}
{"nick":"felixge","date":"2012-06-06T19:17:02.156Z","type":"join"}
{"nick":"TooTallNate","message":"no callback -> throw errors on the current domain","date":"2012-06-06T19:17:06.415Z","type":"message"}
{"nick":"bnoordhuis","message":"yes, something like that","date":"2012-06-06T19:17:13.107Z","type":"message"}
{"nick":"TooTallNate","message":"and ya, simply throw otherwise","date":"2012-06-06T19:17:23.794Z","type":"message"}
{"nick":"TooTallNate","message":"maybe for 0.9 :D","date":"2012-06-06T19:17:45.164Z","type":"message"}
{"nick":"bnoordhuis","message":"heh, yeah","date":"2012-06-06T19:17:48.761Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 260 seconds","date":"2012-06-06T19:18:58.714Z","type":"quit"}
{"nick":"piscisaureus___","date":"2012-06-06T19:25:54.028Z","type":"join"}
{"nick":"piscisaureus__","reason":"Ping timeout: 260 seconds","date":"2012-06-06T19:28:53.653Z","type":"quit"}
{"nick":"mmalecki_","new_nick":"mmalecki","date":"2012-06-06T19:29:27.992Z","type":"nick"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-06-06T19:33:50.495Z","type":"quit"}
{"nick":"loladiro_","date":"2012-06-06T19:36:26.695Z","type":"join"}
{"nick":"ibc","reason":"Remote host closed the connection","date":"2012-06-06T19:38:03.304Z","type":"quit"}
{"nick":"loladiro","reason":"Ping timeout: 260 seconds","date":"2012-06-06T19:39:23.718Z","type":"quit"}
{"nick":"bnoordhuis","message":"https://github.com/bnoordhuis/node/commit/642b1a5 <- thoughts, opinions?","date":"2012-06-06T19:39:47.543Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: well i like the concept :D we shouldn't be leaking internals and confusing users like that, haha","date":"2012-06-06T19:41:51.457Z","type":"message"}
{"nick":"TooTallNate","message":"the impl looks decent enough; haven't tried it yet though","date":"2012-06-06T19:42:11.093Z","type":"message"}
{"nick":"bnoordhuis","message":"tests pass","date":"2012-06-06T19:42:27.260Z","type":"message"}
{"nick":"creationix","message":"what's the performance overhead?","date":"2012-06-06T19:42:35.096Z","type":"message"}
{"nick":"bnoordhuis","message":"zero, apparently","date":"2012-06-06T19:42:43.673Z","type":"message"}
{"nick":"bnoordhuis","message":"that is, it's noise in the actually thread pool / syscall overhead","date":"2012-06-06T19:42:59.547Z","type":"message"}
{"nick":"creationix","message":"fair enough","date":"2012-06-06T19:43:09.446Z","type":"message"}
{"nick":"bnoordhuis","message":"-actually","date":"2012-06-06T19:43:17.851Z","type":"message"}
{"nick":"creationix","message":"btw, I always thought it would be cool if event emitters were called in the \"this\" scope of the emitter","date":"2012-06-06T19:43:24.317Z","type":"message"}
{"nick":"bnoordhuis","message":"they are","date":"2012-06-06T19:43:29.799Z","type":"message"}
{"nick":"creationix","message":"since when?","date":"2012-06-06T19:43:44.374Z","type":"message"}
{"nick":"bnoordhuis","message":"but the things in fs.js are by and large not eventemitters","date":"2012-06-06T19:43:45.722Z","type":"message"}
{"nick":"creationix","message":"right, in that case a null scope is best","date":"2012-06-06T19:43:58.859Z","type":"message"}
{"nick":"creationix","message":"though this is \"undefined\" in strict mode","date":"2012-06-06T19:44:21.977Z","type":"message"}
{"nick":"creationix","message":"for plain functions","date":"2012-06-06T19:44:27.808Z","type":"message"}
{"nick":"creationix","message":"having it be global is considered a bad thing","date":"2012-06-06T19:44:38.894Z","type":"message"}
{"nick":"bnoordhuis","message":"so what should you use instead?","date":"2012-06-06T19:44:54.387Z","type":"message"}
{"nick":"creationix","message":"can you use \"this\" instead of \"global\" on line 251","date":"2012-06-06T19:45:51.628Z","type":"message"}
{"nick":"creationix","message":"or better, \"null\"","date":"2012-06-06T19:45:51.856Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, like that. sure","date":"2012-06-06T19:46:07.680Z","type":"message"}
{"nick":"creationix","message":"yeah, \"null\" is best I think","date":"2012-06-06T19:46:28.331Z","type":"message"}
{"nick":"loladiro","date":"2012-06-06T19:46:34.324Z","type":"join"}
{"nick":"creationix","message":"then non-strict functions will get global and strict functions will get undefined","date":"2012-06-06T19:46:44.913Z","type":"message"}
{"nick":"bnoordhuis","message":"i assume this === undefined is to catch accidental global assignments?","date":"2012-06-06T19:48:06.701Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2012-06-06T19:48:30.716Z","type":"message"}
{"nick":"loladiro_","reason":"Ping timeout: 260 seconds","date":"2012-06-06T19:48:43.638Z","type":"quit"}
{"nick":"creationix","message":"I'm sure crockford has some input on what went into strict mode","date":"2012-06-06T19:48:50.663Z","type":"message"}
{"nick":"igorzi","reason":"Ping timeout: 245 seconds","date":"2012-06-06T19:49:06.360Z","type":"quit"}
{"nick":"bnoordhuis","message":"TooTallNate: Try changing the String::New(\"Buffer\") part to String::NewSymbol(\"Buffer\"). Idk why, but that fixed some seg faults I was experiencing using similar code. <- that's... odd","date":"2012-06-06T19:49:17.776Z","type":"message"}
{"nick":"mjr_","message":"isaacs: will --no_idle_notification ever make it into a release?","date":"2012-06-06T19:49:36.349Z","type":"message"}
{"nick":"mrb_bk","reason":"Remote host closed the connection","date":"2012-06-06T19:49:40.965Z","type":"quit"}
{"nick":"indutny","reason":"Remote host closed the connection","date":"2012-06-06T19:49:44.181Z","type":"quit"}
{"nick":"Raynos","reason":"Read error: Connection reset by peer","date":"2012-06-06T19:49:45.170Z","type":"quit"}
{"nick":"bnoordhuis","message":"mjr_: 0.8 :)","date":"2012-06-06T19:50:09.487Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: is it there already?","date":"2012-06-06T19:50:15.178Z","type":"message"}
{"nick":"mjr_","message":"Oh, great.  ","date":"2012-06-06T19:50:22.451Z","type":"message"}
{"nick":"isaacs","message":"mjr_: but yes, as bnoordhuis says, this is not a v0.6 feature","date":"2012-06-06T19:50:35.761Z","type":"message"}
{"nick":"mjr_","message":"That's fine.  Just wanted to make sure that went in, because it's very important for us.","date":"2012-06-06T19:50:56.045Z","type":"message"}
{"nick":"bnoordhuis","message":"creationix, TooTallNate: https://github.com/bnoordhuis/node/commit/463d6ba <- updated","date":"2012-06-06T19:51:26.479Z","type":"message"}
{"nick":"mmalecki","reason":"Quit: Reconnecting","date":"2012-06-06T19:51:39.552Z","type":"quit"}
{"nick":"bnoordhuis","message":"isaacs: ^ like/dislike","date":"2012-06-06T19:51:42.441Z","type":"message"}
{"nick":"mmalecki","date":"2012-06-06T19:52:38.264Z","type":"join"}
{"nick":"mmalecki","reason":"Client Quit","date":"2012-06-06T19:52:38.265Z","type":"quit"}
{"nick":"mmalecki","date":"2012-06-06T19:52:53.605Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: yeah, lgtm","date":"2012-06-06T19:54:12.689Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, thanks. landing","date":"2012-06-06T19:54:29.561Z","type":"message"}
{"nick":"isaacs","message":"thanks","date":"2012-06-06T19:54:32.312Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002463d6ba\u000f \u000310\u000f/ (lib/fs.js test/simple/test-fs-stat.js)\u0002:\u000f fs: make callbacks run in global context - http://git.io/vqojew","date":"2012-06-06T19:54:45.206Z","type":"message"}
{"nick":"mrb_bk","date":"2012-06-06T19:56:11.516Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus___: on{x} is powered by node?","date":"2012-06-06T19:57:48.606Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: yep","date":"2012-06-06T19:57:57.312Z","type":"message"}
{"nick":"isaacs","message":"neat.  we were wondering that the other day at joyent","date":"2012-06-06T19:58:07.310Z","type":"message"}
{"nick":"isaacs","message":"makes sense.","date":"2012-06-06T19:58:12.092Z","type":"message"}
{"nick":"isaacs","message":"it's just using node on the server, or on the device as well?","date":"2012-06-06T19:58:24.021Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: and you were unable to find that out?","date":"2012-06-06T19:58:27.780Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: not on the device","date":"2012-06-06T19:58:31.016Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus___: well, we didn't look too hard :)","date":"2012-06-06T19:58:36.977Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: just kiddin","date":"2012-06-06T19:58:49.143Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: well it's a good use case for node, pushing stuff to the client","date":"2012-06-06T19:59:05.507Z","type":"message"}
{"nick":"piscisaureus___","message":"and pushing logs back to the server","date":"2012-06-06T19:59:09.677Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2012-06-06T19:59:15.861Z","type":"message"}
{"nick":"piscisaureus___","message":"and then, back to the user's browser","date":"2012-06-06T19:59:17.620Z","type":"message"}
{"nick":"isaacs","message":"totally","date":"2012-06-06T19:59:18.773Z","type":"message"}
{"nick":"isaacs","message":"qv voxer, gather, etc.","date":"2012-06-06T19:59:24.778Z","type":"message"}
{"nick":"isaacs","message":"it's basically what node is for :)","date":"2012-06-06T19:59:36.374Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: >curl -I https://www.onx.ms/ | grep Powered","date":"2012-06-06T20:00:28.753Z","type":"message"}
{"nick":"mjr_","message":"We send a Server: header that proudly declares our use of node","date":"2012-06-06T20:04:34.287Z","type":"message"}
{"nick":"mjr_","message":"curl -s -i https://one.voxer.com/ping","date":"2012-06-06T20:04:45.921Z","type":"message"}
{"nick":"`3rdEden","date":"2012-06-06T20:05:53.323Z","type":"join"}
{"nick":"piscisaureus___","message":"mjr_: very good :-)","date":"2012-06-06T20:05:53.863Z","type":"message"}
{"nick":"isaacs","message":"heh","date":"2012-06-06T20:06:51.797Z","type":"message"}
{"nick":"isaacs","message":"i've alwasy stripped off Server headers","date":"2012-06-06T20:07:01.534Z","type":"message"}
{"nick":"isaacs","message":"bad experience with ASP6 and PHP having easily sniffed vulnerabilities","date":"2012-06-06T20:07:20.537Z","type":"message"}
{"nick":"piscisaureus___","message":"well, it shouldn't tell the version","date":"2012-06-06T20:07:39.574Z","type":"message"}
{"nick":"isaacs","message":"res.setHeader('server', 'go fuck yourself')","date":"2012-06-06T20:07:39.834Z","type":"message"}
{"nick":"isaacs","message":"true that","date":"2012-06-06T20:07:51.946Z","type":"message"}
{"nick":"piscisaureus___","message":"actually, it's very obvious that onx uses node","date":"2012-06-06T20:08:01.942Z","type":"message"}
{"nick":"isaacs","message":"the api looks pretty nodey","date":"2012-06-06T20:08:09.670Z","type":"message"}
{"nick":"mjr_","message":"I just hate the term \"powered by\"","date":"2012-06-06T20:08:14.821Z","type":"message"}
{"nick":"piscisaureus___","message":"also there are many headers that reveal the use of anode / farm","date":"2012-06-06T20:08:26.353Z","type":"message"}
{"nick":"mjr_","message":"Powered by 3.3 volts DC.","date":"2012-06-06T20:09:05.616Z","type":"message"}
{"nick":"piscisaureus___","message":"ghe","date":"2012-06-06T20:09:56.893Z","type":"message"}
{"nick":"piscisaureus___","message":"x-powered-by: nukular power","date":"2012-06-06T20:10:09.926Z","type":"message"}
{"nick":"creationix","message":"I'm either brave or dumb, try curl -I http://howtonode.org/","date":"2012-06-06T20:10:27.388Z","type":"message"}
{"nick":"mjr_","message":"+1 on that spelling","date":"2012-06-06T20:10:32.647Z","type":"message"}
{"nick":"creationix","message":"speaking of, I need to upgrade to 0.6.19","date":"2012-06-06T20:10:41.569Z","type":"message"}
{"nick":"piscisaureus___","message":"C:\\Users\\Bert Belder>curl -I http://c9.io | grep -i server","date":"2012-06-06T20:12:04.554Z","type":"message"}
{"nick":"piscisaureus___","message":"X-IDE-Server: fhemuwam.joyent.us:80","date":"2012-06-06T20:12:04.781Z","type":"message"}
{"nick":"piscisaureus___","message":"server: Apache","date":"2012-06-06T20:12:04.781Z","type":"message"}
{"nick":"piscisaureus___","message":"the shame","date":"2012-06-06T20:12:07.259Z","type":"message"}
{"nick":"creationix","message":"how many layers of proxy is there?","date":"2012-06-06T20:12:25.298Z","type":"message"}
{"nick":"mjr_","message":"How do you live with yourself.","date":"2012-06-06T20:12:25.777Z","type":"message"}
{"nick":"piscisaureus___","message":"creationix: it's just the wordpress frontend","date":"2012-06-06T20:12:37.202Z","type":"message"}
{"nick":"creationix","message":"true","date":"2012-06-06T20:12:41.653Z","type":"message"}
{"nick":"creationix","message":"luvit.io is Server: Luvit :)","date":"2012-06-06T20:13:51.959Z","type":"message"}
{"nick":"creationix","message":"though you'll get a 404 on HEAD requests because my router sucks","date":"2012-06-06T20:14:01.326Z","type":"message"}
{"nick":"mjr_","message":"We 404 HEAD as well.  HEAD has no value for us, at least right now.","date":"2012-06-06T20:14:45.325Z","type":"message"}
{"nick":"piscisaureus___","message":"creationix: you wanna have fun? http://hello.piscisaureus.c9.io/","date":"2012-06-06T20:15:44.851Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-06-06T20:18:30.385Z","type":"quit"}
{"nick":"`3rdEden","reason":"Quit: Leaving...","date":"2012-06-06T20:18:49.090Z","type":"quit"}
{"nick":"pquerna","message":"EIO_STACKSIZE, any reason to not drop it down to 64kb?","date":"2012-06-06T20:23:43.154Z","type":"message"}
{"nick":"mmalecki_","date":"2012-06-06T20:23:58.157Z","type":"join"}
{"nick":"piscisaureus___","message":"pquerna: uv_queue_work ?","date":"2012-06-06T20:25:11.884Z","type":"message"}
{"nick":"creationix","message":"piscisaureus___: heh, didn't know about X-IDE-Server, that's handy","date":"2012-06-06T20:25:16.962Z","type":"message"}
{"nick":"piscisaureus___","message":"creationix: oh, I think they added that recently","date":"2012-06-06T20:26:07.534Z","type":"message"}
{"nick":"piscisaureus___","message":"for debugging etc","date":"2012-06-06T20:26:11.349Z","type":"message"}
{"nick":"piscisaureus___","message":"so you know which logs to search when something blows up","date":"2012-06-06T20:26:23.121Z","type":"message"}
{"nick":"creationix","message":"so if I create a repl on some tcp port, it will be available on that IP?","date":"2012-06-06T20:26:43.295Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 252 seconds","date":"2012-06-06T20:26:50.077Z","type":"quit"}
{"nick":"TheJH","reason":"Read error: Operation timed out","date":"2012-06-06T20:27:02.221Z","type":"quit"}
{"nick":"piscisaureus___","message":"creationix: ehh, you mean on hosted?","date":"2012-06-06T20:28:15.063Z","type":"message"}
{"nick":"piscisaureus___","message":"creationix: well sure, but you can't spawn and you only have one port","date":"2012-06-06T20:28:30.605Z","type":"message"}
{"nick":"piscisaureus___","message":"so much for the repl","date":"2012-06-06T20:28:44.903Z","type":"message"}
{"nick":"pquerna","message":"piscisaureus___: use, it works... as long as the work cb doesn't do something massive on the stack :) ?","date":"2012-06-06T20:28:52.397Z","type":"message"}
{"nick":"indutny","date":"2012-06-06T20:29:45.545Z","type":"join"}
{"nick":"dshaw_","date":"2012-06-06T20:30:16.105Z","type":"join"}
{"nick":"piscisaureus___","message":"pquerna: I see what you mean...  but I am afraid of randomly breaking code","date":"2012-06-06T20:30:50.065Z","type":"message"}
{"nick":"piscisaureus___","message":"pquerna: are you having memory issues?","date":"2012-06-06T20:30:58.582Z","type":"message"}
{"nick":"pquerna","message":"piscisaureus___: just trying to push memory use down","date":"2012-06-06T20:31:03.421Z","type":"message"}
{"nick":"pquerna","message":"we are at about 5mb in our luvit-based-agent","date":"2012-06-06T20:31:21.654Z","type":"message"}
{"nick":"piscisaureus___","message":"pquerna: I mean, if you don't actually *use* more than 64kb stack space it won't be committed either","date":"2012-06-06T20:31:27.514Z","type":"message"}
{"nick":"bnoordhuis","message":"pquerna: is that actually an issue?","date":"2012-06-06T20:31:33.847Z","type":"message"}
{"nick":"bnoordhuis","message":"what piscisaureus___ said","date":"2012-06-06T20:31:36.538Z","type":"message"}
{"nick":"pquerna","message":"killing the eio threads down should get 512kb off ish","date":"2012-06-06T20:31:37.424Z","type":"message"}
{"nick":"piscisaureus___","message":"maybe we can just reduce initial stack commit","date":"2012-06-06T20:31:57.378Z","type":"message"}
{"nick":"piscisaureus___","message":"is that possible with pthreads?","date":"2012-06-06T20:32:03.309Z","type":"message"}
{"nick":"pquerna","message":"no","date":"2012-06-06T20:32:05.894Z","type":"message"}
{"nick":"pquerna","message":"it can only be done at thread creation time","date":"2012-06-06T20:32:11.634Z","type":"message"}
{"nick":"piscisaureus___","message":"sure","date":"2012-06-06T20:32:16.638Z","type":"message"}
{"nick":"piscisaureus___","message":"but we can do that at stack creation time","date":"2012-06-06T20:32:31.266Z","type":"message"}
{"nick":"bnoordhuis","message":"pquerna: how would smaller stacks help you? it's only virtual memory, not rss","date":"2012-06-06T20:33:34.788Z","type":"message"}
{"nick":"mmalecki_","new_nick":"mmalecki","date":"2012-06-06T20:33:35.792Z","type":"nick"}
{"nick":"pquerna","message":"mmm, true","date":"2012-06-06T20:33:51.092Z","type":"message"}
{"nick":"paddybyers","date":"2012-06-06T20:34:33.511Z","type":"join"}
{"nick":"perezd","date":"2012-06-06T20:34:47.052Z","type":"join"}
{"nick":"piscisaureus___","message":"that's what I meant to say","date":"2012-06-06T20:35:57.519Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis has the words","date":"2012-06-06T20:36:02.013Z","type":"message"}
{"nick":"pquerna","message":":)","date":"2012-06-06T20:36:07.376Z","type":"message"}
{"nick":"bnoordhuis","message":"and the moves","date":"2012-06-06T20:36:08.159Z","type":"message"}
{"nick":"piscisaureus___","message":"pquerna: I think you might have more luck tweaking the v8 garbage collector","date":"2012-06-06T20:37:02.279Z","type":"message"}
{"nick":"bnoordhuis","message":"in luvit?","date":"2012-06-06T20:37:16.594Z","type":"message"}
{"nick":"piscisaureus___","message":"oh, heh","date":"2012-06-06T20:37:23.084Z","type":"message"}
{"nick":"pquerna","message":"i'm playing with massif now","date":"2012-06-06T20:37:43.881Z","type":"message"}
{"nick":"piscisaureus___","message":"yeah, in my mind Cloudkick is still a node company","date":"2012-06-06T20:37:47.861Z","type":"message"}
{"nick":"pquerna","message":"we use all node server side :)","date":"2012-06-06T20:37:56.126Z","type":"message"}
{"nick":"piscisaureus___","message":"Unfortunately they were lost to the texans","date":"2012-06-06T20:37:56.751Z","type":"message"}
{"nick":"bnoordhuis","message":"pquerna: i know a band called massif but that's probably not what you mean","date":"2012-06-06T20:38:28.401Z","type":"message"}
{"nick":"pquerna","message":"heap profiler in valgrind","date":"2012-06-06T20:38:50.793Z","type":"message"}
{"nick":"piscisaureus___","message":"massif is part of valgrind, no ?","date":"2012-06-06T20:38:56.394Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that massif","date":"2012-06-06T20:38:58.924Z","type":"message"}
{"nick":"pquerna","message":"like ares_init_options mallocs 76kb, nice.","date":"2012-06-06T20:40:29.986Z","type":"message"}
{"nick":"Raynos","date":"2012-06-06T20:40:56.560Z","type":"join"}
{"nick":"bnoordhuis","message":"yes, i've seen that","date":"2012-06-06T20:41:40.182Z","type":"message"}
{"nick":"pquerna","message":"https://gist.github.com/451b66191183593fbf40","date":"2012-06-06T20:41:44.040Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't pretend to understand why though","date":"2012-06-06T20:41:46.645Z","type":"message"}
{"nick":"pquerna","message":"#define ARES_QID_TABLE_SIZE 2048 struct list_node queries_by_qid[ARES_QID_TABLE_SIZE];","date":"2012-06-06T20:42:02.981Z","type":"message"}
{"nick":"tjfontaine","message":"only 2048 requests are allowed in flight, it's statically allocd","date":"2012-06-06T20:42:26.252Z","type":"message"}
{"nick":"pquerna","message":"is a decent part of it, ares_channeldata","date":"2012-06-06T20:42:34.786Z","type":"message"}
{"nick":"pquerna","message":"ares_channeldata is just a beast :-/","date":"2012-06-06T20:42:39.244Z","type":"message"}
{"nick":"bnoordhuis","message":"right, that's almost 50k on x64","date":"2012-06-06T20:43:36.983Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: ya, that String::NewSymbol() thing is weird. First reported to me here: https://github.com/rbranson/node-ffi/issues/48","date":"2012-06-06T20:44:07.362Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: Handle<Value> constructorArgs[3] = { slowBuffer->handle_, Integer::New(sz), Integer::New(0) }; <- use Local<Value> constructorArgs[3] there","date":"2012-06-06T20:46:15.415Z","type":"message"}
{"nick":"bnoordhuis","message":"i fixed a similar issue a while ago in node, where objects weren't properly rooted in a handlescope","date":"2012-06-06T20:46:37.676Z","type":"message"}
{"nick":"TooTallNate","message":"oh interesting","date":"2012-06-06T20:46:50.459Z","type":"message"}
{"nick":"mmalecki","reason":"Ping timeout: 252 seconds","date":"2012-06-06T20:47:00.108Z","type":"quit"}
{"nick":"TooTallNate","message":"seems anyone following this thread will run into it :\\ http://sambro.is-super-awesome.com/2011/03/03/creating-a-proper-buffer-in-a-node-c-addon/","date":"2012-06-06T20:47:18.677Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, that guy","date":"2012-06-06T20:47:27.705Z","type":"message"}
{"nick":"TooTallNate","message":"lol","date":"2012-06-06T20:47:37.127Z","type":"message"}
{"nick":"mmalecki","date":"2012-06-06T20:47:43.299Z","type":"join"}
{"nick":"mmalecki","reason":"Client Quit","date":"2012-06-06T20:49:14.365Z","type":"quit"}
{"nick":"igorzi","date":"2012-06-06T21:10:13.204Z","type":"join"}
{"nick":"ibc","date":"2012-06-06T21:12:43.323Z","type":"join"}
{"nick":"ira","date":"2012-06-06T21:14:55.026Z","type":"join"}
{"nick":"theCole","date":"2012-06-06T21:17:39.219Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-06T21:30:00.409Z","type":"quit"}
{"nick":"philips","reason":"Read error: Operation timed out","date":"2012-06-06T21:35:48.322Z","type":"quit"}
{"nick":"philips","date":"2012-06-06T21:36:24.961Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-06-06T21:37:36.760Z","type":"quit"}
{"nick":"piscisaureus___","message":"is there something like ragel for regular expressions?","date":"2012-06-06T21:37:41.525Z","type":"message"}
{"nick":"piscisaureus___","message":"like I give it a regexp, it generates c code?","date":"2012-06-06T21:37:53.444Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus___: that'd be handy","date":"2012-06-06T21:39:22.073Z","type":"message"}
{"nick":"piscisaureus___","message":"yeah, very much","date":"2012-06-06T21:39:37.105Z","type":"message"}
{"nick":"piscisaureus___","message":"v8 has a regexp compiler","date":"2012-06-06T21:39:41.342Z","type":"message"}
{"nick":"piscisaureus___","message":"now if would generate c instead of assembler :-p","date":"2012-06-06T21:39:48.945Z","type":"message"}
{"nick":"rendar","date":"2012-06-06T21:45:30.875Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus___: what is ragel if not a regex derived code generator?","date":"2012-06-06T21:48:41.982Z","type":"message"}
{"nick":"piscisaureus___","message":"sure","date":"2012-06-06T21:48:57.178Z","type":"message"}
{"nick":"bnoordhuis","message":"i assume you mean regular expressions as in js regexes?","date":"2012-06-06T21:49:19.044Z","type":"message"}
{"nick":"piscisaureus___","message":"let's say it's just a little too heavyweight for my use case","date":"2012-06-06T21:49:30.406Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: well, just some static regix","date":"2012-06-06T21:49:36.916Z","type":"message"}
{"nick":"piscisaureus___","message":"*regex","date":"2012-06-06T21:49:39.094Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-06-06T21:49:39.313Z","type":"quit"}
{"nick":"bnoordhuis","message":"piscisaureus___: when a handle gets closed, how does uv-win make sure that all associated reqs get cleaned up?","date":"2012-06-06T21:51:31.640Z","type":"message"}
{"nick":"bnoordhuis","message":"for example, when i close a tcp handle","date":"2012-06-06T21:51:56.234Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: let's say I need to convert this to C","date":"2012-06-06T21:52:01.154Z","type":"message"}
{"nick":"piscisaureus___","message":"/^([\\\\\\/]\\?\\?\u0003[\\\\\\/]\u0003+|\u0003[\\\\\\/]\u0003{2}[?\u0003.][\\\\\\/]\u0003)([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/","date":"2012-06-06T21:52:01.158Z","type":"message"}
{"nick":"tjfontaine","message":"linking to libpcre it is!","date":"2012-06-06T21:52:15.579Z","type":"message"}
{"nick":"bnoordhuis","message":"how does it make sure that all connect/shutdown/write req cbs are run?","date":"2012-06-06T21:52:17.076Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: if you close a socket or handle, all the overlapped reqs are automatically cancelled","date":"2012-06-06T21:52:38.749Z","type":"message"}
{"nick":"piscisaureus___","message":"and they come back","date":"2012-06-06T21:52:44.171Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, that's very convenient","date":"2012-06-06T21:53:06.963Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: an libuv just waits until they've all been returned by the iocp before making the close callback","date":"2012-06-06T21:53:13.447Z","type":"message"}
{"nick":"bnoordhuis","message":"too bad that doesn't work on uv-unix :/","date":"2012-06-06T21:53:26.900Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: I think only uv_shutdown_t doesn't work that way (because it's not overlapped) so I have specific cancellation code in uv_tcp_endgame","date":"2012-06-06T21:53:46.990Z","type":"message"}
{"nick":"pietern","date":"2012-06-06T21:53:48.892Z","type":"join"}
{"nick":"piscisaureus___","message":"bnoordhuis: huh? You don't have overlapped operations, right?","date":"2012-06-06T21:53:57.664Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: you can just walk all  the pending reqs and make their callbacks","date":"2012-06-06T21:54:09.795Z","type":"message"}
{"nick":"paddybyers","date":"2012-06-06T21:54:10.488Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus___: https://github.com/joyent/libuv/pull/449","date":"2012-06-06T21:54:10.709Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus___: the thing is that i would've liked for this to somehow fall out of the grand design","date":"2012-06-06T21:54:39.433Z","type":"message"}
{"nick":"piscisaureus___","message":"haha","date":"2012-06-06T21:54:48.490Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: It seems that you should have just one big queue","date":"2012-06-06T21:54:58.970Z","type":"message"}
{"nick":"ryah","message":"piscisaureus___: do it by hand :)","date":"2012-06-06T21:55:20.489Z","type":"message"}
{"nick":"piscisaureus___","message":"e.g. uv_write_t, uv_connect_t, uv_shotdown_t are all in some list attached on the handle","date":"2012-06-06T21:55:20.711Z","type":"message"}
{"nick":"piscisaureus___","message":"ryah: yeah I was doing that :-(","date":"2012-06-06T21:55:30.426Z","type":"message"}
{"nick":"ryah","message":"(the regex)","date":"2012-06-06T21:55:32.591Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus___: yeah, i guess that's the best / easiest solution","date":"2012-06-06T21:55:49.399Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: I'd like that as well, so we could even put it in uv.h","date":"2012-06-06T21:56:05.911Z","type":"message"}
{"nick":"bnoordhuis","message":"cool","date":"2012-06-06T21:56:12.415Z","type":"message"}
{"nick":"piscisaureus___","message":"bnoordhuis: because to make it queue up writes while connecting we need something like that","date":"2012-06-06T21:56:19.843Z","type":"message"}
{"nick":"piscisaureus___","message":"because the windows kernel rejects writes when we're still connecting","date":"2012-06-06T21:56:31.019Z","type":"message"}
{"nick":"piscisaureus___","message":"it's also needed for proper writev support for pipes","date":"2012-06-06T21:56:44.436Z","type":"message"}
{"nick":"piscisaureus___","message":"(-> supplying > 1 uv_buf_t)","date":"2012-06-06T21:56:54.357Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.6\u000f * r\u0002f9abf5e\u000f \u000310\u000f/ Makefile \u0002:\u000f build: Prevent duplication of doc/api folder - http://git.io/u5-9hw","date":"2012-06-06T22:02:33.105Z","type":"message"}
{"nick":"CIA-112","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u0002c45522d\u000f \u000310\u000f/ Makefile \u0002:\u000f build: Prevent duplication of doc/api folder - http://git.io/_1sdCw","date":"2012-06-06T22:02:58.794Z","type":"message"}
{"nick":"piscisaureus___","message":"isaacs: I'm not going to do unix-style symlink resolution. It could be done ... but I think it's not okay to deviate from the path resolution rules that the OS uses","date":"2012-06-06T22:05:59.235Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: what've you been up to lately?","date":"2012-06-06T22:06:31.942Z","type":"message"}
{"nick":"piscisaureus___","message":"Het is Def Rhymz en geen Hennie Huisman","date":"2012-06-06T22:07:00.783Z","type":"message"}
{"nick":"CIA-112","message":"\u0002libuv:\u000f \u000303Iaki Baz Castillo\u000f \u000307master\u000f * r\u0002b47af98\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f test: add tcp 'close on failed connect' test - http://git.io/7hpJSg","date":"2012-06-06T22:07:29.312Z","type":"message"}
{"nick":"bnoordhuis","message":"http://lwn.net/Articles/500482 <- gentoo x32 release candidate","date":"2012-06-06T22:09:06.006Z","type":"message"}
{"nick":"bnoordhuis","message":"damn, they fast","date":"2012-06-06T22:09:09.530Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: strengthening my substance addictions","date":"2012-06-06T22:09:19.106Z","type":"message"}
{"nick":"bnoordhuis","message":"want tips?","date":"2012-06-06T22:09:32.711Z","type":"message"}
{"nick":"bnoordhuis","message":"you know you're a geek when a new kernel abi makes you feel all tingly","date":"2012-06-06T22:10:06.866Z","type":"message"}
{"nick":"ryah","message":"have children? :)","date":"2012-06-06T22:10:25.872Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: how do i set the TIME_WAIT in linux?","date":"2012-06-06T22:11:14.963Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: you mean the length of the TIME_WAIT period?","date":"2012-06-06T22:12:46.275Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-06-06T22:13:33.516Z","type":"quit"}
{"nick":"ryah","message":"bnoordhuis: yeah","date":"2012-06-06T22:14:25.131Z","type":"message"}
{"nick":"tjfontaine","message":"/proc/sys/net/ipv4/tcp_fin_timeout I think","date":"2012-06-06T22:15:33.663Z","type":"message"}
{"nick":"tjfontaine","message":"or somewhere around there","date":"2012-06-06T22:16:00.301Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: sysctl -a | grep tcp_tw_re","date":"2012-06-06T22:16:13.621Z","type":"message"}
{"nick":"piscisaureus___","message":"I wish it stopped raining","date":"2012-06-06T22:16:17.236Z","type":"message"}
{"nick":"bnoordhuis","message":"it's not raining here","date":"2012-06-06T22:16:31.270Z","type":"message"}
{"nick":"bnoordhuis","message":"go gouda","date":"2012-06-06T22:16:34.328Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus___: that's a fair position i suppose.","date":"2012-06-06T22:16:51.781Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: there's also tcp_max_tw_buckets btw","date":"2012-06-06T22:17:03.108Z","type":"message"}
{"nick":"piscisaureus___","new_nick":"piscisaureus","date":"2012-06-06T22:17:06.747Z","type":"nick"}
{"nick":"ibc","message":"\"Do not be confused by the /proc/sys/net/ipv4/tcp_fin_timeout config item. The FIN TIMEOUT is not the same as the TIMEWAIT length.\"","date":"2012-06-06T22:18:29.948Z","type":"message"}
{"nick":"isaacs","message":"*finally* pulled that backwards idiotic logger out of npm and into it's own module.","date":"2012-06-06T22:18:30.172Z","type":"message"}
{"nick":"isaacs","message":"ryah: still no progress bars.  that's not worth how screwey it is to manage.","date":"2012-06-06T22:18:52.799Z","type":"message"}
{"nick":"tjfontaine","message":"ibc: hey the knob is in there somewhere","date":"2012-06-06T22:18:59.702Z","type":"message"}
{"nick":"ibc","message":"I found that some time ago in this link, it also explains how to reuse the TIME_WAIT buckets: http://www.stolk.org/debian/timewait.html ","date":"2012-06-06T22:19:39.476Z","type":"message"}
{"nick":"c4milo_","reason":"Remote host closed the connection","date":"2012-06-06T22:19:40.417Z","type":"quit"}
{"nick":"piscisaureus","message":"Heh, about tw_buckets: You should not lower this limit artificially. If you start receiving errors indicating this problem in normal operation, you should instead increase this value if your network requires so. This may lead to the requirement of more memory installed in the machine in question.","date":"2012-06-06T22:20:03.404Z","type":"message"}
{"nick":"bnoordhuis","message":"tinkering with TIME_WAIT durations is not a super great idea btw","date":"2012-06-06T22:20:08.400Z","type":"message"}
{"nick":"c4milo","date":"2012-06-06T22:20:17.544Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-06T22:20:40.485Z","type":"quit"}
{"nick":"piscisaureus","message":"I think you want tcp_tw_recycle","date":"2012-06-06T22:20:41.662Z","type":"message"}
{"nick":"piscisaureus","message":"or tcp_tw_reuse","date":"2012-06-06T22:21:20.453Z","type":"message"}
{"nick":"piscisaureus","message":"ghe","date":"2012-06-06T22:21:22.476Z","type":"message"}
{"nick":"piscisaureus","message":"tcp_tw_recycle - BOOLEAN","date":"2012-06-06T22:23:19.532Z","type":"message"}
{"nick":"piscisaureus","message":"Enable fast recycling TIME-WAIT sockets. Default value is 0. It should not be changed without advice/request of technical experts.","date":"2012-06-06T22:23:19.759Z","type":"message"}
{"nick":"piscisaureus","message":"tcp_tw_reuse - BOOLEAN","date":"2012-06-06T22:23:19.759Z","type":"message"}
{"nick":"piscisaureus","message":"Allow to reuse TIME-WAIT sockets for new connections when it is safe from protocol viewpoint. Default value is 0. It should not be changed without advice/request of technical experts.","date":"2012-06-06T22:23:19.759Z","type":"message"}
{"nick":"piscisaureus","message":"very confusing","date":"2012-06-06T22:23:22.444Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: what is?","date":"2012-06-06T22:23:52.309Z","type":"message"}
{"nick":"piscisaureus","message":"well, why is there no way to just lower the TIME_WAIT period :-)","date":"2012-06-06T22:24:09.828Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: because it's not that simple :)","date":"2012-06-06T22:24:35.181Z","type":"message"}
{"nick":"ryah","message":"whatever, what settings do you use for benching http_simple.js ?","date":"2012-06-06T22:24:42.048Z","type":"message"}
{"nick":"c4milo","reason":"Ping timeout: 246 seconds","date":"2012-06-06T22:24:53.323Z","type":"quit"}
{"nick":"ryah","message":"echo \"49152 65535\" > /proc/sys/net/ipv4/ip_local_port_range","date":"2012-06-06T22:25:08.971Z","type":"message"}
{"nick":"ryah","message":"echo \"2\" > /proc/sys/net/ipv4/tcp_fin_timeout","date":"2012-06-06T22:25:09.191Z","type":"message"}
{"nick":"ryah","message":"^-- seems reasonable","date":"2012-06-06T22:25:13.326Z","type":"message"}
{"nick":"ryah","message":"?","date":"2012-06-06T22:25:14.977Z","type":"message"}
{"nick":"bnoordhuis","message":"the only thing i've changed is net.ipv4.ip_local_port_range to 32768-61000","date":"2012-06-06T22:25:46.144Z","type":"message"}
{"nick":"bnoordhuis","message":"don't remember why i picked 61000 as the upper limit though","date":"2012-06-06T22:26:09.305Z","type":"message"}
{"nick":"ryah","message":"k","date":"2012-06-06T22:26:19.424Z","type":"message"}
{"nick":"bnoordhuis","message":"sizeof(ngx_queue_t) = 16 :(","date":"2012-06-06T22:29:35.131Z","type":"message"}
{"nick":"ibc","reason":"Remote host closed the connection","date":"2012-06-06T22:29:35.357Z","type":"quit"}
{"nick":"bnoordhuis","message":"x32 is going to help there though","date":"2012-06-06T22:29:51.792Z","type":"message"}
{"nick":"bnoordhuis","message":"but i sure would like a fat free-er alternative for x64","date":"2012-06-06T22:30:22.595Z","type":"message"}
{"nick":"ryah","message":"https://gist.github.com/8013f2fcd3d7f7a4c229 <-- :(","date":"2012-06-06T22:31:27.684Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: try bytes/1024 or bigger","date":"2012-06-06T22:32:29.434Z","type":"message"}
{"nick":"ryah","message":"ok","date":"2012-06-06T22:32:38.936Z","type":"message"}
{"nick":"bnoordhuis","message":"strings are supposed to be a lot faster now","date":"2012-06-06T22:32:40.825Z","type":"message"}
{"nick":"piscisaureus","message":"you should try unicode/1024 :-)","date":"2012-06-06T22:34:01.903Z","type":"message"}
{"nick":"piscisaureus","message":"oh wait that bench isn't in 0.6 I suppose","date":"2012-06-06T22:34:12.554Z","type":"message"}
{"nick":"bnoordhuis","message":"he's testing 0.7.9 right?","date":"2012-06-06T22:35:16.704Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: yeah but there's not much to compare to","date":"2012-06-06T22:35:30.964Z","type":"message"}
{"nick":"piscisaureus","message":"we should backport unicode/ to b0.6","date":"2012-06-06T22:35:38.007Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, compared to 0.6.18","date":"2012-06-06T22:35:40.536Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: yes, back-port it :)","date":"2012-06-06T22:36:04.997Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: updated with 1024 https://gist.github.com/8013f2fcd3d7f7a4c229","date":"2012-06-06T22:36:09.152Z","type":"message"}
{"nick":"bnoordhuis","message":"that can't be right","date":"2012-06-06T22:36:29.983Z","type":"message"}
{"nick":"piscisaureus","message":"I wonder how bytes/123 got slower","date":"2012-06-06T22:36:37.431Z","type":"message"}
{"nick":"bnoordhuis","message":"unless we had a major performance regression in the last 2 or 3 weeks","date":"2012-06-06T22:36:47.928Z","type":"message"}
{"nick":"piscisaureus","message":"when I was doing the string work it got faster","date":"2012-06-06T22:36:50.428Z","type":"message"}
{"nick":"piscisaureus","message":"yeah, weird","date":"2012-06-06T22:36:53.672Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: open an issue and assign it to me","date":"2012-06-06T22:37:15.123Z","type":"message"}
{"nick":"bnoordhuis","message":"if it turns out to be a problem with your local setup, i'll have you buying the beers for the foreseeable future though","date":"2012-06-06T22:37:48.441Z","type":"message"}
{"nick":"ryah","message":"http://arlolra.no.de/bench/ab-hello-world-buffer-1024/#!/master/linux32","date":"2012-06-06T22:37:50.248Z","type":"message"}
{"nick":"bnoordhuis","message":"Fix #3270 Escape url.parse delims Rather than omitting them. <- wut?","date":"2012-06-06T22:38:56.577Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: what happens if you revert 9fc7283a403bb0dec096b76991226cba8e7b73c2 in master?","date":"2012-06-06T22:39:58.531Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: https://github.com/joyent/node/issues/3383","date":"2012-06-06T22:40:51.851Z","type":"message"}
{"nick":"piscisaureus","message":"somewhere in the range of 4099d1eeba...9fc7283a40","date":"2012-06-06T22:40:59.433Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: thanks","date":"2012-06-06T22:41:08.608Z","type":"message"}
{"nick":"piscisaureus","message":"could also be v8 3.11.1","date":"2012-06-06T22:41:08.972Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, that wouldn't surprise me","date":"2012-06-06T22:41:15.121Z","type":"message"}
{"nick":"ryah","message":"reverting that doesn't help","date":"2012-06-06T22:41:49.300Z","type":"message"}
{"nick":"bnoordhuis","message":"i guess some profiling with gprof/valgrind/v8 is called for","date":"2012-06-06T22:42:29.498Z","type":"message"}
{"nick":"piscisaureus","message":"what about","date":"2012-06-06T22:42:46.404Z","type":"message"}
{"nick":"piscisaureus","message":"rm -rf deps/v8 && git checkout 3f3f958c~1 -- deps/v8","date":"2012-06-06T22:42:46.946Z","type":"message"}
{"nick":"ryah","message":"on the other hand, it's nice to see v0.6.18 running so fast :)","date":"2012-06-06T22:44:51.471Z","type":"message"}
{"nick":"ryah","message":"8k/sec is pretty good","date":"2012-06-06T22:44:59.417Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: checking...","date":"2012-06-06T22:45:25.472Z","type":"message"}
{"nick":"ryah","message":"piscisaureus: yes, that improves it greatly","date":"2012-06-06T22:47:11.213Z","type":"message"}
{"nick":"ryah","message":"it's now almost on par with v0.6","date":"2012-06-06T22:47:29.123Z","type":"message"}
{"nick":"bnoordhuis","message":"guess we need to write our own vm...","date":"2012-06-06T22:48:15.193Z","type":"message"}
{"nick":"ryah","message":"what does v8 3.10 introduce?","date":"2012-06-06T22:49:58.324Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: do we or have we ever promised anything about the order req cbs are invoked?","date":"2012-06-06T22:50:11.552Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: i.e. connect reqs first, write reqs second, shutdown reqs last?","date":"2012-06-06T22:50:28.881Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: no... but it's not really nice to process them out of order","date":"2012-06-06T22:50:32.487Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i kind of agree...","date":"2012-06-06T22:50:40.821Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but windows actually does write reqs out of order","date":"2012-06-06T22:50:46.514Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: lots of bugs, mostly","date":"2012-06-06T22:50:52.838Z","type":"message"}
{"nick":"piscisaureus","message":"pietern did a patch that fixes it at some point","date":"2012-06-06T22:50:54.813Z","type":"message"}
{"nick":"piscisaureus","message":"but he didn't get the cla through the vmware legal dept I believe","date":"2012-06-06T22:51:10.702Z","type":"message"}
{"nick":"pietern","message":":(","date":"2012-06-06T22:51:19.000Z","type":"message"}
{"nick":"bnoordhuis","message":"i remember that","date":"2012-06-06T22:51:20.382Z","type":"message"}
{"nick":"bnoordhuis","message":"talk about the devil","date":"2012-06-06T22:51:25.048Z","type":"message"}
{"nick":"pietern","message":";)","date":"2012-06-06T22:51:30.327Z","type":"message"}
{"nick":"ryah","action":"away","date":"2012-06-06T22:51:38.431Z","type":"action"}
{"nick":"piscisaureus","message":"bnoordhuis: but if you just keep the req queue in order, then it's easy to make the callbacks in order too right?","date":"2012-06-06T22:51:55.185Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: oh, sure. i was considering the case of queuing a shutdown req, then one or more write reqs","date":"2012-06-06T22:52:20.126Z","type":"message"}
{"nick":"isaacs_mobile","date":"2012-06-06T22:52:33.108Z","type":"join"}
{"nick":"bnoordhuis","message":"i guess people who do that get what they deserve","date":"2012-06-06T22:52:39.104Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: well, you should just reject write reqs synchronously when the socket is shut","date":"2012-06-06T22:52:40.196Z","type":"message"}
{"nick":"piscisaureus","message":"(or shutting)","date":"2012-06-06T22:52:49.803Z","type":"message"}
{"nick":"bnoordhuis","message":"hrm","date":"2012-06-06T22:53:32.520Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: also, it makes more sense to make CBs in the order that requests are queued","date":"2012-06-06T22:53:53.379Z","type":"message"}
{"nick":"piscisaureus","message":"than to follow connect...write...shut strictly","date":"2012-06-06T22:54:02.943Z","type":"message"}
{"nick":"bnoordhuis","message":"yeah, i can live with that","date":"2012-06-06T22:54:14.240Z","type":"message"}
{"nick":"bnoordhuis","message":"but rejecting write reqs seems kind of wrong","date":"2012-06-06T22:54:27.044Z","type":"message"}
{"nick":"bnoordhuis","message":"though i guess it's a lifecycle issue","date":"2012-06-06T22:54:43.020Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: well, otherwise we should fail with UV_ESHUTDOWN","date":"2012-06-06T22:54:44.299Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: that's what uv-win does atm anyway","date":"2012-06-06T22:54:59.130Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: also, when a write is done before a connect is posted, it is also rejected","date":"2012-06-06T22:55:19.290Z","type":"message"}
{"nick":"bnoordhuis","message":"uv-unix handles that better :)","date":"2012-06-06T22:55:36.357Z","type":"message"}
{"nick":"piscisaureus","message":"I don't agree","date":"2012-06-06T22:55:42.268Z","type":"message"}
{"nick":"bnoordhuis","message":"it's okay to disagree with me","date":"2012-06-06T22:56:00.736Z","type":"message"}
{"nick":"bnoordhuis","message":"but only when you're wrong","date":"2012-06-06T22:56:03.988Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-06-06T22:56:07.887Z","type":"message"}
{"nick":"piscisaureus","message":"the abstraction should just be that reqs queued and handled background","date":"2012-06-06T22:56:13.535Z","type":"message"}
{"nick":"piscisaureus","message":"that doesn't give you a free card to just do stuff in random order","date":"2012-06-06T22:56:34.908Z","type":"message"}
{"nick":"bnoordhuis","message":"it kind of makes sense though","date":"2012-06-06T22:57:06.899Z","type":"message"}
{"nick":"bnoordhuis","message":"suppose you're about to make a http request","date":"2012-06-06T22:57:13.259Z","type":"message"}
{"nick":"bnoordhuis","message":"you already know what you're going to write","date":"2012-06-06T22:57:23.547Z","type":"message"}
{"nick":"loladiro","reason":"Ping timeout: 246 seconds","date":"2012-06-06T22:57:26.324Z","type":"quit"}
{"nick":"piscisaureus","message":"ok, I think I might agree with that","date":"2012-06-06T22:58:28.524Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but I'd like write reqs to return an error status when connect fails","date":"2012-06-06T22:58:51.493Z","type":"message"}
{"nick":"piscisaureus","message":"basically we should say \"hey, we couldn't connect to your host, so we couldn't deliver your data\"","date":"2012-06-06T22:59:11.130Z","type":"message"}
{"nick":"bnoordhuis","message":"that's what happens now (with uv-unix)","date":"2012-06-06T22:59:11.892Z","type":"message"}
{"nick":"piscisaureus","message":"ok, that's cool","date":"2012-06-06T22:59:34.451Z","type":"message"}
{"nick":"piscisaureus","message":"but for shutdown","date":"2012-06-06T22:59:38.762Z","type":"message"}
{"nick":"bnoordhuis","message":"though it's UV_EINTR, not UV_ECONNREFUSED","date":"2012-06-06T22:59:40.024Z","type":"message"}
{"nick":"piscisaureus","message":"ah, right","date":"2012-06-06T22:59:48.595Z","type":"message"}
{"nick":"bnoordhuis","message":"UV_EINTR is kind of a lame name...","date":"2012-06-06T22:59:55.453Z","type":"message"}
{"nick":"piscisaureus","message":"that's debatable, I don't have a strong opinion on the matter","date":"2012-06-06T22:59:57.949Z","type":"message"}
{"nick":"piscisaureus","message":"yes","date":"2012-06-06T22:59:59.598Z","type":"message"}
{"nick":"piscisaureus","message":"make it UV_ECANCELLED","date":"2012-06-06T23:00:02.698Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: but writing after shutdown should definitely not be allowed","date":"2012-06-06T23:00:26.167Z","type":"message"}
{"nick":"piscisaureus","message":"if it would, it would basically be a race condition","date":"2012-06-06T23:00:38.873Z","type":"message"}
{"nick":"bnoordhuis","message":"hrr... there's a posix ECANCELED error code and it's quite unrelated","date":"2012-06-06T23:00:54.947Z","type":"message"}
{"nick":"bnoordhuis","message":"re write after shutdown, yes, i agree","date":"2012-06-06T23:01:15.915Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: whatever","date":"2012-06-06T23:01:16.140Z","type":"message"}
{"nick":"piscisaureus","message":"EABORTED","date":"2012-06-06T23:01:18.979Z","type":"message"}
{"nick":"bnoordhuis","message":"ENOCANDO","date":"2012-06-06T23:01:24.804Z","type":"message"}
{"nick":"bnoordhuis","message":"EIMSORRYDAVE","date":"2012-06-06T23:01:41.824Z","type":"message"}
{"nick":"piscisaureus","message":"EGFY","date":"2012-06-06T23:01:47.427Z","type":"message"}
{"nick":"mjr_","message":"I still have a scar from the ECONNABORTED migration disaster.","date":"2012-06-06T23:02:01.668Z","type":"message"}
{"nick":"piscisaureus","message":"huh, how?","date":"2012-06-06T23:02:14.387Z","type":"message"}
{"nick":"piscisaureus","message":"oh, that we turn it into ECONNRESET?","date":"2012-06-06T23:02:23.798Z","type":"message"}
{"nick":"mjr_","message":"So Linux doesn't have that error, but SmartOS does.","date":"2012-06-06T23:02:26.952Z","type":"message"}
{"nick":"mjr_","message":"And BSD too, I guess.","date":"2012-06-06T23:02:34.016Z","type":"message"}
{"nick":"piscisaureus","message":"well, I suppose linux has it too","date":"2012-06-06T23:02:38.946Z","type":"message"}
{"nick":"bnoordhuis","message":"it does","date":"2012-06-06T23:02:45.654Z","type":"message"}
{"nick":"piscisaureus","message":"but it's reported under different circumstances","date":"2012-06-06T23:02:51.243Z","type":"message"}
{"nick":"mjr_","message":"Right","date":"2012-06-06T23:02:55.133Z","type":"message"}
{"nick":"piscisaureus","message":"but I think we turn all ECONNABORTED into ECONNRESET now","date":"2012-06-06T23:03:08.001Z","type":"message"}
{"nick":"isaacs_mobile","reason":"Remote host closed the connection","date":"2012-06-06T23:03:10.787Z","type":"quit"}
{"nick":"mjr_","message":"Anyway, it sucked a lot, because suddenly this new error was showing up, and we couldn't figure out why.  It caused a huge cascading failure of the entire operation.","date":"2012-06-06T23:03:29.848Z","type":"message"}
{"nick":"mjr_","message":"Good story though","date":"2012-06-06T23:03:39.290Z","type":"message"}
{"nick":"piscisaureus","message":"yeah","date":"2012-06-06T23:03:44.536Z","type":"message"}
{"nick":"piscisaureus","message":"morale: use linux :-p","date":"2012-06-06T23:03:52.291Z","type":"message"}
{"nick":"bnoordhuis","message":"we didn't introduce that in a 0.6.x release though, did we?","date":"2012-06-06T23:03:59.657Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, this is about the move from linux to smartos?","date":"2012-06-06T23:04:17.656Z","type":"message"}
{"nick":"mjr_","message":"Yeah, Linux doesn't do aborted if the TCP client drops out while still in the server socket accept queue.","date":"2012-06-06T23:04:47.120Z","type":"message"}
{"nick":"piscisaureus","message":"8409a67 unix: ignore ECONNABORTED errors from accept()","date":"2012-06-06T23:04:50.999Z","type":"message"}
{"nick":"mjr_","message":"But BSD/Solaris do","date":"2012-06-06T23:05:03.025Z","type":"message"}
{"nick":"piscisaureus","message":"so I suppose we don't actually always turn ECONNABORTED into ECONNRESET","date":"2012-06-06T23:05:22.704Z","type":"message"}
{"nick":"mjr_","message":"The real lesson is this: never change operating systems.","date":"2012-06-06T23:05:23.051Z","type":"message"}
{"nick":"piscisaureus","message":"just in the case of accept)","date":"2012-06-06T23:05:26.194Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: quite right :)","date":"2012-06-06T23:05:36.388Z","type":"message"}
{"nick":"bnoordhuis","message":"ECONNABORTED is a silly error anyway","date":"2012-06-06T23:05:44.647Z","type":"message"}
{"nick":"mjr_","message":"I know, kind of pointless.","date":"2012-06-06T23:05:50.998Z","type":"message"}
{"nick":"piscisaureus","message":"well, I don't agree","date":"2012-06-06T23:06:17.227Z","type":"message"}
{"nick":"mjr_","message":"However, now that we are all moved over, the DTrace and mdb stuff on SmartOS is truly amazing.  ","date":"2012-06-06T23:06:18.128Z","type":"message"}
{"nick":"bnoordhuis","message":"mjr_: just wait until i'm finished with the systemtap integration :)","date":"2012-06-06T23:06:40.069Z","type":"message"}
{"nick":"bnoordhuis","message":"what are you getting out of mdb though?","date":"2012-06-06T23:06:46.580Z","type":"message"}
{"nick":"mjr_","message":"mdb is how you get heap inspection from a core dump","date":"2012-06-06T23:07:05.424Z","type":"message"}
{"nick":"mjr_","message":"Which you can take without killing the process","date":"2012-06-06T23:07:18.319Z","type":"message"}
{"nick":"bnoordhuis","message":"ah, right. dap wrote that, didn't he?","date":"2012-06-06T23:07:29.343Z","type":"message"}
{"nick":"mjr_","message":"Yes he did.","date":"2012-06-06T23:07:35.472Z","type":"message"}
{"nick":"isaacs","date":"2012-06-06T23:07:39.248Z","type":"join"}
{"nick":"bnoordhuis","message":"yeah, that's a nice feature","date":"2012-06-06T23:07:41.354Z","type":"message"}
{"nick":"mjr_","message":"With some help, of course.","date":"2012-06-06T23:07:45.362Z","type":"message"}
{"nick":"bnoordhuis","message":"not sunos-specific though","date":"2012-06-06T23:07:55.900Z","type":"message"}
{"nick":"mjr_","message":"Happens to only work there right now, for various reasons.","date":"2012-06-06T23:08:09.350Z","type":"message"}
{"nick":"bnoordhuis","message":"that particular implementation is, of course","date":"2012-06-06T23:08:17.579Z","type":"message"}
{"nick":"bnoordhuis","message":"but i have a bunch of gdb python scripts that do something similar","date":"2012-06-06T23:08:31.611Z","type":"message"}
{"nick":"bnoordhuis","message":"which reminds me that we need some kind of heap inspection / snapshotting in node","date":"2012-06-06T23:09:15.084Z","type":"message"}
{"nick":"piscisaureus","message":"which reminds me that we should add some sort of signal to enable --prof","date":"2012-06-06T23:10:00.987Z","type":"message"}
{"nick":"bnoordhuis","message":"enabling/disabling the profiler at runtime doesn't work all that great right now","date":"2012-06-06T23:10:24.732Z","type":"message"}
{"nick":"piscisaureus","message":"bnoordhuis: how so?","date":"2012-06-06T23:10:29.575Z","type":"message"}
{"nick":"bnoordhuis","message":"hasn't since 0.6.0 really","date":"2012-06-06T23:10:30.294Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus: well, for one it doesn't work :)","date":"2012-06-06T23:10:38.398Z","type":"message"}
{"nick":"mjr_","message":"IMO it doesn't even work after you enable it either","date":"2012-06-06T23:10:58.543Z","type":"message"}
{"nick":"piscisaureus","message":"well","date":"2012-06-06T23:11:07.616Z","type":"message"}
{"nick":"piscisaureus","message":"the tick processor isn't great","date":"2012-06-06T23:11:12.446Z","type":"message"}
{"nick":"mjr_","message":"It is better than absolutely nothing, which is the alternative in most places.","date":"2012-06-06T23:11:22.935Z","type":"message"}
{"nick":"piscisaureus","message":"but in theory the logs have enough information to the same trick as this dtrace thing does","date":"2012-06-06T23:11:25.946Z","type":"message"}
{"nick":"mjr_","message":"I'm not sure that this is true.","date":"2012-06-06T23:11:36.709Z","type":"message"}
{"nick":"piscisaureus","message":"mjr_: why not?","date":"2012-06-06T23:11:56.357Z","type":"message"}
{"nick":"mjr_","message":"I've spent a lot of time with the V8 profiler, and I don't think it collects data when it needs to, like it misses samples or something","date":"2012-06-06T23:12:16.852Z","type":"message"}
{"nick":"bnoordhuis","message":"that's true","date":"2012-06-06T23:12:29.120Z","type":"message"}
{"nick":"piscisaureus","message":"mjr_: well, samples missing is sort of expected","date":"2012-06-06T23:12:30.385Z","type":"message"}
{"nick":"mjr_","message":"Sure, SOME missing samples I'd expect","date":"2012-06-06T23:12:40.155Z","type":"message"}
{"nick":"piscisaureus","message":"mjr_: but it shouldn't miss code generations / moves","date":"2012-06-06T23:12:42.053Z","type":"message"}
{"nick":"mjr_","message":"But the data seems completely wrong sometimes.","date":"2012-06-06T23:12:50.959Z","type":"message"}
{"nick":"mjr_","message":"Like it seems to miss huge chunks of execution time.","date":"2012-06-06T23:13:04.248Z","type":"message"}
{"nick":"mjr_","message":"I haven't tried on the latest V8, so maybe they've fixed this by now.","date":"2012-06-06T23:13:30.882Z","type":"message"}
{"nick":"piscisaureus","message":"huge, as in, seconds ?","date":"2012-06-06T23:13:33.263Z","type":"message"}
{"nick":"mjr_","message":"Yes, huge as in the actual place the program is spending its time often doesn't show up.","date":"2012-06-06T23:13:53.337Z","type":"message"}
{"nick":"bnoordhuis","message":"i've never seen that happen, i think","date":"2012-06-06T23:14:15.475Z","type":"message"}
{"nick":"bnoordhuis","message":"on linux, anyway","date":"2012-06-06T23:14:22.765Z","type":"message"}
{"nick":"mjr_","message":"I've found the results to be so confused that it's simply not worth using.  Adding explicit checkpoints and comparing the data later shows very different results.","date":"2012-06-06T23:14:42.383Z","type":"message"}
{"nick":"mjr_","message":"This was all on Linux.","date":"2012-06-06T23:14:45.268Z","type":"message"}
{"nick":"piscisaureus","message":"I suppose we could increase the resolution a little","date":"2012-06-06T23:14:47.368Z","type":"message"}
{"nick":"piscisaureus","message":"when the profiler is running","date":"2012-06-06T23:14:51.883Z","type":"message"}
{"nick":"mjr_","message":"By explicit checkpoints, I mean having the program do Date.now() a lot and subtract.","date":"2012-06-06T23:15:17.780Z","type":"message"}
{"nick":"mjr_","message":"I was mostly trying to make node_redis faster, so perhaps the specific workload matters.","date":"2012-06-06T23:16:47.173Z","type":"message"}
{"nick":"piscisaureus","message":"ok. The rainwash stopped. I am going home.","date":"2012-06-06T23:18:09.380Z","type":"message"}
{"nick":"piscisaureus","message":"And so are the americans","date":"2012-06-06T23:18:23.183Z","type":"message"}
{"nick":"piscisaureus","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-06-06T23:24:34.954Z","type":"quit"}
{"nick":"mikeal","date":"2012-06-06T23:24:37.552Z","type":"join"}
{"nick":"xaq","reason":"Remote host closed the connection","date":"2012-06-06T23:34:29.766Z","type":"quit"}
{"nick":"c4milo","date":"2012-06-06T23:36:23.267Z","type":"join"}
{"nick":"loladiro","date":"2012-06-06T23:40:01.327Z","type":"join"}
{"nick":"travis-ci","date":"2012-06-06T23:49:37.869Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#389 (master - b47af98 : Iaki Baz Castillo): The build is still failing.","date":"2012-06-06T23:49:38.100Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/649ad50...b47af98","date":"2012-06-06T23:49:38.100Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/1552361","date":"2012-06-06T23:49:38.100Z","type":"message"}
{"nick":"travis-ci","date":"2012-06-06T23:49:38.100Z","type":"part"}
{"nick":"piscisaureus_","date":"2012-06-06T23:50:28.947Z","type":"join"}
{"nick":"mjr_","reason":"Quit: mjr_","date":"2012-06-06T23:54:36.051Z","type":"quit"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-06-06T23:56:29.264Z","type":"quit"}
{"nick":"isaacs","date":"2012-06-06T23:57:18.466Z","type":"join"}
