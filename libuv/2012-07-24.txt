{"nick":"piscisaureus_","date":"2012-07-24T00:03:34.911Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-07-24T00:05:41.611Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-07-24T00:11:52.762Z","type":"quit"}
{"nick":"mikeal","date":"2012-07-24T00:14:41.484Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-07-24T00:23:30.865Z","type":"quit"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2012-07-24T00:31:50.670Z","type":"quit"}
{"nick":"mikeal","date":"2012-07-24T00:39:38.247Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-07-24T00:54:48.299Z","type":"quit"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-07-24T00:57:37.373Z","type":"quit"}
{"nick":"c4milo","date":"2012-07-24T01:00:40.497Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-07-24T01:07:10.353Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-07-24T01:07:53.821Z","type":"quit"}
{"nick":"c4milo","date":"2012-07-24T01:08:50.307Z","type":"join"}
{"nick":"pooya","date":"2012-07-24T01:20:07.922Z","type":"join"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-07-24T01:22:25.602Z","type":"quit"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-07-24T01:27:54.768Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-07-24T01:34:39.176Z","type":"quit"}
{"nick":"dap","reason":"Quit: Leaving.","date":"2012-07-24T01:39:45.835Z","type":"quit"}
{"nick":"lohkey","date":"2012-07-24T01:46:58.939Z","type":"part"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-07-24T02:01:14.015Z","type":"quit"}
{"nick":"piscisaureus_","message":"test","date":"2012-07-24T09:32:55.621Z","type":"message"}
{"nick":"doexxa","message":"1, 2, 3","date":"2012-07-24T09:33:07.665Z","type":"message"}
{"nick":"indutny","message":"test","date":"2012-07-24T09:37:38.421Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 248 seconds","date":"2012-07-24T09:46:49.972Z","type":"quit"}
{"nick":"doexxa","new_nick":"deoxxa","date":"2012-07-24T09:58:15.381Z","type":"nick"}
{"nick":"loladiro","date":"2012-07-24T09:58:22.614Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-07-24T09:58:25.458Z","type":"join"}
{"nick":"TheJH","reason":"Ping timeout: 245 seconds","date":"2012-07-24T10:06:45.010Z","type":"quit"}
{"nick":"AndreasMadsen","date":"2012-07-24T10:08:40.221Z","type":"join"}
{"nick":"pooya","date":"2012-07-24T10:41:53.996Z","type":"join"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-07-24T10:47:20.064Z","type":"quit"}
{"nick":"mmalecki","reason":"Read error: Connection reset by peer","date":"2012-07-24T11:08:30.066Z","type":"quit"}
{"nick":"mmalecki","date":"2012-07-24T11:08:42.389Z","type":"join"}
{"nick":"hz","date":"2012-07-24T11:16:24.157Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-07-24T11:20:25.601Z","type":"quit"}
{"nick":"hz","date":"2012-07-24T11:20:29.130Z","type":"join"}
{"nick":"theCole","date":"2012-07-24T11:30:51.457Z","type":"join"}
{"nick":"pooya","reason":"Quit: pooya","date":"2012-07-24T11:35:02.426Z","type":"quit"}
{"nick":"benvie","date":"2012-07-24T11:38:29.312Z","type":"join"}
{"nick":"EhevuTov","date":"2012-07-24T12:19:00.863Z","type":"join"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-07-24T12:19:29.729Z","type":"quit"}
{"nick":"hz","date":"2012-07-24T12:19:33.147Z","type":"join"}
{"nick":"TheJH","date":"2012-07-24T12:27:39.019Z","type":"join"}
{"nick":"AvianFlu","date":"2012-07-24T12:30:22.841Z","type":"join"}
{"nick":"chobi_e_","new_nick":"chobi_e","date":"2012-07-24T12:32:44.461Z","type":"nick"}
{"nick":"benvie","date":"2012-07-24T12:34:15.991Z","type":"quit"}
{"nick":"loladiro","reason":"Ping timeout: 255 seconds","date":"2012-07-24T12:34:38.599Z","type":"quit"}
{"nick":"loladiro","date":"2012-07-24T12:39:39.209Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 248 seconds","date":"2012-07-24T12:47:56.207Z","type":"quit"}
{"nick":"piscisaureus_","message":"`3rdEden: Do you know anything about this bug: https://github.com/LearnBoost/socket.io-client/issues/341","date":"2012-07-24T12:48:01.952Z","type":"message"}
{"nick":"piscisaureus_","message":"`3rdEden: I'm getting this all the time ...","date":"2012-07-24T12:48:16.251Z","type":"message"}
{"nick":"chobi_e","new_nick":"chobi_e_","date":"2012-07-24T12:50:03.078Z","type":"nick"}
{"nick":"benvie","date":"2012-07-24T12:50:31.746Z","type":"join"}
{"nick":"`3rdEden","message":"piscisaureus_ I have never had it my self, did you try to add the suggest fix to the socket.io client?","date":"2012-07-24T12:53:31.896Z","type":"message"}
{"nick":"piscisaureus_","message":"`3rdEden: well, we can try that. But it comes with the label \"not a fix\" :-)","date":"2012-07-24T12:53:57.709Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: did you get my email?","date":"2012-07-24T12:54:30.162Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: we're testing your patch in production now","date":"2012-07-24T12:54:45.607Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: sweet! how's it going?","date":"2012-07-24T12:54:57.426Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: thanks for it. It will take a couple of hours before we can tell","date":"2012-07-24T12:55:00.627Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: I'll let you know","date":"2012-07-24T12:55:16.116Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: yeah, it takes some time to figure out if it's working, since they pile up. we'll have some news soon too","date":"2012-07-24T12:55:37.443Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: ok, I think the fix is fine. Are you landing the patch in node-http-proxy anytime soon?","date":"2012-07-24T13:17:27.852Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: yeah, after our testing is over, I'll land. give me few hours","date":"2012-07-24T13:17:59.653Z","type":"message"}
{"nick":"mmalecki","message":"actually, I think that I'll put both in next tick, if user wants to write anything in the error handler, but that's a minor change","date":"2012-07-24T13:18:36.409Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: oeh, risky","date":"2012-07-24T13:19:00.284Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: why's that?","date":"2012-07-24T13:19:15.984Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: anyway, the number of CLOSE_WAIT and FIN_WAIT2 connections dropped to 0 on our test proxy","date":"2012-07-24T13:19:25.855Z","type":"message"}
{"nick":"mmalecki","message":":)","date":"2012-07-24T13:19:44.062Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: well, I dunno, this is business critical code :-)","date":"2012-07-24T13:19:51.492Z","type":"message"}
{"nick":"piscisaureus_","message":"don't mess with it","date":"2012-07-24T13:19:54.495Z","type":"message"}
{"nick":"mmalecki","message":"haha, okay","date":"2012-07-24T13:20:04.676Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: also, if you guys have some node-http-proxy changes, we'd be happy to work with you on getting them into upstream","date":"2012-07-24T13:23:19.509Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: we don't atm I think","date":"2012-07-24T13:23:35.640Z","type":"message"}
{"nick":"mmalecki","message":"great :)","date":"2012-07-24T13:23:50.296Z","type":"message"}
{"nick":"piscisaureus_","message":"atleast the sm config is pointing to your repo and npm package","date":"2012-07-24T13:24:08.532Z","type":"message"}
{"nick":"mitsuhiko","message":"learnboost needs to rename itself. every time i read a link containing that my brain shouts \"NO DON'T USE BOOST\"","date":"2012-07-24T13:24:18.754Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: sm? but yeah, that's great","date":"2012-07-24T13:24:46.948Z","type":"message"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-07-24T13:25:18.617Z","type":"quit"}
{"nick":"hz","date":"2012-07-24T13:28:54.964Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-07-24T13:33:59.812Z","type":"join"}
{"nick":"felixge","date":"2012-07-24T13:44:09.458Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-07-24T13:44:09.800Z","type":"quit"}
{"nick":"felixge","date":"2012-07-24T13:44:10.048Z","type":"join"}
{"nick":"deoxxa","message":"mitsuhiko: agreed","date":"2012-07-24T14:03:48.181Z","type":"message"}
{"nick":"c4milo","date":"2012-07-24T14:08:43.261Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-07-24T14:27:10.420Z","type":"quit"}
{"nick":"c4milo","date":"2012-07-24T14:27:45.997Z","type":"join"}
{"nick":"c4milo","reason":"Read error: Connection reset by peer","date":"2012-07-24T14:28:03.423Z","type":"quit"}
{"nick":"c4milo","date":"2012-07-24T14:28:18.248Z","type":"join"}
{"nick":"mmalecki","message":"piscisaureus_: https://github.com/nodejitsu/node-http-proxy/commit/0d00b06af307dc5c70c36e89617a08486eb665e2","date":"2012-07-24T14:33:54.896Z","type":"message"}
{"nick":"rendar","message":"mitsuhiko: LOL :-)","date":"2012-07-24T14:44:41.195Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: hey man","date":"2012-07-24T14:56:16.169Z","type":"message"}
{"nick":"charliesome","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2012-07-24T14:58:50.975Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: olla","date":"2012-07-24T15:06:44.647Z","type":"message"}
{"nick":"indutny","message":"olala","date":"2012-07-24T15:06:48.480Z","type":"message"}
{"nick":"indutny","message":"how are you doing, man?","date":"2012-07-24T15:07:18.982Z","type":"message"}
{"nick":"bnoordhuis","message":"fine","date":"2012-07-24T15:08:11.667Z","type":"message"}
{"nick":"bnoordhuis","message":"was sick for two days, getting better though","date":"2012-07-24T15:08:41.395Z","type":"message"}
{"nick":"bnoordhuis","message":"how about you?","date":"2012-07-24T15:08:45.809Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: ++ have a beer, it always helps!","date":"2012-07-24T15:08:56.410Z","type":"message"}
{"nick":"kohai","message":"bnoordhuis has 22 beers","date":"2012-07-24T15:08:57.877Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: fine","date":"2012-07-24T15:09:07.222Z","type":"message"}
{"nick":"indutny","message":"doing some experiments with CoreAudio","date":"2012-07-24T15:09:12.566Z","type":"message"}
{"nick":"bnoordhuis","message":"alcohol kills germs","date":"2012-07-24T15:09:13.397Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: ouch","date":"2012-07-24T15:09:24.183Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: yeah, there are no germs in my body anymore","date":"2012-07-24T15:09:32.754Z","type":"message"}
{"nick":"indutny","message":"mmalecki: you should be already dead then","date":"2012-07-24T15:09:33.065Z","type":"message"}
{"nick":"pooya","date":"2012-07-24T15:09:36.964Z","type":"join"}
{"nick":"bnoordhuis","message":"oh, snap!","date":"2012-07-24T15:09:41.989Z","type":"message"}
{"nick":"mmalecki","message":"indutny: well, my germs are dead!","date":"2012-07-24T15:09:50.330Z","type":"message"}
{"nick":"tjfontaine","message":"indutny: what are you doing with coreaudio?","date":"2012-07-24T15:10:04.714Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: mad science","date":"2012-07-24T15:10:20.367Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: are you familiar with it?","date":"2012-07-24T15:10:25.638Z","type":"message"}
{"nick":"tjfontaine","message":"I just always assume that","date":"2012-07-24T15:10:28.454Z","type":"message"}
{"nick":"tjfontaine","message":"some, nothing in depth","date":"2012-07-24T15:10:40.419Z","type":"message"}
{"nick":"indutny","message":"yeah, me too","date":"2012-07-24T15:11:00.673Z","type":"message"}
{"nick":"pooya","reason":"Client Quit","date":"2012-07-24T15:11:12.650Z","type":"quit"}
{"nick":"DrPizza","reason":"Ping timeout: 252 seconds","date":"2012-07-24T15:13:26.019Z","type":"quit"}
{"nick":"DrPizza","date":"2012-07-24T15:13:32.955Z","type":"join"}
{"nick":"sj26","reason":"Ping timeout: 252 seconds","date":"2012-07-24T15:13:47.989Z","type":"quit"}
{"nick":"sj26","date":"2012-07-24T15:15:51.792Z","type":"join"}
{"nick":"bnoordhuis","message":"mmalecki: good work on the websockets thing btw","date":"2012-07-24T15:17:25.957Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: thanks, my pleasure :)","date":"2012-07-24T15:18:25.665Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: a question :P","date":"2012-07-24T15:18:36.885Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: an answer","date":"2012-07-24T15:18:46.140Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: where should I insert `volatile` prefix?","date":"2012-07-24T15:18:47.402Z","type":"message"}
{"nick":"hz","date":"2012-07-24T15:18:56.087Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: can you be more specific?","date":"2012-07-24T15:19:07.246Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well, I've a structure with a field","date":"2012-07-24T15:19:35.104Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: and I access this structure only in critical section (i.e. wrapped with locks)","date":"2012-07-24T15:19:48.396Z","type":"message"}
{"nick":"indutny","message":"but sometimes magic happens","date":"2012-07-24T15:19:55.154Z","type":"message"}
{"nick":"bnoordhuis","message":"white magic or black?","date":"2012-07-24T15:20:04.229Z","type":"message"}
{"nick":"indutny","message":"black","date":"2012-07-24T15:20:06.832Z","type":"message"}
{"nick":"bnoordhuis","message":"ow","date":"2012-07-24T15:20:09.692Z","type":"message"}
{"nick":"indutny","message":"blackest of all magic","date":"2012-07-24T15:20:10.790Z","type":"message"}
{"nick":"tjfontaine","message":"whys it always gotta be a black thing","date":"2012-07-24T15:20:21.142Z","type":"message"}
{"nick":"indutny","message":"the property should be changed","date":"2012-07-24T15:20:23.059Z","type":"message"}
{"nick":"indutny","message":"and it is","date":"2012-07-24T15:20:32.340Z","type":"message"}
{"nick":"indutny","message":"but when second call happens it has the same value","date":"2012-07-24T15:20:40.946Z","type":"message"}
{"nick":"indutny","message":"I'm really scared of compiler bugs","date":"2012-07-24T15:20:50.787Z","type":"message"}
{"nick":"indutny","message":"I've heard they're really black magic","date":"2012-07-24T15:21:02.004Z","type":"message"}
{"nick":"bnoordhuis","message":"possible, gcc is rife with them","date":"2012-07-24T15:21:03.370Z","type":"message"}
{"nick":"bnoordhuis","message":"can you point me to your code?","date":"2012-07-24T15:21:11.133Z","type":"message"}
{"nick":"indutny","message":"yeah, sure","date":"2012-07-24T15:21:17.503Z","type":"message"}
{"nick":"indutny","message":"I'll add you to the project","date":"2012-07-24T15:21:23.501Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: do you have osx machine?","date":"2012-07-24T15:22:23.082Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: no","date":"2012-07-24T15:22:28.423Z","type":"message"}
{"nick":"loladiro","date":"2012-07-24T15:22:36.670Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: you won't be able to build it","date":"2012-07-24T15:22:43.444Z","type":"message"}
{"nick":"bnoordhuis","message":"indeed","date":"2012-07-24T15:23:03.715Z","type":"message"}
{"nick":"bnoordhuis","message":"but point me to the relevant code","date":"2012-07-24T15:23:21.579Z","type":"message"}
{"nick":"bnoordhuis","message":"and we'll see if my internal compiler can build it","date":"2012-07-24T15:23:29.436Z","type":"message"}
{"nick":"Felix___","reason":"Ping timeout: 245 seconds","date":"2012-07-24T15:28:23.875Z","type":"quit"}
{"nick":"loladiro_","date":"2012-07-24T15:30:15.026Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 240 seconds","date":"2012-07-24T15:30:30.609Z","type":"quit"}
{"nick":"loladiro_","new_nick":"loladiro","date":"2012-07-24T15:30:31.181Z","type":"nick"}
{"nick":"pooya","date":"2012-07-24T15:33:44.447Z","type":"join"}
{"nick":"pooya","message":"bnoordhuis: hi! you there?","date":"2012-07-24T15:34:34.443Z","type":"message"}
{"nick":"pquerna","reason":"Changing host","date":"2012-07-24T15:35:26.938Z","type":"quit"}
{"nick":"pquerna","date":"2012-07-24T15:35:27.174Z","type":"join"}
{"nick":"bnoordhuis","message":"pooya: i'm off to dinner, actually - i'll be back in a few hours","date":"2012-07-24T15:35:31.604Z","type":"message"}
{"nick":"pooya","message":":) i'll talk to you later","date":"2012-07-24T15:36:10.833Z","type":"message"}
{"nick":"stephank","date":"2012-07-24T15:58:07.773Z","type":"join"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-07-24T16:03:08.078Z","type":"quit"}
{"nick":"erickt","date":"2012-07-24T16:07:53.551Z","type":"join"}
{"nick":"dap","date":"2012-07-24T16:08:40.696Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-07-24T16:18:43.569Z","type":"quit"}
{"nick":"chobi_e_","new_nick":"chobi_e","date":"2012-07-24T16:22:30.659Z","type":"nick"}
{"nick":"piscisaureus_","message":"isaacs: new hiring attempt?","date":"2012-07-24T16:23:48.142Z","type":"message"}
{"nick":"pietern","date":"2012-07-24T16:25:12.683Z","type":"join"}
{"nick":"chobi_e","new_nick":"chobi_e_","date":"2012-07-24T16:25:32.607Z","type":"nick"}
{"nick":"indutny","message":"padam","date":"2012-07-24T16:27:59.082Z","type":"message"}
{"nick":"indutny","message":"padadadam","date":"2012-07-24T16:28:03.001Z","type":"message"}
{"nick":"indutny","message":"I do not respect street speaking","date":"2012-07-24T16:28:39.732Z","type":"message"}
{"nick":"indutny","message":"aah","date":"2012-07-24T16:28:49.258Z","type":"message"}
{"nick":"indutny","message":"twitter","date":"2012-07-24T16:28:51.430Z","type":"message"}
{"nick":"theCole","date":"2012-07-24T16:37:08.247Z","type":"join"}
{"nick":"felixge","reason":"Quit: http://www.debuggable.com/","date":"2012-07-24T16:38:13.446Z","type":"quit"}
{"nick":"piscisaureus_","message":"mmalecki: actually, your patch doesn't fix it","date":"2012-07-24T16:49:47.824Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: but I think it may not be related to websocket errors - it's just websocket all connections that leak","date":"2012-07-24T16:50:04.568Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: I think the ws proxy is not calling .destroy, but it should since http servers are created with { allowHalfOpen: true }","date":"2012-07-24T16:50:35.404Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: hm, interesting. so, we should destroy the socket on 'end' event?","date":"2012-07-24T16:51:20.851Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: yes","date":"2012-07-24T16:51:30.068Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: also, I am seeing that both ends hang","date":"2012-07-24T16:51:49.864Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: e.g. the incoming ws connection leaks, but the outgoing one also leaks","date":"2012-07-24T16:52:10.651Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: but in another state (CLOSE_WAIT vs FIN_WAIT2)","date":"2012-07-24T16:52:28.305Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: okay, let me look. I don't think we were seeing both sides leak","date":"2012-07-24T16:54:00.787Z","type":"message"}
{"nick":"bnoordhuis","message":"pooya: here now","date":"2012-07-24T16:56:34.625Z","type":"message"}
{"nick":"pooya","message":"hi, i was looking into issues i had with node-zookeeper module and that brought me to your ev-emul code","date":"2012-07-24T16:58:10.568Z","type":"message"}
{"nick":"bnoordhuis","message":"go on :)","date":"2012-07-24T16:59:03.458Z","type":"message"}
{"nick":"pooya","message":"it looks like the ev_timer_again call is not working as expected","date":"2012-07-24T16:59:11.966Z","type":"message"}
{"nick":"pooya","message":"i see that you have a hack in there to fix it","date":"2012-07-24T16:59:22.637Z","type":"message"}
{"nick":"pooya","message":"but at least in my cast that's not working","date":"2012-07-24T16:59:33.809Z","type":"message"}
{"nick":"pooya","message":"do you remember the node-zk.c code?","date":"2012-07-24T16:59:54.811Z","type":"message"}
{"nick":"bnoordhuis","message":"not working in what sense?","date":"2012-07-24T16:59:57.818Z","type":"message"}
{"nick":"bnoordhuis","reason":"*.net *.split","date":"2012-07-24T17:01:22.120Z","type":"quit"}
{"nick":"pfox__","reason":"*.net *.split","date":"2012-07-24T17:01:23.080Z","type":"quit"}
{"nick":"pooya","message":"node-zk sets a timer based on the value it gets from zookeeper interest function and tries to set the timer","date":"2012-07-24T17:01:50.648Z","type":"message"}
{"nick":"pooya","message":"every time with that value","date":"2012-07-24T17:02:01.108Z","type":"message"}
{"nick":"mitsuhiko","message":"pooya: you might want to wait for bnoordhuis to reconnect :)","date":"2012-07-24T17:02:09.908Z","type":"message"}
{"nick":"pooya","message":"but libuv is not really supporting changing the timer everytime","date":"2012-07-24T17:02:12.282Z","type":"message"}
{"nick":"pooya","message":"ah! right","date":"2012-07-24T17:02:19.370Z","type":"message"}
{"nick":"pquerna","message":"mmm, node-zk.","date":"2012-07-24T17:02:51.876Z","type":"message"}
{"nick":"pooya","message":"my eyes are automatically ignoring the leave messages ","date":"2012-07-24T17:02:58.086Z","type":"message"}
{"nick":"bnoordhuis","date":"2012-07-24T17:03:28.663Z","type":"join"}
{"nick":"pfox__","date":"2012-07-24T17:03:28.663Z","type":"join"}
{"nick":"bnoordhuis","message":"pooya: ^","date":"2012-07-24T17:03:51.738Z","type":"message"}
{"nick":"bnoordhuis","message":"net split?","date":"2012-07-24T17:04:22.580Z","type":"message"}
{"nick":"pooya","message":"yeah","date":"2012-07-24T17:04:30.837Z","type":"message"}
{"nick":"pooya","message":"i was saying node-zookeeper sets a timer based on the value it gets from zookeeper interest function and tries to set the timer on every iteration but libuv doesn't really seem to support that sort of timer","date":"2012-07-24T17:05:08.237Z","type":"message"}
{"nick":"bnoordhuis","message":"why does node.js all of a sudden have 226 ops?","date":"2012-07-24T17:05:27.165Z","type":"message"}
{"nick":"pooya","message":"https://github.com/joyent/libuv/blob/master/include/uv.h#L1127","date":"2012-07-24T17:05:41.510Z","type":"message"}
{"nick":"bnoordhuis","message":"pooya: you mean it updates the timer at every tick of the event loop?","date":"2012-07-24T17:06:23.130Z","type":"message"}
{"nick":"arlolra","date":"2012-07-24T17:06:23.927Z","type":"join"}
{"nick":"pooya","message":"yeah","date":"2012-07-24T17:06:29.500Z","type":"message"}
{"nick":"pooya","message":"from the code above:  Note that if the repeat value is set from a timer callback it does not immediately take effect. ","date":"2012-07-24T17:07:49.825Z","type":"message"}
{"nick":"bnoordhuis","message":"pooya: yep, that's how it works right now","date":"2012-07-24T17:08:43.753Z","type":"message"}
{"nick":"pooya","message":"i was thinking of just porting that module to libuv","date":"2012-07-24T17:09:38.070Z","type":"message"}
{"nick":"pooya","message":"but have no background in that, can you give me some pointers?","date":"2012-07-24T17:09:55.267Z","type":"message"}
{"nick":"pooya","message":"need something similar to a select with a timeout","date":"2012-07-24T17:10:08.448Z","type":"message"}
{"nick":"bnoordhuis","message":"pooya: you mean poll a fd and timeout after x milliseconds?","date":"2012-07-24T17:10:26.064Z","type":"message"}
{"nick":"pooya","message":"yeah exactly","date":"2012-07-24T17:12:00.496Z","type":"message"}
{"nick":"pooya","message":"actually or this might be a better scenario","date":"2012-07-24T17:12:23.582Z","type":"message"}
{"nick":"pooya","message":"to use uv_thread","date":"2012-07-24T17:12:35.693Z","type":"message"}
{"nick":"pooya","message":"since zookeeper needs to constantly check the server and let say node-inspector pausing it will break it","date":"2012-07-24T17:12:55.183Z","type":"message"}
{"nick":"bnoordhuis","message":"oh, that's easy","date":"2012-07-24T17:13:29.503Z","type":"message"}
{"nick":"pooya","message":"any suggestions? does it worth to create the thread","date":"2012-07-24T17:13:31.578Z","type":"message"}
{"nick":"bnoordhuis","message":"create an async handle in the main thread with uv_async_init","date":"2012-07-24T17:13:44.751Z","type":"message"}
{"nick":"bnoordhuis","message":"then create a new thread with uv_thread_create","date":"2012-07-24T17:13:52.246Z","type":"message"}
{"nick":"bnoordhuis","message":"from that new thread, signal the main thread with uv_async_send","date":"2012-07-24T17:14:02.593Z","type":"message"}
{"nick":"bnoordhuis","message":"if you need locking primitives, there's a bunch of stuff in src/unix/thread.c","date":"2012-07-24T17:14:26.604Z","type":"message"}
{"nick":"pooya","message":"know of any sample drivers doing that?","date":"2012-07-24T17:15:01.347Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-07-24T17:15:45.389Z","type":"quit"}
{"nick":"bnoordhuis","message":"pooya: i'm afraid not","date":"2012-07-24T17:17:15.802Z","type":"message"}
{"nick":"bnoordhuis","message":"but you can find some examples in the test/ dir","date":"2012-07-24T17:17:30.488Z","type":"message"}
{"nick":"bnoordhuis","message":"libuv's test dir, that is","date":"2012-07-24T17:17:36.132Z","type":"message"}
{"nick":"pooya","message":"cool","date":"2012-07-24T17:18:32.532Z","type":"message"}
{"nick":"pooya","message":"can you confirm that this is the case that without a thread ","date":"2012-07-24T17:18:43.966Z","type":"message"}
{"nick":"pooya","message":"node-inspector pause will make the timers stop?","date":"2012-07-24T17:19:01.262Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-07-24T17:19:38.046Z","type":"quit"}
{"nick":"Raynos_","new_nick":"Raynos","date":"2012-07-24T17:20:01.790Z","type":"nick"}
{"nick":"hz","reason":"Disconnected by services","date":"2012-07-24T17:20:36.115Z","type":"quit"}
{"nick":"hz","date":"2012-07-24T17:20:39.078Z","type":"join"}
{"nick":"TooTallNate","date":"2012-07-24T17:20:59.437Z","type":"join"}
{"nick":"bnoordhuis","message":"pooya: i don't understand the question","date":"2012-07-24T17:21:55.494Z","type":"message"}
{"nick":"bnoordhuis","message":"or rather, it's open to multiple interpretations :)","date":"2012-07-24T17:22:40.188Z","type":"message"}
{"nick":"pooya","message":"this module needs to constantly ping the server other wise it loses it's state. now, what I observed is that","date":"2012-07-24T17:23:06.934Z","type":"message"}
{"nick":"pooya","message":"if someone tries to debug a code that is using the zookeeper module","date":"2012-07-24T17:23:33.027Z","type":"message"}
{"nick":"pooya","message":"when it adds a break point somewhere and pauses the execution","date":"2012-07-24T17:23:50.940Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: yeah, I just checked it out","date":"2012-07-24T17:23:51.757Z","type":"message"}
{"nick":"pooya","message":"it errors out. ","date":"2012-07-24T17:24:09.632Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: all proxied websocket connections leak fds","date":"2012-07-24T17:24:10.685Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: the only thing that I am not 100% sure about is that node-http-proxy is to blame. It might be us, somehow","date":"2012-07-24T17:24:29.817Z","type":"message"}
{"nick":"pooya","message":"i assumed it is because the timers are not being called in that state, and thus i better use a thread instead of timer/poll approach","date":"2012-07-24T17:25:05.358Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: no way, that'd kill our production load balancers already","date":"2012-07-24T17:25:16.761Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: alright, then it must be our code :-)","date":"2012-07-24T17:25:44.842Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: still, we'll investigate. we can repro CLOSE_WAIT and FIN2 stuff, but definitely less of them than before the patch","date":"2012-07-24T17:26:25.355Z","type":"message"}
{"nick":"bnoordhuis","message":"pooya: oh, like that. i think the answer is yes","date":"2012-07-24T17:26:57.468Z","type":"message"}
{"nick":"bnoordhuis","message":"pooya: but it depends on if node-inspector pauses all threads or just the main thread","date":"2012-07-24T17:27:10.130Z","type":"message"}
{"nick":"pooya","message":"ah, good point. i have to test that then","date":"2012-07-24T17:27:37.637Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: re FIN_WAIT_2, have you seen https://github.com/joyent/node/issues/3613 ?","date":"2012-07-24T17:28:54.109Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: interesting. let me `ssh root@nodejitsu.com` for a bit.","date":"2012-07-24T17:33:03.352Z","type":"message"}
{"nick":"bnoordhuis","action":"is afk & biab again","date":"2012-07-24T17:35:25.287Z","type":"action"}
{"nick":"bnoordhuis","reason":"Read error: Operation timed out","date":"2012-07-24T17:37:23.360Z","type":"quit"}
{"nick":"erickt","date":"2012-07-24T17:42:18.586Z","type":"join"}
{"nick":"TooTallNate","message":"isaacs: the nopt changes work great! thanks!","date":"2012-07-24T17:47:11.146Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-07-24T17:47:51.512Z","type":"quit"}
{"nick":"theCole","date":"2012-07-24T17:48:49.136Z","type":"join"}
{"nick":"mikeal","date":"2012-07-24T17:49:50.126Z","type":"join"}
{"nick":"piscisaureus_","message":"mmalecki: it seems to be happening only on AWS, but not locally ...","date":"2012-07-24T18:19:31.874Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: but on AWS we have like 100% reproduction rate... Make a websocket connection, close it, and you've just leaked an fd","date":"2012-07-24T18:19:55.108Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: we're seeing some FIN_WAIT_1 sockets, but not FIN_WAIT_2","date":"2012-07-24T18:20:27.888Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: also, any idea why?","date":"2012-07-24T18:20:34.612Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: we're still in the dark. I am sort of tired now, so the US team is taking over","date":"2012-07-24T18:20:58.652Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: I will let you know","date":"2012-07-24T18:21:03.750Z","type":"message"}
{"nick":"`3rdEden","message":"are you guys using the same websocket libraries?","date":"2012-07-24T18:21:31.740Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: okay, can you have someone join #libuv? I'm kind of interested and I'd be happy to help them","date":"2012-07-24T18:21:35.070Z","type":"message"}
{"nick":"mmalecki","message":"or, can I join some channel?","date":"2012-07-24T18:21:57.183Z","type":"message"}
{"nick":"AvianFlu","message":"we could even all join like, ##fixthefuckingproxy or some other mutually acceptable channel","date":"2012-07-24T18:23:03.019Z","type":"message"}
{"nick":"piscisaureus_","message":"It's just fabian that's gonna work on it for now","date":"2012-07-24T18:24:23.875Z","type":"message"}
{"nick":"piscisaureus_","message":"I told him to join libuv to find you guys","date":"2012-07-24T18:24:32.792Z","type":"message"}
{"nick":"piscisaureus_","message":"I wanna go do some node stuff again","date":"2012-07-24T18:24:59.982Z","type":"message"}
{"nick":"piscisaureus_","message":"it feels like a long time ago","date":"2012-07-24T18:25:03.674Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-07-24T18:31:20.432Z","type":"quit"}
{"nick":"AvianFlu","message":"piscisaureus_, ++","date":"2012-07-24T18:31:44.154Z","type":"message"}
{"nick":"kohai","message":"piscisaureus_ has 14 beers","date":"2012-07-24T18:31:44.987Z","type":"message"}
{"nick":"beachdog","reason":"Quit: beachdog","date":"2012-07-24T18:34:01.088Z","type":"quit"}
{"nick":"beachdog","date":"2012-07-24T18:34:31.326Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: yeah","date":"2012-07-24T18:34:39.861Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: same hiring attempt, really.  just took a while to get it actually up on the actual website.","date":"2012-07-24T18:34:59.255Z","type":"message"}
{"nick":"beachdog","date":"2012-07-24T18:36:50.505Z","type":"part"}
{"nick":"beachdog","date":"2012-07-24T18:37:04.232Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: can you push an update to node-gyp to allow nopt 2.x?","date":"2012-07-24T18:37:31.830Z","type":"message"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-07-24T18:37:37.225Z","type":"quit"}
{"nick":"TooTallNate","message":"isaacs: already did, see v0.6.1","date":"2012-07-24T18:37:43.853Z","type":"message"}
{"nick":"isaacs","message":"oh, ok","date":"2012-07-24T18:37:49.791Z","type":"message"}
{"nick":"isaacs","message":"rad!","date":"2012-07-24T18:38:08.415Z","type":"message"}
{"nick":"EhevuTov_","date":"2012-07-24T18:41:04.525Z","type":"join"}
{"nick":"loladiro","date":"2012-07-24T18:42:42.236Z","type":"join"}
{"nick":"EhevuTov","reason":"Ping timeout: 240 seconds","date":"2012-07-24T18:43:00.642Z","type":"quit"}
{"nick":"loladiro_","date":"2012-07-24T18:46:13.191Z","type":"join"}
{"nick":"loladiro","reason":"Ping timeout: 248 seconds","date":"2012-07-24T18:46:52.217Z","type":"quit"}
{"nick":"loladiro_","new_nick":"loladiro","date":"2012-07-24T18:46:52.704Z","type":"nick"}
{"nick":"dshaw_","date":"2012-07-24T19:11:29.977Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: EPIPE broken","date":"2012-07-24T19:15:03.025Z","type":"quit"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u00020a0002b\u000f \u000310\u000f/ (137 files in 26 dirs)\u0002:\u000f npm: Upgrade to 1.1.45 - http://git.io/QH5nxg","date":"2012-07-24T19:35:34.599Z","type":"message"}
{"nick":"isaacs","message":"Going to start 0.8.4 this afternoon.  probably release it tomorrow morning","date":"2012-07-24T19:35:37.034Z","type":"message"}
{"nick":"isaacs","message":"(times inUS/Pacific of course)","date":"2012-07-24T19:35:47.058Z","type":"message"}
{"nick":"isaacs","message":"for europeans: Going to start 0.8.4 tonight.  Probably release it tomorrow afternoon.","date":"2012-07-24T19:36:14.326Z","type":"message"}
{"nick":"chilts","message":"and for Kiwis? it's be the early hours of the morning before daybreak :)","date":"2012-07-24T19:39:27.403Z","type":"message"}
{"nick":"isaacs","message":"for Kiwis, Aussies, and indutny: Going to start 0.8.4 in the middle of the night.  Probably release it in the middle of some night.","date":"2012-07-24T19:40:57.096Z","type":"message"}
{"nick":"indutny","message":"good","date":"2012-07-24T19:41:12.422Z","type":"message"}
{"nick":"tjfontaine","message":"all times UTC from here on out :)","date":"2012-07-24T19:41:20.419Z","type":"message"}
{"nick":"isaacs","message":"i actually have not switched irssi from UTC.  it's kind of nice","date":"2012-07-24T19:41:37.378Z","type":"message"}
{"nick":"mmalecki","message":"hey, what about guys on Antarctica?","date":"2012-07-24T19:41:38.343Z","type":"message"}
{"nick":"isaacs","message":"for people in antarctica, i'ts night time now, and will be for the next few months.","date":"2012-07-24T19:42:04.168Z","type":"message"}
{"nick":"isaacs","message":"but it's lunch time in california, so i'll bbiab :)","date":"2012-07-24T19:42:29.463Z","type":"message"}
{"nick":"isaacs","action":"priorities!","date":"2012-07-24T19:42:38.685Z","type":"action"}
{"nick":"benvie","reason":"Ping timeout: 244 seconds","date":"2012-07-24T19:42:58.250Z","type":"quit"}
{"nick":"theCole","date":"2012-07-24T19:46:52.474Z","type":"join"}
{"nick":"sh1mmer","date":"2012-07-24T19:49:28.428Z","type":"join"}
{"nick":"sh1mmer","message":"Dunno if you saw this previously, but it's got a few interesting points http://lionet.livejournal.com/99984.html ","date":"2012-07-24T19:52:32.740Z","type":"message"}
{"nick":"xaq","date":"2012-07-24T19:54:05.457Z","type":"join"}
{"nick":"chilts","message":"yeah, I use UTC for all my servers (and therefore where I use irssi)","date":"2012-07-24T19:54:27.415Z","type":"message"}
{"nick":"chilts","message":"I used to work at ESA where everything was Zulu (essentially UTC but military style)","date":"2012-07-24T19:55:04.077Z","type":"message"}
{"nick":"chilts","message":"I liked it and havve kept it ever since","date":"2012-07-24T19:55:07.501Z","type":"message"}
{"nick":"AvianFlu","message":"\"Zulu Time\" just sounds bad ass, too","date":"2012-07-24T19:55:23.193Z","type":"message"}
{"nick":"AvianFlu","message":"at least as far as counting time is concerned","date":"2012-07-24T19:55:29.302Z","type":"message"}
{"nick":"chilts","message":"heh, indeed","date":"2012-07-24T19:56:40.259Z","type":"message"}
{"nick":"lohkey","date":"2012-07-24T20:08:42.874Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-07-24T20:13:03.863Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-07-24T20:15:04.801Z","type":"quit"}
{"nick":"EhevuTov_","reason":"Quit: This computer has gone to sleep","date":"2012-07-24T20:19:11.486Z","type":"quit"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-07-24T20:23:28.867Z","type":"quit"}
{"nick":"piscisaureus_","message":"AvianFlu: mmalecki: https://github.com/ajaxorg/node-http-proxy/commit/c6d4e508615f83917fa7c889298a63f2415c318f <-- that fixes it for us","date":"2012-07-24T20:28:29.811Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: the FIN_WAIT_2 problem, right?","date":"2012-07-24T20:29:47.372Z","type":"message"}
{"nick":"mmalecki","message":"also, sweet, we'll test","date":"2012-07-24T20:29:56.884Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: yeah. It seems that somehow when we .end() a socket, socket.io doesn't end the socket always","date":"2012-07-24T20:30:19.686Z","type":"message"}
{"nick":"piscisaureus_","message":"which causes the connecton to stay open","date":"2012-07-24T20:30:24.483Z","type":"message"}
{"nick":"AvianFlu","message":"that makes a lot of sense.","date":"2012-07-24T20:30:45.731Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: this is obviously not \"correct\" but as it was it also wasn't correct, because on the \"end\" event the \"data\" listener was removed","date":"2012-07-24T20:30:49.452Z","type":"message"}
{"nick":"piscisaureus_","message":"from both ends","date":"2012-07-24T20:30:56.131Z","type":"message"}
{"nick":"piscisaureus_","message":"so effectively this does the same","date":"2012-07-24T20:31:02.571Z","type":"message"}
{"nick":"mmalecki","message":"okay, does it fix CLOSE_WAIT for you?","date":"2012-07-24T20:31:32.169Z","type":"message"}
{"nick":"piscisaureus_","message":"basically a websocket can never be in a half-open state now, and before it could but no data would be passed through anyway","date":"2012-07-24T20:31:41.291Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: it seems so","date":"2012-07-24T20:31:45.287Z","type":"message"}
{"nick":"piscisaureus_","message":"we are rolling it into production right now","date":"2012-07-24T20:31:52.678Z","type":"message"}
{"nick":"mmalecki","message":"okay, let me roll it out too, then I'll cherry-pick","date":"2012-07-24T20:32:22.140Z","type":"message"}
{"nick":"mmalecki","message":"you guys are awesome for fixing that","date":"2012-07-24T20:32:28.172Z","type":"message"}
{"nick":"mmalecki","message":"AvianFlu: rolling out now","date":"2012-07-24T20:32:52.627Z","type":"message"}
{"nick":"AvianFlu","message":"excellent","date":"2012-07-24T20:33:12.168Z","type":"message"}
{"nick":"mmalecki","message":"rolled out to all production load balancer","date":"2012-07-24T20:36:56.094Z","type":"message"}
{"nick":"mmalecki","message":"*balancers","date":"2012-07-24T20:37:01.246Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-07-24T20:37:17.706Z","type":"message"}
{"nick":"piscisaureus_","message":"it seems that you have smoother upgrade path than us :-(","date":"2012-07-24T20:37:27.359Z","type":"message"}
{"nick":"mmalecki","message":"heh, just some kickass devops tools","date":"2012-07-24T20:37:57.985Z","type":"message"}
{"nick":"AvianFlu","message":"mmalecki and I sit around working on R&D projects to make devops not take thinking","date":"2012-07-24T20:38:44.172Z","type":"message"}
{"nick":"AvianFlu","message":"I'd call it a hobby, but it's more of a compulsion","date":"2012-07-24T20:38:50.714Z","type":"message"}
{"nick":"mmalecki","message":"well, I bet we're the only company doing p2p devops with our own p2p implementation","date":"2012-07-24T20:39:31.700Z","type":"message"}
{"nick":"tjfontaine","message":"the best sysadmins (or devops) are the lazy ones","date":"2012-07-24T20:40:07.998Z","type":"message"}
{"nick":"mmalecki","message":"tjfontaine: ++","date":"2012-07-24T20:40:20.797Z","type":"message"}
{"nick":"kohai","message":"tjfontaine has 3 beers","date":"2012-07-24T20:40:21.036Z","type":"message"}
{"nick":"arlolra","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-07-24T20:41:13.507Z","type":"quit"}
{"nick":"creationix","message":"why does everyone in #node.js have op status?","date":"2012-07-24T20:41:15.246Z","type":"message"}
{"nick":"mmalecki","message":"creationix: op party!","date":"2012-07-24T20:41:24.079Z","type":"message"}
{"nick":"indutny","message":"that's what ryah did :P","date":"2012-07-24T20:41:50.440Z","type":"message"}
{"nick":"mmalecki","message":"creationix: there you go, have some too!","date":"2012-07-24T20:42:21.035Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: no bad sockets yet","date":"2012-07-24T20:43:30.969Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: not here, but I've only upgraded one of the proxy servers so far","date":"2012-07-24T20:47:57.889Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: well, that seems pretty slow","date":"2012-07-24T20:48:35.352Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: yeah upgrading the proxies is all manual :-(","date":"2012-07-24T20:48:47.405Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: the other stuff is more or less automated but this lacks tooling","date":"2012-07-24T20:49:01.228Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: the simplest you can get is creating a text file with balancer IPs delimeted by newline","date":"2012-07-24T20:49:28.389Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: and a mass SSH script","date":"2012-07-24T20:49:43.263Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-07-24T20:49:46.873Z","type":"message"}
{"nick":"piscisaureus_","message":"it's just lacking","date":"2012-07-24T20:49:53.822Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: actually, let me show you one of my scripts","date":"2012-07-24T20:49:56.338Z","type":"message"}
{"nick":"piscisaureus_","message":"this is not really my job :-)","date":"2012-07-24T20:49:58.743Z","type":"message"}
{"nick":"mmalecki","message":"it's the old thing, but the new thing is, well, SECRETZ","date":"2012-07-24T20:50:43.078Z","type":"message"}
{"nick":"hz","reason":"Ping timeout: 272 seconds","date":"2012-07-24T20:51:18.088Z","type":"quit"}
{"nick":"mmalecki","message":"piscisaureus_: win, still no bad sockets. I'll land, thank you very much","date":"2012-07-24T21:04:49.637Z","type":"message"}
{"nick":"mmalecki","message":"piscisaureus_: also, om","date":"2012-07-24T21:04:55.662Z","type":"message"}
{"nick":"mmalecki","message":"*pm","date":"2012-07-24T21:04:57.122Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: np, that was important for us :-)","date":"2012-07-24T21:05:17.893Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: will take a look at your code, have to fix this stuff first ....","date":"2012-07-24T21:05:26.672Z","type":"message"}
{"nick":"mmalecki","message":"ok, that's landed","date":"2012-07-24T21:06:51.787Z","type":"message"}
{"nick":"piscisaureus_","message":"mmalecki: kewl","date":"2012-07-24T21:07:51.088Z","type":"message"}
{"nick":"piscisaureus_","message":"we don't have to fork after all :-p","date":"2012-07-24T21:07:59.646Z","type":"message"}
{"nick":"mmalecki","message":"hey, open source!","date":"2012-07-24T21:09:34.075Z","type":"message"}
{"nick":"kohai","reason":"Ping timeout: 260 seconds","date":"2012-07-24T21:10:47.864Z","type":"quit"}
{"nick":"hz","date":"2012-07-24T21:11:44.137Z","type":"join"}
{"nick":"kohai","date":"2012-07-24T21:15:49.965Z","type":"join"}
{"nick":"dshaw_","date":"2012-07-24T21:16:40.666Z","type":"join"}
{"nick":"benvie","date":"2012-07-24T21:18:01.921Z","type":"join"}
{"nick":"paddybyers","date":"2012-07-24T21:26:33.703Z","type":"join"}
{"nick":"hz","date":"2012-07-24T21:29:39.481Z","type":"quit"}
{"nick":"isaacs","message":"piscisaureus_: Didn't we used to do something special with EPIPE?  like, silently just kind of close the pipe or something?","date":"2012-07-24T21:38:07.344Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: what context?","date":"2012-07-24T21:38:26.445Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: So, i have a server that gets a SIGINT, and does a graceful shutdown in that instance.","date":"2012-07-24T21:39:33.699Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: in there, it calls console.log()","date":"2012-07-24T21:39:48.143Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: if I pipe the server's output to |cat or something, then it throws an EPIPE, because the cat is dead when it tries to log","date":"2012-07-24T21:40:15.139Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah. that's just what happens...","date":"2012-07-24T21:40:25.549Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't recall we did anything special","date":"2012-07-24T21:40:32.054Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: we ignore SIGPIPE of course, otherwise the server would already be dead as soon as cat dies","date":"2012-07-24T21:40:52.117Z","type":"message"}
{"nick":"isaacs","message":"dead cat in the pipe... there's some sort of schroedinger's plumbing joke here somewhere","date":"2012-07-24T21:44:43.992Z","type":"message"}
{"nick":"isaacs","message":"ok, i'm just gonna swallow EPIPE then","date":"2012-07-24T21:45:13.684Z","type":"message"}
{"nick":"piscisaureus_","message":"process.stdout.on('error', function(){})","date":"2012-07-24T21:46:05.185Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2012-07-24T21:46:29.886Z","type":"message"}
{"nick":"EhevuTov","date":"2012-07-24T21:46:56.637Z","type":"join"}
{"nick":"indutny","message":"creationix: hey man","date":"2012-07-24T21:51:49.621Z","type":"message"}
{"nick":"indutny","message":"can you recommend me something like msgpack, but working with 0.8","date":"2012-07-24T21:52:01.609Z","type":"message"}
{"nick":"indutny","message":"isaacs: ?","date":"2012-07-24T21:52:53.860Z","type":"message"}
{"nick":"indutny","message":"anyone?","date":"2012-07-24T21:52:55.621Z","type":"message"}
{"nick":"indutny","message":"I really need to put my data in binary somehow :P","date":"2012-07-24T21:53:02.615Z","type":"message"}
{"nick":"creationix","message":"indutny, what's wrong with my msgpack-js lib","date":"2012-07-24T21:55:08.530Z","type":"message"}
{"nick":"indutny","message":"dunno","date":"2012-07-24T21:55:16.334Z","type":"message"}
{"nick":"indutny","message":"is it faster than binary stuff?","date":"2012-07-24T21:55:22.070Z","type":"message"}
{"nick":"creationix","message":"it's pretty fast","date":"2012-07-24T21:55:29.871Z","type":"message"}
{"nick":"indutny","message":"I really need to be able to encode/decode 100 message/sec","date":"2012-07-24T21:55:39.006Z","type":"message"}
{"nick":"creationix","message":"the slowest part is utf8 decoding","date":"2012-07-24T21:55:40.117Z","type":"message"}
{"nick":"indutny","message":"does it works with Buffers?","date":"2012-07-24T21:55:47.169Z","type":"message"}
{"nick":"creationix","message":"but not sure if C++ addons will help that","date":"2012-07-24T21:55:47.169Z","type":"message"}
{"nick":"creationix","message":"yep","date":"2012-07-24T21:55:50.579Z","type":"message"}
{"nick":"creationix","message":"I extended msgpack","date":"2012-07-24T21:55:55.070Z","type":"message"}
{"nick":"creationix","message":"json-able values + Buffer + undefined","date":"2012-07-24T21:56:03.763Z","type":"message"}
{"nick":"indutny","message":"cool","date":"2012-07-24T21:56:09.269Z","type":"message"}
{"nick":"indutny","message":"creationix: I'll use your lib then","date":"2012-07-24T21:56:23.940Z","type":"message"}
{"nick":"creationix","message":"for number and array heavy workloads it's way faster than JSON.*","date":"2012-07-24T21:56:25.303Z","type":"message"}
{"nick":"loladiro","reason":"Ping timeout: 264 seconds","date":"2012-07-24T21:56:47.182Z","type":"quit"}
{"nick":"creationix","message":"indutny, awesome, since we use it heavily at c9, I have to make it fast","date":"2012-07-24T21:56:48.055Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-07-24T21:57:04.433Z","type":"message"}
{"nick":"indutny","message":"cool!","date":"2012-07-24T21:57:05.597Z","type":"message"}
{"nick":"creationix","message":"try it on your messages and see how it performs","date":"2012-07-24T21:57:27.219Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-07-24T21:57:30.597Z","type":"message"}
{"nick":"indutny","message":"I've to create an app first","date":"2012-07-24T21:57:33.943Z","type":"message"}
{"nick":"indutny","message":"going to send UDP packets with msgpack contents","date":"2012-07-24T21:57:39.191Z","type":"message"}
{"nick":"rendar","date":"2012-07-24T21:57:45.960Z","type":"quit"}
{"nick":"creationix","message":"I've seen everywhere from 5 times slower than JSON.parse to 50 times faster","date":"2012-07-24T21:57:47.268Z","type":"message"}
{"nick":"creationix","message":"indutny, also if you need framing, I have a simple deframer that uses 32bit length headers","date":"2012-07-24T21:58:12.342Z","type":"message"}
{"nick":"creationix","message":"my msgpack parser is not streaming","date":"2012-07-24T21:58:18.164Z","type":"message"}
{"nick":"indutny","message":"no, I do not need streaming","date":"2012-07-24T21:58:28.923Z","type":"message"}
{"nick":"indutny","message":"I just need it to be blazingly fast","date":"2012-07-24T21:58:35.002Z","type":"message"}
{"nick":"creationix","action":"hasn't used udp","date":"2012-07-24T21:58:41.845Z","type":"action"}
{"nick":"indutny","message":"to encode 400-500 bytes packets","date":"2012-07-24T21:58:43.360Z","type":"message"}
{"nick":"creationix","message":"so in udp, do packets not get broken up and put back together like in tcp?","date":"2012-07-24T21:59:12.580Z","type":"message"}
{"nick":"mmalecki_","date":"2012-07-24T22:00:05.025Z","type":"join"}
{"nick":"indutny","message":"no","date":"2012-07-24T22:00:28.436Z","type":"message"}
{"nick":"indutny","message":"but they may not arrive","date":"2012-07-24T22:00:31.389Z","type":"message"}
{"nick":"indutny","message":"though can't arrive partially","date":"2012-07-24T22:00:40.676Z","type":"message"}
{"nick":"creationix","message":"ok, as long as you get either the whole message or none of it, then you're good","date":"2012-07-24T22:00:53.378Z","type":"message"}
{"nick":"creationix","message":"not sure if you'll need a checksum or just depend on failed parses","date":"2012-07-24T22:01:10.231Z","type":"message"}
{"nick":"loladiro","date":"2012-07-24T22:02:35.589Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 248 seconds","date":"2012-07-24T22:02:49.878Z","type":"quit"}
{"nick":"beachdog","reason":"Quit: beachdog","date":"2012-07-24T22:10:28.780Z","type":"quit"}
{"nick":"indutny","message":"creationix: will decode Buffers as Buffers?","date":"2012-07-24T22:22:33.988Z","type":"message"}
{"nick":"chilts","message":"indutny: yeah, it will : https://github.com/creationix/msgpack-js#extension","date":"2012-07-24T22:25:04.644Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-07-24T22:25:23.799Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2012-07-24T22:25:24.986Z","type":"message"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-07-24T22:26:54.391Z","type":"quit"}
{"nick":"ryah","message":"what's the deal with tools/gyp_addon ?","date":"2012-07-24T22:27:00.365Z","type":"message"}
{"nick":"ryah","message":"isaacs, TooTallNate --^","date":"2012-07-24T22:27:19.028Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: it builds addons","date":"2012-07-24T22:27:30.549Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: you wrote it :p","date":"2012-07-24T22:27:34.275Z","type":"message"}
{"nick":"TooTallNate","message":"node-gyp invokes that under the hood","date":"2012-07-24T22:27:43.001Z","type":"message"}
{"nick":"TooTallNate","message":"for its \"configure\" step","date":"2012-07-24T22:27:51.607Z","type":"message"}
{"nick":"ryah","message":"what does node-gyp do that gyp_addon doesn't?","date":"2012-07-24T22:27:54.377Z","type":"message"}
{"nick":"ryah","message":"what does configure do?","date":"2012-07-24T22:28:00.073Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: grabs the config from `process.config`, determines which arch to build for, i think a couple other things","date":"2012-07-24T22:28:31.805Z","type":"message"}
{"nick":"ryah","message":"why can't that just be added to gyp_addon?","date":"2012-07-24T22:28:55.592Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: gyp_addon is python, and then would like expect a globally installed node, or we'd have to specify the path to a node executable to use","date":"2012-07-24T22:29:41.840Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: like node-waf now, checks for a global node, which is fine usually","date":"2012-07-24T22:30:32.445Z","type":"message"}
{"nick":"loladiro","reason":"Quit: loladiro","date":"2012-07-24T22:31:08.460Z","type":"quit"}
{"nick":"ryah","message":"can we pull gyp_addon out of tools/ and into node-gyp then?","date":"2012-07-24T22:31:43.006Z","type":"message"}
{"nick":"TooTallNate","message":"that'd be fine with me","date":"2012-07-24T22:32:03.511Z","type":"message"}
{"nick":"TooTallNate","message":"addon.gypi too","date":"2012-07-24T22:32:07.080Z","type":"message"}
{"nick":"ryah","message":"where is node-gyp in the node source?","date":"2012-07-24T22:32:36.625Z","type":"message"}
{"nick":"ryah","message":"./deps/npm/node_modules/node-gyp","date":"2012-07-24T22:32:50.700Z","type":"message"}
{"nick":"ryah","message":"ok..","date":"2012-07-24T22:33:00.631Z","type":"message"}
{"nick":"TooTallNate","message":"that ^","date":"2012-07-24T22:33:01.636Z","type":"message"}
{"nick":"ryah","message":"i dont like that our tests require npm","date":"2012-07-24T22:33:10.046Z","type":"message"}
{"nick":"ryah","message":"but whatever","date":"2012-07-24T22:33:13.210Z","type":"message"}
{"nick":"ryah","message":"so basically we're saying npm is required to build addons","date":"2012-07-24T22:33:34.734Z","type":"message"}
{"nick":"ryah","message":"if npm is shipping node-gyp, we might as well get away from telling people to run node-gyp directly","date":"2012-07-24T22:34:02.956Z","type":"message"}
{"nick":"ryah","message":"isn't there a \"npm build\" command?","date":"2012-07-24T22:34:11.433Z","type":"message"}
{"nick":"ryah","message":"basically im unhappy having all these different tools","date":"2012-07-24T22:34:23.004Z","type":"message"}
{"nick":"ryah","message":"would be nice to make it simple..","date":"2012-07-24T22:34:28.509Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: https://github.com/isaacs/node/commit/2a7b226faf5c8252c6695da75b7cf3684b3cfb2b lgty? this is hurting me a little bit right now.","date":"2012-07-24T22:34:55.852Z","type":"message"}
{"nick":"isaacs","message":"ryah: if you have a bindings.gyp file, then npm will install your thing.","date":"2012-07-24T22:35:31.493Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: i've been telling people, just run `npm install` and npm will take care of it. If you're a native module author, then `npm install -g node-gyp` adds (some, little) value","date":"2012-07-24T22:35:35.497Z","type":"message"}
{"nick":"isaacs","message":"ryah: people don't need to run node-gyp directly.","date":"2012-07-24T22:35:37.709Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: which branch is that on?","date":"2012-07-24T22:35:55.782Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: it's against master, but i am thinking the patch ought to be applie dto v0.8","date":"2012-07-24T22:36:17.420Z","type":"message"}
{"nick":"isaacs","message":"oh, sorry, i just gave you the commit, not hte pull: https://github.com/joyent/node/pull/3757","date":"2012-07-24T22:36:38.671Z","type":"message"}
{"nick":"TooTallNate","message":"`make -j8` GO!!!","date":"2012-07-24T22:37:20.704Z","type":"message"}
{"nick":"isaacs","action":"jealous","date":"2012-07-24T22:37:30.670Z","type":"action"}
{"nick":"ryah","message":"so, yes, please move addon_gyp out of tools","date":"2012-07-24T22:37:53.412Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: sounds good. care to create a ticket?","date":"2012-07-24T22:38:22.328Z","type":"message"}
{"nick":"ryah","message":"and or write it with a node script","date":"2012-07-24T22:38:25.617Z","type":"message"}
{"nick":"isaacs","message":"ryah, TooTallNate +1","date":"2012-07-24T22:38:31.534Z","type":"message"}
{"nick":"ryah","message":"s/write/wrap","date":"2012-07-24T22:38:33.342Z","type":"message"}
{"nick":"isaacs","message":"it should be part of node-gyp","date":"2012-07-24T22:38:46.630Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: that too could be a possibility","date":"2012-07-24T22:38:47.703Z","type":"message"}
{"nick":"TooTallNate","message":"(it's a very small script anyways)","date":"2012-07-24T22:38:55.295Z","type":"message"}
{"nick":"piscisaureus_","message":"doing devops feels like slacking","date":"2012-07-24T22:39:19.260Z","type":"message"}
{"nick":"TooTallNate","message":"ya, there's no reason node-gyp couldn't do that","date":"2012-07-24T22:39:23.427Z","type":"message"}
{"nick":"TooTallNate","message":"directly in JS","date":"2012-07-24T22:39:26.775Z","type":"message"}
{"nick":"piscisaureus_","message":"it's like one of those days wasted installing your pc","date":"2012-07-24T22:39:38.166Z","type":"message"}
{"nick":"mmalecki_","reason":"Ping timeout: 255 seconds","date":"2012-07-24T22:39:40.334Z","type":"quit"}
{"nick":"isaacs","message":"TooTallNate: i am perfectly happy leaving it up to you what bits of gyp shoudl be js and which bits should be python","date":"2012-07-24T22:39:51.348Z","type":"message"}
{"nick":"isaacs","message":"the fact that it pretty much Just Works, and I don't have to look at it, is awesome.","date":"2012-07-24T22:40:11.313Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: thanks :)","date":"2012-07-24T22:40:27.228Z","type":"message"}
{"nick":"ryah","message":"so node-gyp is simply a wrapper for addon_gyp ?","date":"2012-07-24T22:40:27.617Z","type":"message"}
{"nick":"ryah","message":"seems silly to have a special command for that","date":"2012-07-24T22:40:35.663Z","type":"message"}
{"nick":"isaacs","message":"ryah: it also fetches the appropriate node headers and does a bit of stuff.","date":"2012-07-24T22:40:47.951Z","type":"message"}
{"nick":"ryah","message":"can we just have tools/addon_gyp.js  ?","date":"2012-07-24T22:40:58.119Z","type":"message"}
{"nick":"ryah","message":"yeah, i dont like that either...","date":"2012-07-24T22:41:07.914Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: that + it downloads header files for your node version, and then executes `make` on unix or `msbuild` on windows","date":"2012-07-24T22:41:09.166Z","type":"message"}
{"nick":"isaacs","message":"ryah: sure, or we could have a separate thing that npm just calls.","date":"2012-07-24T22:41:10.405Z","type":"message"}
{"nick":"ryah","message":"why can't we install the headers?","date":"2012-07-24T22:41:13.069Z","type":"message"}
{"nick":"ryah","message":"downloading the whole node source code seems silly","date":"2012-07-24T22:41:26.810Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: we could release header-only tarballs","date":"2012-07-24T22:41:36.421Z","type":"message"}
{"nick":"ryah","message":"the build tool should not require internet","date":"2012-07-24T22:41:49.754Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: use the --nodedir switch","date":"2012-07-24T22:42:09.921Z","type":"message"}
{"nick":"ryah","message":":/","date":"2012-07-24T22:42:13.827Z","type":"message"}
{"nick":"ryah","message":"why can't we just install the headers?","date":"2012-07-24T22:42:18.940Z","type":"message"}
{"nick":"ryah","message":"we're already installing like a million files","date":"2012-07-24T22:42:24.079Z","type":"message"}
{"nick":"isaacs","message":"ryah: patch welcome.","date":"2012-07-24T22:42:28.716Z","type":"message"}
{"nick":"TooTallNate","message":"honestly, i think this methods has prevented a lot of potential problems","date":"2012-07-24T22:42:44.681Z","type":"message"}
{"nick":"ryah","message":"such as?","date":"2012-07-24T22:42:57.152Z","type":"message"}
{"nick":"piscisaureus_","message":"that would be a patch for product.wxs ]>:)","date":"2012-07-24T22:43:03.255Z","type":"message"}
{"nick":"TooTallNate","message":"with node-waf we would see bug reports all the time concerning header files that didn't match the version of node that's running","date":"2012-07-24T22:43:04.754Z","type":"message"}
{"nick":"TooTallNate","message":"missing symbols, etc.","date":"2012-07-24T22:43:15.980Z","type":"message"}
{"nick":"ryah","message":"put the header files in the node binary - something","date":"2012-07-24T22:43:34.882Z","type":"message"}
{"nick":"isaacs","message":"putting them in the binary itself is an interesting idea.","date":"2012-07-24T22:43:53.246Z","type":"message"}
{"nick":"isaacs","message":"i dont' think we ever tried that","date":"2012-07-24T22:43:56.740Z","type":"message"}
{"nick":"TooTallNate","message":"it is","date":"2012-07-24T22:43:59.446Z","type":"message"}
{"nick":"piscisaureus_","message":"ehm","date":"2012-07-24T22:44:03.230Z","type":"message"}
{"nick":"piscisaureus_","message":"so how do you include that then?","date":"2012-07-24T22:44:11.241Z","type":"message"}
{"nick":"ryah","message":"why would people have header files that didn't match the version?","date":"2012-07-24T22:44:16.754Z","type":"message"}
{"nick":"ryah","message":"(lets understand this before we do something crazy)","date":"2012-07-24T22:44:26.345Z","type":"message"}
{"nick":"piscisaureus_","message":"why don't we put npm in the node binary?","date":"2012-07-24T22:44:28.943Z","type":"message"}
{"nick":"piscisaureus_","message":"sounds like insanity to me","date":"2012-07-24T22:44:36.261Z","type":"message"}
{"nick":"ryah","message":"i would put npm in the node binary","date":"2012-07-24T22:44:54.046Z","type":"message"}
{"nick":"TooTallNate","message":"ryah: frankly i think it had to do with version managers written poorly (n :p)","date":"2012-07-24T22:45:03.484Z","type":"message"}
{"nick":"isaacs","message":"ryah: because they install it from source one day, then later, they forget and install from yum which only installs the bin, then later on they install another version that overwrites the headers but doesn't overwrite the binary (since it's in /opt/local/ihatemylife/bin/, not /usr/local/bin)","date":"2012-07-24T22:45:04.469Z","type":"message"}
{"nick":"ryah","message":"i dont like shipping multiple files","date":"2012-07-24T22:45:04.772Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: i've seen more problems stemming from apt and yum repositories trying to be clever.","date":"2012-07-24T22:45:33.823Z","type":"message"}
{"nick":"TooTallNate","message":"fair enough","date":"2012-07-24T22:45:43.974Z","type":"message"}
{"nick":"ryah","message":"node --header > /tmp/node.h","date":"2012-07-24T22:45:56.780Z","type":"message"}
{"nick":"kohai","message":"node has -1 beer","date":"2012-07-24T22:45:57.293Z","type":"message"}
{"nick":"ryah","message":"*shrug*","date":"2012-07-24T22:46:09.282Z","type":"message"}
{"nick":"TooTallNate","message":"i like it","date":"2012-07-24T22:46:12.794Z","type":"message"}
{"nick":"isaacs","message":"ryah: if it was easier to put everything in teh node binary, and either spew it out on demand, or load it from memroy, that'd be great.","date":"2012-07-24T22:46:15.691Z","type":"message"}
{"nick":"TooTallNate","message":"and that would kill the internet for node-gyp being required","date":"2012-07-24T22:46:20.589Z","type":"message"}
{"nick":"piscisaureus_","message":"so won't that make our memory usage go up?","date":"2012-07-24T22:46:41.403Z","type":"message"}
{"nick":"piscisaureus_","message":"the header is prolly not so bad","date":"2012-07-24T22:46:45.139Z","type":"message"}
{"nick":"isaacs","message":"it's just never been the highest priority problem.","date":"2012-07-24T22:46:45.378Z","type":"message"}
{"nick":"piscisaureus_","message":"although we would have to put uv.h etc in there as well","date":"2012-07-24T22:46:53.062Z","type":"message"}
{"nick":"ryah","message":"heh","date":"2012-07-24T22:47:04.523Z","type":"message"}
{"nick":"ryah","message":"we could comrpess them","date":"2012-07-24T22:47:08.140Z","type":"message"}
{"nick":"ryah","message":"since we ship zlib too","date":"2012-07-24T22:47:11.488Z","type":"message"}
{"nick":"ryah","message":":)","date":"2012-07-24T22:47:12.153Z","type":"message"}
{"nick":"piscisaureus_","message":"putting npm in the binary -> mega binary.","date":"2012-07-24T22:47:12.408Z","type":"message"}
{"nick":"isaacs","message":"yep","date":"2012-07-24T22:47:14.011Z","type":"message"}
{"nick":"ryah","message":"ALL THE THINGS IN THE BINARY","date":"2012-07-24T22:47:22.358Z","type":"message"}
{"nick":"isaacs","message":"we could also move tar into core","date":"2012-07-24T22:47:30.546Z","type":"message"}
{"nick":"isaacs","message":"and just put gzipped tarballs in the binary","date":"2012-07-24T22:47:37.867Z","type":"message"}
{"nick":"piscisaureus_","message":"we should move facebook into core","date":"2012-07-24T22:47:49.059Z","type":"message"}
{"nick":"isaacs","message":"and read them out of the tarball, without ever having to even extract them to the fs proper","date":"2012-07-24T22:47:50.163Z","type":"message"}
{"nick":"isaacs","message":"YES!","date":"2012-07-24T22:47:53.159Z","type":"message"}
{"nick":"isaacs","message":"ALL THE FACES, ALL TEH BOOKS!","date":"2012-07-24T22:47:57.949Z","type":"message"}
{"nick":"piscisaureus_","message":"require('facebook').listen(80)","date":"2012-07-24T22:48:00.737Z","type":"message"}
{"nick":"piscisaureus_","message":"FTW!!!1","date":"2012-07-24T22:48:08.579Z","type":"message"}
{"nick":"isaacs","message":"lol","date":"2012-07-24T22:48:30.428Z","type":"message"}
{"nick":"isaacs","message":"i think we can probably stop at the headers.","date":"2012-07-24T22:49:04.651Z","type":"message"}
{"nick":"ryah","message":"it might be possible to unmap these memory regions once we start","date":"2012-07-24T22:49:07.613Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: you patch LGTM btw","date":"2012-07-24T22:49:12.223Z","type":"message"}
{"nick":"ryah","message":"to not effect memory perf","date":"2012-07-24T22:49:17.423Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: haha.","date":"2012-07-24T22:49:21.352Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: thanks.  i'm landing on v0.8.  tests all pass still, and api isn't changed.","date":"2012-07-24T22:49:26.646Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ya sounds good","date":"2012-07-24T22:49:34.496Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: it's unlikely that it'll actually be paged in, so it won't affect memory perf that much","date":"2012-07-24T22:49:37.158Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u0002f4f0daa\u000f \u000310\u000f/ (6 files in 4 dirs)\u0002:\u000f V8: Upgrade to 3.11.10.17 - http://git.io/MTBMvQ","date":"2012-07-24T22:49:42.132Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u00022c48766\u000f \u000310\u000f/ deps/v8/build/common.gypi \u0002:\u000f v8: Reapply floating patches - http://git.io/lLIL0Q","date":"2012-07-24T22:49:42.372Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8\u000f * r\u0002e4c9c9f\u000f \u000310\u000f/ (3 files in 2 dirs)\u0002:\u000f readline: Remove event listeners on close - http://git.io/47Dl8A","date":"2012-07-24T22:49:42.613Z","type":"message"}
{"nick":"piscisaureus_","message":"ryah: but I don't think you can page 'em out","date":"2012-07-24T22:49:44.719Z","type":"message"}
{"nick":"piscisaureus_","message":"so it will still show up as RSS in ps","date":"2012-07-24T22:49:54.471Z","type":"message"}
{"nick":"piscisaureus_","message":"er, as some other type of memory, not RSS","date":"2012-07-24T22:50:06.594Z","type":"message"}
{"nick":"ryah","message":"would be super nice to be able to do node --npm > /tmp/npm.tar.gz","date":"2012-07-24T22:50:13.611Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-07-24T22:50:21.407Z","type":"quit"}
{"nick":"ryah","message":"well","date":"2012-07-24T22:50:29.136Z","type":"message"}
{"nick":"ryah","message":"maybe not","date":"2012-07-24T22:50:41.557Z","type":"message"}
{"nick":"ryah","message":"i dont know","date":"2012-07-24T22:50:43.965Z","type":"message"}
{"nick":"piscisaureus_","message":"it's sort of pointless","date":"2012-07-24T22:50:49.751Z","type":"message"}
{"nick":"ryah","message":"anyway i made an issue for tools/addon_gyp","date":"2012-07-24T22:50:54.046Z","type":"message"}
{"nick":"piscisaureus_","message":"http://www.youtube.com/watch?v=Zx1_6F-nCaw","date":"2012-07-24T22:51:02.830Z","type":"message"}
{"nick":"ryah","message":"got to figure out something because having rnadom unusable script laying around is confusing","date":"2012-07-24T22:51:11.489Z","type":"message"}
{"nick":"isaacs","message":"we could just have node dump its headers into some predictable spot, and then overwrite itself with a headerless bin on first run","date":"2012-07-24T22:51:13.240Z","type":"message"}
{"nick":"piscisaureus_","message":"please","date":"2012-07-24T22:51:30.758Z","type":"message"}
{"nick":"ryah","message":"why can't node-gyp ship the headers?'","date":"2012-07-24T22:51:35.187Z","type":"message"}
{"nick":"ryah","message":"sigh","date":"2012-07-24T22:51:45.680Z","type":"message"}
{"nick":"ryah","message":"i dont know","date":"2012-07-24T22:51:46.869Z","type":"message"}
{"nick":"piscisaureus_","message":"why not just shit it with the installer?","date":"2012-07-24T22:51:47.117Z","type":"message"}
{"nick":"ryah","message":"i fucking hate computers","date":"2012-07-24T22:51:49.942Z","type":"message"}
{"nick":"isaacs","message":"ryah: because node-gyp will live longer than a specific version of node on your computer.","date":"2012-07-24T22:51:59.506Z","type":"message"}
{"nick":"isaacs","message":"ryah: you'll upgrade node without upgrading node-gyp, or vice versa","date":"2012-07-24T22:52:09.927Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-07-24T22:52:14.261Z","type":"message"}
{"nick":"piscisaureus_","message":"so fix that :-)","date":"2012-07-24T22:52:16.475Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, `make install` already installs the headers and stuff","date":"2012-07-24T22:52:30.781Z","type":"message"}
{"nick":"piscisaureus_","message":"now we just need to stuff it into the pkg and msi, et vola","date":"2012-07-24T22:52:51.777Z","type":"message"}
{"nick":"ryah","action":"is with bert","date":"2012-07-24T22:53:04.751Z","type":"action"}
{"nick":"ryah","message":"not like our interface changes so much","date":"2012-07-24T22:53:41.261Z","type":"message"}
{"nick":"ryah","message":"anyway","date":"2012-07-24T22:53:54.448Z","type":"message"}
{"nick":"ryah","message":"interacting with all possible linux distributions / macintosh shit is really annoying","date":"2012-07-24T22:55:17.463Z","type":"message"}
{"nick":"ryah","message":"we should just ship gcc with our stuff","date":"2012-07-24T22:55:40.667Z","type":"message"}
{"nick":"ryah","message":"s/gcc/clang/","date":"2012-07-24T22:55:59.706Z","type":"message"}
{"nick":"ryah","message":"isaacs: txt me when you leave work and i'll head down there - it'll probably take me about the same amoun tof time to get there as it takes you to walk there","date":"2012-07-24T22:57:43.503Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307v0.8\u000f * r\u00021513848\u000f \u000310\u000f/ lib/net.js \u0002:\u000f net: fix Socket({ fd: 42 }) api - http://git.io/PbPfSA","date":"2012-07-24T22:57:58.054Z","type":"message"}
{"nick":"isaacs","message":"ryah: sure thing","date":"2012-07-24T22:58:16.293Z","type":"message"}
{"nick":"ryah","message":"see ya.","date":"2012-07-24T22:58:21.738Z","type":"message"}
{"nick":"chobi_e_","new_nick":"chobi_e","date":"2012-07-24T22:58:22.602Z","type":"nick"}
{"nick":"ryah","action":"away","date":"2012-07-24T22:58:22.855Z","type":"action"}
{"nick":"isaacs","message":"piscisaureus_: puttingit in the pkg and msi is not enouhg","date":"2012-07-24T22:58:48.583Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: we also need to convince the linux fundamentalists that it's ok for a thing to install more than one file.","date":"2012-07-24T22:59:09.926Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: without '-dev' or 'lib' on the name","date":"2012-07-24T22:59:19.560Z","type":"message"}
{"nick":"isaacs","message":"chrislea's dpkg's are a pretty faithful 'make install', but he's unusually sane.","date":"2012-07-24T23:00:03.582Z","type":"message"}
{"nick":"chobi_e","new_nick":"chobi_e_","date":"2012-07-24T23:01:11.623Z","type":"nick"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-07-24T23:01:34.478Z","type":"quit"}
{"nick":"piscisaureus_","message":"well","date":"2012-07-24T23:04:48.685Z","type":"message"}
{"nick":"piscisaureus_","message":"that leaves the yum package","date":"2012-07-24T23:04:54.901Z","type":"message"}
{"nick":"piscisaureus_","message":"nobody cares about the rest","date":"2012-07-24T23:05:06.885Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, you use netbsd, sort it out yourself","date":"2012-07-24T23:05:19.139Z","type":"message"}
{"nick":"tjfontaine","message":"ports based systems are jsut wrappers around make install anyway, right?","date":"2012-07-24T23:05:35.366Z","type":"message"}
{"nick":"CIA-108","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307v0.8.4-release\u000f * r\u000251261f0\u000f \u000310\u000f/ (AUTHORS ChangeLog src/node_version.h)\u0002:\u000f 2012.07.25, Version 0.8.4 (Stable) - http://git.io/2LcIwg","date":"2012-07-24T23:05:59.846Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs is getting addicted to making releases","date":"2012-07-24T23:06:53.117Z","type":"message"}
{"nick":"piscisaureus_","message":":-)","date":"2012-07-24T23:06:53.982Z","type":"message"}
{"nick":"isaacs","topic":"Liberty (release freely).  Unity (release together).  Velocity (release often).","date":"2012-07-24T23:07:34.255Z","type":"topic"}
{"nick":"isaacs","message":"piscisaureus_: the work for a release goes way up with the distance from the last release.","date":"2012-07-24T23:08:12.247Z","type":"message"}
{"nick":"isaacs","topic":"Liberty. Unity. Velocity.","date":"2012-07-24T23:09:36.582Z","type":"topic"}
{"nick":"isaacs","message":"there's an RC0 in the usual place.","date":"2012-07-24T23:10:25.593Z","type":"message"}
{"nick":"tjfontaine","message":"release freely has some interesting hidden meaning I'm sure","date":"2012-07-24T23:10:38.997Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I will test tomorrow. I am sort of dead","date":"2012-07-24T23:11:11.476Z","type":"message"}
{"nick":"isaacs","message":"kk.  have a good sleep :)","date":"2012-07-24T23:11:38.121Z","type":"message"}
{"nick":"piscisaureus_","message":"I hate flying. It kills me every time for a couple of days","date":"2012-07-24T23:11:57.228Z","type":"message"}
{"nick":"isaacs","message":"yeah, it's rough","date":"2012-07-24T23:12:01.114Z","type":"message"}
{"nick":"isaacs","message":"you coming to node dublin?","date":"2012-07-24T23:12:13.379Z","type":"message"}
{"nick":"isaacs","message":"isn't that like, right near you?","date":"2012-07-24T23:12:19.990Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: not that I know of. I am going to lxjs tho","date":"2012-07-24T23:12:25.936Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I know nothing about node-dublin :_)","date":"2012-07-24T23:12:47.149Z","type":"message"}
{"nick":"isaacs","message":"you should do node-dublin, too","date":"2012-07-24T23:12:49.036Z","type":"message"}
{"nick":"isaacs","message":"find out :)","date":"2012-07-24T23:12:51.405Z","type":"message"}
{"nick":"isaacs","message":"i bet cian would love to have you and/or ben there.","date":"2012-07-24T23:13:03.399Z","type":"message"}
{"nick":"piscisaureus_","message":"he should talk to me, then :-)","date":"2012-07-24T23:13:19.705Z","type":"message"}
{"nick":"indutny","message":"hey people","date":"2012-07-24T23:13:23.924Z","type":"message"}
{"nick":"indutny","message":"anyone has two macs in one network","date":"2012-07-24T23:13:29.321Z","type":"message"}
{"nick":"indutny","message":"I think I got some stuff working in my mad science project","date":"2012-07-24T23:13:45.691Z","type":"message"}
{"nick":"indutny","message":"though it's working only in local network for now","date":"2012-07-24T23:14:18.404Z","type":"message"}
{"nick":"tjfontaine","message":"hm?","date":"2012-07-24T23:14:23.719Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: do you have two macs?","date":"2012-07-24T23:14:32.339Z","type":"message"}
{"nick":"tjfontaine","message":"sure","date":"2012-07-24T23:14:39.570Z","type":"message"}
{"nick":"isaacs","message":"indutny: not where i'm at right now, but i do at home","date":"2012-07-24T23:14:42.591Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: sorry, I trust isaacs more :P","date":"2012-07-24T23:14:52.631Z","type":"message"}
{"nick":"indutny","message":"I seen him","date":"2012-07-24T23:14:54.821Z","type":"message"}
{"nick":"indutny","message":"isaacs: cool","date":"2012-07-24T23:14:57.304Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: btw - http needs to stay in core. http server at the very least","date":"2012-07-24T23:15:15.121Z","type":"message"}
{"nick":"tjfontaine","message":"haha","date":"2012-07-24T23:15:19.645Z","type":"message"}
{"nick":"tjfontaine","message":"what about extending js2c to support the contents of a directory as a single module?","date":"2012-07-24T23:16:39.697Z","type":"message"}
{"nick":"piscisaureus_","message":"anyway, /me quyits","date":"2012-07-24T23:19:29.304Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-07-24T23:20:05.816Z","type":"quit"}
{"nick":"c4milo","date":"2012-07-24T23:23:07.178Z","type":"join"}
{"nick":"mikeal","date":"2012-07-24T23:36:14.980Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-07-24T23:40:52.535Z","type":"quit"}
{"nick":"indutny","message":"ttyl everyone","date":"2012-07-24T23:43:33.807Z","type":"message"}
{"nick":"mikeal","date":"2012-07-24T23:56:51.987Z","type":"join"}
{"nick":"beachdog","date":"2012-07-24T23:58:12.913Z","type":"join"}
{"nick":"mikeal","reason":"Client Quit","date":"2012-07-24T23:59:33.519Z","type":"quit"}
