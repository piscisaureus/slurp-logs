{"nick":"isaacs","message":"yeah, that maeks it work","date":"2012-10-05T00:01:23.654Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2012-10-05T00:01:59.452Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037streams2\u000f * \u000210a9fc2\u0002 : transform: Automatically read() on _write when read buffer is empty (+1 more commits) - http://git.io/WzXYjg","date":"2012-10-05T00:02:45.260Z","type":"message"}
{"nick":"isaacs","message":"alright, i'm calling zlib streams done now.","date":"2012-10-05T00:02:54.551Z","type":"message"}
{"nick":"isaacs","message":"it's passing all the things.","date":"2012-10-05T00:03:03.834Z","type":"message"}
{"nick":"isaacs","message":"and transform stream api is pretty solid.","date":"2012-10-05T00:03:12.224Z","type":"message"}
{"nick":"chilts","message":"isaacs++","date":"2012-10-05T00:04:57.324Z","type":"message"}
{"nick":"chilts","message":":)","date":"2012-10-05T00:04:59.484Z","type":"message"}
{"nick":"chilts","message":"aww, we don't have a counterbot-type-thing in here :D","date":"2012-10-05T00:05:14.549Z","type":"message"}
{"nick":"piscisaureus_","reason":"Quit: ~ Trillian Astra - www.trillian.im ~","date":"2012-10-05T00:10:56.399Z","type":"quit"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-10-05T00:19:37.784Z","type":"quit"}
{"nick":"stephank","reason":"Ping timeout: 252 seconds","date":"2012-10-05T00:28:20.764Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T00:30:28.650Z","type":"quit"}
{"nick":"stephank","date":"2012-10-05T00:31:48.206Z","type":"join"}
{"nick":"erickt","date":"2012-10-05T00:34:55.461Z","type":"join"}
{"nick":"EhevuTov","date":"2012-10-05T00:36:08.047Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2012-10-05T00:38:43.806Z","type":"quit"}
{"nick":"hz","date":"2012-10-05T00:39:29.207Z","type":"join"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-10-05T00:40:38.813Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-10-05T00:43:34.827Z","type":"quit"}
{"nick":"hz","date":"2012-10-05T00:54:33.345Z","type":"quit"}
{"nick":"TooTallNate","reason":"Quit: Computer has gone to sleep.","date":"2012-10-05T00:56:11.922Z","type":"quit"}
{"nick":"c4milo","date":"2012-10-05T00:57:43.547Z","type":"join"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-10-05T01:09:05.454Z","type":"quit"}
{"nick":"lohkey","reason":"Quit: lohkey","date":"2012-10-05T01:13:04.036Z","type":"quit"}
{"nick":"AvianFlu","date":"2012-10-05T01:19:47.227Z","type":"join"}
{"nick":"piscisaureus_","date":"2012-10-05T01:28:07.999Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-10-05T01:32:30.234Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-10-05T01:40:03.094Z","type":"join"}
{"nick":"piscisaureus_","reason":"Client Quit","date":"2012-10-05T01:43:25.766Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-10-05T01:45:29.163Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-10-05T01:57:23.221Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-10-05T01:59:16.060Z","type":"join"}
{"nick":"erickt","date":"2012-10-05T02:14:45.988Z","type":"join"}
{"nick":"erickt_","date":"2012-10-05T02:18:17.051Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T02:40:28.223Z","type":"quit"}
{"nick":"erickt_","new_nick":"erickt","date":"2012-10-05T02:40:28.404Z","type":"nick"}
{"nick":"TooTallNate","reason":"Quit: [\"Textual IRC Client: www.textualapp.com\"]","date":"2012-10-05T02:40:43.317Z","type":"quit"}
{"nick":"erickt_","date":"2012-10-05T02:46:56.515Z","type":"join"}
{"nick":"Benvie","reason":"*.net *.split","date":"2012-10-05T03:01:07.437Z","type":"quit"}
{"nick":"erickt_","reason":"Quit: erickt_","date":"2012-10-05T03:10:13.611Z","type":"quit"}
{"nick":"erickt_","date":"2012-10-05T03:25:55.169Z","type":"join"}
{"nick":"indexzero","date":"2012-10-05T03:30:29.055Z","type":"join"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-10-05T03:31:03.018Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-10-05T03:34:28.855Z","type":"quit"}
{"nick":"lohkey","date":"2012-10-05T03:36:29.043Z","type":"join"}
{"nick":"erickt_","reason":"Quit: erickt_","date":"2012-10-05T03:40:34.292Z","type":"quit"}
{"nick":"bnoordhuis","reason":"Ping timeout: 248 seconds","date":"2012-10-05T03:41:38.044Z","type":"quit"}
{"nick":"erickt_","date":"2012-10-05T03:46:06.915Z","type":"join"}
{"nick":"tomshreds","reason":"Quit: Leaving...","date":"2012-10-05T03:59:49.249Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T04:16:29.353Z","type":"quit"}
{"nick":"erickt_","new_nick":"erickt","date":"2012-10-05T04:16:29.496Z","type":"nick"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T04:17:24.600Z","type":"quit"}
{"nick":"erickt","date":"2012-10-05T04:19:17.062Z","type":"join"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-10-05T04:30:42.295Z","type":"quit"}
{"nick":"erickt_","date":"2012-10-05T04:41:41.505Z","type":"join"}
{"nick":"c4milo","date":"2012-10-05T04:46:23.536Z","type":"join"}
{"nick":"Benvie","date":"2012-10-05T04:54:23.267Z","type":"join"}
{"nick":"mraleph","date":"2012-10-05T05:06:58.487Z","type":"join"}
{"nick":"mraleph","reason":"Client Quit","date":"2012-10-05T05:07:07.357Z","type":"quit"}
{"nick":"paddybyers","date":"2012-10-05T05:23:23.376Z","type":"join"}
{"nick":"indexzero","reason":"Read error: Connection reset by peer","date":"2012-10-05T05:31:42.800Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-10-05T05:36:42.776Z","type":"quit"}
{"nick":"lohkey","reason":"Quit: lohkey","date":"2012-10-05T06:02:35.928Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 246 seconds","date":"2012-10-05T06:11:11.311Z","type":"quit"}
{"nick":"paddybyers","date":"2012-10-05T06:16:07.435Z","type":"join"}
{"nick":"V1","date":"2012-10-05T06:33:58.522Z","type":"join"}
{"nick":"V1","new_nick":"`3rdEden","date":"2012-10-05T06:34:21.849Z","type":"nick"}
{"nick":"Ralt","date":"2012-10-05T06:38:56.291Z","type":"join"}
{"nick":"Ralt","reason":"Read error: Connection reset by peer","date":"2012-10-05T06:41:15.597Z","type":"quit"}
{"nick":"stagas","date":"2012-10-05T06:43:51.886Z","type":"join"}
{"nick":"kohai","date":"2012-10-05T06:45:07.630Z","type":"join"}
{"nick":"rendar","date":"2012-10-05T06:48:08.450Z","type":"join"}
{"nick":"Ralt","date":"2012-10-05T06:51:43.942Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T07:06:00.159Z","type":"quit"}
{"nick":"erickt_","new_nick":"erickt","date":"2012-10-05T07:06:05.730Z","type":"nick"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-10-05T07:47:58.078Z","type":"quit"}
{"nick":"stephank","date":"2012-10-05T07:50:49.420Z","type":"join"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-10-05T08:09:27.546Z","type":"quit"}
{"nick":"felixge","date":"2012-10-05T08:21:31.247Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-10-05T08:21:31.248Z","type":"quit"}
{"nick":"felixge","date":"2012-10-05T08:21:31.248Z","type":"join"}
{"nick":"perezd","reason":"Read error: No route to host","date":"2012-10-05T08:42:50.123Z","type":"quit"}
{"nick":"perezd","date":"2012-10-05T08:43:06.197Z","type":"join"}
{"nick":"felixge","reason":"Quit: felixge","date":"2012-10-05T08:45:37.329Z","type":"quit"}
{"nick":"perezd","reason":"Read error: No route to host","date":"2012-10-05T08:49:19.751Z","type":"quit"}
{"nick":"perezd","date":"2012-10-05T08:49:31.611Z","type":"join"}
{"nick":"perezd","reason":"Read error: No route to host","date":"2012-10-05T08:50:31.954Z","type":"quit"}
{"nick":"perezd","date":"2012-10-05T08:53:28.611Z","type":"join"}
{"nick":"perezd","reason":"Read error: No route to host","date":"2012-10-05T08:54:51.625Z","type":"quit"}
{"nick":"perezd","date":"2012-10-05T08:55:02.153Z","type":"join"}
{"nick":"perezd","reason":"Read error: No route to host","date":"2012-10-05T08:56:46.245Z","type":"quit"}
{"nick":"perezd","date":"2012-10-05T08:57:50.386Z","type":"join"}
{"nick":"perezd_","date":"2012-10-05T09:00:57.714Z","type":"join"}
{"nick":"perezd","reason":"Read error: Connection reset by peer","date":"2012-10-05T09:01:06.490Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-10-05T09:01:06.758Z","type":"nick"}
{"nick":"perezd_","date":"2012-10-05T09:17:09.906Z","type":"join"}
{"nick":"perezd","reason":"Read error: Connection reset by peer","date":"2012-10-05T09:17:16.231Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-10-05T09:17:16.292Z","type":"nick"}
{"nick":"perezd_","date":"2012-10-05T09:18:31.276Z","type":"join"}
{"nick":"perezd","reason":"Read error: Connection reset by peer","date":"2012-10-05T09:18:40.859Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-10-05T09:18:41.490Z","type":"nick"}
{"nick":"mikeal","date":"2012-10-05T09:24:11.582Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 240 seconds","date":"2012-10-05T09:24:36.034Z","type":"quit"}
{"nick":"paddybyers_","date":"2012-10-05T09:30:54.360Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2012-10-05T09:31:59.350Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2012-10-05T09:31:59.493Z","type":"nick"}
{"nick":"mikeal","reason":"Ping timeout: 256 seconds","date":"2012-10-05T09:40:43.647Z","type":"quit"}
{"nick":"`3rdEden","new_nick":"`3E|Lunch","date":"2012-10-05T09:53:03.046Z","type":"nick"}
{"nick":"felixge","date":"2012-10-05T09:53:17.013Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-10-05T09:53:17.013Z","type":"quit"}
{"nick":"felixge","date":"2012-10-05T09:53:17.014Z","type":"join"}
{"nick":"felixge","reason":"Read error: Connection reset by peer","date":"2012-10-05T09:59:59.977Z","type":"quit"}
{"nick":"hz","date":"2012-10-05T10:03:55.212Z","type":"join"}
{"nick":"kristate","date":"2012-10-05T10:06:00.433Z","type":"join"}
{"nick":"stagas_","date":"2012-10-05T10:12:13.528Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 244 seconds","date":"2012-10-05T10:12:40.157Z","type":"quit"}
{"nick":"stagas_","new_nick":"stagas","date":"2012-10-05T10:12:55.397Z","type":"nick"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2012-10-05T10:16:59.433Z","type":"quit"}
{"nick":"felixge","date":"2012-10-05T10:21:40.501Z","type":"join"}
{"nick":"felixge","reason":"Changing host","date":"2012-10-05T10:21:40.501Z","type":"quit"}
{"nick":"felixge","date":"2012-10-05T10:21:40.501Z","type":"join"}
{"nick":"felixge","reason":"Read error: No route to host","date":"2012-10-05T10:22:47.592Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-10-05T10:24:41.634Z","type":"join"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-10-05T10:33:03.190Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-10-05T10:33:29.636Z","type":"join"}
{"nick":"`3E|Lunch","new_nick":"`3rdEden","date":"2012-10-05T10:45:22.876Z","type":"nick"}
{"nick":"abraxas","reason":"Remote host closed the connection","date":"2012-10-05T10:54:19.225Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Hiroaki Nakamura\u000f \u00037master\u000f * \u0002976c8a4\u0002 : Add support for condition variables on all platforms - http://git.io/58XeJQ","date":"2012-10-05T11:05:11.100Z","type":"message"}
{"nick":"paddybyers","date":"2012-10-05T11:05:19.675Z","type":"join"}
{"nick":"travis-ci","date":"2012-10-05T11:06:53.211Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#773 (master - 976c8a4 : Hiroaki Nakamura): The build passed.","date":"2012-10-05T11:07:06.343Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/744dc3e77c9b...976c8a4387e5","date":"2012-10-05T11:07:06.344Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2674588","date":"2012-10-05T11:07:06.344Z","type":"message"}
{"nick":"travis-ci","date":"2012-10-05T11:07:06.344Z","type":"part"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2012-10-05T11:17:49.709Z","type":"quit"}
{"nick":"c4milo","date":"2012-10-05T11:31:05.504Z","type":"join"}
{"nick":"bnoordhuis","date":"2012-10-05T11:38:03.331Z","type":"join"}
{"nick":"bnoordhuis","message":"that 'linkedin moved from rails to node' thing that's doing the rounds on HN now?","date":"2012-10-05T11:39:21.673Z","type":"message"}
{"nick":"bnoordhuis","message":"i may have been responsible for that","date":"2012-10-05T11:39:28.353Z","type":"message"}
{"nick":"deoxxa","message":"heh","date":"2012-10-05T11:41:29.716Z","type":"message"}
{"nick":"deoxxa","message":"plenty of raging idiots from both sides of the fence commenting on those posts at the moment","date":"2012-10-05T11:41:55.944Z","type":"message"}
{"nick":"deoxxa","action":"tips hat","date":"2012-10-05T11:42:05.841Z","type":"action"}
{"nick":"piscisaureus_","message":"bnoordhuis: how did your talk go?","date":"2012-10-05T11:46:41.622Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: pretty good but the live demo failed thanks to the crappy wifi","date":"2012-10-05T11:47:08.893Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: good you're getting some practice :-)","date":"2012-10-05T11:47:23.571Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: at 50% of the conferences wifi is unreliable, you always need a backup plan","date":"2012-10-05T11:48:06.595Z","type":"message"}
{"nick":"piscisaureus_","message":"(or bring your own internet as we did as oscon)","date":"2012-10-05T11:48:21.412Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: i had one: keep talking until my time was up :)","date":"2012-10-05T11:48:32.324Z","type":"message"}
{"nick":"piscisaureus_","message":"haha","date":"2012-10-05T11:48:42.465Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: did go better than the amsterdamjs talk?","date":"2012-10-05T11:49:14.029Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: yeah, i'd prepared it a little better","date":"2012-10-05T11:49:32.457Z","type":"message"}
{"nick":"piscisaureus_","message":"good","date":"2012-10-05T11:49:41.036Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: btw, https://github.com/piscisaureus/libuv/commit/multisig","date":"2012-10-05T11:53:52.152Z","type":"message"}
{"nick":"piscisaureus_","message":"^-- that's basically all there was to it","date":"2012-10-05T11:53:59.386Z","type":"message"}
{"nick":"piscisaureus_","message":"unfortunately there's a lot of places I call abort() ...","date":"2012-10-05T11:54:11.858Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: it's not done yet btw - the test is nothing","date":"2012-10-05T11:55:25.412Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: but you can review this if you like, ok","date":"2012-10-05T11:55:35.046Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: already doing that","date":"2012-10-05T11:58:19.978Z","type":"message"}
{"nick":"bnoordhuis","message":"it's odd, i remember adding multi-loop support myself... maybe i never actually landed that","date":"2012-10-05T12:03:12.000Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: you told me you never got it right","date":"2012-10-05T12:04:59.603Z","type":"message"}
{"nick":"bnoordhuis","message":"i did? my memory must be declining with age","date":"2012-10-05T12:05:27.763Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: tell me the branch","date":"2012-10-05T12:05:27.911Z","type":"message"}
{"nick":"bnoordhuis","message":"my more-signals branch? it doesn't look quite how i remember it though","date":"2012-10-05T12:06:41.408Z","type":"message"}
{"nick":"bnoordhuis","message":"well, nvm - your branchs looks okay","date":"2012-10-05T12:07:03.605Z","type":"message"}
{"nick":"mmalecki","message":"MOAR SIGNALS","date":"2012-10-05T12:07:37.823Z","type":"message"}
{"nick":"mmalecki","message":"ADD MOAR SIGNALS","date":"2012-10-05T12:07:42.766Z","type":"message"}
{"nick":"mmalecki","message":"SOMEONE POUR ME MORE SIGNALS","date":"2012-10-05T12:07:58.360Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: there's one thing I am concerned about","date":"2012-10-05T12:09:38.590Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: some style issues like your wonky windows comments and braces for single-line statements","date":"2012-10-05T12:09:45.645Z","type":"message"}
{"nick":"bnoordhuis","message":"but nothing serious","date":"2012-10-05T12:09:50.052Z","type":"message"}
{"nick":"txdv_","message":"SIGNALZZ","date":"2012-10-05T12:10:10.122Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: so what's the concern?","date":"2012-10-05T12:10:26.288Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I am assuming that sigaddset and sigdelset modify a sigset_t sort of atomically","date":"2012-10-05T12:10:48.201Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh. they don't","date":"2012-10-05T12:11:05.734Z","type":"message"}
{"nick":"piscisaureus_","message":"not really atomically, but atleast without going through an intermediate \"bad\" state","date":"2012-10-05T12:11:19.292Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: right. there's no guarantee","date":"2012-10-05T12:11:33.178Z","type":"message"}
{"nick":"piscisaureus_","message":"because right","date":"2012-10-05T12:11:43.373Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-10-05T12:11:45.770Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: so I probably need to signal_lock/signal_unlock around sigaddset/sigdelset calls","date":"2012-10-05T12:12:12.978Z","type":"message"}
{"nick":"bnoordhuis","message":"yes","date":"2012-10-05T12:12:18.618Z","type":"message"}
{"nick":"piscisaureus_","message":"that would solve it","date":"2012-10-05T12:12:20.529Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I remember promising felixge that I would fix this, a year ago","date":"2012-10-05T12:13:08.667Z","type":"message"}
{"nick":"piscisaureus_","message":"(at last years jsconf)","date":"2012-10-05T12:13:16.448Z","type":"message"}
{"nick":"piscisaureus_","message":"and i'm about to go there again","date":"2012-10-05T12:13:27.923Z","type":"message"}
{"nick":"piscisaureus_","message":"so now I can say I didn't lie :-)","date":"2012-10-05T12:13:34.542Z","type":"message"}
{"nick":"piscisaureus_","reason":"Read error: Connection reset by peer","date":"2012-10-05T12:14:48.950Z","type":"quit"}
{"nick":"piscisaureus_","date":"2012-10-05T12:15:11.035Z","type":"join"}
{"nick":"bnoordhuis","message":"paddybyers: interesting lxjs talk. too bad the demo didn't work","date":"2012-10-05T12:29:43.948Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: :(","date":"2012-10-05T12:30:04.078Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: everything else was good though :)","date":"2012-10-05T12:30:18.162Z","type":"message"}
{"nick":"paddybyers","action":"worked every time up to that point :)","date":"2012-10-05T12:30:25.980Z","type":"action"}
{"nick":"txdv_","message":"what talk","date":"2012-10-05T12:31:01.294Z","type":"message"}
{"nick":"txdv_","message":"video?","date":"2012-10-05T12:31:06.765Z","type":"message"}
{"nick":"txdv_","message":"bnoordhuis: how went the ruby talk?","date":"2012-10-05T12:31:18.365Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: so you weren't able to make it yourself","date":"2012-10-05T12:31:26.134Z","type":"message"}
{"nick":"bnoordhuis","message":"bnoordhuis: mostly good. my demo didn't work either :)","date":"2012-10-05T12:31:44.618Z","type":"message"}
{"nick":"bnoordhuis","message":"err, txdv_","date":"2012-10-05T12:31:49.309Z","type":"message"}
{"nick":"txdv_","message":"don't you test the demos before?","date":"2012-10-05T12:32:27.646Z","type":"message"}
{"nick":"paddybyers","message":"txdv_:http://www.youtube.com/watch?v=zLeZXSKePhQ","date":"2012-10-05T12:32:33.788Z","type":"message"}
{"nick":"mmalecki","message":"NO","date":"2012-10-05T12:32:36.498Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: well... piscisaureus_ was already doing a talk so i didn't have to","date":"2012-10-05T12:32:53.419Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: testing is for the weak. also, it was due to crappy wifi","date":"2012-10-05T12:33:12.528Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: did you watch my talk?","date":"2012-10-05T12:33:16.524Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: yes","date":"2012-10-05T12:33:20.582Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: you were kind of nervous, weren't you?","date":"2012-10-05T12:33:28.769Z","type":"message"}
{"nick":"txdv_","message":"so did you convince the rubists to use node/libuv?","date":"2012-10-05T12:33:37.148Z","type":"message"}
{"nick":"mmalecki","message":"bnoordhuis: man. I was so hangover","date":"2012-10-05T12:33:39.998Z","type":"message"}
{"nick":"mmalecki","message":"when dscape called me out, I was finishing my slides","date":"2012-10-05T12:33:50.842Z","type":"message"}
{"nick":"mmalecki","message":"that's why there's vim on the beginning","date":"2012-10-05T12:34:01.790Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: actually, a lot of them had already used node","date":"2012-10-05T12:34:12.077Z","type":"message"}
{"nick":"mmalecki","message":"my talk was kind of a fuckup anyway, I should've changed the topic when I got to know that I won't be speaking about libuv","date":"2012-10-05T12:34:52.439Z","type":"message"}
{"nick":"mmalecki","message":"which was a week before the conference >.<","date":"2012-10-05T12:35:13.022Z","type":"message"}
{"nick":"bnoordhuis","message":"mmalecki: oh well, better luck next time. it was still pretty decent","date":"2012-10-05T12:35:20.939Z","type":"message"}
{"nick":"txdv_","message":"paddybyers: doesn't safari have a full screen mode?","date":"2012-10-05T12:35:47.553Z","type":"message"}
{"nick":"mmalecki","message":"yeah, I'm used to doing talks drunk, hangover and sick","date":"2012-10-05T12:35:59.868Z","type":"message"}
{"nick":"paddybyers","message":"txdv_: yes if course, but I was thrown by things going bad at the very start","date":"2012-10-05T12:37:07.969Z","type":"message"}
{"nick":"paddybyers","message":"bnoordhuis: btw I talked to @mraleph about this addition to the v8 api:","date":"2012-10-05T12:38:08.906Z","type":"message"}
{"nick":"paddybyers","message":"https://github.com/joyent/node/blob/master/deps/v8/include/v8.h#L1987","date":"2012-10-05T12:38:17.978Z","type":"message"}
{"nick":"paddybyers","message":"you can now recover the isolate cheaply whenever entered from js","date":"2012-10-05T12:38:37.706Z","type":"message"}
{"nick":"paddybyers","message":"wasn't there last time I looked","date":"2012-10-05T12:38:59.919Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: oh, good. not that node needs it now :)","date":"2012-10-05T12:39:11.025Z","type":"message"}
{"nick":"bnoordhuis","message":"damn, auto-complete fail","date":"2012-10-05T12:39:21.369Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: ^","date":"2012-10-05T12:39:26.581Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: how is the upgrade to 0.8 working out?","date":"2012-10-05T12:39:46.335Z","type":"message"}
{"nick":"paddybyers","message":"not really got going yet","date":"2012-10-05T12:39:58.351Z","type":"message"}
{"nick":"bnoordhuis","message":"paddybyers: let me know if you hit any roadblocks, i don't mind landing patches in 0.8/master that help you out (within reason of course)","date":"2012-10-05T12:41:49.630Z","type":"message"}
{"nick":"paddybyers","message":"thanks - I'll defintely keep you posted","date":"2012-10-05T12:42:12.546Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: hoya","date":"2012-10-05T12:52:55.464Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: heya","date":"2012-10-05T12:53:02.973Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: can you please review/help me with https://github.com/indutny/tlsnappy/blob/feature-no-locks/src/atomic.h ?","date":"2012-10-05T12:53:18.642Z","type":"message"}
{"nick":"indutny","message":"piscisaureus_: ^^","date":"2012-10-05T12:53:35.453Z","type":"message"}
{"nick":"indutny","message":"would be great to have visual studio support here too","date":"2012-10-05T12:53:59.303Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: sure, in a minute","date":"2012-10-05T12:55:37.292Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: thanks man","date":"2012-10-05T12:55:42.471Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: btw, I'm writing directly to rings w/o calling BIO_write/BIO_read now","date":"2012-10-05T12:55:55.682Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: don't see big performance boost though","date":"2012-10-05T12:56:02.786Z","type":"message"}
{"nick":"indutny","message":"there're locks remaining here which I'm going to remove","date":"2012-10-05T12:56:29.001Z","type":"message"}
{"nick":"indutny","message":"and if after that it'll be slower than https","date":"2012-10-05T12:56:38.190Z","type":"message"}
{"nick":"indutny","message":"I don't really know what to do","date":"2012-10-05T12:56:43.151Z","type":"message"}
{"nick":"indutny","message":"probably benchmark is just incorrect","date":"2012-10-05T12:56:48.897Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/libuv:\u0002 \u00033Ben Noordhuis\u000f \u00037master\u000f * \u00027aa1261\u0002 : include: fix confusing uv_tcp_keepalive comment - http://git.io/lIQ1Xw","date":"2012-10-05T13:07:06.289Z","type":"message"}
{"nick":"travis-ci","date":"2012-10-05T13:08:34.032Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/libuv#774 (master - 7aa1261 : Ben Noordhuis): The build passed.","date":"2012-10-05T13:08:34.176Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/libuv/compare/976c8a4387e5...7aa126176921","date":"2012-10-05T13:08:34.177Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/libuv/builds/2675911","date":"2012-10-05T13:08:34.177Z","type":"message"}
{"nick":"travis-ci","date":"2012-10-05T13:08:34.177Z","type":"part"}
{"nick":"AvianFlu","date":"2012-10-05T13:20:54.484Z","type":"join"}
{"nick":"piscisaureus_","reason":"Ping timeout: 252 seconds","date":"2012-10-05T13:23:13.917Z","type":"quit"}
{"nick":"kazupon","date":"2012-10-05T13:48:52.572Z","type":"join"}
{"nick":"tomshreds","date":"2012-10-05T13:54:41.349Z","type":"join"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-10-05T14:02:33.530Z","type":"quit"}
{"nick":"betta","date":"2012-10-05T14:03:44.015Z","type":"join"}
{"nick":"txdv_","message":"yo ladies","date":"2012-10-05T14:06:20.788Z","type":"message"}
{"nick":"betta","message":"hi","date":"2012-10-05T14:06:27.229Z","type":"message"}
{"nick":"txdv_","message":"i wonder if I need to always use read2 on pipes with IPC = 1","date":"2012-10-05T14:06:31.598Z","type":"message"}
{"nick":"c4milo","date":"2012-10-05T14:10:10.449Z","type":"join"}
{"nick":"indutny","message":"bnoordhuis: oh, btw","date":"2012-10-05T14:10:47.059Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: what do you think about refactoring async handles","date":"2012-10-05T14:10:55.395Z","type":"message"}
{"nick":"saghul","message":"txdv_ if you don't use it you'll not be able to get handles sent over it","date":"2012-10-05T14:10:59.538Z","type":"message"}
{"nick":"indutny","message":"I would like to write their pointers to the pipe, instead of just writing one byte and traversing all queue to search handles","date":"2012-10-05T14:11:21.014Z","type":"message"}
{"nick":"betta","message":"uhm I have a question I couldn't find a answer forâ€¦","date":"2012-10-05T14:11:34.279Z","type":"message"}
{"nick":"indutny","message":"it seems that writes that are less than PIPE_BUF bytes are always atomic","date":"2012-10-05T14:11:36.969Z","type":"message"}
{"nick":"betta","message":"what's the best way to detect in a uv_write callback, if all existing sockets finished sending their data?","date":"2012-10-05T14:11:37.513Z","type":"message"}
{"nick":"betta","message":"or do uv_write callbacks always only get called once for every call to uv_write?","date":"2012-10-05T14:12:41.994Z","type":"message"}
{"nick":"indutny","message":"I think they're","date":"2012-10-05T14:12:55.834Z","type":"message"}
{"nick":"betta","message":"it's because I seem to loose data when rapidly sending over slow networks","date":"2012-10-05T14:13:45.173Z","type":"message"}
{"nick":"betta","message":"(using TCP)","date":"2012-10-05T14:13:51.666Z","type":"message"}
{"nick":"erickt_","date":"2012-10-05T14:13:59.065Z","type":"join"}
{"nick":"betta","message":"currently I write data to a socket, and in the callback a worker will be invoked, which in turn sends the next packet of data","date":"2012-10-05T14:15:21.618Z","type":"message"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-10-05T14:15:41.163Z","type":"quit"}
{"nick":"saghul","message":"each call to uv_write will have its corresponding callback","date":"2012-10-05T14:16:01.242Z","type":"message"}
{"nick":"betta","message":"hmm ok","date":"2012-10-05T14:16:12.569Z","type":"message"}
{"nick":"saghul","message":"called, that is","date":"2012-10-05T14:16:12.718Z","type":"message"}
{"nick":"betta","message":"it's just really strange","date":"2012-10-05T14:16:24.471Z","type":"message"}
{"nick":"betta","message":"I don't think that my (de)compress algorithms are broken, because everything works fine on fast networks","date":"2012-10-05T14:16:57.379Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037streams2\u000f * \u00020c256c8\u0002 : streams2: fs streams (+1 more commits) - http://git.io/qPP8cg","date":"2012-10-05T14:17:24.797Z","type":"message"}
{"nick":"isaacs","message":"fs streams are working, but 3 tests are failing.  i think the tests are probably not valid.","date":"2012-10-05T14:17:32.662Z","type":"message"}
{"nick":"txdv_","message":"wi don't understand the purpose of the UV_CREATE_PIPE flag for spawn","date":"2012-10-05T14:17:48.201Z","type":"message"}
{"nick":"isaacs","message":"they seem like they're testing old inconsistent stream behavior that we all have wanted to change for some time.","date":"2012-10-05T14:17:52.808Z","type":"message"}
{"nick":"betta","message":"is it possible then, that OS X drops somehow packages?","date":"2012-10-05T14:17:54.669Z","type":"message"}
{"nick":"indutny","message":"txdv_: huh?","date":"2012-10-05T14:18:12.886Z","type":"message"}
{"nick":"indutny","message":"txdv_: what's not clear?","date":"2012-10-05T14:18:18.926Z","type":"message"}
{"nick":"txdv_","message":"does the pipe i am passing to it has to be with IPC = 1?","date":"2012-10-05T14:18:49.171Z","type":"message"}
{"nick":"indutny","message":"no","date":"2012-10-05T14:18:59.610Z","type":"message"}
{"nick":"txdv_","message":"how is different from UV_INHERIT_STREAM","date":"2012-10-05T14:19:13.410Z","type":"message"}
{"nick":"indutny","message":"well","date":"2012-10-05T14:19:18.549Z","type":"message"}
{"nick":"indutny","message":"inherit stream is reusing existing open stream","date":"2012-10-05T14:19:28.424Z","type":"message"}
{"nick":"indutny","message":"while UV_CREATE_PIPE will create new one","date":"2012-10-05T14:19:35.416Z","type":"message"}
{"nick":"indutny","message":"oh wait","date":"2012-10-05T14:21:09.720Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-10-05T14:21:15.673Z","type":"message"}
{"nick":"indutny","message":"so the difference is","date":"2012-10-05T14:21:18.112Z","type":"message"}
{"nick":"indutny","message":"that stream should be closed in case of UV_CREATE_PIPE","date":"2012-10-05T14:21:28.164Z","type":"message"}
{"nick":"indutny","message":"i.e. should not have file descriptor","date":"2012-10-05T14:21:35.455Z","type":"message"}
{"nick":"txdv_","message":"so if i want to just read the output of the spawned process, i need to use uv_create_pipe?","date":"2012-10-05T14:22:36.193Z","type":"message"}
{"nick":"saghul","message":"if you use UV_CREATE_PIPE, the pipe must be initialized, but not bound","date":"2012-10-05T14:23:21.928Z","type":"message"}
{"nick":"saghul","message":"so it has no fd assigned, as indutny said","date":"2012-10-05T14:23:31.493Z","type":"message"}
{"nick":"indutny","message":"saghul: yes","date":"2012-10-05T14:23:43.940Z","type":"message"}
{"nick":"indutny","message":"txdv_: I think so","date":"2012-10-05T14:23:53.779Z","type":"message"}
{"nick":"saghul","message":"so, just uv_pipe_init the thing and pass it along","date":"2012-10-05T14:24:07.476Z","type":"message"}
{"nick":"indutny","message":"uv_spawn will open it for you","date":"2012-10-05T14:24:25.495Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yt?","date":"2012-10-05T14:25:29.499Z","type":"message"}
{"nick":"txdv_","message":"i can't get an example running where the main app just reads the output of the spawned process","date":"2012-10-05T14:27:36.224Z","type":"message"}
{"nick":"philips_","reason":"Excess Flood","date":"2012-10-05T14:28:19.236Z","type":"quit"}
{"nick":"philips_","date":"2012-10-05T14:29:57.631Z","type":"join"}
{"nick":"lohkey","date":"2012-10-05T14:30:35.527Z","type":"join"}
{"nick":"lohkey","reason":"Client Quit","date":"2012-10-05T14:30:49.141Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: ih","date":"2012-10-05T14:34:19.962Z","type":"message"}
{"nick":"txdv_","message":"so annoying","date":"2012-10-05T14:34:41.165Z","type":"message"}
{"nick":"betta","date":"2012-10-05T14:35:02.011Z","type":"part"}
{"nick":"indutny","message":"bnoordhuis: it's on master now","date":"2012-10-05T14:36:18.183Z","type":"message"}
{"nick":"indutny","message":"just in case","date":"2012-10-05T14:36:19.954Z","type":"message"}
{"nick":"indutny","message":"and btw","date":"2012-10-05T14:36:20.885Z","type":"message"}
{"nick":"indutny","message":"reminding you about uv_wait()","date":"2012-10-05T14:36:25.952Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: what's on master?","date":"2012-10-05T14:36:33.686Z","type":"message"}
{"nick":"indutny","message":"atomic stuff","date":"2012-10-05T14:36:38.933Z","type":"message"}
{"nick":"indutny","message":"on tlsnappy's master","date":"2012-10-05T14:36:43.015Z","type":"message"}
{"nick":"bnoordhuis","message":"ah","date":"2012-10-05T14:36:45.408Z","type":"message"}
{"nick":"saghul","message":"txdv_ it's python, but I may help you: https://github.com/saghul/pyuv/blob/master/tests/test_process.py#L56","date":"2012-10-05T14:40:07.119Z","type":"message"}
{"nick":"tomshreds","reason":"Ping timeout: 245 seconds","date":"2012-10-05T14:45:19.340Z","type":"quit"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037streams2\u000f * \u0002a98e5c2\u0002 : test: Correct fs writable stream 2 test (+3 more commits) - http://git.io/W578Fw","date":"2012-10-05T14:50:26.621Z","type":"message"}
{"nick":"txdv_","message":"o me stuped","date":"2012-10-05T14:50:50.192Z","type":"message"}
{"nick":"erickt_","reason":"Quit: erickt_","date":"2012-10-05T14:50:52.650Z","type":"quit"}
{"nick":"bnoordhuis","message":"indutny: why the memory barrier?","date":"2012-10-05T14:51:38.106Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: because I want to be sure that memcpy writes were finished","date":"2012-10-05T14:52:46.431Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T14:53:29.349Z","type":"join"}
{"nick":"txdv_","message":"saghul: if i pass that stream in stdio[4] then the child process will have an fd = 4 which links to that pipe?","date":"2012-10-05T14:56:05.586Z","type":"message"}
{"nick":"saghul","message":"txdv_ yep","date":"2012-10-05T14:56:47.760Z","type":"message"}
{"nick":"saghul","message":"the first 3 are fds 0, 1, and 2","date":"2012-10-05T14:56:58.960Z","type":"message"}
{"nick":"saghul","message":"then just keep counting","date":"2012-10-05T14:57:03.226Z","type":"message"}
{"nick":"txdv_","message":"the c api is horrible","date":"2012-10-05T14:57:10.808Z","type":"message"}
{"nick":"txdv_","message":"and you just mapped it in python","date":"2012-10-05T14:57:20.230Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: also it seems that ring buffers is incorrect","date":"2012-10-05T14:57:30.329Z","type":"message"}
{"nick":"indutny","message":"sometimes read head stalls on empty pages","date":"2012-10-05T14:57:39.138Z","type":"message"}
{"nick":"indutny","message":"with both roffset and woffset = 0","date":"2012-10-05T14:57:46.582Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-10-05T14:57:48.116Z","type":"message"}
{"nick":"txdv_","message":"saghul: thanks for the help","date":"2012-10-05T14:57:53.806Z","type":"message"}
{"nick":"saghul","message":"yes, if someone wants to give it a nicer look it's fine, but pyuv is just a thin wrapper :-)","date":"2012-10-05T14:58:01.314Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: btw, have you measured mutex overhead?","date":"2012-10-05T14:58:08.339Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, all this fiddling with lockless algorithms is pointless if mutexes aren't actually a bottleneck","date":"2012-10-05T14:58:49.310Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: Idk","date":"2012-10-05T15:01:19.803Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: :)","date":"2012-10-05T15:01:24.372Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I'm just trying to reduce possible stallness","date":"2012-10-05T15:01:40.334Z","type":"message"}
{"nick":"indutny","message":"like when main thread writes to buffer and worker thread reads from it","date":"2012-10-05T15:01:55.272Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: premature optimization, root of all evil, etc.","date":"2012-10-05T15:02:07.022Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well","date":"2012-10-05T15:02:22.742Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: why is it slow then? :)","date":"2012-10-05T15:02:27.030Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I've tried almost every thing, but I can't get it","date":"2012-10-05T15:02:37.120Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: profile, profile, profile","date":"2012-10-05T15:03:20.343Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: nothing in profiles","date":"2012-10-05T15:03:45.994Z","type":"message"}
{"nick":"indutny","message":"really nothing","date":"2012-10-05T15:03:47.506Z","type":"message"}
{"nick":"indutny","message":"you can try it yourself","date":"2012-10-05T15:03:51.146Z","type":"message"}
{"nick":"indutny","message":"there're openssl stuff that lasts almost 98% of time","date":"2012-10-05T15:04:05.882Z","type":"message"}
{"nick":"indutny","message":"and nothing else","date":"2012-10-05T15:04:07.803Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: if openssl is the bottleneck, optimizing the remaining 2% isn't going to help much","date":"2012-10-05T15:04:32.306Z","type":"message"}
{"nick":"indutny","message":"that's why I thought it's wasting time in preemption","date":"2012-10-05T15:04:33.995Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well, realtime ring buffers are good anyway","date":"2012-10-05T15:04:53.824Z","type":"message"}
{"nick":"indutny","message":"it should improve responsiveness","date":"2012-10-05T15:05:05.442Z","type":"message"}
{"nick":"indutny","message":"at least that's the last thing I can do with it now","date":"2012-10-05T15:05:19.197Z","type":"message"}
{"nick":"Ralt","reason":"Ping timeout: 240 seconds","date":"2012-10-05T15:05:29.351Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: so do you think inserting barrier is not required there?","date":"2012-10-05T15:06:13.711Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i don't think so (but i might be wrong)","date":"2012-10-05T15:06:46.669Z","type":"message"}
{"nick":"bnoordhuis","message":"memory barriers are for conflicting stores/reads but i don't think that applies here","date":"2012-10-05T15:07:01.938Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: why not","date":"2012-10-05T15:07:18.644Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: suppose Write() and Read() happens at the same time","date":"2012-10-05T15:07:26.676Z","type":"message"}
{"nick":"indutny","message":"nearly","date":"2012-10-05T15:07:27.835Z","type":"message"}
{"nick":"bnoordhuis","message":"because the actual conflicting stores/reads are for the offset_ var","date":"2012-10-05T15:07:36.184Z","type":"message"}
{"nick":"bnoordhuis","message":"you may need a compiler barrier though","date":"2012-10-05T15:07:43.111Z","type":"message"}
{"nick":"indutny","message":"well, yes","date":"2012-10-05T15:07:43.425Z","type":"message"}
{"nick":"indutny","message":"how can I do that?","date":"2012-10-05T15:07:50.799Z","type":"message"}
{"nick":"indutny","message":"by using volatile?","date":"2012-10-05T15:07:54.559Z","type":"message"}
{"nick":"bnoordhuis","message":"i don't know how it works for non-gcc compilers","date":"2012-10-05T15:08:06.724Z","type":"message"}
{"nick":"indutny","message":"asm volatile (\"\":::\"memory\");","date":"2012-10-05T15:08:21.023Z","type":"message"}
{"nick":"bnoordhuis","message":"but in gcc it's __asm__ __volatile__ (\"\" ::: \"memory\")","date":"2012-10-05T15:08:23.537Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-10-05T15:08:26.991Z","type":"message"}
{"nick":"indutny","message":"hm...","date":"2012-10-05T15:08:45.878Z","type":"message"}
{"nick":"indutny","message":"that's harder than hardware ones","date":"2012-10-05T15:08:51.609Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-10-05T15:08:55.696Z","type":"message"}
{"nick":"indutny","message":"gtg","date":"2012-10-05T15:08:59.336Z","type":"message"}
{"nick":"indutny","message":"I'll be back in 20 minutes","date":"2012-10-05T15:09:04.913Z","type":"message"}
{"nick":"bnoordhuis","message":"good luck :)","date":"2012-10-05T15:09:12.406Z","type":"message"}
{"nick":"paddybyers","reason":"Ping timeout: 240 seconds","date":"2012-10-05T15:19:08.843Z","type":"quit"}
{"nick":"tomshreds","date":"2012-10-05T15:23:21.378Z","type":"join"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033isaacs\u000f \u00037streams2\u000f * \u0002df933bb\u0002 : fs.ReadStream: Don't allow non-integer bufferSize (+1 more commits) - http://git.io/NvaQ0Q","date":"2012-10-05T15:25:00.666Z","type":"message"}
{"nick":"stagas","date":"2012-10-05T15:28:20.525Z","type":"join"}
{"nick":"isaacs","message":"streams2, osx, fs and zlib using new interfaces: [02:16|% 100|+ 478|-   0]: Done                                               ","date":"2012-10-05T15:30:34.561Z","type":"message"}
{"nick":"`3rdEden","new_nick":"`3E|DINNER","date":"2012-10-05T15:35:04.691Z","type":"nick"}
{"nick":"tjfontaine","message":"excellent work","date":"2012-10-05T15:39:44.173Z","type":"message"}
{"nick":"paddybyers","date":"2012-10-05T15:43:01.359Z","type":"join"}
{"nick":"indutny","message":"back","date":"2012-10-05T15:48:05.748Z","type":"message"}
{"nick":"indutny","message":"isaacs: ++","date":"2012-10-05T15:48:12.895Z","type":"message"}
{"nick":"kohai","message":"isaacs has 23 beers","date":"2012-10-05T15:48:13.310Z","type":"message"}
{"nick":"`3E|DINNER","reason":"Remote host closed the connection","date":"2012-10-05T15:49:21.132Z","type":"quit"}
{"nick":"txdv_","message":"dafuq","date":"2012-10-05T15:55:39.434Z","type":"message"}
{"nick":"txdv_","message":"how many do I have?","date":"2012-10-05T15:55:42.648Z","type":"message"}
{"nick":"indutny","message":"txdv_: --","date":"2012-10-05T15:56:19.586Z","type":"message"}
{"nick":"kohai","message":"txdv_ has -1 beer","date":"2012-10-05T15:56:20.066Z","type":"message"}
{"nick":"indutny","message":"zero I suppose?","date":"2012-10-05T15:56:26.828Z","type":"message"}
{"nick":"indutny","message":"txdv--","date":"2012-10-05T15:56:28.286Z","type":"message"}
{"nick":"kohai","message":"txdv has -1 beer","date":"2012-10-05T15:56:28.659Z","type":"message"}
{"nick":"indutny","message":"definitely zero","date":"2012-10-05T15:56:33.576Z","type":"message"}
{"nick":"TheJH","date":"2012-10-05T15:56:47.336Z","type":"join"}
{"nick":"txdv_","message":"russians stealing beer","date":"2012-10-05T15:57:07.186Z","type":"message"}
{"nick":"txdv_","message":"you have vodka","date":"2012-10-05T15:57:09.649Z","type":"message"}
{"nick":"paddybyers_","date":"2012-10-05T15:57:35.289Z","type":"join"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2012-10-05T16:01:09.421Z","type":"quit"}
{"nick":"paddybyers_","new_nick":"paddybyers","date":"2012-10-05T16:01:09.713Z","type":"nick"}
{"nick":"mmalecki","reason":"Ping timeout: 256 seconds","date":"2012-10-05T16:06:35.801Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: hm...","date":"2012-10-05T16:11:02.381Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: for some reason https is faster on serving big data","date":"2012-10-05T16:11:09.113Z","type":"message"}
{"nick":"indutny","message":"by big I mean 100kb pages","date":"2012-10-05T16:11:18.429Z","type":"message"}
{"nick":"indutny","message":"brb","date":"2012-10-05T16:11:24.142Z","type":"message"}
{"nick":"indutny","message":"tea","date":"2012-10-05T16:11:24.689Z","type":"message"}
{"nick":"perezd","date":"2012-10-05T16:16:21.721Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T16:40:07.011Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: man","date":"2012-10-05T16:44:18.037Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: uv_wait() and async handle?","date":"2012-10-05T16:44:32.930Z","type":"message"}
{"nick":"TooTallNate","date":"2012-10-05T16:48:21.704Z","type":"join"}
{"nick":"EhevuTov","date":"2012-10-05T16:50:19.516Z","type":"join"}
{"nick":"erickt","date":"2012-10-05T16:56:15.391Z","type":"join"}
{"nick":"txdv_","message":"are there any interesting lxjs talks you can recommend me?","date":"2012-10-05T16:57:19.456Z","type":"message"}
{"nick":"txdv_","message":"apart from piscisaureus talk","date":"2012-10-05T16:57:27.206Z","type":"message"}
{"nick":"txdv_","message":"saw that already","date":"2012-10-05T16:57:30.389Z","type":"message"}
{"nick":"txdv_","message":"indutny: maybe you can recommed me one","date":"2012-10-05T16:59:54.635Z","type":"message"}
{"nick":"indutny","message":"I'm not sure","date":"2012-10-05T17:00:02.009Z","type":"message"}
{"nick":"indutny","message":"I wasn't there","date":"2012-10-05T17:00:11.236Z","type":"message"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T17:01:41.860Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 246 seconds","date":"2012-10-05T17:07:41.846Z","type":"quit"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-10-05T17:09:35.776Z","type":"quit"}
{"nick":"EhevuTov","date":"2012-10-05T17:10:04.353Z","type":"join"}
{"nick":"stagas","reason":"Ping timeout: 245 seconds","date":"2012-10-05T17:14:54.301Z","type":"quit"}
{"nick":"paddybyers","date":"2012-10-05T17:15:52.557Z","type":"join"}
{"nick":"indutny","message":"while (b == b->next) {}","date":"2012-10-05T17:16:39.056Z","type":"message"}
{"nick":"indutny","message":"compiles in following thing","date":"2012-10-05T17:16:48.171Z","type":"message"}
{"nick":"indutny","message":"v1 = b","date":"2012-10-05T17:16:51.020Z","type":"message"}
{"nick":"indutny","message":"v2 = b->next","date":"2012-10-05T17:16:53.658Z","type":"message"}
{"nick":"indutny","message":"while (v1 == v2) {}","date":"2012-10-05T17:16:57.440Z","type":"message"}
{"nick":"indutny","message":"very nice!","date":"2012-10-05T17:16:59.046Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-10-05T17:16:59.768Z","type":"message"}
{"nick":"stagas","date":"2012-10-05T17:18:38.986Z","type":"join"}
{"nick":"kazupon","reason":"Remote host closed the connection","date":"2012-10-05T17:22:36.453Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 245 seconds","date":"2012-10-05T17:34:01.047Z","type":"quit"}
{"nick":"paddybyers","date":"2012-10-05T17:37:54.419Z","type":"join"}
{"nick":"txdv_","message":"i'm not too happy with that process spawn api","date":"2012-10-05T17:49:16.871Z","type":"message"}
{"nick":"brson","date":"2012-10-05T17:59:10.768Z","type":"join"}
{"nick":"erickt","date":"2012-10-05T17:59:33.464Z","type":"join"}
{"nick":"txdv_","message":"freaking github","date":"2012-10-05T18:07:15.855Z","type":"message"}
{"nick":"paddybyers","reason":"Read error: Connection reset by peer","date":"2012-10-05T18:10:37.649Z","type":"quit"}
{"nick":"paddybyers_","date":"2012-10-05T18:10:43.439Z","type":"join"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T18:14:39.215Z","type":"quit"}
{"nick":"`3E|DINNER","date":"2012-10-05T18:14:41.482Z","type":"join"}
{"nick":"`3E|DINNER","new_nick":"`3rdEden","date":"2012-10-05T18:15:05.483Z","type":"nick"}
{"nick":"erickt","date":"2012-10-05T18:18:07.473Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2012-10-05T18:21:35.092Z","type":"quit"}
{"nick":"erickt","date":"2012-10-05T18:25:48.935Z","type":"join"}
{"nick":"`3rdEden","reason":"Quit: switching machines","date":"2012-10-05T18:42:12.817Z","type":"quit"}
{"nick":"TooTallNate","message":"is there a way to populate a V8::TryCatch manually? ThrowException doesn't seem to be working","date":"2012-10-05T18:45:08.312Z","type":"message"}
{"nick":"TooTallNate","message":"so i need to call node's FatalException instead, but it only work's with TryCatch","date":"2012-10-05T18:45:33.106Z","type":"message"}
{"nick":"TooTallNate","message":"ircretary: tell piscisaureus_ node-gyp never sets this BUILDING_NODE_EXTENSION define, is it important?","date":"2012-10-05T18:47:37.978Z","type":"message"}
{"nick":"ircretary","message":"TooTallNate: I'll be sure to tell piscisaureus_","date":"2012-10-05T18:47:38.150Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T18:53:10.944Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 240 seconds","date":"2012-10-05T18:58:08.831Z","type":"quit"}
{"nick":"erickt","reason":"Quit: erickt","date":"2012-10-05T18:58:50.370Z","type":"quit"}
{"nick":"paddybyers_","reason":"Ping timeout: 264 seconds","date":"2012-10-05T18:59:19.538Z","type":"quit"}
{"nick":"V1","date":"2012-10-05T19:04:05.338Z","type":"join"}
{"nick":"erickt","date":"2012-10-05T19:22:00.878Z","type":"join"}
{"nick":"kazupon","date":"2012-10-05T19:24:50.755Z","type":"join"}
{"nick":"erickt","reason":"Client Quit","date":"2012-10-05T19:26:03.780Z","type":"quit"}
{"nick":"TooTallNate","message":"grrrr, looks like I need something like: https://gist.github.com/39f29d797c6dd8427ddb","date":"2012-10-05T19:28:26.758Z","type":"message"}
{"nick":"txdv_","message":"compilation works on my system, doesn't on travis","date":"2012-10-05T19:28:44.984Z","type":"message"}
{"nick":"txdv_","message":"so annoying","date":"2012-10-05T19:28:49.117Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2012-10-05T19:30:01.932Z","type":"quit"}
{"nick":"txdv_","message":"how do I compile libuv into a shared library on travis?","date":"2012-10-05T19:30:10.209Z","type":"message"}
{"nick":"txdv_","message":"mission impossibru","date":"2012-10-05T19:30:15.301Z","type":"message"}
{"nick":"V1","new_nick":"`3rdEden","date":"2012-10-05T19:37:43.645Z","type":"nick"}
{"nick":"kazupon","date":"2012-10-05T19:57:06.213Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: what about async handles?","date":"2012-10-05T19:57:39.362Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: well, I proposed writing handle pointer to pipe","date":"2012-10-05T19:57:52.477Z","type":"message"}
{"nick":"indutny","message":"instead of iterating through list of handles on each read","date":"2012-10-05T19:58:01.722Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: that's an option but it'll fail if the pipe is full","date":"2012-10-05T19:58:29.393Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i've been thinking of using a pipe/socketpair per async handle","date":"2012-10-05T19:58:41.208Z","type":"message"}
{"nick":"bnoordhuis","message":"but that could potentially use up a lot of fds","date":"2012-10-05T19:58:54.098Z","type":"message"}
{"nick":"bnoordhuis","message":"on linux, you could use eventfds but that doesn't help other platforms","date":"2012-10-05T19:59:17.595Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: how are you compiling libuv? with gyp or the makefile?","date":"2012-10-05T20:00:04.051Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 248 seconds","date":"2012-10-05T20:03:30.079Z","type":"quit"}
{"nick":"txdv_","message":"apparently the order of the stuff i linked in was important","date":"2012-10-05T20:09:46.605Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-10-05T20:10:52.615Z","type":"quit"}
{"nick":"indutny","message":"heh","date":"2012-10-05T20:16:13.646Z","type":"message"}
{"nick":"indutny","message":"indeed it is","date":"2012-10-05T20:19:00.544Z","type":"message"}
{"nick":"txdv_","message":"on my system it is not","date":"2012-10-05T20:20:19.904Z","type":"message"}
{"nick":"txdv_","message":"on that it is","date":"2012-10-05T20:20:21.586Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: the question is","date":"2012-10-05T20:24:51.890Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: how can one insert new page in a ring from writer","date":"2012-10-05T20:25:06.132Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: if reader is continuing running in it","date":"2012-10-05T20:25:15.129Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-10-05T20:25:16.118Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-10-05T20:25:37.789Z","type":"message"}
{"nick":"indutny","message":"probably that's not really a problem","date":"2012-10-05T20:25:41.850Z","type":"message"}
{"nick":"indutny","message":"oh no","date":"2012-10-05T20:25:52.241Z","type":"message"}
{"nick":"indutny","message":"it is","date":"2012-10-05T20:25:53.250Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: new page == new linked list entry?","date":"2012-10-05T20:26:34.594Z","type":"message"}
{"nick":"txdv_","message":"how is the stream refractoring going bnoordhuis ?","date":"2012-10-05T20:26:35.244Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yes","date":"2012-10-05T20:26:40.054Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: refractoring :)","date":"2012-10-05T20:26:55.543Z","type":"message"}
{"nick":"indutny","message":"it's actually circular buffer","date":"2012-10-05T20:26:59.541Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: atomic update of the next pointer should do it","date":"2012-10-05T20:27:33.886Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: surely it can","date":"2012-10-05T20:27:40.805Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: the reader either sees end-of-list or a new entry","date":"2012-10-05T20:27:44.695Z","type":"message"}
{"nick":"indutny","message":"can not","date":"2012-10-05T20:27:45.216Z","type":"message"}
{"nick":"`3rdEden","date":"2012-10-05T20:27:51.631Z","type":"join"}
{"nick":"indutny","message":"well the thing is that end of the list is when roffset == woffset == sizeof(page)","date":"2012-10-05T20:28:07.214Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: ah, so that's two pointers?","date":"2012-10-05T20:28:19.890Z","type":"message"}
{"nick":"indutny","message":"and whead and rhead are the same","date":"2012-10-05T20:28:20.615Z","type":"message"}
{"nick":"indutny","message":"that's not just pointers","date":"2012-10-05T20:28:25.664Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, two separate variables","date":"2012-10-05T20:28:39.434Z","type":"message"}
{"nick":"indutny","message":"I've circular buffer with two positions rhead and whead","date":"2012-10-05T20:28:43.971Z","type":"message"}
{"nick":"bnoordhuis","message":"that's when you start using mutexes","date":"2012-10-05T20:28:53.035Z","type":"message"}
{"nick":"indutny","message":"each page in a circle contains two offsets roffset and woffset","date":"2012-10-05T20:28:55.462Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: wel, that kills whole idea","date":"2012-10-05T20:29:12.298Z","type":"message"}
{"nick":"indutny","message":"writer writes data in whead and increments woffset","date":"2012-10-05T20:29:29.982Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T20:29:40.134Z","type":"join"}
{"nick":"indutny","message":"when woffset is equal to page size writer move whead to the next page","date":"2012-10-05T20:29:48.590Z","type":"message"}
{"nick":"indutny","message":"or creates new page if next page is not empty","date":"2012-10-05T20:29:54.234Z","type":"message"}
{"nick":"indutny","message":"reader reads data in rhead and increments roffset (roffset should be always < woffset)","date":"2012-10-05T20:30:12.299Z","type":"message"}
{"nick":"indutny","message":"if roffset == sizeof(page) it moves rhead to the next page","date":"2012-10-05T20:30:25.493Z","type":"message"}
{"nick":"indutny","message":"shit happens when both whead and rhead are moving and new page is being created by writer","date":"2012-10-05T20:30:41.067Z","type":"message"}
{"nick":"indutny","message":"rhead stucks right after new whead","date":"2012-10-05T20:31:00.606Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: yeah, logically. locks will make your life a lot easier","date":"2012-10-05T20:31:02.734Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: fine-grained locks?","date":"2012-10-05T20:31:11.636Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: like only one lock in one small situation?","date":"2012-10-05T20:31:23.664Z","type":"message"}
{"nick":"indutny","message":"may be that's not as bad","date":"2012-10-05T20:31:26.707Z","type":"message"}
{"nick":"bnoordhuis","message":"especially because i doubt that locking vs lockless will make any difference in performance here","date":"2012-10-05T20:31:29.927Z","type":"message"}
{"nick":"indutny","message":"so I should insert locks in places where I'm moving head","date":"2012-10-05T20:32:25.943Z","type":"message"}
{"nick":"indutny","message":"this should fix this issue","date":"2012-10-05T20:32:37.008Z","type":"message"}
{"nick":"indutny","message":"I hope","date":"2012-10-05T20:32:37.769Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: may be just spin locks?","date":"2012-10-05T20:32:45.322Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: possibly but why bother? profile first, optimize second","date":"2012-10-05T20:33:23.069Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-10-05T20:33:47.895Z","type":"message"}
{"nick":"indutny","message":"uv_mutex_t ftw","date":"2012-10-05T20:33:51.073Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-10-05T20:35:06.386Z","type":"message"}
{"nick":"indutny","message":"I need to think about it","date":"2012-10-05T20:35:13.689Z","type":"message"}
{"nick":"indutny","message":"looks like solving this with mutexes is not that simple anyway","date":"2012-10-05T20:35:25.160Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2012-10-05T20:35:45.156Z","type":"quit"}
{"nick":"tomshreds","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-10-05T20:36:02.777Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: so I don't really understand pipe problem","date":"2012-10-05T20:37:14.066Z","type":"message"}
{"nick":"indutny","message":"we can just loop until pipe buffer will have enough space","date":"2012-10-05T20:37:24.486Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: busy-looping is always the wrong solution","date":"2012-10-05T20:37:57.260Z","type":"message"}
{"nick":"indutny","message":"ah","date":"2012-10-05T20:38:02.352Z","type":"message"}
{"nick":"indutny","message":"perfectionism","date":"2012-10-05T20:38:05.167Z","type":"message"}
{"nick":"bnoordhuis","message":"well, it may be a while before the pipe gets drained","date":"2012-10-05T20:38:12.493Z","type":"message"}
{"nick":"indutny","message":"how dare I to say that","date":"2012-10-05T20:38:13.848Z","type":"message"}
{"nick":"indutny","message":"yeah, I understand","date":"2012-10-05T20:38:19.465Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-10-05T20:38:24.025Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: i'm partial to the pipe/eventfd-per-async-handle solution","date":"2012-10-05T20:39:13.083Z","type":"message"}
{"nick":"bnoordhuis","message":"if that means people will have to raise their ulimit, so be it","date":"2012-10-05T20:39:30.232Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: yeah, that will work too","date":"2012-10-05T20:39:30.378Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I just think that looping over list of lets say few thousands async handles is not effective enough","date":"2012-10-05T20:39:58.958Z","type":"message"}
{"nick":"indutny","message":"especially when we need to execute only one handle's cb","date":"2012-10-05T20:40:13.156Z","type":"message"}
{"nick":"bnoordhuis","message":"no, it's not great - but it's no worse than what libev did :)","date":"2012-10-05T20:40:16.960Z","type":"message"}
{"nick":"indutny","message":"I believe you","date":"2012-10-05T20:40:27.603Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-10-05T20:40:32.115Z","type":"message"}
{"nick":"bnoordhuis","message":"but i welcome patches","date":"2012-10-05T20:40:36.144Z","type":"message"}
{"nick":"indutny","message":"sure","date":"2012-10-05T20:41:09.227Z","type":"message"}
{"nick":"indutny","message":"I'll do it for you","date":"2012-10-05T20:41:13.266Z","type":"message"}
{"nick":"indutny","message":"once you'll process my previous patch","date":"2012-10-05T20:41:17.582Z","type":"message"}
{"nick":"txdv_","message":"ok","date":"2012-10-05T20:41:46.475Z","type":"message"}
{"nick":"txdv_","message":"this is it","date":"2012-10-05T20:41:47.714Z","type":"message"}
{"nick":"txdv_","message":"how do i build a shared library with gyp?","date":"2012-10-05T20:41:52.572Z","type":"message"}
{"nick":"indutny","message":"hah","date":"2012-10-05T20:43:09.302Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I fixed that problem","date":"2012-10-05T20:43:13.525Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: I was just incrementing one counter ahead of time","date":"2012-10-05T20:43:20.378Z","type":"message"}
{"nick":"indutny","message":"no locks!","date":"2012-10-05T20:43:23.224Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: so I was relying on \"total_\" variable when writing and reading","date":"2012-10-05T20:45:09.733Z","type":"message"}
{"nick":"indutny","message":"that's the only atomic stuff I'm doing here","date":"2012-10-05T20:45:15.849Z","type":"message"}
{"nick":"indutny","message":"and I was incrementing total_ in writer before creating new page","date":"2012-10-05T20:45:24.815Z","type":"message"}
{"nick":"indutny","message":"interesting thing","date":"2012-10-05T20:46:00.195Z","type":"message"}
{"nick":"indutny","message":"https is as good at performance as tlsnappy is","date":"2012-10-05T20:46:14.589Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: 'type': 'shared_library'","date":"2012-10-05T20:46:20.191Z","type":"message"}
{"nick":"indutny","message":"and connect time for tlsnappy is much larger","date":"2012-10-05T20:46:36.050Z","type":"message"}
{"nick":"indutny","message":"on high load","date":"2012-10-05T20:46:38.648Z","type":"message"}
{"nick":"indutny","message":"I wonder what this means","date":"2012-10-05T20:46:46.427Z","type":"message"}
{"nick":"indutny","message":"37ms vs 5ms","date":"2012-10-05T20:47:06.518Z","type":"message"}
{"nick":"indutny","message":"that's minimal connect time","date":"2012-10-05T20:47:11.313Z","type":"message"}
{"nick":"kristate","reason":"Ping timeout: 246 seconds","date":"2012-10-05T20:47:14.171Z","type":"quit"}
{"nick":"indutny","message":"ah","date":"2012-10-05T20:47:18.026Z","type":"message"}
{"nick":"indutny","message":"mean time is much better","date":"2012-10-05T20:47:24.080Z","type":"message"}
{"nick":"indutny","message":"interesting!","date":"2012-10-05T20:47:49.162Z","type":"message"}
{"nick":"txdv_","message":"this is not an option","date":"2012-10-05T20:50:18.189Z","type":"message"}
{"nick":"txdv_","message":"yeah ok i see that you can do that","date":"2012-10-05T20:50:35.177Z","type":"message"}
{"nick":"txdv_","message":"you ccan even pass the type to gyp","date":"2012-10-05T20:50:38.966Z","type":"message"}
{"nick":"txdv_","message":"what i don't understand is how to use it all","date":"2012-10-05T20:50:47.928Z","type":"message"}
{"nick":"txdv_","message":"ok it works","date":"2012-10-05T20:52:09.108Z","type":"message"}
{"nick":"txdv_","message":"i need to somehow specify that type via command line","date":"2012-10-05T20:52:17.601Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: are you using the gyp_uv script?","date":"2012-10-05T20:54:41.265Z","type":"message"}
{"nick":"txdv_","message":"im running ./gyp_uv and nothing happens","date":"2012-10-05T20:55:25.778Z","type":"message"}
{"nick":"txdv_","message":"['-f', 'make', '/home/bentkus/Projects/mono/LibuvSharp/libuv/uv.gyp', '-I', '/home/bentkus/Projects/mono/LibuvSharp/libuv/common.gypi', '--depth=.', '-Goutput_dir=/home/bentkus/Projects/mono/LibuvSharp/libuv/out', '--generator-output', '/home/bentkus/Projects/mono/LibuvSharp/libuv/out', '-Dgcc_version=45', '-Dclang=0', '-Dtarget_arch=ia32', '-Dlibrary=static_library', '-Dcomponent=static_library']\u001b[5~","date":"2012-10-05T20:56:05.814Z","type":"message"}
{"nick":"txdv_","message":"well this is being output","date":"2012-10-05T20:56:11.864Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: let me fix that","date":"2012-10-05T20:56:52.645Z","type":"message"}
{"nick":"hz","reason":"Read error: Connection reset by peer","date":"2012-10-05T20:57:11.254Z","type":"quit"}
{"nick":"txdv_","message":"imossible job","date":"2012-10-05T20:57:21.180Z","type":"message"}
{"nick":"txdv_","message":"to link a simple file on linux","date":"2012-10-05T20:57:25.008Z","type":"message"}
{"nick":"hz","date":"2012-10-05T20:57:39.284Z","type":"join"}
{"nick":"txdv_","message":"works on my computer, doesn't work on travis","date":"2012-10-05T20:57:41.294Z","type":"message"}
{"nick":"txdv_","message":"1 and half hour for nothing","date":"2012-10-05T20:57:51.773Z","type":"message"}
{"nick":"txdv_","message":"ok","date":"2012-10-05T20:59:23.731Z","type":"message"}
{"nick":"txdv_","message":"don't bother bnoordhuis ","date":"2012-10-05T20:59:35.863Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: no?","date":"2012-10-05T20:59:47.334Z","type":"message"}
{"nick":"txdv_","message":"it generated some makefiles in out/","date":"2012-10-05T21:00:30.264Z","type":"message"}
{"nick":"txdv_","message":"so i go in there and type make and it builds it","date":"2012-10-05T21:00:41.278Z","type":"message"}
{"nick":"txdv_","message":"the thing is that i need to somehow specify via the command line to build a shared library","date":"2012-10-05T21:00:50.668Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: it kind of works but not quite","date":"2012-10-05T21:02:10.383Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T21:02:17.527Z","type":"join"}
{"nick":"bnoordhuis","message":"txdv_: i.e. you can run `./gyp_uv -Dlibrary=shared_library -Dcomponent=shared_library`","date":"2012-10-05T21:02:32.831Z","type":"message"}
{"nick":"bnoordhuis","message":"but it needs some additional work in uv.gyp to compile successfully","date":"2012-10-05T21:02:46.713Z","type":"message"}
{"nick":"txdv_","message":"travis gave me a headache","date":"2012-10-05T21:03:42.670Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-10-05T21:03:59.287Z","type":"quit"}
{"nick":"indutny","message":"bnoordhuis: for some reason siege is hanging now","date":"2012-10-05T21:05:18.730Z","type":"message"}
{"nick":"indutny","message":"on tlsnappy :)","date":"2012-10-05T21:05:22.390Z","type":"message"}
{"nick":"indutny","message":"so I can't benchmark with it anymore","date":"2012-10-05T21:05:28.608Z","type":"message"}
{"nick":"indutny","message":"also it's segfaulting if I'm trying to terminate it","date":"2012-10-05T21:05:38.319Z","type":"message"}
{"nick":"indutny","message":"it seems that it's waiting for some thread to join","date":"2012-10-05T21:06:02.567Z","type":"message"}
{"nick":"indutny","message":"but that isn't happening","date":"2012-10-05T21:06:05.671Z","type":"message"}
{"nick":"indutny","message":"\"not my fault\"","date":"2012-10-05T21:06:14.921Z","type":"message"}
{"nick":"indutny","message":"ok, trying latest siege","date":"2012-10-05T21:06:55.114Z","type":"message"}
{"nick":"indutny","message":"wow","date":"2012-10-05T21:07:29.663Z","type":"message"}
{"nick":"indutny","message":"major improvement","date":"2012-10-05T21:07:32.854Z","type":"message"}
{"nick":"indutny","message":"3600 vs 3800 req/sec","date":"2012-10-05T21:07:36.653Z","type":"message"}
{"nick":"indutny","message":"lockless stuff works","date":"2012-10-05T21:07:42.148Z","type":"message"}
{"nick":"txdv_","message":"hooray","date":"2012-10-05T21:08:02.832Z","type":"message"}
{"nick":"indutny","message":"yeah","date":"2012-10-05T21:08:48.878Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 264 seconds","date":"2012-10-05T21:08:55.470Z","type":"quit"}
{"nick":"indutny","message":"but may be it's just siege became faster","date":"2012-10-05T21:08:56.229Z","type":"message"}
{"nick":"indutny","message":"running whole benchmarking suite again","date":"2012-10-05T21:09:02.564Z","type":"message"}
{"nick":"tjfontaine","message":"not sure you can say lockless stuff works if one bench engine is hanging while trying to run :)","date":"2012-10-05T21:09:22.641Z","type":"message"}
{"nick":"indutny","action":"is crossing fingers","date":"2012-10-05T21:09:24.064Z","type":"action"}
{"nick":"indutny","message":"tjfontaine: it was hanging even without it","date":"2012-10-05T21:09:35.242Z","type":"message"}
{"nick":"indutny","message":"tjfontaine: it has started hanging some time ago","date":"2012-10-05T21:09:41.798Z","type":"message"}
{"nick":"indutny","message":"and it's not really my fault","date":"2012-10-05T21:09:50.806Z","type":"message"}
{"nick":"indutny","message":"since siege is just doing pthread_join","date":"2012-10-05T21:10:00.111Z","type":"message"}
{"nick":"indutny","message":"on thread that's waiting on a semaphore","date":"2012-10-05T21:10:06.475Z","type":"message"}
{"nick":"indutny","message":"definitely a bug","date":"2012-10-05T21:10:13.365Z","type":"message"}
{"nick":"tjfontaine","message":"I'm just harassing you","date":"2012-10-05T21:10:46.417Z","type":"message"}
{"nick":"AvianFlu","reason":"Remote host closed the connection","date":"2012-10-05T21:11:16.166Z","type":"quit"}
{"nick":"indutny","message":"ooh","date":"2012-10-05T21:11:42.342Z","type":"message"}
{"nick":"indutny","message":"nginx is much faster with newer siege","date":"2012-10-05T21:11:48.755Z","type":"message"}
{"nick":"indutny","message":"5300 req/sec","date":"2012-10-05T21:11:50.421Z","type":"message"}
{"nick":"indutny","message":"that's what I was afraid of :)","date":"2012-10-05T21:11:58.135Z","type":"message"}
{"nick":"indutny","message":"ok, lets wait for final results","date":"2012-10-05T21:12:05.190Z","type":"message"}
{"nick":"`3rdEden","reason":"Remote host closed the connection","date":"2012-10-05T21:14:09.561Z","type":"quit"}
{"nick":"txdv_","message":"lol","date":"2012-10-05T21:15:00.743Z","type":"message"}
{"nick":"txdv_","message":"my app became faster! O no with the new siege nginx became faster too","date":"2012-10-05T21:15:13.683Z","type":"message"}
{"nick":"indutny","message":"indeed","date":"2012-10-05T21:15:46.694Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: you know why I need lockless structure here?","date":"2012-10-05T21:15:59.757Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: because I'm doing BIO_read and SSL_read at the same time from different threads","date":"2012-10-05T21:16:22.574Z","type":"message"}
{"nick":"indutny","message":"w/o locks","date":"2012-10-05T21:16:33.297Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: still I don't understand why 16 threaded process works worse than 16 processes","date":"2012-10-05T21:19:24.775Z","type":"message"}
{"nick":"indutny","message":":)","date":"2012-10-05T21:19:27.564Z","type":"message"}
{"nick":"EhevuTov","date":"2012-10-05T21:20:06.093Z","type":"join"}
{"nick":"bnoordhuis","message":"indutny: what's the thread scheduling policy on your machine?","date":"2012-10-05T21:20:11.674Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: how to check it?","date":"2012-10-05T21:20:18.665Z","type":"message"}
{"nick":"indutny","message":"(I'm on ubuntu)","date":"2012-10-05T21:20:27.467Z","type":"message"}
{"nick":"indutny","message":"I've one theory, but I don't really like it","date":"2012-10-05T21:21:22.600Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: oh, no worries then - it's always PTHREAD_SCOPE_SYSTEM","date":"2012-10-05T21:21:23.363Z","type":"message"}
{"nick":"indutny","message":"event loop is interrupting too much","date":"2012-10-05T21:21:39.642Z","type":"message"}
{"nick":"indutny","message":"and becomes busy","date":"2012-10-05T21:21:43.565Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: profile! :)","date":"2012-10-05T21:22:05.680Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: you think it is that easy?! :)","date":"2012-10-05T21:22:16.782Z","type":"message"}
{"nick":"indutny","message":"fixing multithreaded lock-less circular buffer structure is much easier than getting good profile","date":"2012-10-05T21:22:49.870Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: have you tried running it?","date":"2012-10-05T21:22:59.562Z","type":"message"}
{"nick":"rendar","date":"2012-10-05T21:23:16.991Z","type":"quit"}
{"nick":"bnoordhuis","message":"it's true that meaningful profiling is something of a black art","date":"2012-10-05T21:23:17.136Z","type":"message"}
{"nick":"bnoordhuis","message":"or maybe not black but arcane","date":"2012-10-05T21:23:29.017Z","type":"message"}
{"nick":"indutny","message":"sentinels of light and dark","date":"2012-10-05T21:23:57.641Z","type":"message"}
{"nick":"indutny","message":"came together to create good benchmarking and profiling utility","date":"2012-10-05T21:24:07.417Z","type":"message"}
{"nick":"indutny","message":"but only developers were born in that process","date":"2012-10-05T21:24:20.322Z","type":"message"}
{"nick":"indutny","message":"and sentinels said:","date":"2012-10-05T21:24:28.226Z","type":"message"}
{"nick":"indutny","message":"\"ok, fuck it! we can let them figure out this crap themselves\"","date":"2012-10-05T21:24:44.617Z","type":"message"}
{"nick":"indutny","message":"period","date":"2012-10-05T21:24:52.142Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: am I good at writing?","date":"2012-10-05T21:25:07.733Z","type":"message"}
{"nick":"bnoordhuis","message":"indutny: it's very profound","date":"2012-10-05T21:25:27.279Z","type":"message"}
{"nick":"txdv_","message":"so no autotools?","date":"2012-10-05T21:28:26.337Z","type":"message"}
{"nick":"ryah","message":"only fools profile","date":"2012-10-05T21:29:12.195Z","type":"message"}
{"nick":"ryah","message":"oh wait.. or was it \"only fools don't profile\"?","date":"2012-10-05T21:29:26.434Z","type":"message"}
{"nick":"ryah","message":"hm","date":"2012-10-05T21:29:27.900Z","type":"message"}
{"nick":"txdv_","message":"fools profile","date":"2012-10-05T21:29:43.025Z","type":"message"}
{"nick":"indutny","message":"quantum profiling","date":"2012-10-05T21:29:45.918Z","type":"message"}
{"nick":"indutny","message":"it's either foolish or not","date":"2012-10-05T21:29:53.981Z","type":"message"}
{"nick":"indutny","message":"until you do it","date":"2012-10-05T21:30:01.428Z","type":"message"}
{"nick":"txdv_","message":"real men write perfect code the first time","date":"2012-10-05T21:30:02.450Z","type":"message"}
{"nick":"ryah","message":"you know how there is this whole chuck norris meme?","date":"2012-10-05T21:30:55.650Z","type":"message"}
{"nick":"txdv_","message":"who doesn't","date":"2012-10-05T21:31:08.493Z","type":"message"}
{"nick":"ryah","message":"we should start a similiar meme about DJB","date":"2012-10-05T21:31:18.936Z","type":"message"}
{"nick":"txdv_","message":"djb?","date":"2012-10-05T21:31:25.228Z","type":"message"}
{"nick":"ryah","message":"but with programming instead of beating up people","date":"2012-10-05T21:31:26.652Z","type":"message"}
{"nick":"ryah","message":"txdv_: http://en.wikipedia.org/wiki/Daniel_J._Bernstein","date":"2012-10-05T21:31:47.607Z","type":"message"}
{"nick":"txdv_","message":"german surname","date":"2012-10-05T21:31:59.056Z","type":"message"}
{"nick":"indutny","message":"oh","date":"2012-10-05T21:32:44.749Z","type":"message"}
{"nick":"indutny","message":"siege has hanged once again","date":"2012-10-05T21:32:49.364Z","type":"message"}
{"nick":"ryah","message":"Bernstein has recently[when?] explained that he is pursuing a strategy to \"produce invulnerable computer systems\".","date":"2012-10-05T21:32:52.528Z","type":"message"}
{"nick":"ryah","message":"He concludes: \"I wonâ€™t be satisfied until I've put the entire security industry out of work.\"[","date":"2012-10-05T21:33:03.606Z","type":"message"}
{"nick":"brson","reason":"Quit: leaving","date":"2012-10-05T21:33:48.903Z","type":"quit"}
{"nick":"ryah","message":"hmm","date":"2012-10-05T21:34:51.631Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T21:34:53.691Z","type":"join"}
{"nick":"indutny","message":"have you seen Mithgol on github","date":"2012-10-05T21:35:43.051Z","type":"message"}
{"nick":"indutny","message":"he's pretty active at commenting windows cmd issues","date":"2012-10-05T21:35:53.467Z","type":"message"}
{"nick":"txdv_","message":"some people specialize in compiler techniques","date":"2012-10-05T21:36:30.045Z","type":"message"}
{"nick":"indutny","message":"so this guy has invented Hypertext Vector Fidonet","date":"2012-10-05T21:36:33.615Z","type":"message"}
{"nick":"txdv_","message":"some people specialize in data encryption","date":"2012-10-05T21:36:44.432Z","type":"message"}
{"nick":"txdv_","message":"but some people love to troll about cmd line issues","date":"2012-10-05T21:36:57.099Z","type":"message"}
{"nick":"ryah","message":"mithgol sounds familiar","date":"2012-10-05T21:37:09.672Z","type":"message"}
{"nick":"indutny","message":"he's not trolling","date":"2012-10-05T21:37:09.984Z","type":"message"}
{"nick":"ryah","message":"great avatar","date":"2012-10-05T21:37:30.679Z","type":"message"}
{"nick":"indutny","message":"http://www.google.ru/imgres?hl=en&newwindow=1&sa=X&biw=1440&bih=751&tbm=isch&prmd=imvns&tbnid=HQQ-l-SD1jkQKM:&imgrefurl=http://lurkmore.to/%25D0%259C%25D0%25B8%25D1%2586%25D0%25B3%25D0%25BE%25D0%25BB&docid=Qg4gjT3MSB8WUM&imgurl=http://lurkmore.so/images/thumb/f/fb/Mithgol_the_Webmaster_31Mar2007.jpg/180px-Mithgol_the_Webmaster_31Mar2007.jpg&w=180&h=196&ei=1VJvUPL-Cs334QTzyoDABw&zoom=1&iact=hc&vpx=","date":"2012-10-05T21:37:46.732Z","type":"message"}
{"nick":"indutny","message":"517&vpy=165&dur=3664&hovh=156&hovw=144&tx=97&ty=63&sig=117084939212369259451&page=1&tbnh=128&tbnw=126&start=0&ndsp=33&ved=1t:429,r:2,s:0,i:76","date":"2012-10-05T21:37:46.876Z","type":"message"}
{"nick":"indutny","message":"oops","date":"2012-10-05T21:37:50.210Z","type":"message"}
{"nick":"indutny","message":"http://lurkmore.to/%D0%9C%D0%B8%D1%86%D0%B3%D0%BE%D0%BB","date":"2012-10-05T21:37:59.522Z","type":"message"}
{"nick":"indutny","message":"that should be better %","date":"2012-10-05T21:38:04.512Z","type":"message"}
{"nick":"sgallagh_afk","date":"2012-10-05T21:38:49.242Z","type":"join"}
{"nick":"sgallagh_afk","message":"bnoordhuis: Hi, just wanted to ask a couple questions about what you meant when you said you were ripping out libev.","date":"2012-10-05T21:39:19.995Z","type":"message"}
{"nick":"sgallagh_afk","new_nick":"sgallagh","date":"2012-10-05T21:39:23.732Z","type":"nick"}
{"nick":"bnoordhuis","message":"sgallagh: hey","date":"2012-10-05T21:39:56.099Z","type":"message"}
{"nick":"sgallagh","message":"And I also thought I might suggest switching to libverto if the opportunity is there","date":"2012-10-05T21:39:57.507Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: i'm removing libev as a dependency of uv-unix","date":"2012-10-05T21:40:20.779Z","type":"message"}
{"nick":"sgallagh","message":"(Which is basically a common interface supporting libev, libtevent, libloop, etc.)","date":"2012-10-05T21:40:35.950Z","type":"message"}
{"nick":"sgallagh","message":"Removing it from being needed at all, or replacing it?","date":"2012-10-05T21:40:57.469Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: the former","date":"2012-10-05T21:41:06.370Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2012-10-05T21:41:08.157Z","type":"quit"}
{"nick":"bnoordhuis","message":"it's only used now to drive the inner event loop, libuv takes care of everything else","date":"2012-10-05T21:41:17.870Z","type":"message"}
{"nick":"sgallagh","message":"Oh, interesting. So there's no need for an async event loop now?","date":"2012-10-05T21:41:20.146Z","type":"message"}
{"nick":"ryah","message":"bnoordhuis: first libev then libc, right?","date":"2012-10-05T21:41:23.510Z","type":"message"}
{"nick":"bnoordhuis","message":"ryah: yes :)","date":"2012-10-05T21:41:28.948Z","type":"message"}
{"nick":"sgallagh","message":"heh","date":"2012-10-05T21:41:29.670Z","type":"message"}
{"nick":"ryah","message":"good :)","date":"2012-10-05T21:41:31.742Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Well, I'll admit that makes my life as a packager somewhat easier :)","date":"2012-10-05T21:41:57.055Z","type":"message"}
{"nick":"txdv_","message":"libuvOS please","date":"2012-10-05T21:42:21.068Z","type":"message"}
{"nick":"ryah","message":"oh god did the libuv package dynamically link to libev? sigh","date":"2012-10-05T21:42:22.338Z","type":"message"}
{"nick":"sgallagh","message":"ryah: No, it statically linked it","date":"2012-10-05T21:42:35.011Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: i like making other people's lifes easier provided it doesn't make my life harder","date":"2012-10-05T21:42:37.739Z","type":"message"}
{"nick":"bnoordhuis","message":"err, lives","date":"2012-10-05T21:43:05.952Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Well, I recently got handed the live grenade that is \"make Node.JS packagable in Fedora\" and Step One was \"break libuv's static link to libev\".","date":"2012-10-05T21:43:37.519Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: your life already got a little easier. as of this week we no longer use libeio","date":"2012-10-05T21:44:05.048Z","type":"message"}
{"nick":"indutny","message":"1Ñ‰Ð»","date":"2012-10-05T21:44:07.820Z","type":"message"}
{"nick":"indutny","message":"ok","date":"2012-10-05T21:44:08.520Z","type":"message"}
{"nick":"indutny","message":"time to sleep","date":"2012-10-05T21:44:10.124Z","type":"message"}
{"nick":"indutny","message":"ttyl","date":"2012-10-05T21:44:10.959Z","type":"message"}
{"nick":"bnoordhuis","message":"sleep tight, fedor","date":"2012-10-05T21:44:14.663Z","type":"message"}
{"nick":"txdv_","message":"so bnoordhuis decided that the right step 1 is to rip libev out","date":"2012-10-05T21:44:20.274Z","type":"message"}
{"nick":"TheJH","reason":"Ping timeout: 260 seconds","date":"2012-10-05T21:44:28.153Z","type":"quit"}
{"nick":"`3rdEden","date":"2012-10-05T21:44:30.516Z","type":"join"}
{"nick":"sgallagh","message":"txdv_: Works for me :)","date":"2012-10-05T21:44:45.872Z","type":"message"}
{"nick":"indutny","message":"bnoordhuis: uv_wait uv_wait","date":"2012-10-05T21:44:58.450Z","type":"message"}
{"nick":"indutny","message":"please","date":"2012-10-05T21:45:00.388Z","type":"message"}
{"nick":"ryah","action":"holds his desparaging comments about linux distributions and how they've killed unix","date":"2012-10-05T21:45:06.891Z","type":"action"}
{"nick":"bnoordhuis","message":"indutny: hah okay, i'll try to review it tonight","date":"2012-10-05T21:45:14.335Z","type":"message"}
{"nick":"indutny","message":"thanks","date":"2012-10-05T21:45:18.372Z","type":"message"}
{"nick":"sgallagh","message":"ryah: Stagnation killed unix.","date":"2012-10-05T21:45:23.943Z","type":"message"}
{"nick":"indutny","action":"signs off","date":"2012-10-05T21:45:25.276Z","type":"action"}
{"nick":"ryah","message":"no","date":"2012-10-05T21:45:29.521Z","type":"message"}
{"nick":"txdv_","message":"i'm on linux","date":"2012-10-05T21:45:34.714Z","type":"message"}
{"nick":"txdv_","message":"it is alive","date":"2012-10-05T21:45:35.827Z","type":"message"}
{"nick":"ryah","message":"the opposite","date":"2012-10-05T21:45:37.728Z","type":"message"}
{"nick":"bnoordhuis","action":"retreats to vim","date":"2012-10-05T21:45:51.117Z","type":"action"}
{"nick":"sgallagh","message":"Full disclosure: I'm a Red Hat employee. So you may assume biased answers and we can skip the debate :)","date":"2012-10-05T21:46:19.707Z","type":"message"}
{"nick":"txdv_","message":"unix is dead says the dude who has a macbook","date":"2012-10-05T21:46:24.916Z","type":"message"}
{"nick":"sgallagh","reason":"Read error: Connection reset by peer","date":"2012-10-05T21:48:08.079Z","type":"quit"}
{"nick":"ryah","message":"i DoSed him","date":"2012-10-05T21:48:36.497Z","type":"message"}
{"nick":"sgallagh","date":"2012-10-05T21:48:40.952Z","type":"join"}
{"nick":"ryah","message":"(jk hehe)","date":"2012-10-05T21:48:47.327Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: is there a timeline on packaging/inclusion of node.js?","date":"2012-10-05T21:49:09.780Z","type":"message"}
{"nick":"bnoordhuis","message":"i ask because we've discussed distributing rpms","date":"2012-10-05T21:49:40.096Z","type":"message"}
{"nick":"`3rdEden","reason":"Ping timeout: 260 seconds","date":"2012-10-05T21:53:05.962Z","type":"quit"}
{"nick":"sgallagh","message":"bnoordhuis: As soon as we can get it into shape.","date":"2012-10-05T21:55:39.343Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Basically, it's become more and more apparent that if we aren't shipping node.js in Fedora, we're ceasing to be relevant","date":"2012-10-05T21:55:57.713Z","type":"message"}
{"nick":"sgallagh","message":"Fedora is predominately a developer community, and developers want node.js","date":"2012-10-05T21:56:20.390Z","type":"message"}
{"nick":"bnoordhuis","message":"music to my ears","date":"2012-10-05T21:56:24.205Z","type":"message"}
{"nick":"bnoordhuis","message":"so what can we do to help? i don't really want to float autotools patches for libev and libeio","date":"2012-10-05T21:56:53.067Z","type":"message"}
{"nick":"sgallagh","message":"ryah: My wireless bounced, so I have no idea what you were saying \"(jk hehe)\" too. Maybe best that way ;-)","date":"2012-10-05T21:57:10.872Z","type":"message"}
{"nick":"bnoordhuis","message":"i mean, they'd only be relevant for the 0.8 branch","date":"2012-10-05T21:57:12.366Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Well, from Fedora's perspective, since libuv has a separate upstream repository, it's generally considered to be a separate, packageable project.","date":"2012-10-05T21:57:55.587Z","type":"message"}
{"nick":"sgallagh","message":"So the package reviewers are telling me it needs to be a shared library and not built statically in node.js","date":"2012-10-05T21:58:13.064Z","type":"message"}
{"nick":"sgallagh","message":"Although I think with the removal of libeio and libev, I may be able to get them to waive that rule if it's the only bundled piece","date":"2012-10-05T21:58:38.460Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: I've only just started looking into this today, so right now I'm mostly going from the records of my predecessors who ran out of time or motivation to take this on","date":"2012-10-05T21:59:13.413Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: okay, but that only applies to master. the v0.8 branch will keep shipping libev/eio until its EOL","date":"2012-10-05T21:59:31.820Z","type":"message"}
{"nick":"bnoordhuis","message":"which is getting nearer but that aside","date":"2012-10-05T21:59:53.734Z","type":"message"}
{"nick":"sgallagh","message":"I'm willing to start from master and worry about 0.8 later if it's necessary.","date":"2012-10-05T22:00:09.469Z","type":"message"}
{"nick":"sgallagh","message":"I'd rather Fedora be seen as the place with the latest and greatest, ideally :)","date":"2012-10-05T22:00:23.565Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, good :)","date":"2012-10-05T22:00:27.779Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Are there plans to make libuv a shared lib, or will node.js 0.9 still be statically linking it?","date":"2012-10-05T22:01:23.310Z","type":"message"}
{"nick":"erickt","date":"2012-10-05T22:01:23.885Z","type":"join"}
{"nick":"bnoordhuis","message":"sgallagh: i can add build infrastructure to make libuv a .so","date":"2012-10-05T22:01:51.537Z","type":"message"}
{"nick":"bnoordhuis","message":"but upstream will always be shipping it in-tree and as a static dep","date":"2012-10-05T22:02:06.071Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Understood, but I can absorb the work there of patching their build to consume the shared lib.","date":"2012-10-05T22:02:34.290Z","type":"message"}
{"nick":"sgallagh","message":"Patching in Fedora, not upstream","date":"2012-10-05T22:03:02.571Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: right","date":"2012-10-05T22:03:08.209Z","type":"message"}
{"nick":"sgallagh","message":"(Assuming they won't accept a patch to conditionalize it, of course)","date":"2012-10-05T22:03:14.180Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: they == upstream node.js? because that's us :)","date":"2012-10-05T22:03:28.197Z","type":"message"}
{"nick":"sgallagh","message":"Sorry, wasn't sure how much overlap there was in here","date":"2012-10-05T22:03:46.993Z","type":"message"}
{"nick":"sgallagh","message":"That was actually going to be my next question","date":"2012-10-05T22:03:55.897Z","type":"message"}
{"nick":"txdv_","message":"add the sared infra","date":"2012-10-05T22:04:44.196Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: i can land some patches in libuv and node to a) build libuv as a .so, and b) make node link to that","date":"2012-10-05T22:04:56.491Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: the other deps (v8, openssl, zlib, c-ares) already have support for that so why not libuv?","date":"2012-10-05T22:05:14.988Z","type":"message"}
{"nick":"sgallagh","message":"You're jumping ahead in my script. I was just about to ask about those four :-D","date":"2012-10-05T22:05:31.198Z","type":"message"}
{"nick":"sgallagh","message":"I still wanted to ask if you know the status of npm and http_parser bundling","date":"2012-10-05T22:06:03.922Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: you should ask isaacs about npm","date":"2012-10-05T22:06:23.245Z","type":"message"}
{"nick":"sgallagh","message":"My notes here say \"npm can be removed and use an external tarball\", so that's probably already solved","date":"2012-10-05T22:06:24.327Z","type":"message"}
{"nick":"bnoordhuis","message":"but yes, it should be easy to ship it as a separate package","date":"2012-10-05T22:06:47.031Z","type":"message"}
{"nick":"sgallagh","message":"http_parser already has a Fedora package, but I don't know if the bundled version has any node-specific changes.","date":"2012-10-05T22:06:51.137Z","type":"message"}
{"nick":"txdv_","message":"http-parser available as a shared lib?","date":"2012-10-05T22:07:19.859Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: the version that node bundles is pristine but it may be a lot newer","date":"2012-10-05T22:07:23.416Z","type":"message"}
{"nick":"sgallagh","message":"Yes","date":"2012-10-05T22:07:24.137Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T22:07:33.527Z","type":"join"}
{"nick":"bnoordhuis","message":"txdv_: yeah, you can build it as a .so","date":"2012-10-05T22:07:33.677Z","type":"message"}
{"nick":"txdv_","message":"how freaking freaking is that","date":"2012-10-05T22:07:34.591Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Fedora traditionally carries the latest of all packages","date":"2012-10-05T22:07:43.652Z","type":"message"}
{"nick":"txdv_","message":"it has no deps whatsoever, ofc you can build it as an so","date":"2012-10-05T22:07:49.165Z","type":"message"}
{"nick":"sgallagh","message":"So no one will complain if I upgrade it","date":"2012-10-05T22:07:51.290Z","type":"message"}
{"nick":"bnoordhuis","message":"okay, cool","date":"2012-10-05T22:08:02.508Z","type":"message"}
{"nick":"txdv_","message":"but it is so small i thought everybody would link it statically in","date":"2012-10-05T22:08:24.706Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: and so it was until a few months ago","date":"2012-10-05T22:08:37.882Z","type":"message"}
{"nick":"sgallagh","message":"txdv_: It's not a matter of size, it's supportability","date":"2012-10-05T22:08:42.001Z","type":"message"}
{"nick":"sgallagh","message":"If http_parser has a security vulnerability, it's a lot easier to patch just the .so than every package statically linking it","date":"2012-10-05T22:08:59.376Z","type":"message"}
{"nick":"txdv_","message":"i guess ill have to resurect my c# wrapper of it","date":"2012-10-05T22:09:20.871Z","type":"message"}
{"nick":"txdv_","message":"because no available so's are an issue ","date":"2012-10-05T22:09:54.634Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: the dynamic version is a lot slower on i386 though","date":"2012-10-05T22:10:16.406Z","type":"message"}
{"nick":"txdv_","message":"pfff","date":"2012-10-05T22:10:36.879Z","type":"message"}
{"nick":"txdv_","message":"does it have to be i386?","date":"2012-10-05T22:10:41.738Z","type":"message"}
{"nick":"joshthecoder","date":"2012-10-05T22:10:45.086Z","type":"join"}
{"nick":"sgallagh","message":"bnoordhuis: Ok, so if node can be made to conditionally link against the http_parser shared lib, I think we've covered all the hurdles I'm aware of.","date":"2012-10-05T22:10:49.514Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: i386 or i*86, just out of curiousity?","date":"2012-10-05T22:11:17.892Z","type":"message"}
{"nick":"txdv_","message":"someone is wrong on the internet","date":"2012-10-05T22:11:37.300Z","type":"message"}
{"nick":"txdv_","message":"or might be wrong","date":"2012-10-05T22:11:40.858Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: mostly i386. http_parser is quite branch heavy, which hurts on i386 but x86_64 uses rip-relative addressing","date":"2012-10-05T22:11:56.292Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Sorry, I meant i386 vs i686","date":"2012-10-05T22:12:10.521Z","type":"message"}
{"nick":"sgallagh","message":"But I think you've answered my question","date":"2012-10-05T22:12:27.804Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: i benchmarked a ~10% drop in performance with the pic i386/i686 version iirc","date":"2012-10-05T22:13:28.836Z","type":"message"}
{"nick":"sgallagh","message":"oof, good to know","date":"2012-10-05T22:13:40.692Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 255 seconds","date":"2012-10-05T22:13:48.379Z","type":"quit"}
{"nick":"bnoordhuis","message":"the x86_64 version was hardly affected though","date":"2012-10-05T22:13:56.305Z","type":"message"}
{"nick":"sgallagh","message":"bnoordhuis: Ok, I have to run for today. But I think if we can overcome these hurdles, we should be able to get this into Fedora 18.","date":"2012-10-05T22:15:01.558Z","type":"message"}
{"nick":"sgallagh","message":"Thank you very much for answering my questions","date":"2012-10-05T22:15:18.102Z","type":"message"}
{"nick":"bnoordhuis","message":"sgallagh: my pleasure. send in patches :)","date":"2012-10-05T22:15:33.235Z","type":"message"}
{"nick":"EhevuTov","reason":"Quit: This computer has gone to sleep","date":"2012-10-05T22:16:09.725Z","type":"quit"}
{"nick":"sgallagh","message":"bnoordhuis: I'll take a look at the node.js code and see if I can link the http_parser similar to c-ares","date":"2012-10-05T22:16:22.150Z","type":"message"}
{"nick":"sgallagh","message":"You will be hearing from me soon :)","date":"2012-10-05T22:16:33.539Z","type":"message"}
{"nick":"sgallagh","reason":"Remote host closed the connection","date":"2012-10-05T22:16:54.278Z","type":"quit"}
{"nick":"txdv_","message":"i fucking hate travis","date":"2012-10-05T22:18:10.698Z","type":"message"}
{"nick":"erickt","reason":"Ping timeout: 240 seconds","date":"2012-10-05T22:21:15.918Z","type":"quit"}
{"nick":"paddybyers","date":"2012-10-05T22:29:08.929Z","type":"join"}
{"nick":"txdv_","message":"write2 and read2 - we have to use these both if IPC = 1?","date":"2012-10-05T22:32:40.669Z","type":"message"}
{"nick":"txdv_","message":"or can i use write and read as well?","date":"2012-10-05T22:32:45.132Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: you can use both","date":"2012-10-05T22:33:46.094Z","type":"message"}
{"nick":"bnoordhuis","message":"unless you want to send over handles, of course","date":"2012-10-05T22:33:56.356Z","type":"message"}
{"nick":"bnoordhuis","message":"s/both/all four/","date":"2012-10-05T22:34:24.952Z","type":"message"}
{"nick":"txdv_","message":"if i just send data and i have read2, the callback will receive UV_UKNOWN as the handletype?","date":"2012-10-05T22:35:15.573Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: yes","date":"2012-10-05T22:35:59.069Z","type":"message"}
{"nick":"txdv_","message":"so I can create a seperate class for ipc pipes","date":"2012-10-05T22:37:34.583Z","type":"message"}
{"nick":"txdv_","message":"if i do write2 with stream = NULL and data != null, will it send the data?","date":"2012-10-05T22:37:57.691Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T22:40:06.820Z","type":"join"}
{"nick":"joshthecoder","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-10-05T22:40:46.184Z","type":"quit"}
{"nick":"txdv_","message":"why not just create uv_write_stream which just takes a handle and no data","date":"2012-10-05T22:42:19.433Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2012-10-05T22:46:40.216Z","type":"quit"}
{"nick":"paddybyers","reason":"Ping timeout: 260 seconds","date":"2012-10-05T22:53:45.909Z","type":"quit"}
{"nick":"txdv_","message":"i copied it now","date":"2012-10-05T23:09:02.640Z","type":"message"}
{"nick":"EhevuTov","date":"2012-10-05T23:09:08.974Z","type":"join"}
{"nick":"txdv_","message":"if it wouldn't exist, cp would fail","date":"2012-10-05T23:09:09.519Z","type":"message"}
{"nick":"txdv_","message":"but it didn't","date":"2012-10-05T23:09:11.631Z","type":"message"}
{"nick":"txdv_","message":"it still can't find it","date":"2012-10-05T23:09:15.752Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: because on unices you always need to send at least one byte of data","date":"2012-10-05T23:09:19.672Z","type":"message"}
{"nick":"txdv_","message":"last 3 lines wrong chan","date":"2012-10-05T23:09:34.548Z","type":"message"}
{"nick":"txdv_","message":"bnoordhuis: that sucks","date":"2012-10-05T23:09:59.948Z","type":"message"}
{"nick":"bnoordhuis","message":"lots of things do","date":"2012-10-05T23:10:10.621Z","type":"message"}
{"nick":"kazupon","date":"2012-10-05T23:13:02.645Z","type":"join"}
{"nick":"txdv_","message":"so you made a write2 instead of send_handle because you would need to do a a write with at least 1 byte afterwards>?","date":"2012-10-05T23:15:07.306Z","type":"message"}
{"nick":"perezd","reason":"Quit: perezd","date":"2012-10-05T23:17:29.089Z","type":"quit"}
{"nick":"perezd","date":"2012-10-05T23:18:57.583Z","type":"join"}
{"nick":"kazupon","reason":"Ping timeout: 256 seconds","date":"2012-10-05T23:19:20.465Z","type":"quit"}
{"nick":"bnoordhuis","message":"txdv_: yes","date":"2012-10-05T23:19:29.486Z","type":"message"}
{"nick":"txdv_","message":"i hope linux doesnt have this limitation","date":"2012-10-05T23:20:11.811Z","type":"message"}
{"nick":"txdv_","message":"can i do a uv_write2 with data == null and then a uv_write with data != null","date":"2012-10-05T23:21:35.637Z","type":"message"}
{"nick":"stagas","reason":"Ping timeout: 240 seconds","date":"2012-10-05T23:39:08.798Z","type":"quit"}
{"nick":"c4milo","reason":"Remote host closed the connection","date":"2012-10-05T23:43:27.756Z","type":"quit"}
{"nick":"kazupon","date":"2012-10-05T23:45:56.040Z","type":"join"}
{"nick":"bnoordhuis","message":"txdv_: no","date":"2012-10-05T23:48:52.410Z","type":"message"}
{"nick":"bnoordhuis","message":"and yes, linux has the same limitation","date":"2012-10-05T23:49:08.578Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: review? https://github.com/TooTallNate/node/commit/f826b3269d62cd64439d68a145eeeb658973740c","date":"2012-10-05T23:50:49.630Z","type":"message"}
{"nick":"kazupon","reason":"Ping timeout: 246 seconds","date":"2012-10-05T23:52:14.852Z","type":"quit"}
{"nick":"bnoordhuis","message":"TooTallNate: lgtm","date":"2012-10-05T23:53:09.669Z","type":"message"}
{"nick":"txdv_","message":"bnoordhuis: can i use do a uv_write2 with handle != null && data == null and then a uv_write with handle == null && data != null?","date":"2012-10-05T23:53:18.770Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: thanks","date":"2012-10-05T23:53:21.142Z","type":"message"}
{"nick":"txdv_","message":"bnoordhuis: can i use do a uv_write2 with handle != null && data == null and then a uv_write2 with handle == null && data != null?","date":"2012-10-05T23:53:24.849Z","type":"message"}
{"nick":"MI6","message":"\u0002joyent/node:\u0002 \u00033Nathan Rajlich\u000f \u00037v0.8\u000f * \u0002f826b32\u0002 : doc: document the custom \"inspect()\" function behavior  Closes #3361. - http://git.io/LHy6pw","date":"2012-10-05T23:53:44.649Z","type":"message"}
{"nick":"txdv_","message":"two times calling write2","date":"2012-10-05T23:53:47.144Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: no. `man sendmsg` if you want to know why that is :)","date":"2012-10-05T23:53:49.070Z","type":"message"}
{"nick":"bnoordhuis","message":"the tl;dr is if you want to send a handle, you need to send some data along with it","date":"2012-10-05T23:54:30.469Z","type":"message"}
{"nick":"txdv_","message":"in the same write2 call?","date":"2012-10-05T23:54:39.524Z","type":"message"}
{"nick":"txdv_","message":"bnoordhuis: how is the uv_file_t comming along?","date":"2012-10-05T23:56:04.641Z","type":"message"}
{"nick":"bnoordhuis","message":"txdv_: yes, same write2 call","date":"2012-10-05T23:56:30.085Z","type":"message"}
{"nick":"txdv_","message":"bnoordhuis: thanks","date":"2012-10-05T23:58:00.886Z","type":"message"}
