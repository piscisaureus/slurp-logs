{"nick":"mikeal","date":"2012-03-12T00:06:15.609Z","type":"join"}
{"nick":"Aria_","date":"2012-03-12T00:11:11.918Z","type":"join"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-12T00:14:28.137Z","type":"quit"}
{"nick":"Aria","reason":"Ping timeout: 245 seconds","date":"2012-03-12T00:14:39.332Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T00:25:21.684Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-12T00:36:12.371Z","type":"join"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002407ecc6\u000f \u000310\u000f/ doc/api/stdio.markdown \u0002:\u000f docs: console.dir() prints to stdout, not stderr - http://git.io/G7H4QQ","date":"2012-03-12T00:38:29.160Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T00:52:51.222Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#576 (master - 407ecc6 : Ben Noordhuis): The build is still failing.","date":"2012-03-12T00:52:51.424Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/9b672bc...407ecc6","date":"2012-03-12T00:52:51.424Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/843271","date":"2012-03-12T00:52:51.424Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T00:52:51.424Z","type":"part"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-12T01:10:09.591Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-12T01:25:19.248Z","type":"join"}
{"nick":"CIA-99","message":"\u0002libuv:\u000f \u000303okuoku\u000f \u000307master\u000f * r\u0002db413f3\u000f \u000310\u000f/ src/win/winapi.h \u0002:\u000f win: Fix MinGW32 build - http://git.io/VCfBvQ","date":"2012-03-12T01:25:50.193Z","type":"message"}
{"nick":"abraxas","date":"2012-03-12T01:28:44.953Z","type":"join"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u000279cbe1f\u000f \u000310\u000f/ (5 files)\u0002:\u000f deps: upgrade http_parser to 8bec3ea - http://git.io/AG6nDw","date":"2012-03-12T01:28:50.588Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u00024472f7b\u000f \u000310\u000f/ src/node_http_parser.cc \u0002:\u000f http: use HTTP_METHOD_MAP macro - http://git.io/x_0c5Q","date":"2012-03-12T01:28:50.983Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Nao Iizuka\u000f \u000307master\u000f * r\u0002f8ce384\u000f \u000310\u000f/ (doc/api/assert.markdown lib/assert.js)\u0002:\u000f docs: correct the description of assert.ok() - http://git.io/_3IBKQ","date":"2012-03-12T01:28:51.183Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T01:43:16.589Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#577 (master - f8ce384 : Nao Iizuka): The build is still failing.","date":"2012-03-12T01:43:16.792Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/407ecc6...f8ce384","date":"2012-03-12T01:43:16.793Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/843522","date":"2012-03-12T01:43:16.793Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T01:43:16.793Z","type":"part"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T01:45:06.258Z","type":"quit"}
{"nick":"TooTallNate","date":"2012-03-12T01:56:25.214Z","type":"join"}
{"nick":"TooTallNate","reason":"Client Quit","date":"2012-03-12T01:56:34.085Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-12T01:58:18.584Z","type":"join"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-03-12T02:06:55.829Z","type":"quit"}
{"nick":"brson","reason":"Ping timeout: 252 seconds","date":"2012-03-12T02:08:13.699Z","type":"quit"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-12T02:21:43.474Z","type":"quit"}
{"nick":"benvie","date":"2012-03-12T02:59:13.534Z","type":"quit"}
{"nick":"benvie","date":"2012-03-12T03:19:07.394Z","type":"join"}
{"nick":"isaacs","date":"2012-03-12T03:23:46.928Z","type":"join"}
{"nick":"Aria_","new_nick":"Aria","date":"2012-03-12T03:28:27.791Z","type":"nick"}
{"nick":"mikeal","date":"2012-03-12T03:38:03.988Z","type":"join"}
{"nick":"ljackson","reason":"Read error: Operation timed out","date":"2012-03-12T04:11:07.201Z","type":"quit"}
{"nick":"ljackson","date":"2012-03-12T04:11:46.994Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-03-12T04:19:47.922Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T04:21:35.221Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-12T04:29:51.238Z","type":"join"}
{"nick":"Aria","reason":"Remote host closed the connection","date":"2012-03-12T04:45:03.459Z","type":"quit"}
{"nick":"mjr_","message":"mikeal / indutny: I'm really excited about having SPDY in node core.  I could see us switching our external protocol completely over to SPDY once it's proven to work well enough.","date":"2012-03-12T04:48:50.745Z","type":"message"}
{"nick":"mikeal","message":"i want to get it in to the client first","date":"2012-03-12T04:50:29.120Z","type":"message"}
{"nick":"mikeal","message":"because that might require lower level refactoring","date":"2012-03-12T04:50:59.439Z","type":"message"}
{"nick":"mikeal","message":"indutny already proved you can write a server without modification to core","date":"2012-03-12T04:51:21.655Z","type":"message"}
{"nick":"mikeal","message":"but","date":"2012-03-12T04:51:34.044Z","type":"message"}
{"nick":"mikeal","message":"the http working group at the IETF is integrated SPDY features in to HTTP2","date":"2012-03-12T04:52:20.110Z","type":"message"}
{"nick":"mjr_","message":"I'm suspicious about whether any standards body can advance anything useful at this point.","date":"2012-03-12T04:57:05.225Z","type":"message"}
{"nick":"mjr_","message":"But hey, they might.","date":"2012-03-12T04:57:10.534Z","type":"message"}
{"nick":"mikeal","message":"they are currently standardizing it as is","date":"2012-03-12T05:01:16.324Z","type":"message"}
{"nick":"mikeal","message":"which upsets me","date":"2012-03-12T05:01:19.109Z","type":"message"}
{"nick":"mikeal","message":"there needs to be a way use it behind an SSL terminator","date":"2012-03-12T05:01:53.935Z","type":"message"}
{"nick":"mikeal","message":"er, TLS terminator","date":"2012-03-12T05:02:50.584Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T05:20:31.078Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-12T05:24:49.242Z","type":"join"}
{"nick":"dshaw_","date":"2012-03-12T05:29:31.578Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T05:53:59.082Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-12T06:27:02.506Z","type":"join"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T06:39:11.085Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-12T06:55:18.105Z","type":"join"}
{"nick":"mmalecki","date":"2012-03-12T07:25:10.955Z","type":"join"}
{"nick":"mmalecki","reason":"Ping timeout: 244 seconds","date":"2012-03-12T07:29:46.423Z","type":"quit"}
{"nick":"mmalecki","date":"2012-03-12T07:31:44.924Z","type":"join"}
{"nick":"mmalecki","new_nick":"mmalecki[away]","date":"2012-03-12T07:32:09.265Z","type":"nick"}
{"nick":"stephank","reason":"Quit: *Poof!*","date":"2012-03-12T07:58:35.694Z","type":"quit"}
{"nick":"paddybyers","date":"2012-03-12T08:04:41.330Z","type":"join"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-12T08:13:12.807Z","type":"quit"}
{"nick":"dshaw_","reason":"Ping timeout: 264 seconds","date":"2012-03-12T08:14:21.368Z","type":"quit"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T08:24:46.584Z","type":"quit"}
{"nick":"mikeal","date":"2012-03-12T08:35:23.740Z","type":"join"}
{"nick":"dshaw_","date":"2012-03-12T08:38:56.535Z","type":"join"}
{"nick":"paddybyers","date":"2012-03-12T09:46:53.830Z","type":"join"}
{"nick":"paddybyers","reason":"Client Quit","date":"2012-03-12T09:47:57.549Z","type":"quit"}
{"nick":"indutny","message":"mikeal: it should be possible to do that","date":"2012-03-12T10:03:04.093Z","type":"message"}
{"nick":"indutny","message":"mikeal: protocol doesn't prohibits that","date":"2012-03-12T10:03:20.164Z","type":"message"}
{"nick":"indutny","message":"mikeal: and actually you can try using my implementation (with some modification) to get SPDY working over cleartext connection","date":"2012-03-12T10:03:46.111Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-12T10:27:44.329Z","type":"quit"}
{"nick":"abraxas","date":"2012-03-12T10:31:08.126Z","type":"quit"}
{"nick":"mmalecki","date":"2012-03-12T11:11:21.181Z","type":"join"}
{"nick":"mmalecki","reason":"Client Quit","date":"2012-03-12T11:13:39.633Z","type":"quit"}
{"nick":"wankdanker","reason":"Remote host closed the connection","date":"2012-03-12T11:44:37.880Z","type":"quit"}
{"nick":"rendar","date":"2012-03-12T12:30:08.128Z","type":"join"}
{"nick":"mmalecki[away]","new_nick":"mmalecki","date":"2012-03-12T13:07:32.353Z","type":"nick"}
{"nick":"theCole","date":"2012-03-12T13:25:30.283Z","type":"join"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Yoshihiro Kikuchi\u000f \u000307master\u000f * r\u0002c450ac3\u000f \u000310\u000f/ doc/api/buffer.markdown \u0002:\u000f docs: fix using legacy api in the buffer doc - http://git.io/zm1YYQ","date":"2012-03-12T14:05:43.594Z","type":"message"}
{"nick":"theCole","reason":"Read error: Connection reset by peer","date":"2012-03-12T14:16:58.770Z","type":"quit"}
{"nick":"theCole","date":"2012-03-12T14:17:19.673Z","type":"join"}
{"nick":"travis-ci","date":"2012-03-12T14:21:00.008Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#578 (master - c450ac3 : Yoshihiro Kikuchi): The build is still failing.","date":"2012-03-12T14:21:00.208Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/f8ce384...c450ac3","date":"2012-03-12T14:21:00.208Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/846410","date":"2012-03-12T14:21:00.209Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T14:21:00.209Z","type":"part"}
{"nick":"piscisaureus_","date":"2012-03-12T14:24:54.584Z","type":"join"}
{"nick":"theCole","reason":"Read error: Connection reset by peer","date":"2012-03-12T14:27:48.490Z","type":"quit"}
{"nick":"theCole","date":"2012-03-12T14:28:05.268Z","type":"join"}
{"nick":"theCole","reason":"Quit: theCole","date":"2012-03-12T14:36:10.567Z","type":"quit"}
{"nick":"bnoordhuis","date":"2012-03-12T14:57:27.150Z","type":"join"}
{"nick":"mmalecki","reason":"Quit: leaving","date":"2012-03-12T15:06:10.673Z","type":"quit"}
{"nick":"mmalecki","date":"2012-03-12T15:06:19.749Z","type":"join"}
{"nick":"isaacs","date":"2012-03-12T15:10:42.265Z","type":"join"}
{"nick":"AndreasMadsen","date":"2012-03-12T15:12:35.033Z","type":"join"}
{"nick":"bnoordhuis","message":"piscisaureus_: ping","date":"2012-03-12T15:16:06.821Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: \"He just did a patch that makes v8 support surrogate pairs\"","date":"2012-03-12T15:17:34.675Z","type":"message"}
{"nick":"isaacs","message":"!!!!","date":"2012-03-12T15:17:35.887Z","type":"message"}
{"nick":"isaacs","message":"awesome!","date":"2012-03-12T15:17:42.433Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: isaacs: hey","date":"2012-03-12T15:27:23.672Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: ho. nm, i already solved it","date":"2012-03-12T15:27:33.392Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I am talking to him now. Apparently they are also open to speeding it up using my new iteration technique","date":"2012-03-12T15:27:57.747Z","type":"message"}
{"nick":"isaacs","message":"nice","date":"2012-03-12T15:28:05.784Z","type":"message"}
{"nick":"isaacs","message":"faster is better, always.  but the promise of making this behave correctly will make a *lot* of subtle problems disappear.","date":"2012-03-12T15:28:28.007Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: because they don't want to add the new api that I proposed. So we won't have the ability to do our own, fast encoders / decoders for other character encodings","date":"2012-03-12T15:28:50.560Z","type":"message"}
{"nick":"isaacs","message":"this is really great.  thank you very much for pressing on it","date":"2012-03-12T15:28:51.593Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but I feel that utf8 is the most important anyway","date":"2012-03-12T15:29:04.884Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: there are no other character encodings ;P","date":"2012-03-12T15:29:05.389Z","type":"message"}
{"nick":"piscisaureus_","message":"so I am fine with that","date":"2012-03-12T15:29:08.549Z","type":"message"}
{"nick":"isaacs","message":"the fact that node only ever sends utf8 is a feature.","date":"2012-03-12T15:29:18.550Z","type":"message"}
{"nick":"piscisaureus_","message":"well, the fact that it always assumes utf8 is not very nice sometimes","date":"2012-03-12T15:29:44.394Z","type":"message"}
{"nick":"isaacs","message":"i've been on the web since the dark ages.  so far that i've seen, choosing the encoding is only a path to pain.","date":"2012-03-12T15:29:54.183Z","type":"message"}
{"nick":"isaacs","message":"it *would* be nice to be able to *read* alternate encodings.","date":"2012-03-12T15:30:08.406Z","type":"message"}
{"nick":"isaacs","message":"but if you really need to do that, there's bnoordhuis's iconv binding","date":"2012-03-12T15:30:16.474Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: https://github.com/joyent/node/issues/2229, https://github.com/joyent/node/issues/2190, https://github.com/joyent/node/issues/1842","date":"2012-03-12T15:30:48.661Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: there are many more issues reporting similar problems","date":"2012-03-12T15:31:36.659Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yeah, but again, that's all just from reading in different encodings.","date":"2012-03-12T15:32:01.690Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: but - if we ever fix this - I don't think speed will be much of a concern. So we can just do two-step (slow) encode/decode.","date":"2012-03-12T15:32:02.236Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: and usually on windows.","date":"2012-03-12T15:32:06.160Z","type":"message"}
{"nick":"isaacs","message":"afaik, most unixes are utf8 by default nowadays.","date":"2012-03-12T15:32:56.836Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: as a package manager expert, what is the recommended package manager for windows?","date":"2012-03-12T15:32:57.824Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: haha","date":"2012-03-12T15:33:04.296Z","type":"message"}
{"nick":"piscisaureus_","message":"er, for python","date":"2012-03-12T15:33:05.727Z","type":"message"}
{"nick":"piscisaureus_","message":"sorry","date":"2012-03-12T15:33:09.503Z","type":"message"}
{"nick":"isaacs","message":"oh, for python","date":"2012-03-12T15:33:10.518Z","type":"message"}
{"nick":"isaacs","message":"i don't recommend using package managers for python","date":"2012-03-12T15:33:15.812Z","type":"message"}
{"nick":"isaacs","message":"they're all really bad.","date":"2012-03-12T15:33:17.783Z","type":"message"}
{"nick":"piscisaureus_","message":"so how do I get readline in here quickly?","date":"2012-03-12T15:33:28.498Z","type":"message"}
{"nick":"isaacs","message":"(and i'm actually of the opinion that rubygems is pretty good)","date":"2012-03-12T15:33:30.764Z","type":"message"}
{"nick":"piscisaureus_","message":"so, pypi or easyinstall?","date":"2012-03-12T15:33:48.759Z","type":"message"}
{"nick":"piscisaureus_","message":"or pypm?","date":"2012-03-12T15:33:52.116Z","type":"message"}
{"nick":"piscisaureus_","message":"which is the least bad?","date":"2012-03-12T15:34:01.188Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: easy_install is *just* an installer, not a package manager","date":"2012-03-12T15:34:06.087Z","type":"message"}
{"nick":"piscisaureus_","message":"installer is all I need","date":"2012-03-12T15:34:12.938Z","type":"message"}
{"nick":"isaacs","message":"it doesn't handle deps, or versions, or uninstalling","date":"2012-03-12T15:34:16.046Z","type":"message"}
{"nick":"isaacs","message":"also, when it fails, it leaves a lot of litter behind","date":"2012-03-12T15:34:38.743Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't care.","date":"2012-03-12T15:35:12.236Z","type":"message"}
{"nick":"piscisaureus_","message":"how do I install a package quickly?","date":"2012-03-12T15:35:26.953Z","type":"message"}
{"nick":"piscisaureus_","message":"with 1% brain usage?","date":"2012-03-12T15:35:32.376Z","type":"message"}
{"nick":"isaacs","message":"that's weird... none of the pages actually say how to install it","date":"2012-03-12T15:35:45.068Z","type":"message"}
{"nick":"piscisaureus_","message":"pip?","date":"2012-03-12T15:35:51.753Z","type":"message"}
{"nick":"isaacs","action":"makes a note for the new npm site...","date":"2012-03-12T15:35:55.530Z","type":"action"}
{"nick":"isaacs","message":"sudo easy_install readline <-- seems to be working","date":"2012-03-12T15:36:42.467Z","type":"message"}
{"nick":"piscisaureus_","message":"omfg the python situation is so fucked up","date":"2012-03-12T15:37:03.186Z","type":"message"}
{"nick":"piscisaureus_","message":"Download the last pip version from here: http://pypi.python.org/pypi/pip#downloads","date":"2012-03-12T15:37:13.486Z","type":"message"}
{"nick":"piscisaureus_","message":"    Uncompress it","date":"2012-03-12T15:37:13.681Z","type":"message"}
{"nick":"piscisaureus_","message":"    Download the last easy installer for Windows: (download the .exe at the bottom of http://pypi.python.org/pypi/setuptools ). Install it.","date":"2012-03-12T15:37:13.681Z","type":"message"}
{"nick":"piscisaureus_","message":"    go to the uncompressed pip directory and: python setup.py install","date":"2012-03-12T15:37:13.681Z","type":"message"}
{"nick":"piscisaureus_","message":"    Add your python c:\\Python2x\\Scripts to the path","date":"2012-03-12T15:37:13.682Z","type":"message"}
{"nick":"perezd","date":"2012-03-12T15:37:27.942Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: yep.","date":"2012-03-12T15:38:05.947Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: that right there is why node attracts so many former pythoners","date":"2012-03-12T15:38:27.525Z","type":"message"}
{"nick":"isaacs","message":"*recovering pythoner","date":"2012-03-12T15:38:32.406Z","type":"message"}
{"nick":"isaacs","message":"s","date":"2012-03-12T15:38:33.389Z","type":"message"}
{"nick":"piscisaureus_","message":"sigh","date":"2012-03-12T15:39:02.627Z","type":"message"}
{"nick":"piscisaureus_","message":"there is a one-line installer that does not seem to work :-(","date":"2012-03-12T15:39:11.736Z","type":"message"}
{"nick":"piscisaureus_","message":"Installation Instructions","date":"2012-03-12T15:39:49.001Z","type":"message"}
{"nick":"piscisaureus_","message":"Windows","date":"2012-03-12T15:39:49.195Z","type":"message"}
{"nick":"piscisaureus_","message":"32-bit version of Python","date":"2012-03-12T15:39:49.195Z","type":"message"}
{"nick":"piscisaureus_","message":"    Install setuptools using the provided .exe installer.","date":"2012-03-12T15:39:49.195Z","type":"message"}
{"nick":"piscisaureus_","message":"which fucking provided exe installer?","date":"2012-03-12T15:39:57.622Z","type":"message"}
{"nick":"piscisaureus_","message":"no download link, no mention?","date":"2012-03-12T15:40:02.700Z","type":"message"}
{"nick":"piscisaureus_","message":"I really like that npm creates .cmd shims btw.","date":"2012-03-12T15:41:47.064Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs++","date":"2012-03-12T15:41:49.036Z","type":"message"}
{"nick":"kohai","message":"isaacs has 10 beers","date":"2012-03-12T15:41:51.822Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: thanks.","date":"2012-03-12T15:42:11.945Z","type":"message"}
{"nick":"piscisaureus_","message":"One cannot fully appreciate it until they are not there","date":"2012-03-12T15:42:13.460Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: yep.","date":"2012-03-12T15:42:17.638Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: there's this ideology in python apparently that everything must be either a .py or a .exe","date":"2012-03-12T15:42:29.821Z","type":"message"}
{"nick":"AndreasMadsen","message":"Oh remembering last month where I has to reinstall windows, then figure out for first time how to install python, then buy a compiler tool for windows, just to discover that sockets over IPC aren't supported on windows yet. What a month.","date":"2012-03-12T15:42:37.500Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: and setup.py is apparently almost *never* #!/usr/bin/env python or 0755","date":"2012-03-12T15:43:02.755Z","type":"message"}
{"nick":"piscisaureus_","message":"I am already hugely pissed off by python and its inability to get readline in place","date":"2012-03-12T15:43:41.328Z","type":"message"}
{"nick":"piscisaureus_","message":"error: Setup script exited with error: this module is not meant to work on Windows","date":"2012-03-12T15:45:34.587Z","type":"message"}
{"nick":"piscisaureus_","message":"building '_rlsetup' extension","date":"2012-03-12T15:47:50.191Z","type":"message"}
{"nick":"piscisaureus_","message":"error: Unable to find vcvarsall.bat","date":"2012-03-12T15:47:50.385Z","type":"message"}
{"nick":"piscisaureus_","message":"node-gyp works better :-)","date":"2012-03-12T15:48:00.686Z","type":"message"}
{"nick":"piscisaureus_","message":"which makes TooTallNate deserve a beer","date":"2012-03-12T15:48:36.313Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate++","date":"2012-03-12T15:48:37.628Z","type":"message"}
{"nick":"kohai","message":"TooTallNate has 6 beers","date":"2012-03-12T15:48:38.270Z","type":"message"}
{"nick":"piscisaureus_","message":"al it only supports up to v8","date":"2012-03-12T15:52:40.743Z","type":"message"}
{"nick":"piscisaureus_","message":"er, vc9","date":"2012-03-12T15:52:44.076Z","type":"message"}
{"nick":"piscisaureus_","message":"ok, got pip","date":"2012-03-12T16:07:11.308Z","type":"message"}
{"nick":"piscisaureus_","message":"C:\\Users\\Bert Belder>pip install scons","date":"2012-03-12T16:07:45.446Z","type":"message"}
{"nick":"piscisaureus_","message":"<... snip ...>","date":"2012-03-12T16:07:45.642Z","type":"message"}
{"nick":"piscisaureus_","message":"rror: option --single-version-externally-managed not recognized","date":"2012-03-12T16:07:46.512Z","type":"message"}
{"nick":"piscisaureus_","action":"kills kitten","date":"2012-03-12T16:07:56.574Z","type":"action"}
{"nick":"bnoordhuis","message":"packaging is awesome in python, isn't it?","date":"2012-03-12T16:08:20.715Z","type":"message"}
{"nick":"bnoordhuis","message":"pip, setup_tools, egg, it goes on","date":"2012-03-12T16:08:33.799Z","type":"message"}
{"nick":"piscisaureus_","message":"well","date":"2012-03-12T16:08:43.696Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't care which one I use","date":"2012-03-12T16:08:59.515Z","type":"message"}
{"nick":"piscisaureus_","message":"but it would be really nice if one of them, just one, could actually install a package","date":"2012-03-12T16:09:16.503Z","type":"message"}
{"nick":"piscisaureus_","message":"scons, in this case","date":"2012-03-12T16:09:19.498Z","type":"message"}
{"nick":"piscisaureus_","message":"which does not have any compiled parts","date":"2012-03-12T16:09:31.874Z","type":"message"}
{"nick":"piscisaureus_","message":"and used to work just fine with my python version","date":"2012-03-12T16:09:44.978Z","type":"message"}
{"nick":"bnoordhuis","message":"you're asking too much, bertje","date":"2012-03-12T16:09:48.837Z","type":"message"}
{"nick":"bnoordhuis","message":"next you'll want a pony with that","date":"2012-03-12T16:09:54.447Z","type":"message"}
{"nick":"piscisaureus_","message":"easy_install","date":"2012-03-12T16:10:01.499Z","type":"message"}
{"nick":"piscisaureus_","message":"also, very nice that you can only install pip if you have easy_install first","date":"2012-03-12T16:10:21.181Z","type":"message"}
{"nick":"piscisaureus_","message":"which obviously does not work","date":"2012-03-12T16:10:27.775Z","type":"message"}
{"nick":"tjfontaine","message":"I think the problem here is clear: Windows","date":"2012-03-12T16:20:01.438Z","type":"message"}
{"nick":"philips","reason":"Excess Flood","date":"2012-03-12T16:20:02.216Z","type":"quit"}
{"nick":"piscisaureus_","message":"how can you say that?","date":"2012-03-12T16:20:41.673Z","type":"message"}
{"nick":"piscisaureus_","message":"npm works fine","date":"2012-03-12T16:21:02.657Z","type":"message"}
{"nick":"tjfontaine","message":"because I use sane systems else where and have no problems either using distro provided packaging, or easy_install/pip","date":"2012-03-12T16:21:17.493Z","type":"message"}
{"nick":"philips","date":"2012-03-12T16:22:08.686Z","type":"join"}
{"nick":"piscisaureus_","message":"tjfontaine: I am very moody now, this is a bad time for trolling me.","date":"2012-03-12T16:22:20.022Z","type":"message"}
{"nick":"tjfontaine","message":"heh","date":"2012-03-12T16:22:29.223Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: python is the ultimate whiny defensive platfor. ","date":"2012-03-12T16:22:38.865Z","type":"message"}
{"nick":"isaacs","message":"*platform.","date":"2012-03-12T16:22:41.396Z","type":"message"}
{"nick":"isaacs","message":"the problem is NEVER python.","date":"2012-03-12T16:22:44.419Z","type":"message"}
{"nick":"isaacs","message":"it's always everyone AROUND python.","date":"2012-03-12T16:22:48.597Z","type":"message"}
{"nick":"dap","date":"2012-03-12T16:23:00.212Z","type":"join"}
{"nick":"isaacs","message":"always pointing the fingers.  \"That's not pythonic.  That's not pretty enough.  That's not canonical.  Print must be a function.\"","date":"2012-03-12T16:23:16.597Z","type":"message"}
{"nick":"isaacs","message":"any time you value anything more than you value winning, you start losing.","date":"2012-03-12T16:23:47.078Z","type":"message"}
{"nick":"tjfontaine","message":"I don't feel like that's what I was doing, but I can see how you might consider I was","date":"2012-03-12T16:23:55.485Z","type":"message"}
{"nick":"isaacs","message":"tjfontaine: i'm not complaining about you, i'm complaining about python.","date":"2012-03-12T16:24:13.552Z","type":"message"}
{"nick":"tjfontaine","message":"nod","date":"2012-03-12T16:24:19.174Z","type":"message"}
{"nick":"orlandovftw","date":"2012-03-12T16:24:40.735Z","type":"join"}
{"nick":"sh1mmer","date":"2012-03-12T16:26:02.921Z","type":"join"}
{"nick":"piscisaureus_","message":"tjfontaine: I *know* that windows has problems and WTFs. I spend a lot of time dealing with it. But there is no excuse for not being able to copy some files.","date":"2012-03-12T16:27:49.807Z","type":"message"}
{"nick":"piscisaureus_","message":"I mean, you have drives and backslashes, and that's pretty much all you need to deal with","date":"2012-03-12T16:28:09.502Z","type":"message"}
{"nick":"dshaw_","date":"2012-03-12T16:33:16.927Z","type":"join"}
{"nick":"isaacs","message":"piscisaureus_: to be fair, those DO cause a lot of hassles.","date":"2012-03-12T16:43:29.907Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-12T16:44:05.508Z","type":"message"}
{"nick":"piscisaureus_","message":"I think file locking sucks","date":"2012-03-12T16:44:09.559Z","type":"message"}
{"nick":"piscisaureus_","message":"from a programmer's perspecive","date":"2012-03-12T16:44:14.274Z","type":"message"}
{"nick":"isaacs","message":"yep.","date":"2012-03-12T16:45:02.959Z","type":"message"}
{"nick":"isaacs","message":"oh, so, that reminds me.","date":"2012-03-12T16:45:09.107Z","type":"message"}
{"nick":"isaacs","message":"this dir renaming stat thing..","date":"2012-03-12T16:45:12.808Z","type":"message"}
{"nick":"isaacs","message":"what's the best way to work around that?  assume that i cna't just unpack into place.","date":"2012-03-12T16:45:22.756Z","type":"message"}
{"nick":"isaacs","message":"if that's the only reasonable fix, then i'll bite the bullet and make the changes necessary to do it","date":"2012-03-12T16:45:58.318Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: I don't know yet. I think that making an attempt to open package.json for writing would avoid the issue","date":"2012-03-12T16:46:26.778Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: the downside - the file will be created if it really isn't there ;-)","date":"2012-03-12T16:46:44.547Z","type":"message"}
{"nick":"isaacs","message":"you mean, rather than stat() or read() it?","date":"2012-03-12T16:46:48.590Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well - you already try to read() it","date":"2012-03-12T16:46:57.279Z","type":"message"}
{"nick":"isaacs","message":"oh, right","date":"2012-03-12T16:47:02.972Z","type":"message"}
{"nick":"isaacs","message":"but if i open it for writing... i mean... that's not what i","date":"2012-03-12T16:47:12.708Z","type":"message"}
{"nick":"isaacs","message":"'m actually trying to do","date":"2012-03-12T16:47:16.471Z","type":"message"}
{"nick":"isaacs","message":"i'm trying to get its contents.","date":"2012-03-12T16:47:20.159Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yeah  - so if you open it for r+ then the problem would probably go away","date":"2012-03-12T16:47:44.296Z","type":"message"}
{"nick":"piscisaureus_","message":"with the downside that the file would be created if it's really not there","date":"2012-03-12T16:47:58.319Z","type":"message"}
{"nick":"piscisaureus_","message":"but it looks like the file should always be there in the first place","date":"2012-03-12T16:48:14.488Z","type":"message"}
{"nick":"isaacs","message":"right","date":"2012-03-12T16:48:15.625Z","type":"message"}
{"nick":"isaacs","message":"wel... if it's NOT there, then i need to fail.","date":"2012-03-12T16:48:26.858Z","type":"message"}
{"nick":"isaacs","message":"how long of a lag is there?","date":"2012-03-12T16:48:40.314Z","type":"message"}
{"nick":"isaacs","message":"that the stat() is cached for","date":"2012-03-12T16:48:46.513Z","type":"message"}
{"nick":"isaacs","message":"like, 100ms, 10 hours?","date":"2012-03-12T16:48:52.371Z","type":"message"}
{"nick":"piscisaureus_","message":"no, like 5 seconds","date":"2012-03-12T16:48:57.766Z","type":"message"}
{"nick":"isaacs","message":"ugh.","date":"2012-03-12T16:49:01.683Z","type":"message"}
{"nick":"isaacs","message":"yeah, that's WAY too long","date":"2012-03-12T16:49:05.000Z","type":"message"}
{"nick":"TooTallNate","date":"2012-03-12T16:49:09.516Z","type":"join"}
{"nick":"piscisaureus_","message":"it's configurable, don't know the default","date":"2012-03-12T16:49:11.197Z","type":"message"}
{"nick":"isaacs","message":"> 1000ms = \"forever\"","date":"2012-03-12T16:49:11.640Z","type":"message"}
{"nick":"isaacs","message":"\"it's configurable\" = \"it's almost always the default\"","date":"2012-03-12T16:49:31.702Z","type":"message"}
{"nick":"isaacs","message":"so... i guess i'll just unpack in place.  just requires touching node-tar a little bit to add --strip-components behavior","date":"2012-03-12T16:50:29.965Z","type":"message"}
{"nick":"isaacs","message":"right now it unpacks tarballs into .../__foo.npm then moves .../__foo.npm/<folder> to .../foo","date":"2012-03-12T16:51:01.720Z","type":"message"}
{"nick":"isaacs","message":"and then immediately reads .../foo/package.js","date":"2012-03-12T16:51:19.497Z","type":"message"}
{"nick":"isaacs","message":"*json","date":"2012-03-12T16:51:21.469Z","type":"message"}
{"nick":"piscisaureus_","message":"the r+ workaround doesn't seem too bad to me","date":"2012-03-12T16:51:50.818Z","type":"message"}
{"nick":"dvv1","date":"2012-03-12T16:55:04.705Z","type":"join"}
{"nick":"TooTallNate","message":"piscisaureus_: this one is interesting. do you think this is safe? https://github.com/joyent/node/pull/2907","date":"2012-03-12T17:01:44.119Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: I don't know. Does it break anything?","date":"2012-03-12T17:03:02.533Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: seemed fine in my testing. you could make the same change in vcbuild.bat and see if it breaks anything as well","date":"2012-03-12T17:03:46.111Z","type":"message"}
{"nick":"dvv1","date":"2012-03-12T17:03:49.970Z","type":"part"}
{"nick":"TooTallNate","message":"(if you wanted to test yourself)","date":"2012-03-12T17:03:51.751Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: also, random, what's the best way to read from the windows registry in node?","date":"2012-03-12T17:04:06.938Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: there is no way to do it. Probably shell out to some command line tool :-)","date":"2012-03-12T17:04:47.244Z","type":"message"}
{"nick":"TooTallNate","message":"ehhh, a custom native module could do it, right?","date":"2012-03-12T17:05:09.928Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yeah, sure. I think someone should write a native addon for it","date":"2012-03-12T17:05:31.670Z","type":"message"}
{"nick":"TooTallNate","message":"agree'd","date":"2012-03-12T17:05:39.854Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: but I think you have a bootstrapping problem if you want to use it from node-gyp :-)","date":"2012-03-12T17:05:49.852Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: no not for that :p","date":"2012-03-12T17:05:58.376Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i was looking to getting node-time working on windows","date":"2012-03-12T17:06:12.715Z","type":"message"}
{"nick":"TooTallNate","message":"so it needs access to the system timezones","date":"2012-03-12T17:06:23.583Z","type":"message"}
{"nick":"benvie","message":"child_process.exec('reg' + stuff","date":"2012-03-12T17:06:27.230Z","type":"message"}
{"nick":"benvie","message":"and reg /? for the commands","date":"2012-03-12T17:06:35.646Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: leads me to another thought... have you ever thought about conditional dependencies in npm?","date":"2012-03-12T17:07:03.210Z","type":"message"}
{"nick":"TooTallNate","message":"i've kinda grown to like them in gyp","date":"2012-03-12T17:07:11.078Z","type":"message"}
{"nick":"benvie","message":"beyond that it'll be windows api stuff so ffi or c++","date":"2012-03-12T17:07:18.102Z","type":"message"}
{"nick":"TooTallNate","message":"would be useful for say windows, or an older node version (to add a zlib dep or something)","date":"2012-03-12T17:07:39.457Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: yeah, we've talked about it.  it seems to usually introduce more complexity and features, and is kind of noisy.","date":"2012-03-12T17:08:01.590Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: if we can get by without it, i'd prefer that.","date":"2012-03-12T17:08:17.912Z","type":"message"}
{"nick":"benvie","message":"I have a kind of crappy module that does some regedit stuff using the reg program","date":"2012-03-12T17:08:18.114Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: so i'm kind of dragging my heels as long as i can get away with it","date":"2012-03-12T17:08:29.460Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: lol","date":"2012-03-12T17:08:36.106Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: seems like a necessary evil to me","date":"2012-03-12T17:08:41.587Z","type":"message"}
{"nick":"tjfontaine","message":"conditionals++","date":"2012-03-12T17:08:59.436Z","type":"message"}
{"nick":"kohai","message":"conditionals has 1 beer","date":"2012-03-12T17:09:00.100Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: it is a small edge case though i suppose","date":"2012-03-12T17:09:05.565Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: i disagree about the necessity of that evil.","date":"2012-03-12T17:09:07.287Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: optionalDependencies solve most of those problems, i've found","date":"2012-03-12T17:09:22.018Z","type":"message"}
{"nick":"benvie","message":"https://github.com/Benvie/node-Windows does it using child_process route, meant to redo that using the win api but haven't gotten around to it","date":"2012-03-12T17:09:30.892Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: good point, could probably work","date":"2012-03-12T17:09:37.999Z","type":"message"}
{"nick":"tjfontaine","message":"ifWin32: include-nasty-win32-dep","date":"2012-03-12T17:09:38.545Z","type":"message"}
{"nick":"TooTallNate","message":"benvie: hahah, nice","date":"2012-03-12T17:09:43.463Z","type":"message"}
{"nick":"tjfontaine","message":"then I could include this module https://github.com/daguej/node-winnetinfo and not feel so dirty for !win32 platforms","date":"2012-03-12T17:11:35.836Z","type":"message"}
{"nick":"dshaw_","reason":"Quit: Leaving.","date":"2012-03-12T17:12:05.697Z","type":"quit"}
{"nick":"TooTallNate","message":"bnoordhuis: don't forget about this one! https://github.com/joyent/node/pull/2896","date":"2012-03-12T17:14:38.084Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: optionalDependencies would work fine, as long as package.json has a way to specify a module is windows-only","date":"2012-03-12T17:15:55.750Z","type":"message"}
{"nick":"TooTallNate","message":"and have it abort installation on any other platform","date":"2012-03-12T17:16:02.093Z","type":"message"}
{"nick":"TooTallNate","message":"and vice-versa of course","date":"2012-03-12T17:16:16.709Z","type":"message"}
{"nick":"orlandovftw","reason":"Ping timeout: 246 seconds","date":"2012-03-12T17:18:42.664Z","type":"quit"}
{"nick":"igorzi","date":"2012-03-12T17:21:44.922Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_ isaacs: i think the workaround would need to be 'a', not 'r+'","date":"2012-03-12T17:24:11.879Z","type":"message"}
{"nick":"igorzi","message":"isaacs: is it difficult to unpack in-place?","date":"2012-03-12T17:27:10.328Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i'ts not super difficult.","date":"2012-03-12T17:28:06.857Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i'm just kind of lazy, that's all :)","date":"2012-03-12T17:28:11.348Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-12T17:28:24.268Z","type":"join"}
{"nick":"isaacs","message":"TooTallNate: i've got a pull req in npm to add platform dependence.","date":"2012-03-12T17:28:28.791Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: wanna review it and give your feedback?","date":"2012-03-12T17:28:39.685Z","type":"message"}
{"nick":"TooTallNate","message":"link?","date":"2012-03-12T17:28:45.458Z","type":"message"}
{"nick":"TooTallNate","message":"sounds cool thouhg","date":"2012-03-12T17:28:51.808Z","type":"message"}
{"nick":"TooTallNate","message":"though","date":"2012-03-12T17:28:53.550Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis, piscisaureus_: review? https://github.com/isaacs/node/commit/a10cfba766e2d219b311f12d7854ff448d0d3490","date":"2012-03-12T17:28:55.612Z","type":"message"}
{"nick":"igorzi","message":"isaacs: it seems that the easiest workaround is to stat until the file is there, but that might add 5 sec latency","date":"2012-03-12T17:29:20.194Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: https://github.com/isaacs/npm/pull/2254","date":"2012-03-12T17:29:54.455Z","type":"message"}
{"nick":"isaacs","message":"igorzi: yeah, 5 seconds is way too long","date":"2012-03-12T17:29:59.726Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i'm going to try to fix node-tar to add --strip-components, and if that turns out ot be too hard, we'll just do it the slow awful way.","date":"2012-03-12T17:30:21.374Z","type":"message"}
{"nick":"igorzi","message":"isaacs: are dependencies downloaded/unpacked in parallel or serially?","date":"2012-03-12T17:30:39.623Z","type":"message"}
{"nick":"isaacs","message":"igorzi: in parallel","date":"2012-03-12T17:30:48.207Z","type":"message"}
{"nick":"isaacs","message":"igorzi: really, it's asking the fs to do a lot more work to not unpack in place.","date":"2012-03-12T17:31:02.862Z","type":"message"}
{"nick":"isaacs","message":"igorzi: it's just that node-tar doens't have the capability yet to strip off a folder name when unpacking.","date":"2012-03-12T17:31:15.928Z","type":"message"}
{"nick":"igorzi","message":"so it'll be 5 sec latency for the entire \"npm install\"?  not per each dependency?","date":"2012-03-12T17:31:18.054Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i should just go add that.","date":"2012-03-12T17:31:19.797Z","type":"message"}
{"nick":"isaacs","message":"igorzi: sure.","date":"2012-03-12T17:31:32.940Z","type":"message"}
{"nick":"isaacs","message":"so it won't be *completely* terrible.","date":"2012-03-12T17:31:39.493Z","type":"message"}
{"nick":"isaacs","message":"just a *little* terrible :0","date":"2012-03-12T17:31:42.940Z","type":"message"}
{"nick":"igorzi","message":"isaacs: yeah","date":"2012-03-12T17:31:58.246Z","type":"message"}
{"nick":"igorzi","message":"isaacs: so, is the plan going to be to unpack in-place?  will that drop in 0.6.13?","date":"2012-03-12T17:32:25.102Z","type":"message"}
{"nick":"isaacs","message":"igorzi: yeah, if it's not too hard","date":"2012-03-12T17:33:05.050Z","type":"message"}
{"nick":"igorzi","message":"isaacs: ok.. it it gets too hard.. i think 5 sec latency for the entire \"npm install\" is not so terrible.  for larger packages this probably is even less significant because it might take several seconds to download/unpack","date":"2012-03-12T17:35:23.352Z","type":"message"}
{"nick":"isaacs","message":"sure","date":"2012-03-12T17:35:35.643Z","type":"message"}
{"nick":"perezd_","date":"2012-03-12T17:40:25.572Z","type":"join"}
{"nick":"perezd","reason":"Ping timeout: 246 seconds","date":"2012-03-12T17:43:44.037Z","type":"quit"}
{"nick":"perezd_","new_nick":"perezd","date":"2012-03-12T17:43:44.473Z","type":"nick"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-03-12T17:47:11.386Z","type":"quit"}
{"nick":"dshaw_","date":"2012-03-12T18:01:11.896Z","type":"join"}
{"nick":"stephank","date":"2012-03-12T18:01:57.387Z","type":"join"}
{"nick":"brson","date":"2012-03-12T18:08:46.355Z","type":"join"}
{"nick":"indutny","new_nick":"indutny_sleeping","date":"2012-03-12T18:24:27.143Z","type":"nick"}
{"nick":"orlandovftw","date":"2012-03-12T18:25:23.799Z","type":"join"}
{"nick":"isaacs","message":"bnoordhuis: why does console.dir point to stdout?  that seems kind of wonky.","date":"2012-03-12T18:32:50.404Z","type":"message"}
{"nick":"benvie","message":"dir could use an upgrade. Something like turning showHidden on","date":"2012-03-12T18:34:16.322Z","type":"message"}
{"nick":"mmalecki","message":"util.inspect could use an upgrade","date":"2012-03-12T18:34:48.252Z","type":"message"}
{"nick":"isaacs","message":"benvie, mmalecki: it's our way of getting everyone to `npm install eyes` instead","date":"2012-03-12T18:36:29.993Z","type":"message"}
{"nick":"mjr_","message":"eyes is good","date":"2012-03-12T18:37:18.476Z","type":"message"}
{"nick":"TooTallNate","message":"util.inspect needs an upgrade to accept an options object","date":"2012-03-12T18:37:38.021Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: haha :)","date":"2012-03-12T18:37:41.680Z","type":"message"}
{"nick":"mmalecki","message":"TooTallNate: ++, this","date":"2012-03-12T18:37:44.905Z","type":"message"}
{"nick":"kohai","message":"TooTallNate has 7 beers","date":"2012-03-12T18:37:46.305Z","type":"message"}
{"nick":"TooTallNate","message":"same with the custom .inspect() function","date":"2012-03-12T18:37:48.432Z","type":"message"}
{"nick":"mmalecki","message":"actually, who maintains eyes these days?","date":"2012-03-12T18:38:08.211Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: yeah, that'd be ok.","date":"2012-03-12T18:38:42.283Z","type":"message"}
{"nick":"isaacs","message":"the custom inspect method is used on a few internal node objects.","date":"2012-03-12T18:39:05.054Z","type":"message"}
{"nick":"mmalecki","message":"ah, indexzero.","date":"2012-03-12T18:39:07.758Z","type":"message"}
{"nick":"isaacs","message":"i for one really like not dumping the whole Buffer to stderr","date":"2012-03-12T18:39:12.190Z","type":"message"}
{"nick":"mjr_","message":"ugh, inspect on buffers","date":"2012-03-12T18:39:40.376Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: ya custom inspect is nice. there's a problem with it currently in that you don't know if showColors was specified though","date":"2012-03-12T18:39:44.967Z","type":"message"}
{"nick":"TooTallNate","message":"that's one thing i wanna fix","date":"2012-03-12T18:39:56.240Z","type":"message"}
{"nick":"mjr_","message":"When you didn't know they were buffers, and now you have an ascii hex bomb.","date":"2012-03-12T18:40:01.032Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: it only dumps like the first 100 bytes though","date":"2012-03-12T18:40:33.172Z","type":"message"}
{"nick":"mjr_","message":"Oh, I'm glad that's fixed.","date":"2012-03-12T18:40:50.509Z","type":"message"}
{"nick":"mjr_","message":"Speaking of inspect, is there an obvious way to get the readline style behavior from a repl socket?","date":"2012-03-12T18:41:35.658Z","type":"message"}
{"nick":"mjr_","message":"Because SmartOS won't easily give me socat plus readline.","date":"2012-03-12T18:41:53.103Z","type":"message"}
{"nick":"creationix","message":"rlwrap nc 1337","date":"2012-03-12T18:41:53.316Z","type":"message"}
{"nick":"creationix","message":"hmm smartos","date":"2012-03-12T18:42:02.157Z","type":"message"}
{"nick":"mjr_","message":"creationix: that doesn't give you tab completion though, which is actually awesome.","date":"2012-03-12T18:42:16.051Z","type":"message"}
{"nick":"creationix","message":"true","date":"2012-03-12T18:42:21.246Z","type":"message"}
{"nick":"mjr_","message":"smartos won't easily give me rewrap either, sadly.","date":"2012-03-12T18:43:07.244Z","type":"message"}
{"nick":"creationix","message":"maybe a small node client that set's raw mode on the terminal and forwards it all to a remote socket?","date":"2012-03-12T18:43:31.779Z","type":"message"}
{"nick":"creationix","message":"is raw tty just a duplex socket?","date":"2012-03-12T18:43:53.123Z","type":"message"}
{"nick":"TooTallNate","message":"there's a mode for telnet to be in raw mode as well","date":"2012-03-12T18:44:26.101Z","type":"message"}
{"nick":"TooTallNate","message":"there's no awesome telnet server/client for node yet though :\\","date":"2012-03-12T18:44:39.309Z","type":"message"}
{"nick":"mjr_","message":"So I guess the short answer sounds like, \"no\".","date":"2012-03-12T18:44:50.057Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: is this just a 'net' server?","date":"2012-03-12T18:45:17.375Z","type":"message"}
{"nick":"creationix","message":"well, making a raw tcp client is easy","date":"2012-03-12T18:45:20.396Z","type":"message"}
{"nick":"mjr_","message":"sure","date":"2012-03-12T18:45:21.074Z","type":"message"}
{"nick":"creationix","message":"but I'm curious to know if that works on the repl module","date":"2012-03-12T18:45:33.717Z","type":"message"}
{"nick":"mjr_","message":"We do this in all of our processes:","date":"2012-03-12T18:45:45.580Z","type":"message"}
{"nick":"TooTallNate","message":"ya, i'd go with tim's idea, a small client which puts stdio in raw mode before connecting","date":"2012-03-12T18:45:45.932Z","type":"message"}
{"nick":"mjr_","message":"node.net.createServer(function repl_onrequest(socket) {","date":"2012-03-12T18:45:46.470Z","type":"message"}
{"nick":"mjr_","message":"    node.repl.start(RV.name + \"> \", socket).context.RV = RV;","date":"2012-03-12T18:45:46.811Z","type":"message"}
{"nick":"mjr_","message":"}).listen(\"/tmp/router-repl-\" + RV.name);","date":"2012-03-12T18:45:47.006Z","type":"message"}
{"nick":"mjr_","message":"And it's one of the best things ever about running node in production.","date":"2012-03-12T18:46:03.935Z","type":"message"}
{"nick":"creationix","message":"right, but node.repl.start sees that `socket` is not a tty","date":"2012-03-12T18:46:21.941Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: what kinds of things can you see in those repls?","date":"2012-03-12T18:46:26.707Z","type":"message"}
{"nick":"creationix","message":"and probably doesn't expect raw data","date":"2012-03-12T18:46:27.948Z","type":"message"}
{"nick":"mjr_","message":"TooTallNate: Anything you expose it to the \"RV\" object, plus everything in the module context from require.","date":"2012-03-12T18:46:53.268Z","type":"message"}
{"nick":"creationix","message":"do you get colored output?","date":"2012-03-12T18:46:57.580Z","type":"message"}
{"nick":"mjr_","message":"No, I want colored output also.","date":"2012-03-12T18:47:06.652Z","type":"message"}
{"nick":"mmalecki","message":"mjr_: neat idea, actually","date":"2012-03-12T18:47:07.748Z","type":"message"}
{"nick":"mjr_","message":"And a pony","date":"2012-03-12T18:47:08.413Z","type":"message"}
{"nick":"mjr_","message":"This was my talk at nodeconf, BTW.","date":"2012-03-12T18:47:18.805Z","type":"message"}
{"nick":"mmalecki","message":"ponies?","date":"2012-03-12T18:47:24.310Z","type":"message"}
{"nick":"creationix","message":"ok, so I think with an option to force repl to treat the socket as tty","date":"2012-03-12T18:47:25.194Z","type":"message"}
{"nick":"creationix","message":"it might work","date":"2012-03-12T18:47:28.980Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: it doesn't look like the repl discriminates against ttys","date":"2012-03-12T18:47:36.105Z","type":"message"}
{"nick":"TooTallNate","message":"it's just an options object","date":"2012-03-12T18:47:41.589Z","type":"message"}
{"nick":"TooTallNate","message":"err, not an options object, just a bunch of random config variables","date":"2012-03-12T18:48:17.843Z","type":"message"}
{"nick":"mjr_","message":"Is there some way I could tempt somebody to build this?","date":"2012-03-12T18:48:42.908Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: for colors, try require('repl').disableColors = false","date":"2012-03-12T18:48:50.140Z","type":"message"}
{"nick":"mjr_","message":"Because I haven't the time, and the world needs this.","date":"2012-03-12T18:48:52.811Z","type":"message"}
{"nick":"TooTallNate","message":"but that should be the default so... :\\","date":"2012-03-12T18:48:56.842Z","type":"message"}
{"nick":"creationix","message":"btw, are there any examples on how to use uv_queue_work","date":"2012-03-12T18:49:44.611Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: look at zlib module i think","date":"2012-03-12T18:50:12.326Z","type":"message"}
{"nick":"creationix","message":"mjr_, we're talking 10 lines of code if it works","date":"2012-03-12T18:50:15.062Z","type":"message"}
{"nick":"TooTallNate","message":"creationix: or the crypto module","date":"2012-03-12T18:50:25.025Z","type":"message"}
{"nick":"mjr_","message":"creationix: and lots of very fun debugging.","date":"2012-03-12T18:50:43.175Z","type":"message"}
{"nick":"mjr_","message":"Which all sounds like a very fun project that somebody like you would take on.","date":"2012-03-12T18:51:02.237Z","type":"message"}
{"nick":"creationix","message":"lol","date":"2012-03-12T18:51:10.152Z","type":"message"}
{"nick":"mjr_","message":"Also, I have a fence that needs whitewashing.","date":"2012-03-12T18:51:14.561Z","type":"message"}
{"nick":"creationix","action":"is 400% overloaded","date":"2012-03-12T18:51:21.069Z","type":"action"}
{"nick":"TooTallNate","message":"mjr_: for starters you need to set socket.isTTY = true for the repl socket","date":"2012-03-12T18:51:33.270Z","type":"message"}
{"nick":"TooTallNate","message":"on the server","date":"2012-03-12T18:51:36.623Z","type":"message"}
{"nick":"mjr_","message":"You won't get any slack about abandoning it though. :)","date":"2012-03-12T18:51:41.025Z","type":"message"}
{"nick":"TooTallNate","message":"that should get you colors","date":"2012-03-12T18:51:42.255Z","type":"message"}
{"nick":"creationix","message":"TooTallNate, good idea","date":"2012-03-12T18:51:53.374Z","type":"message"}
{"nick":"TooTallNate","message":"the other half of the equation is a simple 'net' client connecting to the repl socket","date":"2012-03-12T18:52:22.515Z","type":"message"}
{"nick":"TooTallNate","message":"which calls require('tty').setRawMode(true) before connecting","date":"2012-03-12T18:52:47.499Z","type":"message"}
{"nick":"mjr_","message":"can't you use nc for that?","date":"2012-03-12T18:53:35.827Z","type":"message"}
{"nick":"mjr_","message":"or socat or something?","date":"2012-03-12T18:53:41.463Z","type":"message"}
{"nick":"AvianFlu","date":"2012-03-12T18:53:52.739Z","type":"join"}
{"nick":"TooTallNate","message":"mjr_: probably, might be a flag","date":"2012-03-12T18:54:05.282Z","type":"message"}
{"nick":"creationix","message":"I remember trying this once to make my own ssh by using the tls and tty module s","date":"2012-03-12T18:55:44.125Z","type":"message"}
{"nick":"mraleph","date":"2012-03-12T18:55:48.620Z","type":"join"}
{"nick":"creationix","message":"I got stuck on creating the tty session, but the raw mode on client tty seemed to work fine","date":"2012-03-12T18:56:06.410Z","type":"message"}
{"nick":"mjr_","message":"TooTallNate: I think it might not be that simple:  https://gist.github.com/2023958","date":"2012-03-12T18:56:31.862Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: ya, haha, i just ran into the same thing","date":"2012-03-12T18:56:46.313Z","type":"message"}
{"nick":"TooTallNate","message":"i wanna patch that","date":"2012-03-12T18:56:48.772Z","type":"message"}
{"nick":"TooTallNate","message":"its a bug essentially","date":"2012-03-12T18:56:54.587Z","type":"message"}
{"nick":"TooTallNate","message":"this should work","date":"2012-03-12T18:56:59.019Z","type":"message"}
{"nick":"TooTallNate","message":"damn","date":"2012-03-12T18:57:31.383Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-12T18:57:32.000Z","type":"quit"}
{"nick":"TooTallNate","message":":D","date":"2012-03-12T18:57:34.728Z","type":"message"}
{"nick":"TooTallNate","message":"looks like readline.js needs an abstraction","date":"2012-03-12T18:58:18.921Z","type":"message"}
{"nick":"TooTallNate","message":"it assumes if isTTY is set that it's stdout","date":"2012-03-12T18:58:37.819Z","type":"message"}
{"nick":"TooTallNate","message":"and does tty calls and stream.getWindowSize()","date":"2012-03-12T18:58:51.741Z","type":"message"}
{"nick":"creationix","message":"that's the kind of stuff I was afraid of","date":"2012-03-12T18:58:56.213Z","type":"message"}
{"nick":"TooTallNate","message":"damn","date":"2012-03-12T18:59:02.345Z","type":"message"}
{"nick":"isaacs","message":"mjr_: yeah, you can't set raw mode on a non-tty, so this might be tricky","date":"2012-03-12T18:59:08.136Z","type":"message"}
{"nick":"TooTallNate","message":"wasn't someone working on a readline overhaul?","date":"2012-03-12T18:59:13.414Z","type":"message"}
{"nick":"TooTallNate","message":"it might address this","date":"2012-03-12T18:59:33.847Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: i dunno","date":"2012-03-12T19:00:30.880Z","type":"message"}
{"nick":"isaacs","message":"mjr_: can you post an issue about this?  it'd be nice if there was some way to make this work really well.","date":"2012-03-12T19:00:44.799Z","type":"message"}
{"nick":"mjr_","message":"sure","date":"2012-03-12T19:00:49.996Z","type":"message"}
{"nick":"isaacs","message":"mjr_: i mean, part of the issue is that it's sort of in raw mode already, right?","date":"2012-03-12T19:01:05.744Z","type":"message"}
{"nick":"isaacs","message":"mjr_: does backspace delete, or write stupid [[[~!3 bs?","date":"2012-03-12T19:01:16.484Z","type":"message"}
{"nick":"mjr_","message":"I'm willing to donate liquor or money or tweets to whoever can get this fixed.","date":"2012-03-12T19:01:22.257Z","type":"message"}
{"nick":"isaacs","message":"mjr_: did you see, by the way? v8 is making utf8 not sucky","date":"2012-03-12T19:01:35.344Z","type":"message"}
{"nick":"mjr_","message":"Yeah, that's part of the problem.  You could fix this I suppose by having a node client open the tty and decode that bs.","date":"2012-03-12T19:01:53.811Z","type":"message"}
{"nick":"TooTallNate","message":"this is as far as i got :( :p https://gist.github.com/d9f15b31b60b09b84e54","date":"2012-03-12T19:02:01.666Z","type":"message"}
{"nick":"mjr_","message":"If nc doesn't do that.","date":"2012-03-12T19:02:01.820Z","type":"message"}
{"nick":"mjr_","message":"isaacs: I didn't see any recent progress on the v8 / utf8 front.  Link?","date":"2012-03-12T19:03:16.526Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T19:03:43.293Z","type":"quit"}
{"nick":"mjr_","message":"TooTallNate: yeah, that's exactly the program I have which made the exception I gist-ed earlier.","date":"2012-03-12T19:04:11.711Z","type":"message"}
{"nick":"isaacs","message":"mjr_: https://twitter.com/izs/status/179224642429521922","date":"2012-03-12T19:04:13.995Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: this can probably be closed https://github.com/joyent/node/issues/634","date":"2012-03-12T19:05:43.737Z","type":"message"}
{"nick":"theCole","date":"2012-03-12T19:09:14.238Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: I am not convinced of Elad's patch.","date":"2012-03-12T19:09:41.631Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: which one? https://github.com/joyent/libuv/pull/343 ?","date":"2012-03-12T19:10:33.621Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-12T19:11:08.197Z","type":"message"}
{"nick":"`3rdEden","date":"2012-03-12T19:13:04.382Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: or rather, I am not convinced by his analysis","date":"2012-03-12T19:14:24.038Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: you're thinking that those handles stay open for a reason?","date":"2012-03-12T19:14:46.696Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: well, yeah, if handles are inherited they stay open - that's a fact","date":"2012-03-12T19:15:12.517Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: sometimes that is by accident, and sometimes it has a reason","date":"2012-03-12T19:15:34.836Z","type":"message"}
{"nick":"mjr_","message":"isaacs: I opened this:  https://github.com/joyent/node/issues/2917","date":"2012-03-12T19:15:42.984Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: just assuming that it is always by accident does not seem right","date":"2012-03-12T19:15:50.587Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: it sounds that if the child process doesn't create any more children - then those handles do get closed","date":"2012-03-12T19:16:37.340Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: it's not clear from his analysis if the grandchild process is still alive","date":"2012-03-12T19:17:03.569Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: a pipe end is closed when all handles are closed, e.g. all child processes have to exit","date":"2012-03-12T19:18:22.869Z","type":"message"}
{"nick":"mikeal","date":"2012-03-12T19:18:33.390Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: we need to either make sure that child processes don't accidentally inherit any handles (unfortunately windows is about as broken as unix in that area - very much).","date":"2012-03-12T19:19:26.880Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: we could also decide to just fire 'exit' when the child process exits - and not wait for stdio to close. I don't know why we don't do that in the first place","date":"2012-03-12T19:19:55.956Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: in case of spawning a detached process, we would have to make sure that node makes it stdio handles non-inheritable","date":"2012-03-12T19:20:24.114Z","type":"message"}
{"nick":"piscisaureus_","message":"which is fairly easy","date":"2012-03-12T19:20:31.749Z","type":"message"}
{"nick":"benvie","message":"I need to package up the formatting stuff I made into a module","date":"2012-03-12T19:20:38.157Z","type":"message"}
{"nick":"benvie","message":"because it's really awesome stuff standalone","date":"2012-03-12T19:20:43.670Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yes, i was just about to say that.. if we know the child process exited - we should just fire 'exit'","date":"2012-03-12T19:20:44.840Z","type":"message"}
{"nick":"benvie","message":"way better than eyes or whatever","date":"2012-03-12T19:20:53.660Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't know why we decided to do it differently","date":"2012-03-12T19:20:57.284Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ryah: you recall?","date":"2012-03-12T19:21:07.015Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i agree that force-closing pipes is probably not the right fix here","date":"2012-03-12T19:26:46.932Z","type":"message"}
{"nick":"theCole","reason":"Read error: Connection reset by peer","date":"2012-03-12T19:29:41.527Z","type":"quit"}
{"nick":"theCole","date":"2012-03-12T19:30:01.606Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: btw, is elad's explanation about how this works on unix correct?","date":"2012-03-12T19:31:05.384Z","type":"message"}
{"nick":"piscisaureus_","message":"no","date":"2012-03-12T19:31:12.249Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: so unix has the same problem?","date":"2012-03-12T19:32:17.142Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yes","date":"2012-03-12T19:32:33.049Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: on unix people would set stdio to /dev/null","date":"2012-03-12T19:32:50.785Z","type":"message"}
{"nick":"piscisaureus_","message":"otherwise the detached child would be killed by SIGPIPE when it tried to access stdio","date":"2012-03-12T19:33:15.664Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I posted a comment","date":"2012-03-12T19:34:52.470Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: for background -> http://blogs.msdn.com/b/oldnewthing/archive/2011/12/16/10248328.aspx","date":"2012-03-12T19:35:01.946Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: but, does it keep the stdio pipe alive?  if node spawns A and A spawns B.  if A dies, does B still keep stdio pipe alive?","date":"2012-03-12T19:35:05.068Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-03-12T19:35:12.151Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: unless A is careful to make sure B does not inherit the stdio pipe","date":"2012-03-12T19:35:56.812Z","type":"message"}
{"nick":"mikeal","message":"so","date":"2012-03-12T19:38:31.319Z","type":"message"}
{"nick":"mikeal","message":"i'm trying to start a conversation with the stud guys about supporting SPDY","date":"2012-03-12T19:38:44.497Z","type":"message"}
{"nick":"mikeal","message":"hopefully there aren't any crazy fiddly bits that aren't well documented that require SSL","date":"2012-03-12T19:39:35.497Z","type":"message"}
{"nick":"mikeal","message":"other than the initial NPN","date":"2012-03-12T19:39:42.667Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: maybe 'exit' is only fired after all stdio is closed to avoid races? (maybe it's possible for process to exit before all stdio is drained?)","date":"2012-03-12T19:39:58.876Z","type":"message"}
{"nick":"theCole","reason":"Read error: Connection reset by peer","date":"2012-03-12T19:40:06.330Z","type":"quit"}
{"nick":"mikeal","message":"if you can't do this shit behind a TLS terminator i'm going to join the fucking HTTPbis and yell until the RFC is modified","date":"2012-03-12T19:40:10.335Z","type":"message"}
{"nick":"theCole","date":"2012-03-12T19:40:38.781Z","type":"join"}
{"nick":"mjr_","message":"mikeal: surely you/stud could invent some kind of non-TLS framing format","date":"2012-03-12T19:41:28.429Z","type":"message"}
{"nick":"mikeal","message":"NPN is just for negotiation","date":"2012-03-12T19:41:55.805Z","type":"message"}
{"nick":"mjr_","message":"Much like they invented their \"prepend the IP address\" scheme.","date":"2012-03-12T19:41:58.294Z","type":"message"}
{"nick":"mikeal","message":"so yeah, that's my proposal","date":"2012-03-12T19:42:08.117Z","type":"message"}
{"nick":"mikeal","message":"spdy option","date":"2012-03-12T19:42:13.356Z","type":"message"}
{"nick":"mikeal","message":"would attempt to NPN for SPDY","date":"2012-03-12T19:42:39.623Z","type":"message"}
{"nick":"mikeal","message":"every socket to the TCP proxy the first byte is whether or not SPDY is being used","date":"2012-03-12T19:43:02.360Z","type":"message"}
{"nick":"mikeal","message":"still don't understand why they can't just do header negotiation the way web sockets does","date":"2012-03-12T19:43:37.803Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yes - that could happen","date":"2012-03-12T19:44:43.291Z","type":"message"}
{"nick":"mikeal","message":"but","date":"2012-03-12T19:45:42.598Z","type":"message"}
{"nick":"mikeal","message":"this means i need to modify indutny_sleeping's server","date":"2012-03-12T19:45:52.744Z","type":"message"}
{"nick":"TooTallNate","message":"mikeal: i guess you'd wanna talk to indutny_sleeping about that","date":"2012-03-12T19:45:59.415Z","type":"message"}
{"nick":"mikeal","message":"to not use SSL and just assume every connection is SPDY","date":"2012-03-12T19:46:09.545Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: that does not have to be a problem though - people can just use cp.stdout and .stderr after the child exited","date":"2012-03-12T19:46:24.921Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: but it seems to me that it is the responsibility of any process that spawns detached children to make sure its detached child does not inherit stdio. That process is node in Elad's case, so we should fix it in node.","date":"2012-03-12T19:47:33.913Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: agreed","date":"2012-03-12T19:48:01.895Z","type":"message"}
{"nick":"paddybyers","date":"2012-03-12T19:48:52.018Z","type":"join"}
{"nick":"igorzi","message":"piscisaureus_: it does seem like a bug in node though that for non-node child processes a parent can't get an 'exit' event eventhough the child exited","date":"2012-03-12T19:49:00.882Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: well it depends on what semantics you expect :-)","date":"2012-03-12T19:49:33.894Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: conceptually, we now treat a child process as a \"group of processes\" that only really ends when all the children in the group have died.","date":"2012-03-12T19:50:42.858Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303isaacs\u000f \u000307master\u000f * r\u0002a10cfba\u000f \u000310\u000f/ (lib/module.js test/simple/test-module-loading.js)\u0002:\u000f module: remove 'exited', replace 'children' array - http://git.io/8R2-6Q","date":"2012-03-12T19:50:45.531Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303ukasz Walukiewicz\u000f \u000307master\u000f * r\u0002677c2c1\u000f \u000310\u000f/ (lib/url.js test/simple/test-url.js)\u0002:\u000f Ignore an empty port component when parsing URLs. - http://git.io/ElEYZg","date":"2012-03-12T19:50:45.934Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, but is that a feature or a bug? :)","date":"2012-03-12T19:51:19.973Z","type":"message"}
{"nick":"piscisaureus_","message":"good question","date":"2012-03-12T19:51:26.582Z","type":"message"}
{"nick":"piscisaureus_","message":"I think we did not wait for stdio to close in node 0.4","date":"2012-03-12T19:51:39.642Z","type":"message"}
{"nick":"piscisaureus_","message":"did anyone complain about that","date":"2012-03-12T19:51:47.584Z","type":"message"}
{"nick":"piscisaureus_","message":"it's something I'd like ryah to answer","date":"2012-03-12T19:51:55.346Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: in either case there should be a way to know if the actual child process exited","date":"2012-03-12T19:52:05.747Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: well, maybe we should fire 2 events","date":"2012-03-12T19:52:27.033Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah","date":"2012-03-12T19:52:36.407Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: you can always poll the child process with child.kill(0) but that's kind of backwards","date":"2012-03-12T19:52:58.174Z","type":"message"}
{"nick":"piscisaureus_","message":"plus it requires polling  :-)","date":"2012-03-12T19:53:03.108Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: 'exit' + 'exit-with-stdio-closed' :)","date":"2012-03-12T19:53:47.832Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: hmm, it seems that in 0.4 waiting for stdio also happened","date":"2012-03-12T19:54:02.376Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: we should recognize that what we do now is the most convenient and useful in 95% of the cases","date":"2012-03-12T19:55:19.108Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I would be fine with adding another event though","date":"2012-03-12T19:55:28.650Z","type":"message"}
{"nick":"piscisaureus_","message":"finding the right name is always the hardest part","date":"2012-03-12T19:55:56.092Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: true, but clearly there's someone who needs the actual process exit event, so it seems that there should be one","date":"2012-03-12T19:56:00.743Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: 2 events sounds like a fine idea.. do you think 'exit' should continue to mean what it meant before?","date":"2012-03-12T19:56:55.626Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: well, technically, I think \"exit\" fits the early case better\\]","date":"2012-03-12T19:57:28.440Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: the question is if we want to break the api","date":"2012-03-12T19:57:50.284Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, but that might break some existing apps that work with the existing impl","date":"2012-03-12T19:58:11.567Z","type":"message"}
{"nick":"AndreasMadsen","message":"why not just close the channels once ._internal.onexit is executed.","date":"2012-03-12T19:58:36.513Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: 1. the channels may not be drained","date":"2012-03-12T19:58:55.707Z","type":"message"}
{"nick":"igorzi","message":"AndreasMadsen: that's actually what Elad's patch does, but in libuv and only for windows","date":"2012-03-12T19:59:35.644Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: 2. the channels may stay open for a longer period of time, because the child process that exited spawned another child process which inherited the child's stdio, that did not yet exit","date":"2012-03-12T19:59:52.119Z","type":"message"}
{"nick":"piscisaureus_","message":"that must be very confusing","date":"2012-03-12T20:00:00.954Z","type":"message"}
{"nick":"AndreasMadsen","message":"But you can still wan't for the channel to close in _internal.onexit, right? -> https://github.com/AndreasMadsen/node-1/blob/child2/lib/child_process.js#L141L188","date":"2012-03-12T20:00:54.448Z","type":"message"}
{"nick":"AndreasMadsen","message":"close/drain","date":"2012-03-12T20:01:10.235Z","type":"message"}
{"nick":"piscisaureus_","message":"AndreasMadsen: I do not understand","date":"2012-03-12T20:02:08.456Z","type":"message"}
{"nick":"AvianFlu","message":"when I got my detached patch working in node, I put a special case in `maybeExit()` that emitted 'detached' instead of 'exit', and didn't wait for the other close events","date":"2012-03-12T20:02:47.779Z","type":"message"}
{"nick":"AvianFlu","message":"something like that would likely be a very easy fix, semantics aside","date":"2012-03-12T20:03:08.395Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah that's what we were discussing","date":"2012-03-12T20:03:17.832Z","type":"message"}
{"nick":"AndreasMadsen","message":"piscisaureus_: I think I'm confusing myself.","date":"2012-03-12T20:03:33.142Z","type":"message"}
{"nick":"piscisaureus_","message":"AvianFlu: although - I don't really like the name of 'detached' and the fact that detached processes emit 'detached' instead of 'exit'","date":"2012-03-12T20:03:48.391Z","type":"message"}
{"nick":"AvianFlu","message":"I'm definitely willing to negotiate where event names are concerned :D","date":"2012-03-12T20:04:05.803Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-12T20:04:11.386Z","type":"message"}
{"nick":"piscisaureus_","message":"good","date":"2012-03-12T20:04:12.447Z","type":"message"}
{"nick":"AvianFlu","message":"getting it working was much more important to me","date":"2012-03-12T20:04:13.560Z","type":"message"}
{"nick":"AvianFlu","message":"it was about 5 lines of js changes in total, too","date":"2012-03-12T20:04:33.819Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_ AvianFlu: how about 'exit' and 'stdioEnd' ?","date":"2012-03-12T20:04:55.091Z","type":"message"}
{"nick":"piscisaureus_","message":"stdioEnd nah","date":"2012-03-12T20:05:12.324Z","type":"message"}
{"nick":"piscisaureus_","message":"maybe just \"end\"","date":"2012-03-12T20:05:17.454Z","type":"message"}
{"nick":"piscisaureus_","message":"?","date":"2012-03-12T20:05:17.966Z","type":"message"}
{"nick":"AvianFlu","message":"this would be the child emitting end?","date":"2012-03-12T20:05:30.357Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T20:05:37.325Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#579 (master - 677c2c1 : ukasz Walukiewicz): The build is still failing.","date":"2012-03-12T20:05:37.524Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/c450ac3...677c2c1","date":"2012-03-12T20:05:37.525Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/848965","date":"2012-03-12T20:05:37.525Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T20:05:37.525Z","type":"part"}
{"nick":"AvianFlu","message":"that actually makes sense to me","date":"2012-03-12T20:05:48.880Z","type":"message"}
{"nick":"AvianFlu","message":"cause it's the end of whatever output you were waiting for","date":"2012-03-12T20:06:20.544Z","type":"message"}
{"nick":"igorzi","message":"ok, yeah that makes sense","date":"2012-03-12T20:06:32.792Z","type":"message"}
{"nick":"indexzero","date":"2012-03-12T20:09:44.060Z","type":"join"}
{"nick":"indexzero","reason":"Client Quit","date":"2012-03-12T20:09:52.339Z","type":"quit"}
{"nick":"TooTallNate","message":"mjr_: https://github.com/joyent/node/issues/2917#issuecomment-4460540","date":"2012-03-12T20:10:37.711Z","type":"message"}
{"nick":"TooTallNate","message":"lol","date":"2012-03-12T20:10:39.997Z","type":"message"}
{"nick":"AvianFlu","message":"TooTallNate, ++","date":"2012-03-12T20:11:28.516Z","type":"message"}
{"nick":"kohai","message":"TooTallNate has 8 beers","date":"2012-03-12T20:11:30.473Z","type":"message"}
{"nick":"AvianFlu","message":"that right there is some epic hax","date":"2012-03-12T20:11:33.978Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: https://gist.github.com/2024391 <-- would probably fix Elad's issue","date":"2012-03-12T20:11:35.680Z","type":"message"}
{"nick":"TooTallNate","message":"AvianFlu: :D","date":"2012-03-12T20:11:41.903Z","type":"message"}
{"nick":"mjr_","message":"TooTallNate: woah, does that work?","date":"2012-03-12T20:11:43.138Z","type":"message"}
{"nick":"TooTallNate","message":"ya","date":"2012-03-12T20:11:45.615Z","type":"message"}
{"nick":"mjr_","message":"ha, awesome","date":"2012-03-12T20:11:51.075Z","type":"message"}
{"nick":"TooTallNate","message":"full-featured tcp repl :p","date":"2012-03-12T20:12:00.074Z","type":"message"}
{"nick":"mjr_","message":"badass","date":"2012-03-12T20:12:05.692Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: what do you need to setRawMode command for? Seems unnecessary to me.","date":"2012-03-12T20:13:53.052Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: btw, do we know for a fact that elad is spawning node processes?  (is it in his pr?)","date":"2012-03-12T20:13:56.491Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: on the client?","date":"2012-03-12T20:14:10.156Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: it's not in his PR.","date":"2012-03-12T20:14:11.367Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: oh wait - right","date":"2012-03-12T20:14:31.431Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: sorry, my bad","date":"2012-03-12T20:14:35.749Z","type":"message"}
{"nick":"TooTallNate","message":":p","date":"2012-03-12T20:14:40.258Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm.. i don't see anything that says specifically if he's spawning node or not","date":"2012-03-12T20:15:46.806Z","type":"message"}
{"nick":"mraleph","reason":"Quit: Leaving.","date":"2012-03-12T20:16:40.731Z","type":"quit"}
{"nick":"piscisaureus_","message":"TooTallNate: I think we could move cursorTo, clearLine, moveCursor, emitKey to readline, or to a separate module.","date":"2012-03-12T20:17:09.649Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i think they're fine in tty, just we need to adjust tty.ReadStream and tty.WriteStream to accept a net.Socket instance","date":"2012-03-12T20:18:04.137Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: these are remnants of a historic situation where windows had completely different bindings for them.","date":"2012-03-12T20:18:06.457Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: basically it is now a \"vt100\" module and not a tty module :-)","date":"2012-03-12T20:18:47.767Z","type":"message"}
{"nick":"piscisaureus_","message":"I am not sure whether the keypress event and cursorTo etc are part of the public api - I think not.","date":"2012-03-12T20:19:29.767Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so, he is in the room next to you right?","date":"2012-03-12T20:19:48.095Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_ : nah, he's in israel :)","date":"2012-03-12T20:20:03.619Z","type":"message"}
{"nick":"piscisaureus_","message":"oh he really is :-)","date":"2012-03-12T20:20:16.238Z","type":"message"}
{"nick":"igorzi","message":"he usually is, but sometimes he comes to redmond","date":"2012-03-12T20:20:30.008Z","type":"message"}
{"nick":"piscisaureus_","message":"now it all makes sense","date":"2012-03-12T20:20:38.945Z","type":"message"}
{"nick":"piscisaureus_","message":"considering that \"ben\" is dutch for (I am)","date":"2012-03-12T20:20:53.236Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: so, 'exit' and 'end' ?","date":"2012-03-12T20:21:21.502Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: that would be best. But it implies a breaking change - so consult isaacs or node-core-committers","date":"2012-03-12T20:21:48.297Z","type":"message"}
{"nick":"piscisaureus_","message":"I would suggest the latter","date":"2012-03-12T20:22:02.399Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: k","date":"2012-03-12T20:22:11.061Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: it's a breaking change for elad to come to redmond?","date":"2012-03-12T20:24:16.470Z","type":"message"}
{"nick":"isaacs","message":"i'm lost.","date":"2012-03-12T20:24:17.735Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000307[21:20] <igorzi> \u000310piscisaureus\u000301_: so, 'exit' and 'end' ?","date":"2012-03-12T20:24:36.605Z","type":"message"}
{"nick":"piscisaureus_","message":"\u000310[21:21] <piscisaureus_> \u000301igorzi: that would be best. But it implies a breaking change - so consult isaacs or node-core-committers\u0003\u000301","date":"2012-03-12T20:24:36.800Z","type":"message"}
{"nick":"isaacs","message":"oh, child.on('exit') and child.on('end')","date":"2012-03-12T20:24:37.288Z","type":"message"}
{"nick":"isaacs","message":"got it","date":"2012-03-12T20:24:39.609Z","type":"message"}
{"nick":"isaacs","message":"end = exit + stdio closed?","date":"2012-03-12T20:24:45.277Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes","date":"2012-03-12T20:24:50.918Z","type":"message"}
{"nick":"isaacs","message":"so, stdio can only stay opened if a grandchild shares them, yes?","date":"2012-03-12T20:25:08.778Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: yes, or if the immediate child fucks up","date":"2012-03-12T20:25:26.412Z","type":"message"}
{"nick":"isaacs","message":"fucks up?  how?","date":"2012-03-12T20:25:42.412Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: well if it does not set cloexec","date":"2012-03-12T20:29:02.840Z","type":"message"}
{"nick":"piscisaureus_","message":"oh wait","date":"2012-03-12T20:29:08.350Z","type":"message"}
{"nick":"piscisaureus_","message":"on unix this is not so much of problem","date":"2012-03-12T20:29:21.652Z","type":"message"}
{"nick":"igorzi","message":"isaacs: the only controversial part is whether the current 'exit' event continues to have the same meaning or whether it starts meaning something else in v0.8","date":"2012-03-12T20:30:19.342Z","type":"message"}
{"nick":"isaacs","message":"Hm.  so, in 0.6, it doesn't emit exit until stdio closes, yes?","date":"2012-03-12T20:32:16.983Z","type":"message"}
{"nick":"igorzi","message":"isaacs: correct","date":"2012-03-12T20:32:46.204Z","type":"message"}
{"nick":"isaacs","message":"it might be good to have 'exit' mean 'the process exited' and a 'close' event that means exit + stdio closed","date":"2012-03-12T20:33:07.721Z","type":"message"}
{"nick":"isaacs","message":"sort of like how streams have 'end' and sometiems also 'close'","date":"2012-03-12T20:33:19.410Z","type":"message"}
{"nick":"isaacs","message":"it'll be the same thing in the vast majority of cases anyway.","date":"2012-03-12T20:33:51.497Z","type":"message"}
{"nick":"igorzi","message":"isaacs: true","date":"2012-03-12T20:33:57.998Z","type":"message"}
{"nick":"igorzi","message":"isaacs: so you want 'exit' + 'close' instead of 'exit' + 'end' ?","date":"2012-03-12T20:34:33.757Z","type":"message"}
{"nick":"piscisaureus_","message":"I'm down with that","date":"2012-03-12T20:34:44.484Z","type":"message"}
{"nick":"piscisaureus_","message":"I have to go for a while","date":"2012-03-12T20:37:03.923Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: ttyl","date":"2012-03-12T20:37:33.031Z","type":"message"}
{"nick":"isaacs","message":"yeah, exit + close.","date":"2012-03-12T20:38:12.325Z","type":"message"}
{"nick":"isaacs","message":"let's do it","date":"2012-03-12T20:38:14.271Z","type":"message"}
{"nick":"isaacs","message":"igorzi: you writing the patch for this?","date":"2012-03-12T20:38:25.892Z","type":"message"}
{"nick":"igorzi","message":"isaacs: yep, i'll do it","date":"2012-03-12T20:38:38.986Z","type":"message"}
{"nick":"isaacs","message":"kewl, thanks","date":"2012-03-12T20:38:41.731Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_, bnoordhuis, igorzi: anything you want in 0.7.6, land in master now.","date":"2012-03-12T20:39:03.408Z","type":"message"}
{"nick":"isaacs","message":"i'm going to branch tonight","date":"2012-03-12T20:39:08.718Z","type":"message"}
{"nick":"TooTallNate","message":"yyaaayyy","date":"2012-03-12T20:39:17.231Z","type":"message"}
{"nick":"TooTallNate","message":"it's been a while :p","date":"2012-03-12T20:39:22.513Z","type":"message"}
{"nick":"isaacs","message":"i'm going to try to finish that npm windows thingie first.","date":"2012-03-12T20:39:26.710Z","type":"message"}
{"nick":"isaacs","message":"maybe also the node-gyp stuff","date":"2012-03-12T20:39:38.921Z","type":"message"}
{"nick":"igorzi","message":"isaacs: the windows thingie -> that 5 sec workaround?","date":"2012-03-12T20:39:55.541Z","type":"message"}
{"nick":"isaacs","message":"igorzi: no, --strip-components and unpack in place.","date":"2012-03-12T20:40:05.149Z","type":"message"}
{"nick":"isaacs","message":"it's not actually that hard.","date":"2012-03-12T20:40:15.143Z","type":"message"}
{"nick":"igorzi","message":"isaacs: right, unpack in place is the workaround for the 5 sec. issue","date":"2012-03-12T20:40:33.184Z","type":"message"}
{"nick":"isaacs","message":"right :()","date":"2012-03-12T20:40:39.300Z","type":"message"}
{"nick":"isaacs","message":":)","date":"2012-03-12T20:40:40.462Z","type":"message"}
{"nick":"isaacs","message":"i thought you meant the \"try again until it works, for 5 seconds\" workaround","date":"2012-03-12T20:40:56.656Z","type":"message"}
{"nick":"igorzi","message":"isaacs: :) that would land in v0.6 as well, right?","date":"2012-03-12T20:40:57.566Z","type":"message"}
{"nick":"isaacs","message":"igorzi: it's just an npm fix, so yes.","date":"2012-03-12T20:41:07.200Z","type":"message"}
{"nick":"isaacs","message":"0.6.13 will basically just be dependency updating.","date":"2012-03-12T20:41:15.085Z","type":"message"}
{"nick":"igorzi","message":"isaacs: nice..","date":"2012-03-12T20:41:32.632Z","type":"message"}
{"nick":"piscisaureus_","reason":"Ping timeout: 260 seconds","date":"2012-03-12T20:41:46.381Z","type":"quit"}
{"nick":"isaacs","message":"igorzi: and these:","date":"2012-03-12T20:41:57.271Z","type":"message"}
{"nick":"isaacs","message":"* 3733a85 Bert Belder (HEAD, ry/v0.6, ry-push/v0.6, v0.6) Windows: include syscall in fs errors (5 days ago)","date":"2012-03-12T20:41:59.297Z","type":"message"}
{"nick":"isaacs","message":"* daaccc7 Bert Belder uv: upgrade to 1ac71a31 (5 days ago)","date":"2012-03-12T20:41:59.493Z","type":"message"}
{"nick":"igorzi","message":"isaacs: can you pls let me know when you have the unpack in place working, so that i can verify that it resolves this windows issue","date":"2012-03-12T20:42:07.998Z","type":"message"}
{"nick":"isaacs","message":"yes, i will","date":"2012-03-12T20:42:16.311Z","type":"message"}
{"nick":"mjr_","message":"TooTallNate: I tried your fix, and it works remarkably well.","date":"2012-03-12T20:53:47.121Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: :D i've crashed it a few times but ya, pretty cool","date":"2012-03-12T20:54:14.358Z","type":"message"}
{"nick":"mjr_","message":"oh yeah, what are the risks?","date":"2012-03-12T20:54:25.621Z","type":"message"}
{"nick":"TooTallNate","message":"just incomplete impl","date":"2012-03-12T20:54:37.081Z","type":"message"}
{"nick":"TooTallNate","message":"moveLeft isn't set and some stuff","date":"2012-03-12T20:54:47.297Z","type":"message"}
{"nick":"TooTallNate","message":"(try moving the cursor to the left)","date":"2012-03-12T20:54:55.924Z","type":"message"}
{"nick":"mjr_","message":"oh, wow","date":"2012-03-12T20:55:11.779Z","type":"message"}
{"nick":"mjr_","message":"and because we are in raw mode, you can't exit","date":"2012-03-12T20:55:19.178Z","type":"message"}
{"nick":"mjr_","message":"heh","date":"2012-03-12T20:55:24.461Z","type":"message"}
{"nick":"mjr_","message":"TypeError: Object #<Socket> has no method 'moveCursor'","date":"2012-03-12T20:55:50.358Z","type":"message"}
{"nick":"piscisaureus_","date":"2012-03-12T20:56:21.604Z","type":"join"}
{"nick":"TooTallNate","message":"mjr_: i have some fixes that address that","date":"2012-03-12T20:56:35.823Z","type":"message"}
{"nick":"TooTallNate","message":"i'll update the comment","date":"2012-03-12T20:56:38.820Z","type":"message"}
{"nick":"TooTallNate","message":"but actually knowing when .exit is fired is impossible :(","date":"2012-03-12T20:56:57.044Z","type":"message"}
{"nick":"mjr_","message":"being able to do tab completion is such a gigantic win.","date":"2012-03-12T20:57:03.111Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: i updated the comment, look at the client.js","date":"2012-03-12T20:59:01.098Z","type":"message"}
{"nick":"mjr_","message":"nice","date":"2012-03-12T21:00:18.917Z","type":"message"}
{"nick":"TooTallNate","message":"mjr_: actually, change process.on('exit') to sock.on('end')","date":"2012-03-12T21:00:55.436Z","type":"message"}
{"nick":"TooTallNate","message":"here's the \"clean\" fixes i think we need to make to make this work right:","date":"2012-03-12T21:03:03.423Z","type":"message"}
{"nick":"TooTallNate","message":"https://github.com/joyent/node/issues/2917#issuecomment-4461382","date":"2012-03-12T21:03:03.632Z","type":"message"}
{"nick":"TooTallNate","message":"^ if you guys think these would be good changes I can do them","date":"2012-03-12T21:10:07.131Z","type":"message"}
{"nick":"mjr_","message":"Personally I think those things are awesome, but I'm not isaacs.","date":"2012-03-12T21:18:12.534Z","type":"message"}
{"nick":"bnoordhuis","message":"https://github.com/isaacs/node/commit/a10cfba766e2d219b311f12d7854ff448d0d3490 <- the commit log mentions what but not why","date":"2012-03-12T21:22:07.168Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: ^","date":"2012-03-12T21:22:26.885Z","type":"message"}
{"nick":"bnoordhuis","message":"i can't tell from the diff why that change is good/necessary","date":"2012-03-12T21:22:44.529Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: removing exited is just cleanup.  it's a vestigial flag that is never set to anything other than false.","date":"2012-03-12T21:23:31.242Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: the module.children array was originally designed to contain a list of the child modules pulled in by the current one.","date":"2012-03-12T21:24:04.503Z","type":"message"}
{"nick":"isaacs","message":"it's handy for some meta cases, and for building alternative module loading schemes.","date":"2012-03-12T21:24:21.936Z","type":"message"}
{"nick":"isaacs","message":"somewhere along the road, it disappeared in a refactor.","date":"2012-03-12T21:24:30.657Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: mjr_: I am okay with most of the readline/tty refactors but I don't like the idea of having tty streams accept an existing socket object","date":"2012-03-12T21:25:09.132Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: if you feel this should be removed, i'd be easy to convince.  we shoudl remove it from the docs as well, in that case.","date":"2012-03-12T21:25:10.773Z","type":"message"}
{"nick":"mjr_","message":"piscisaureus_: yeah, that part is a little odd.","date":"2012-03-12T21:26:05.475Z","type":"message"}
{"nick":"AndreasMadsen","reason":"Remote host closed the connection","date":"2012-03-12T21:26:41.309Z","type":"quit"}
{"nick":"piscisaureus_","message":"TooTallNate: mjr_: rather, I think you should factor out the vt100 and ansi stuff into a separate module or maybe a mixin","date":"2012-03-12T21:27:56.765Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: okay. but you should have mentioned that in the commit log :)","date":"2012-03-12T21:31:16.429Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: ok.  thanks for the note :)","date":"2012-03-12T21:32:22.065Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: i actually pushed it by half-accident.","date":"2012-03-12T21:32:30.233Z","type":"message"}
{"nick":"isaacs","message":"meant to just pull in Lukasz's url parsing thing, but i was being lazy and not branching","date":"2012-03-12T21:32:54.738Z","type":"message"}
{"nick":"bnoordhuis","message":"happens to the best, yours truly included","date":"2012-03-12T21:33:33.366Z","type":"message"}
{"nick":"theCole","date":"2012-03-12T21:36:20.426Z","type":"part"}
{"nick":"piscisaureus_","message":"mjr_: also, I don't know if you saw it, but Erik Corry chopped up v8 to make it support non-bmp characters when converting to/from utf8","date":"2012-03-12T21:36:37.206Z","type":"message"}
{"nick":"mjr_","message":"Yeah, isaacs pointed me to his tweet referencing that change.","date":"2012-03-12T21:37:01.539Z","type":"message"}
{"nick":"mjr_","message":"Is that in a V8 release yet?","date":"2012-03-12T21:37:07.240Z","type":"message"}
{"nick":"piscisaureus_","message":"mjr_: we're not completely done yet - my prototype showed that a major speed improvement is also possible so that's still in the works","date":"2012-03-12T21:37:16.729Z","type":"message"}
{"nick":"mjr_","message":"good news all around","date":"2012-03-12T21:37:26.424Z","type":"message"}
{"nick":"piscisaureus_","message":"but it seems you have to go drink scotch with him","date":"2012-03-12T21:37:34.025Z","type":"message"}
{"nick":"mjr_","message":"done","date":"2012-03-12T21:37:42.676Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: my rule of thumb for lib/module.js is that if a change is in the docs already, and 4 people ask for it, independent of one another, then we can make the requested change.","date":"2012-03-12T21:38:27.409Z","type":"message"}
{"nick":"bnoordhuis","message":"mikeal: why would a spdy client require changes to the core?","date":"2012-03-12T21:40:45.133Z","type":"message"}
{"nick":"pietern","date":"2012-03-12T21:52:29.697Z","type":"join"}
{"nick":"isaacs","reason":"Remote host closed the connection","date":"2012-03-12T21:52:38.837Z","type":"quit"}
{"nick":"rendar","date":"2012-03-12T21:52:50.880Z","type":"quit"}
{"nick":"isaacs","date":"2012-03-12T21:52:53.580Z","type":"join"}
{"nick":"piscisaureus_","message":"bnoordhuis: on unix, child processes exit when the parent process exits? What is the mechanism? SIGPIPE, or SIGHUP, or what?","date":"2012-03-12T21:56:41.209Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: they don't necessarily","date":"2012-03-12T21:57:01.409Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: ah, okay. So it is really the same situation as windows","date":"2012-03-12T21:57:28.048Z","type":"message"}
{"nick":"bnoordhuis","message":"is it?","date":"2012-03-12T21:57:41.303Z","type":"message"}
{"nick":"bnoordhuis","action":"doesn't know how it works on windows","date":"2012-03-12T21:57:46.399Z","type":"action"}
{"nick":"dap","message":"piscisaureus_: I believe when the session leader dies, the system sends a SIGHUP, but that's not necessarily going to happen whenever any parent dies.","date":"2012-03-12T21:58:00.425Z","type":"message"}
{"nick":"piscisaureus_","message":"bnoordhuis: I wonder why on windows it seems to happen much more often that a node test leaves a stray child process behind.","date":"2012-03-12T21:58:08.257Z","type":"message"}
{"nick":"dap","message":"yeah, according to linux exit(3): \"If the process is a session leader and its controlling terminal is the controlling terminal of the session, then each process in the foreground process group of this controlling terminal is sent a SIGHUP signal...\"","date":"2012-03-12T21:58:55.087Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: this happens to me with test-debugger-utf8 about 2/3 of the time","date":"2012-03-12T21:58:59.707Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: (on osx)","date":"2012-03-12T21:59:06.105Z","type":"message"}
{"nick":"dap","message":"you can find out if this is what's happening on osx by dtracing proc:::signal-send.","date":"2012-03-12T21:59:51.122Z","type":"message"}
{"nick":"piscisaureus_","message":"I wonder if we could make node create controlling terminals for the sake of killing child processes on a crash","date":"2012-03-12T22:00:22.516Z","type":"message"}
{"nick":"piscisaureus_","message":"like, as a spawn() options","date":"2012-03-12T22:00:31.332Z","type":"message"}
{"nick":"piscisaureus_","message":"*option","date":"2012-03-12T22:00:33.976Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: \"controlling terminals\"?","date":"2012-03-12T22:00:40.548Z","type":"message"}
{"nick":"bnoordhuis","message":"piscisaureus_: you mean call setsid() first?","date":"2012-03-12T22:00:52.619Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah. or would that be bad?","date":"2012-03-12T22:01:11.872Z","type":"message"}
{"nick":"piscisaureus_","message":"never mind actually, sounds painful and low-prio","date":"2012-03-12T22:01:24.813Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i kinda like the idea of a mixin...","date":"2012-03-12T22:11:04.772Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-12T22:11:44.957Z","type":"quit"}
{"nick":"TooTallNate","message":"piscisaureus_: and i agree, we shouldn't allow tty to accepting existing sockets","date":"2012-03-12T22:11:56.040Z","type":"message"}
{"nick":"TooTallNate","message":"in essense *lie*","date":"2012-03-12T22:12:01.648Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-12T22:12:33.550Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: pls review --> https://github.com/igorzi/libuv/commit/861b286f48c23a75ef34cf64709009685ac7da1a","date":"2012-03-12T22:12:38.478Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: or something like vt100parser","date":"2012-03-12T22:12:54.851Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: (new Vt100Parser(process.stdin)).on('keypress, function() { ...","date":"2012-03-12T22:13:43.039Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: ok, and Vt100Writer?","date":"2012-03-12T22:14:10.879Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: (new Vt100Writer(process.stdout)).moveLeft()","date":"2012-03-12T22:14:29.542Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: so, `node-gyp configure` runs `node-gyp install` automatically if necessary, yes?","date":"2012-03-12T22:14:34.415Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: yes","date":"2012-03-12T22:14:41.582Z","type":"message"}
{"nick":"isaacs","message":"kew","date":"2012-03-12T22:14:45.338Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: configure can also accept a --target=v0.7.0 flag (or whatever) to compile for a specific version other than the current one","date":"2012-03-12T22:15:22.502Z","type":"message"}
{"nick":"TooTallNate","message":"but i think that won't be needed in most cases","date":"2012-03-12T22:15:31.309Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: I am not sure whether vt100writer is an appropriate name for that... could be ansiwriter or something.","date":"2012-03-12T22:15:37.297Z","type":"message"}
{"nick":"TooTallNate","message":"lol, we should just use my ansi.js :p","date":"2012-03-12T22:16:04.842Z","type":"message"}
{"nick":"TooTallNate","message":"basically already what we need for the writer :D","date":"2012-03-12T22:16:20.012Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: but I have a more severe concern. It looks clean as such. But this is trolling for infinite bikeshedding","date":"2012-03-12T22:16:21.235Z","type":"message"}
{"nick":"piscisaureus_","message":"yes, there we go","date":"2012-03-12T22:16:31.620Z","type":"message"}
{"nick":"piscisaureus_","message":"ansi.js is really nice but I don't like to have it in core","date":"2012-03-12T22:16:43.840Z","type":"message"}
{"nick":"TooTallNate","message":"i know, i was kidding","date":"2012-03-12T22:16:53.731Z","type":"message"}
{"nick":"piscisaureus_","message":"I also know, but you see my concern","date":"2012-03-12T22:17:03.239Z","type":"message"}
{"nick":"piscisaureus_","message":"we want all the stuff in there that's needed for readline","date":"2012-03-12T22:17:14.355Z","type":"message"}
{"nick":"piscisaureus_","message":"and nothing more :-)","date":"2012-03-12T22:17:18.938Z","type":"message"}
{"nick":"piscisaureus_","message":"but it looks clean, so go ahead","date":"2012-03-12T22:17:41.456Z","type":"message"}
{"nick":"TooTallNate","message":"so then maybe we just move these functions to readline","date":"2012-03-12T22:17:44.376Z","type":"message"}
{"nick":"TooTallNate","message":"and leave it at that","date":"2012-03-12T22:17:47.180Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: yeah, that would be cool.","date":"2012-03-12T22:17:56.099Z","type":"message"}
{"nick":"piscisaureus_","message":"benvie will kill you","date":"2012-03-12T22:18:02.368Z","type":"message"}
{"nick":"piscisaureus_","message":"so maybe put them in module.exports but not document it","date":"2012-03-12T22:18:15.644Z","type":"message"}
{"nick":"TooTallNate","message":"sure","date":"2012-03-12T22:18:32.647Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: sounds like a plan","date":"2012-03-12T22:18:42.895Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: GetWindowSize needs to remain in tty.js btw","date":"2012-03-12T22:19:24.548Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: ideally SetRawMode would also be a member function of tty.ReadStream","date":"2012-03-12T22:19:42.709Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: ya, getWindowSize() and setRawMode() are the other interesting ones","date":"2012-03-12T22:19:43.060Z","type":"message"}
{"nick":"TooTallNate","message":"i agree","date":"2012-03-12T22:19:50.152Z","type":"message"}
{"nick":"TooTallNate","message":"readline should check typeof stream.setRawMode == 'function'","date":"2012-03-12T22:20:15.715Z","type":"message"}
{"nick":"TooTallNate","message":"and call it only when available","date":"2012-03-12T22:20:20.109Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: and I think we should re-emit SIGWICH on tty.WriteStream objects as a 'resize' event","date":"2012-03-12T22:20:33.073Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: on windows we can also support resize events (currently we don't) but they don't arrive as signals.","date":"2012-03-12T22:20:52.312Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: what do you think about process.stdout.rows, process.stdout.columns","date":"2012-03-12T22:21:12.767Z","type":"message"}
{"nick":"TooTallNate","message":"and making them update on resize","date":"2012-03-12T22:21:23.707Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: use a getter?","date":"2012-03-12T22:21:25.280Z","type":"message"}
{"nick":"piscisaureus_","message":"ah","date":"2012-03-12T22:21:30.745Z","type":"message"}
{"nick":"TooTallNate","message":"we could still emit a 'resize' event","date":"2012-03-12T22:21:31.104Z","type":"message"}
{"nick":"TooTallNate","message":"no, no getters","date":"2012-03-12T22:21:35.525Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: so you would populate them when node starts up?","date":"2012-03-12T22:21:49.531Z","type":"message"}
{"nick":"TooTallNate","message":"cause calling getWindowSize() all over the place seems redundant","date":"2012-03-12T22:21:54.460Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: sure","date":"2012-03-12T22:21:57.435Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah, agreed","date":"2012-03-12T22:22:01.957Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: or a lazy getter","date":"2012-03-12T22:22:03.777Z","type":"message"}
{"nick":"piscisaureus_","message":"and so how would you resize the window?","date":"2012-03-12T22:22:08.714Z","type":"message"}
{"nick":"TooTallNate","message":"well i don't think we even have that functionality now","date":"2012-03-12T22:22:19.641Z","type":"message"}
{"nick":"TooTallNate","message":"... but good question","date":"2012-03-12T22:22:23.753Z","type":"message"}
{"nick":"piscisaureus_","message":"oh heh","date":"2012-03-12T22:22:24.982Z","type":"message"}
{"nick":"piscisaureus_","message":"well, I guess that's fine then.","date":"2012-03-12T22:22:33.456Z","type":"message"}
{"nick":"TooTallNate","message":"suggestions?","date":"2012-03-12T22:22:33.820Z","type":"message"}
{"nick":"piscisaureus_","message":"must be removed at some point","date":"2012-03-12T22:22:36.978Z","type":"message"}
{"nick":"piscisaureus_","message":"don't do anything about it just yet","date":"2012-03-12T22:22:42.262Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't think node should be so bold to resize the users terminal in the first place","date":"2012-03-12T22:22:55.047Z","type":"message"}
{"nick":"TooTallNate","message":"it just throws \"implement me\" curently :p","date":"2012-03-12T22:23:03.109Z","type":"message"}
{"nick":"piscisaureus_","message":"ghe lol","date":"2012-03-12T22:23:09.802Z","type":"message"}
{"nick":"TooTallNate","message":"also, exports.getWindowSize() needs to go, since we have it on WriteStream","date":"2012-03-12T22:23:30.252Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-12T22:23:36.973Z","type":"message"}
{"nick":"TooTallNate","message":"since it just hard-coded returns 80","date":"2012-03-12T22:23:39.089Z","type":"message"}
{"nick":"TooTallNate","message":"haha","date":"2012-03-12T22:23:40.499Z","type":"message"}
{"nick":"piscisaureus_","message":"lol","date":"2012-03-12T22:23:43.853Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't want to touch 0.6 for this","date":"2012-03-12T22:23:54.947Z","type":"message"}
{"nick":"piscisaureus_","message":"but yeah this should definitely be cleaned up for 0.8","date":"2012-03-12T22:24:03.802Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i don't think anyone wants to touch 0.6 anymore :D","date":"2012-03-12T22:24:09.271Z","type":"message"}
{"nick":"piscisaureus_","message":"so if you want to take it, you're welcome","date":"2012-03-12T22:24:11.222Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: i'd be down for 'resize' on windows too, even though i can never resize that damn window horizontally :D","date":"2012-03-12T22:24:30.694Z","type":"message"}
{"nick":"piscisaureus_","message":"TooTallNate: also remove isatty and make setRawMode a member function, not a \"global\"","date":"2012-03-12T22:24:44.304Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: also would be nice to query current \"raw mode\" status","date":"2012-03-12T22:25:06.514Z","type":"message"}
{"nick":"TooTallNate","message":"we could probably just use a simple variable for that","date":"2012-03-12T22:25:29.681Z","type":"message"}
{"nick":"TooTallNate","message":"unless there's a way to start node in raw mode","date":"2012-03-12T22:25:38.787Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: https://github.com/bnoordhuis/node/commit/531eba1 <- review?","date":"2012-03-12T22:25:38.984Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: i fixed my pull on that too %^","date":"2012-03-12T22:27:44.119Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hey, can you review this pls?  https://github.com/igorzi/libuv/commit/861b286f48c23a75ef34cf64709009685ac7da1a","date":"2012-03-12T22:27:47.136Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: ok","date":"2012-03-12T22:29:39.200Z","type":"message"}
{"nick":"isaacs","message":"bnoordhuis: lgtm","date":"2012-03-12T22:29:39.717Z","type":"message"}
{"nick":"bnoordhuis","message":"isaacs: thanks","date":"2012-03-12T22:30:10.600Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Nathan Rajlich\u000f \u000307master\u000f * r\u00029701f1c\u000f \u000310\u000f/ src/node.cc \u0002:\u000f process: expose the zlib version in use in process.versions - http://git.io/K5jN7w","date":"2012-03-12T22:30:25.989Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f \u000303Ben Noordhuis\u000f \u000307master\u000f * r\u0002531eba1\u000f \u000310\u000f/ src/node_zlib.cc \u0002:\u000f ","date":"2012-03-12T22:30:28.073Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f zlib: fix include of zlib.h","date":"2012-03-12T22:30:28.277Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f Including <zlib.h> may lead to false positives when the user specifies a bad","date":"2012-03-12T22:30:28.277Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f path in `./configure --shared-zlib --shared-zlib-includes=/path/to/zlib`. If","date":"2012-03-12T22:30:28.277Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f a zlib.h exists somewhere on the system include path (common on UNIX systems),","date":"2012-03-12T22:30:28.277Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f the compiler will include that instead, possibly leading to header mismatch","date":"2012-03-12T22:30:28.719Z","type":"message"}
{"nick":"CIA-99","message":"\u0002node:\u000f errors that are hard to debug. - http://git.io/8N3kIQ","date":"2012-03-12T22:30:28.920Z","type":"message"}
{"nick":"bnoordhuis","message":"TooTallNate: ^","date":"2012-03-12T22:30:30.014Z","type":"message"}
{"nick":"TooTallNate","message":"bnoordhuis: thanks :)","date":"2012-03-12T22:30:56.116Z","type":"message"}
{"nick":"TooTallNate","message":"piscisaureus_: igorzi: so i think we should merge this you guys: https://github.com/joyent/node/pull/2907","date":"2012-03-12T22:32:14.856Z","type":"message"}
{"nick":"TooTallNate","message":"^ cause it seems otherwise people with msvs 2008 and 2010 installed get problems","date":"2012-03-12T22:32:25.388Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: ^-- what do you think","date":"2012-03-12T22:33:47.076Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: also, UV_IPC_UV_STREAM really means \"tcp listening socket\" now, right?","date":"2012-03-12T22:34:03.491Z","type":"message"}
{"nick":"piscisaureus_","message":"should we not rename that flag?","date":"2012-03-12T22:34:09.606Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: do you think npm should just bundle node-gyp?","date":"2012-03-12T22:36:06.083Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: it seems silly to make the user do another step","date":"2012-03-12T22:36:14.165Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: yeah, good point.. i'll rename","date":"2012-03-12T22:37:02.899Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i guess i don't really have a preferrence, but if we're gonna try to mostly do precompileds someday then it may not be needed","date":"2012-03-12T22:37:30.285Z","type":"message"}
{"nick":"isaacs","message":"yeah","date":"2012-03-12T22:37:37.950Z","type":"message"}
{"nick":"TooTallNate","message":"maybe for a for now ya and once we're ready we could make it optional","date":"2012-03-12T22:38:13.099Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: what does $(Configuration) resolve to (when vs2008+2010 are installed)?","date":"2012-03-12T22:38:41.378Z","type":"message"}
{"nick":"TooTallNate","message":"igorzi: apparently an empty string, but i haven't reproduced, see https://github.com/TooTallNate/node-gyp/issues/35","date":"2012-03-12T22:39:15.433Z","type":"message"}
{"nick":"TooTallNate","message":"the change works for me on machines with only 2010 express installed, but we could just as easily say his setup isn't supported","date":"2012-03-12T22:40:02.496Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: what happens now if the user tries to share an unconnected socket?","date":"2012-03-12T22:41:09.613Z","type":"message"}
{"nick":"igorzi","message":"TooTallNate: nah, 2008+2010 on the same machine is pretty common.  lgtm if it fixes the issue","date":"2012-03-12T22:41:20.711Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: How does node-gyp respond if the user doens't have python installed on their system?","date":"2012-03-12T22:41:23.837Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm, you mean a socket that was just uv_tcp_init'ed?","date":"2012-03-12T22:42:36.179Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: right now i think it bails with the default \"python not found\" message, but i've been meaning to add a \"which python\" command in there to check for it first","date":"2012-03-12T22:42:56.300Z","type":"message"}
{"nick":"isaacs","message":"TooTallNate: that'd be good","date":"2012-03-12T22:43:25.989Z","type":"message"}
{"nick":"TooTallNate","message":"isaacs: i'm also gonna add a python version check since gyp doesn't support python 3","date":"2012-03-12T22:43:57.844Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yup.","date":"2012-03-12T22:43:58.388Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm, i guess we're at the mercy of WSADuplicateSocketW.. you think we should explicitly check?","date":"2012-03-12T22:44:45.347Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T22:44:59.745Z","type":"join"}
{"nick":"travis-ci","message":"[travis-ci] joyent/node#580 (master - 9701f1c : Nathan Rajlich): The build is still failing.","date":"2012-03-12T22:44:59.940Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Change view : https://github.com/joyent/node/compare/677c2c1...9701f1c","date":"2012-03-12T22:44:59.940Z","type":"message"}
{"nick":"travis-ci","message":"[travis-ci] Build details : http://travis-ci.org/joyent/node/builds/850505","date":"2012-03-12T22:44:59.940Z","type":"message"}
{"nick":"travis-ci","date":"2012-03-12T22:44:59.941Z","type":"part"}
{"nick":"paddybyers","date":"2012-03-12T22:46:23.392Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: well, I am pretty confident that WSADuplicateSocketW\u0003 will just work fine. The question is how libuv will behave.","date":"2012-03-12T22:52:52.455Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so I think we should explicitly check or at least be sure that it won't corrupt your heap","date":"2012-03-12T22:53:16.946Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T22:53:36.915Z","type":"quit"}
{"nick":"igorzi","message":"piscisaureus_: yeah, i also didn't make uv_tcp_connect work with emluate_iocp (assuming that code-path was not possible).. so i need to fix that as well","date":"2012-03-12T22:53:58.834Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I think it's fine btw to not support that case. If one process connects the socket, the other side won't be aware.","date":"2012-03-12T22:54:07.496Z","type":"message"}
{"nick":"piscisaureus_","message":"so libuv's internal state will be messed up","date":"2012-03-12T22:54:15.596Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: also, since we shutdown() on uv_close it may behave funky","date":"2012-03-12T22:55:11.015Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: if one end closes the handle, it will become unwritable to to the other side.","date":"2012-03-12T22:55:26.989Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: hmm, crap.. good point","date":"2012-03-12T22:55:38.790Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I don't know if we have a better solution for that. I tried to find one but I was never able to find it","date":"2012-03-12T22:56:08.655Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: we really should only call shutdown() if the kernel refcount is about to become 0, right?","date":"2012-03-12T22:56:09.721Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yeah.","date":"2012-03-12T22:56:17.461Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: or find another trick to trigger linger behavior","date":"2012-03-12T22:56:27.891Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: because it is really just a hack to make windows behave like unices","date":"2012-03-12T22:56:44.175Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: the windows source code would really help here :-p","date":"2012-03-12T22:57:11.749Z","type":"message"}
{"nick":"piscisaureus_","message":"I don't have AFD sources","date":"2012-03-12T22:57:38.587Z","type":"message"}
{"nick":"paddybyers","reason":"Quit: paddybyers","date":"2012-03-12T22:58:13.897Z","type":"quit"}
{"nick":"piscisaureus_","message":"isaacs: what is the bash equivalent of %*, e.g. forward all command line arguments from a shell script","date":"2012-03-12T23:03:07.401Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: so I want to create a shim that calls python foo.py <<command line arguments>>","date":"2012-03-12T23:03:39.085Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: \"$@\"","date":"2012-03-12T23:03:55.280Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: or $*, but \"$@\" is almost alwyas what you want","date":"2012-03-12T23:04:06.389Z","type":"message"}
{"nick":"piscisaureus_","message":"right","date":"2012-03-12T23:04:06.866Z","type":"message"}
{"nick":"piscisaureus_","message":"thanks","date":"2012-03-12T23:04:11.794Z","type":"message"}
{"nick":"isaacs","message":"np","date":"2012-03-12T23:04:14.474Z","type":"message"}
{"nick":"piscisaureus_","message":"it was the missing link in porting git-cl to windows :-)","date":"2012-03-12T23:04:24.541Z","type":"message"}
{"nick":"piscisaureus_","message":"isaacs: oh not really. What is the equivalent of %~dp0?","date":"2012-03-12T23:04:55.534Z","type":"message"}
{"nick":"piscisaureus_","message":"e.g. the directory that the shell script is in?","date":"2012-03-12T23:05:03.593Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: \"`dirname \"$0\"`\"","date":"2012-03-12T23:05:22.697Z","type":"message"}
{"nick":"isaacs","message":"piscisaureus_: $0 is the shell script","date":"2012-03-12T23:05:30.319Z","type":"message"}
{"nick":"isaacs","message":"but if you want to resolve symlinks and such, it can be a bit more complicated.","date":"2012-03-12T23:05:43.795Z","type":"message"}
{"nick":"piscisaureus_","message":"works \\o/ - thanks isaacs","date":"2012-03-12T23:11:45.505Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: we could try the suggestion from the third comment on this page -> http://msdn.microsoft.com/en-us/library/windows/desktop/ms738547%28v=vs.85%29.aspx","date":"2012-03-12T23:15:29.698Z","type":"message"}
{"nick":"piscisaureus_","message":"hmm","date":"2012-03-12T23:15:37.397Z","type":"message"}
{"nick":"piscisaureus_","message":"that would also disconnect the socket :-/","date":"2012-03-12T23:15:44.260Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: this didn't work when we tried it? http://msdn.microsoft.com/en-us/library/windows/desktop/ms739165(v=vs.85).aspx","date":"2012-03-12T23:16:22.034Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: that seems to be ignored when shutdown isn't called","date":"2012-03-12T23:16:41.909Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: yes, I tried that","date":"2012-03-12T23:16:48.309Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: linger is enabled by default","date":"2012-03-12T23:16:54.321Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: we could retrieve the object handle count with NtQueryObject","date":"2012-03-12T23:28:42.012Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: although that probably would not fly with non-ifs handles","date":"2012-03-12T23:29:06.013Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: we can disallow sending connections, which are non-ifs handles","date":"2012-03-12T23:30:00.000Z","type":"message"}
{"nick":"piscisaureus_","message":"yeah","date":"2012-03-12T23:30:25.623Z","type":"message"}
{"nick":"piscisaureus_","message":"or just not call shutdown() if the socket has been shared","date":"2012-03-12T23:30:51.158Z","type":"message"}
{"nick":"piscisaureus_","message":"or come up with something really slow :-)","date":"2012-03-12T23:30:59.964Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: if we just rely on knowing if the socket was shared.. we wouldn't know if the other end closed the handle","date":"2012-03-12T23:31:55.984Z","type":"message"}
{"nick":"piscisaureus_","message":"yes","date":"2012-03-12T23:32:08.140Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: so if we don't call shutdown in that case windows might drop the send buffer and send RST","date":"2012-03-12T23:32:31.657Z","type":"message"}
{"nick":"`3rdEden","reason":"Quit: Linkinus - http://linkinus.com","date":"2012-03-12T23:32:41.009Z","type":"quit"}
{"nick":"piscisaureus_","message":"I know there must be some back door for this :-)","date":"2012-03-12T23:32:51.762Z","type":"message"}
{"nick":"piscisaureus_","message":"let me look some more","date":"2012-03-12T23:32:56.199Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i'm kind of baffled about linger not working as advertised","date":"2012-03-12T23:33:41.403Z","type":"message"}
{"nick":"igorzi","message":"piscisaureus_: i'll try to get some more info about that","date":"2012-03-12T23:33:47.210Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: I know I was too.","date":"2012-03-12T23:34:01.211Z","type":"message"}
{"nick":"mikeal","date":"2012-03-12T23:34:25.687Z","type":"join"}
{"nick":"piscisaureus_","message":"igorzi: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=4468997 <- same issue","date":"2012-03-12T23:34:37.100Z","type":"message"}
{"nick":"piscisaureus_","message":"igorzi: sorry, probably not the same issue","date":"2012-03-12T23:35:13.404Z","type":"message"}
{"nick":"AvianFlu","reason":"Quit: Leaving","date":"2012-03-12T23:42:11.663Z","type":"quit"}
{"nick":"isaacs","message":"igorzi: holy shit this code is grimy.","date":"2012-03-12T23:47:45.092Z","type":"message"}
{"nick":"isaacs","message":"igorzi: i'm feeling resentful that you pointed me in this direction ;P","date":"2012-03-12T23:47:53.315Z","type":"message"}
{"nick":"isaacs","action":"no one to blame but himself...","date":"2012-03-12T23:48:07.054Z","type":"action"}
{"nick":"isaacs","message":"the change to tar was like a 5-line thing.","date":"2012-03-12T23:48:15.306Z","type":"message"}
{"nick":"isaacs","message":"the change to npm/lib/utils/tar.js is a huge cleanup, though","date":"2012-03-12T23:48:46.901Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: oh, it means no more wicked __package.npm errors?","date":"2012-03-12T23:49:54.292Z","type":"message"}
{"nick":"mikeal","reason":"Quit: Leaving.","date":"2012-03-12T23:50:12.176Z","type":"quit"}
{"nick":"isaacs","message":"mmalecki: yeah","date":"2012-03-12T23:53:47.820Z","type":"message"}
{"nick":"isaacs","message":"mmalecki: you'll have different errors instead :)","date":"2012-03-12T23:53:52.944Z","type":"message"}
{"nick":"mmalecki","message":"isaacs: ++, still :)","date":"2012-03-12T23:54:15.873Z","type":"message"}
{"nick":"kohai","message":"isaacs has 11 beers","date":"2012-03-12T23:54:18.628Z","type":"message"}
