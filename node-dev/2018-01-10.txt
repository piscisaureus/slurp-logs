{"nick":"nodejs-gh","date":"2018-01-10T00:00:46.452Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:00:46.521Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:00:56.466Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:00:56.535Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:02:22.453Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:02:22.521Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:03:27.489Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:03:27.559Z","type":"part"}
{"nick":"not-an-aardvark","date":"2018-01-10T00:04:30.491Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:05:09.058Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:05:09.067Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:06:36.415Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:06:36.496Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:11:29.216Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:11:29.325Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:12:32.418Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:12:32.488Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:17:04.909Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:17:04.909Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:18:45.495Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:18:45.563Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:23:45.455Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:23:45.536Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:27:21.766Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:27:21.837Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:28:06.821Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:28:06.889Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:28:32.388Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:28:32.456Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T00:29:04.657Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:29:04.725Z","type":"part"}
{"nick":"devsnek","message":"TimothyGu: those links you sent me don't take me to the comments, or even a diff page, not sure what went wrong","date":"2018-01-10T00:29:47.961Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: seems like it's a GitHub bug :(","date":"2018-01-10T00:30:39.015Z","type":"message"}
{"nick":"mylesborins","message":"v9.4.0 proposal https://github.com/nodejs/node/pull/18069","date":"2018-01-10T00:31:02.672Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: here: https://gist.github.com/TimothyGu/729f0c8476a2056557bc7bad569dc8b0","date":"2018-01-10T00:31:12.323Z","type":"message"}
{"nick":"devsnek","message":"hypeeeeee","date":"2018-01-10T00:31:12.482Z","type":"message"}
{"nick":"devsnek","message":"to both messages","date":"2018-01-10T00:31:18.641Z","type":"message"}
{"nick":"devsnek","message":"hey TimothyGu was it you that said you wanted to move the link cache to the js side?","date":"2018-01-10T00:33:16.448Z","type":"message"}
{"nick":"TimothyGu","message":"I don't think so","date":"2018-01-10T00:33:35.648Z","type":"message"}
{"nick":"TimothyGu","message":"I'm fine with how it is in this PR right now, just to reduce changes","date":"2018-01-10T00:33:50.392Z","type":"message"}
{"nick":"devsnek","message":"'aight","date":"2018-01-10T00:34:07.195Z","type":"message"}
{"nick":"TimothyGu","message":"Actually, would it be possible for you to add a method that returns all requested modules?","date":"2018-01-10T00:34:22.086Z","type":"message"}
{"nick":"devsnek","message":"uh","date":"2018-01-10T00:34:31.350Z","type":"message"}
{"nick":"devsnek","message":"should be","date":"2018-01-10T00:34:35.860Z","type":"message"}
{"nick":"devsnek","message":"i think i added that and then removed it","date":"2018-01-10T00:34:42.294Z","type":"message"}
{"nick":"TimothyGu","message":"Basically the GetModuleRequest/GetModuleRequestsLength parts of Link()","date":"2018-01-10T00:35:05.980Z","type":"message"}
{"nick":"devsnek","message":"yea","date":"2018-01-10T00:35:11.561Z","type":"message"}
{"nick":"devsnek","message":"i hate that api","date":"2018-01-10T00:35:13.922Z","type":"message"}
{"nick":"devsnek","message":"GetModuleRequests -> MaybeLocal<Array> would be nice","date":"2018-01-10T00:35:28.025Z","type":"message"}
{"nick":"TimothyGu","message":"yeah like I thought the method *shouldn't* be needed but seems like HTML needs it :(","date":"2018-01-10T00:35:40.024Z","type":"message"}
{"nick":"devsnek","message":"hecking html","date":"2018-01-10T00:35:48.562Z","type":"message"}
{"nick":"devsnek","message":"who even uses html anymore","date":"2018-01-10T00:35:52.814Z","type":"message"}
{"nick":"devsnek","message":":^)","date":"2018-01-10T00:35:54.810Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: uhh I'd disagree. v8::Array is not easy to consume at all, handling JS errors and all that","date":"2018-01-10T00:36:11.865Z","type":"message"}
{"nick":"devsnek","message":"meh","date":"2018-01-10T00:36:49.427Z","type":"message"}
{"nick":"TimothyGu","message":"What I'd *really* want to see is just a regular array of Local<Module>'s, but V8's GC doesn't work that way :(","date":"2018-01-10T00:36:54.466Z","type":"message"}
{"nick":"devsnek","message":"actually","date":"2018-01-10T00:37:44.919Z","type":"message"}
{"nick":"devsnek","message":"ModuleWrap has linked_","date":"2018-01-10T00:37:49.751Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: I'd call that new method requestedModules() to be consistent with the spec","date":"2018-01-10T00:37:50.236Z","type":"message"}
{"nick":"devsnek","message":"but its a bit low in the method","date":"2018-01-10T00:37:59.034Z","type":"message"}
{"nick":"devsnek","message":"i can just move it up","date":"2018-01-10T00:38:02.487Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: oh heh. Nah keep it where it is, just add a check on the JS side then","date":"2018-01-10T00:38:19.138Z","type":"message"}
{"nick":"devsnek","message":"dw i got this all figured out *laughs nervously*","date":"2018-01-10T00:38:36.579Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T00:39:03.005Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:39:03.005Z","type":"part"}
{"nick":"devsnek","message":"oh not this bug again :(","date":"2018-01-10T00:39:09.967Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T00:39:53.970Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T00:39:54.075Z","type":"part"}
{"nick":"TimothyGu","message":"scratch that. [[RequestedModules]] is something else. get dependencySpecifiers() should work fine","date":"2018-01-10T00:40:01.416Z","type":"message"}
{"nick":"devsnek","message":"should i cache that","date":"2018-01-10T00:40:52.038Z","type":"message"}
{"nick":"devsnek","message":"running the loop to build that array and calling those GetModuleRequest(i) and whatnot","date":"2018-01-10T00:41:16.439Z","type":"message"}
{"nick":"devsnek","message":"seems heavy","date":"2018-01-10T00:41:20.203Z","type":"message"}
{"nick":"devsnek","message":"and it doesn't change","date":"2018-01-10T00:41:28.838Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: sure. but if you cache it Object.freeze() the array","date":"2018-01-10T00:43:54.691Z","type":"message"}
{"nick":"devsnek","message":"o good call","date":"2018-01-10T00:44:02.739Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: another thing is that why does instantiate() have to be async?","date":"2018-01-10T00:47:23.326Z","type":"message"}
{"nick":"devsnek","message":"bmeck asked for it","date":"2018-01-10T00:47:37.402Z","type":"message"}
{"nick":"devsnek","message":"future proofing of some sort","date":"2018-01-10T00:47:42.723Z","type":"message"}
{"nick":"ljharb","message":"iirc, ES module instantiation has to be async, so cjs does also when there's esm involved","date":"2018-01-10T00:50:12.993Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: wasn't he talking about evaluate()?","date":"2018-01-10T00:50:14.055Z","type":"message"}
{"nick":"devsnek","message":"oof now the whole convo is coming back","date":"2018-01-10T00:50:44.003Z","type":"message"}
{"nick":"TimothyGu","message":"ljharb: I'm talking about the Instantiate method in V8. The actual instantiation (fetching and parsing scripts, etc.) have already been done at this point","date":"2018-01-10T00:51:09.548Z","type":"message"}
{"nick":"ljharb","message":"ah, that's over my head then","date":"2018-01-10T00:51:28.598Z","type":"message"}
{"nick":"devsnek","message":"i can change it if you want","date":"2018-01-10T00:51:31.808Z","type":"message"}
{"nick":"TimothyGu","message":"ljharb: ;)","date":"2018-01-10T00:52:04.153Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: yeah please","date":"2018-01-10T00:52:08.722Z","type":"message"}
{"nick":"devsnek","message":"alright","date":"2018-01-10T00:52:12.178Z","type":"message"}
{"nick":"devsnek","message":"the other thing i was thinking about was inserting vm.Module into the loader's module graph","date":"2018-01-10T00:52:37.318Z","type":"message"}
{"nick":"devsnek","message":"i think a few people had reservations about that","date":"2018-01-10T00:52:52.001Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: we can talk about it after vm.Module is in","date":"2018-01-10T00:53:12.835Z","type":"message"}
{"nick":"TimothyGu","message":"otherwise this PR will never get merged haha","date":"2018-01-10T00:53:19.639Z","type":"message"}
{"nick":"devsnek","message":"nah dude all in one pr","date":"2018-01-10T00:53:33.973Z","type":"message"}
{"nick":"devsnek","message":"you've heard of a monorepo, time for a monopatch","date":"2018-01-10T00:53:40.490Z","type":"message"}
{"nick":"TimothyGu","message":"\"Initial commit\"","date":"2018-01-10T00:53:53.091Z","type":"message"}
{"nick":"devsnek","message":"(+12000, -0)","date":"2018-01-10T00:54:19.518Z","type":"message"}
{"nick":"TimothyGu","message":"also http://www.x264.nl/developers/Dark_Shikari/loren.html#devel","date":"2018-01-10T00:54:55.615Z","type":"message"}
{"nick":"TimothyGu","message":"\"<pengvado> really? normally commit message length is inversely proportional to commit length, unless it's just an amalgamation of lots of independent patches. I mean, if I were to commit all of x264 at once, it would just say \"new h264 encoder\". :)\"","date":"2018-01-10T00:54:58.021Z","type":"message"}
{"nick":"devsnek","message":"does anyone here know how to link v8","date":"2018-01-10T00:56:14.351Z","type":"message"}
{"nick":"TimothyGu","message":"oh","date":"2018-01-10T00:56:21.289Z","type":"message"}
{"nick":"TimothyGu","message":"no","date":"2018-01-10T00:56:23.953Z","type":"message"}
{"nick":"devsnek","message":"i've been trying to figure this out forever","date":"2018-01-10T00:56:30.275Z","type":"message"}
{"nick":"devsnek","message":"right now my solution is to build the static .a","date":"2018-01-10T00:56:38.015Z","type":"message"}
{"nick":"TimothyGu","message":"you need to first do some snapshotting magic","date":"2018-01-10T00:56:40.051Z","type":"message"}
{"nick":"devsnek","message":"and then link that","date":"2018-01-10T00:56:40.214Z","type":"message"}
{"nick":"devsnek","message":"but i can't really distribute that","date":"2018-01-10T00:56:49.059Z","type":"message"}
{"nick":"devsnek","message":"and gn is literally unusable","date":"2018-01-10T00:56:57.264Z","type":"message"}
{"nick":"devsnek","message":"no docs on how to create a new project with gclient","date":"2018-01-10T00:57:13.466Z","type":"message"}
{"nick":"devsnek","message":"etc etc etc","date":"2018-01-10T00:57:15.345Z","type":"message"}
{"nick":"devsnek","message":"node was able to do it cuz you guys jumped on when v8 was made with gyp right?","date":"2018-01-10T00:57:37.640Z","type":"message"}
{"nick":"TimothyGu","message":"gyp isn't much better mind you","date":"2018-01-10T00:57:49.148Z","type":"message"}
{"nick":"devsnek","message":"i can create a new project with gyp","date":"2018-01-10T00:57:59.390Z","type":"message"}
{"nick":"AtumT","reason":"Remote host closed the connection","date":"2018-01-10T00:58:14.708Z","type":"quit"}
{"nick":"devsnek","message":"imagine how many cool js projects there would be if v8 was headers only :^)","date":"2018-01-10T00:59:18.295Z","type":"message"}
{"nick":"TimothyGu","message":"no","date":"2018-01-10T01:00:27.411Z","type":"message"}
{"nick":"devsnek","message":"lol","date":"2018-01-10T01:00:42.271Z","type":"message"}
{"nick":"TimothyGu","message":"Do you know about http://duktape.org/?","date":"2018-01-10T01:00:45.869Z","type":"message"}
{"nick":"devsnek","message":"i've memed with jerryscript","date":"2018-01-10T01:00:57.603Z","type":"message"}
{"nick":"TimothyGu","message":"ah","date":"2018-01-10T01:01:11.978Z","type":"message"}
{"nick":"devsnek","message":"i just get annoyed with v8 is branded as \"embeddable\" but its impossible to even link","date":"2018-01-10T01:01:23.521Z","type":"message"}
{"nick":"devsnek","message":"it has such a good api too","date":"2018-01-10T01:01:31.044Z","type":"message"}
{"nick":"TimothyGu","message":"use node.js","date":"2018-01-10T01:01:41.231Z","type":"message"}
{"nick":"TimothyGu","message":"it takes care of all the ugly details","date":"2018-01-10T01:01:57.133Z","type":"message"}
{"nick":"devsnek","message":"i'm trying to make my own engine as a learning experiance","date":"2018-01-10T01:02:02.523Z","type":"message"}
{"nick":"TimothyGu","message":"and thus we have come full circle","date":"2018-01-10T01:02:07.331Z","type":"message"}
{"nick":"devsnek","message":"it runs code","date":"2018-01-10T01:02:07.599Z","type":"message"}
{"nick":"devsnek","message":"and has an internal module cache","date":"2018-01-10T01:02:11.573Z","type":"message"}
{"nick":"TimothyGu","message":"in C++?","date":"2018-01-10T01:02:13.147Z","type":"message"}
{"nick":"devsnek","message":"ya","date":"2018-01-10T01:02:14.898Z","type":"message"}
{"nick":"devsnek","message":"i'm working on binding io atm","date":"2018-01-10T01:02:27.243Z","type":"message"}
{"nick":"devsnek","message":"so i can console.log and read files and whatnot","date":"2018-01-10T01:02:35.793Z","type":"message"}
{"nick":"TimothyGu","message":"shameless plug: you might find https://timothygu.me/es-howto/ somewhat helpful","date":"2018-01-10T01:03:16.486Z","type":"message"}
{"nick":"devsnek","message":"odamn you made it","date":"2018-01-10T01:03:28.136Z","type":"message"}
{"nick":"TimothyGu","message":"it's obviously not complete","date":"2018-01-10T01:03:51.796Z","type":"message"}
{"nick":"devsnek","message":"i can see that in the big red thing","date":"2018-01-10T01:04:06.479Z","type":"message"}
{"nick":"devsnek","message":":)","date":"2018-01-10T01:04:12.344Z","type":"message"}
{"nick":"TimothyGu","message":"yup. I tend to go overboard with that kind of thing","date":"2018-01-10T01:04:33.923Z","type":"message"}
{"nick":"TimothyGu","message":"also see https://timothygu.me/sigfigs/, which I made when I was your age. (It's somewhat broken.)","date":"2018-01-10T01:05:00.046Z","type":"message"}
{"nick":"devsnek","message":"noice","date":"2018-01-10T01:06:15.986Z","type":"message"}
{"nick":"devsnek","message":"why does import a from 'a' have a thinking instead of a checkmark","date":"2018-01-10T01:06:28.323Z","type":"message"}
{"nick":"devsnek","message":"its definitely a language feature","date":"2018-01-10T01:06:51.741Z","type":"message"}
{"nick":"devsnek","message":"i feel like loader stuff is a separate topic","date":"2018-01-10T01:07:03.475Z","type":"message"}
{"nick":"TimothyGu","message":"there are footnotes","date":"2018-01-10T01:07:09.535Z","type":"message"}
{"nick":"devsnek","message":"ya i saw","date":"2018-01-10T01:07:38.705Z","type":"message"}
{"nick":"TimothyGu","message":"modules are still split in half IMO","date":"2018-01-10T01:07:45.388Z","type":"message"}
{"nick":"devsnek","message":"but you start to get into loader things","date":"2018-01-10T01:07:47.775Z","type":"message"}
{"nick":"devsnek","message":"ya","date":"2018-01-10T01:07:50.007Z","type":"message"}
{"nick":"devsnek","message":"ok node finally finished building","date":"2018-01-10T01:08:26.072Z","type":"message"}
{"nick":"devsnek","message":"time for the crunch","date":"2018-01-10T01:08:28.983Z","type":"message"}
{"nick":"devsnek","message":"hey TimothyGu, explicitly calling ModuleWrap::Link isn't needed if there are no deps for the module","date":"2018-01-10T01:16:31.049Z","type":"message"}
{"nick":"devsnek","message":"actually that goes back to you asking me why i was needlessly calling instantiate in that test","date":"2018-01-10T01:16:59.928Z","type":"message"}
{"nick":"devsnek","message":"nvm","date":"2018-01-10T01:17:02.026Z","type":"message"}
{"nick":"devsnek","message":":^)","date":"2018-01-10T01:17:04.038Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu, is there any particular reason you want these methods off of ModuleWrap","date":"2018-01-10T01:44:23.745Z","type":"message"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-10T02:19:28.631Z","type":"quit"}
{"nick":"al-damiri","reason":"Quit: Connection closed for inactivity","date":"2018-01-10T02:22:53.198Z","type":"quit"}
{"nick":"robink","reason":"Ping timeout: 252 seconds","date":"2018-01-10T02:36:32.032Z","type":"quit"}
{"nick":"robink","date":"2018-01-10T02:38:33.845Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-10T02:39:42.233Z","type":"quit"}
{"nick":"robink","reason":"Client Quit","date":"2018-01-10T02:41:57.299Z","type":"quit"}
{"nick":"robink","date":"2018-01-10T02:42:18.120Z","type":"join"}
{"nick":"rom1504","reason":"Ping timeout: 252 seconds","date":"2018-01-10T02:42:44.538Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-01-10T02:52:39.497Z","type":"join"}
{"nick":"rom1504","date":"2018-01-10T02:56:31.950Z","type":"join"}
{"nick":"devsnek","message":"TimothyGu i'm reading your es howto now, its making so many things slot into place :D","date":"2018-01-10T03:00:46.061Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-10T03:07:26.305Z","type":"quit"}
{"nick":"TimothyGu","message":"devsnek: no instantiation is always necessary. It's part of the module semantics","date":"2018-01-10T03:22:12.177Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: But we now have a way to find out we have deps or no, right? :)","date":"2018-01-10T03:22:36.066Z","type":"message"}
{"nick":"TimothyGu","message":"in general public-facing APIs should always be as foolproof as possible","date":"2018-01-10T03:22:58.991Z","type":"message"}
{"nick":"devsnek","message":"mm","date":"2018-01-10T03:23:11.949Z","type":"message"}
{"nick":"devsnek","message":"hmmm*","date":"2018-01-10T03:23:14.086Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: want what methods off of ModuleWrap?","date":"2018-01-10T03:23:18.022Z","type":"message"}
{"nick":"TimothyGu","message":"also glad you found it helpful haha","date":"2018-01-10T03:23:27.494Z","type":"message"}
{"nick":"devsnek","message":"the ones for options","date":"2018-01-10T03:23:27.495Z","type":"message"}
{"nick":"devsnek","message":"i'm actually thinking of just throwing some template method in node_util or smth","date":"2018-01-10T03:23:42.048Z","type":"message"}
{"nick":"devsnek","message":"but that feels like a separate commit or even pr","date":"2018-01-10T03:23:51.786Z","type":"message"}
{"nick":"TimothyGu","message":"well because it seems to be copied from node_contextify.cc","date":"2018-01-10T03:23:57.682Z","type":"message"}
{"nick":"devsnek","message":"yea it is","date":"2018-01-10T03:24:00.564Z","type":"message"}
{"nick":"devsnek","message":"directly","date":"2018-01-10T03:24:02.326Z","type":"message"}
{"nick":"TimothyGu","message":"and you don't really want that","date":"2018-01-10T03:24:04.786Z","type":"message"}
{"nick":"TimothyGu","message":"so how about this: first commit header refactor, second commit move these methods, third commit add vm.Module","date":"2018-01-10T03:24:27.826Z","type":"message"}
{"nick":"devsnek","message":"thats what i was considering","date":"2018-01-10T03:24:36.912Z","type":"message"}
{"nick":"devsnek","message":"but i dunno how to insert another commit","date":"2018-01-10T03:24:42.635Z","type":"message"}
{"nick":"TimothyGu","message":"usually moving code around is fine for the same PR","date":"2018-01-10T03:24:43.998Z","type":"message"}
{"nick":"TimothyGu","message":"do you know about interactive rebasing?","date":"2018-01-10T03:24:55.166Z","type":"message"}
{"nick":"devsnek","message":"moving changes to other commits was hard enough","date":"2018-01-10T03:24:56.756Z","type":"message"}
{"nick":"devsnek","message":"ya","date":"2018-01-10T03:24:58.249Z","type":"message"}
{"nick":"TimothyGu","message":"yeah well, that.","date":"2018-01-10T03:25:02.384Z","type":"message"}
{"nick":"devsnek","message":"i just don't know all the tricks","date":"2018-01-10T03:25:02.802Z","type":"message"}
{"nick":"devsnek","message":"like creating a new commit that isn't the most recent in history","date":"2018-01-10T03:25:12.115Z","type":"message"}
{"nick":"TimothyGu","message":"okay","date":"2018-01-10T03:25:21.259Z","type":"message"}
{"nick":"TimothyGu","message":"so","date":"2018-01-10T03:25:23.949Z","type":"message"}
{"nick":"TimothyGu","message":"git rebase -i master gives you an editor right","date":"2018-01-10T03:25:36.486Z","type":"message"}
{"nick":"devsnek","message":"ya i know that much ;-;","date":"2018-01-10T03:25:47.299Z","type":"message"}
{"nick":"TimothyGu","message":"change the \"pick\" next to the header refactor to \"edit\"","date":"2018-01-10T03:25:53.418Z","type":"message"}
{"nick":"devsnek","message":"right them i'm dropped into that revision","date":"2018-01-10T03:26:05.843Z","type":"message"}
{"nick":"TimothyGu","message":"and then git rebase will pause *after* the header refactor for you to do stuff with it","date":"2018-01-10T03:26:12.323Z","type":"message"}
{"nick":"devsnek","message":"and can amend + continue","date":"2018-01-10T03:26:12.882Z","type":"message"}
{"nick":"devsnek","message":"ya","date":"2018-01-10T03:26:16.340Z","type":"message"}
{"nick":"TimothyGu","message":"the trick is that you don't have amend","date":"2018-01-10T03:26:22.260Z","type":"message"}
{"nick":"devsnek","message":"o","date":"2018-01-10T03:26:25.970Z","type":"message"}
{"nick":"TimothyGu","message":"you can just add a new commit","date":"2018-01-10T03:26:26.798Z","type":"message"}
{"nick":"devsnek","message":"i thought you had to be on branch to do that","date":"2018-01-10T03:26:33.812Z","type":"message"}
{"nick":"devsnek","message":"good to know","date":"2018-01-10T03:26:37.222Z","type":"message"}
{"nick":"TimothyGu","message":"nah","date":"2018-01-10T03:26:40.701Z","type":"message"}
{"nick":"devsnek","message":"hype","date":"2018-01-10T03:26:53.092Z","type":"message"}
{"nick":"plasticle","reason":"Ping timeout: 246 seconds","date":"2018-01-10T03:26:54.718Z","type":"quit"}
{"nick":"devsnek","message":"i'll figure out that impl then","date":"2018-01-10T03:26:57.800Z","type":"message"}
{"nick":"devsnek","message":"also back to all modules need to be initialized","date":"2018-01-10T03:27:05.877Z","type":"message"}
{"nick":"devsnek","message":"v8's api doesn't seem to require an explicit call to initialize if the module isn't going to be evaluated","date":"2018-01-10T03:27:30.766Z","type":"message"}
{"nick":"devsnek","message":"well explicitly evaluated","date":"2018-01-10T03:27:40.073Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: interesting. well that's not how the spec defines modules","date":"2018-01-10T03:28:10.571Z","type":"message"}
{"nick":"devsnek","message":"like my vm-module-link test","date":"2018-01-10T03:28:10.896Z","type":"message"}
{"nick":"TimothyGu","message":"oh no that's something different","date":"2018-01-10T03:28:18.994Z","type":"message"}
{"nick":"devsnek","message":"v8's api isn't 1:1 with the spec","date":"2018-01-10T03:28:28.054Z","type":"message"}
{"nick":"devsnek","message":"but i can create the impression on the vm.Module side","date":"2018-01-10T03:28:37.196Z","type":"message"}
{"nick":"TimothyGu","message":"when you call instantiate on the root module, the Loader will actually recursively instantiate all dependencies","date":"2018-01-10T03:28:49.789Z","type":"message"}
{"nick":"devsnek","message":"yea","date":"2018-01-10T03:28:53.408Z","type":"message"}
{"nick":"devsnek","message":"well","date":"2018-01-10T03:28:58.951Z","type":"message"}
{"nick":"TimothyGu","message":"that's why you don't need to explicitly instantiate","date":"2018-01-10T03:29:05.897Z","type":"message"}
{"nick":"devsnek","message":"in this case it isn't the loader","date":"2018-01-10T03:29:06.234Z","type":"message"}
{"nick":"devsnek","message":"cuz there is no loader","date":"2018-01-10T03:29:10.316Z","type":"message"}
{"nick":"devsnek","message":"its v8 doing it internally","date":"2018-01-10T03:29:15.880Z","type":"message"}
{"nick":"TimothyGu","message":"by loader I mean the V8 part of the loader :p","date":"2018-01-10T03:29:25.694Z","type":"message"}
{"nick":"devsnek","message":"so should i just throw an explicit check on evaluate","date":"2018-01-10T03:29:28.116Z","type":"message"}
{"nick":"devsnek","message":"even tho it isn't needed","date":"2018-01-10T03:29:34.866Z","type":"message"}
{"nick":"TimothyGu","message":"and of course: https://tc39.github.io/ecma262/#sec-innermoduleinstantiation step 9.b.","date":"2018-01-10T03:29:46.869Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: yes it is needed","date":"2018-01-10T03:30:00.925Z","type":"message"}
{"nick":"devsnek","message":"these things are already broken by v8's GetModuleNamespace","date":"2018-01-10T03:30:12.885Z","type":"message"}
{"nick":"TimothyGu","message":"what do you mean by \"these things\"?","date":"2018-01-10T03:30:31.218Z","type":"message"}
{"nick":"devsnek","message":"vm.Module complying with spec","date":"2018-01-10T03:30:39.259Z","type":"message"}
{"nick":"TimothyGu","message":"I don't really see how it doesn't correspond with the spec","date":"2018-01-10T03:30:58.737Z","type":"message"}
{"nick":"TimothyGu","message":"the \"linking\" stage is not in the spec, true","date":"2018-01-10T03:31:11.538Z","type":"message"}
{"nick":"TimothyGu","message":"but it helps writing an async implementation","date":"2018-01-10T03:31:21.126Z","type":"message"}
{"nick":"TimothyGu","message":"of instantiate","date":"2018-01-10T03:31:28.076Z","type":"message"}
{"nick":"devsnek","message":"you said to make it not async :<","date":"2018-01-10T03:31:38.098Z","type":"message"}
{"nick":"TimothyGu","message":"omg","date":"2018-01-10T03:31:54.397Z","type":"message"}
{"nick":"TimothyGu","message":"so many terms lol it's getting confusing","date":"2018-01-10T03:32:02.953Z","type":"message"}
{"nick":"TimothyGu","message":"let me try to go from the start","date":"2018-01-10T03:32:13.316Z","type":"message"}
{"nick":"devsnek","message":"kk","date":"2018-01-10T03:32:17.486Z","type":"message"}
{"nick":"TimothyGu","message":"the ES spec doesn't really specify whether or not module loading is async or sync","date":"2018-01-10T03:32:30.440Z","type":"message"}
{"nick":"devsnek","message":"right","date":"2018-01-10T03:32:39.377Z","type":"message"}
{"nick":"TimothyGu","message":"that's why when you look at https://tc39.github.io/ecma262/#sec-innermoduleinstantiation it seems to be fully synchronous","date":"2018-01-10T03:32:52.908Z","type":"message"}
{"nick":"TimothyGu","message":"and indeed the actual process of instantiation *is* fully synchronous","date":"2018-01-10T03:33:13.271Z","type":"message"}
{"nick":"TimothyGu","message":"the async part is the \"linking\" stage","date":"2018-01-10T03:33:45.111Z","type":"message"}
{"nick":"devsnek","message":"right","date":"2018-01-10T03:33:52.768Z","type":"message"}
{"nick":"devsnek","message":"so link is async","date":"2018-01-10T03:33:56.609Z","type":"message"}
{"nick":"devsnek","message":"vm.Module#instantiate is sync","date":"2018-01-10T03:34:03.244Z","type":"message"}
{"nick":"devsnek","message":"is that good?","date":"2018-01-10T03:34:07.828Z","type":"message"}
{"nick":"TimothyGu","message":"yes","date":"2018-01-10T03:34:10.797Z","type":"message"}
{"nick":"devsnek","message":"ok","date":"2018-01-10T03:34:12.503Z","type":"message"}
{"nick":"devsnek","message":"*sweats*","date":"2018-01-10T03:34:16.404Z","type":"message"}
{"nick":"TimothyGu","message":"what I am trying to say is that we are more or less shoehorning what's async into a sync API","date":"2018-01-10T03:34:37.952Z","type":"message"}
{"nick":"devsnek","message":"to enforce explicitly calling instantiate i'll need to keep a \"was instantate called\" variable","date":"2018-01-10T03:34:56.417Z","type":"message"}
{"nick":"devsnek","message":":/","date":"2018-01-10T03:35:06.261Z","type":"message"}
{"nick":"TimothyGu","message":"you don't need to","date":"2018-01-10T03:35:08.336Z","type":"message"}
{"nick":"TimothyGu","message":"it's what the Status is for","date":"2018-01-10T03:35:13.373Z","type":"message"}
{"nick":"devsnek","message":"how do i know otherwise","date":"2018-01-10T03:35:13.455Z","type":"message"}
{"nick":"devsnek","message":"looking at my link test","date":"2018-01-10T03:35:35.952Z","type":"message"}
{"nick":"TimothyGu","message":"when the status is >= kInstantiating Instantiate has been called","date":"2018-01-10T03:35:41.417Z","type":"message"}
{"nick":"devsnek","message":"should foo be explicitly instantiated","date":"2018-01-10T03:35:44.062Z","type":"message"}
{"nick":"TimothyGu","message":"no, because it's implicitly instantiated when the root module is","date":"2018-01-10T03:36:03.145Z","type":"message"}
{"nick":"devsnek","message":"ok then this is all good","date":"2018-01-10T03:36:10.575Z","type":"message"}
{"nick":"devsnek","message":"i misunderstood what you were saying","date":"2018-01-10T03:36:17.459Z","type":"message"}
{"nick":"devsnek","message":"time to do that middle commit now","date":"2018-01-10T03:36:37.437Z","type":"message"}
{"nick":"TimothyGu","message":"sorry for not being more clear. I got like two hours of quality sleep last night (slept late [1am] + being jetlagged [woke up at 3am])","date":"2018-01-10T03:36:55.556Z","type":"message"}
{"nick":"devsnek","message":"sounds fun","date":"2018-01-10T03:37:02.329Z","type":"message"}
{"nick":"devsnek","message":"ok time to figure out this method","date":"2018-01-10T03:37:19.121Z","type":"message"}
{"nick":"TimothyGu","message":"oh and also, you can just expose those methods in node_contextify.h","date":"2018-01-10T03:37:40.078Z","type":"message"}
{"nick":"TimothyGu","message":"no need to move them to node_internals or anything, because module_wrap now already depends on node_contextify","date":"2018-01-10T03:38:02.264Z","type":"message"}
{"nick":"devsnek","message":"Local<T> GetOption(env, MaybeLocal<Value> options, const char* name)","date":"2018-01-10T03:38:02.881Z","type":"message"}
{"nick":"devsnek","message":"oh ok","date":"2018-01-10T03:38:13.460Z","type":"message"}
{"nick":"devsnek","message":"so i can just make the existing ones public?","date":"2018-01-10T03:38:21.942Z","type":"message"}
{"nick":"TimothyGu","message":"nah that won't cut it, because different options have different validation","date":"2018-01-10T03:38:23.770Z","type":"message"}
{"nick":"lholmquist","reason":"Ping timeout: 256 seconds","date":"2018-01-10T03:38:37.729Z","type":"quit"}
{"nick":"devsnek","message":"i'll just make the contextify ones public then","date":"2018-01-10T03:39:04.576Z","type":"message"}
{"nick":"devsnek","message":"but that feels dirty","date":"2018-01-10T03:39:06.928Z","type":"message"}
{"nick":"TimothyGu","message":"IMO better than duplicating functions lol","date":"2018-01-10T03:39:28.453Z","type":"message"}
{"nick":"devsnek","message":"why does v8 have \"Maybe\" anyway","date":"2018-01-10T03:39:53.218Z","type":"message"}
{"nick":"lholmquist","date":"2018-01-10T03:40:05.168Z","type":"join"}
{"nick":"lholmquist","reason":"Changing host","date":"2018-01-10T03:40:05.329Z","type":"quit"}
{"nick":"lholmquist","date":"2018-01-10T03:40:05.397Z","type":"join"}
{"nick":"devsnek","message":"is that like in case whatever it points at gets gc'd or smth?","date":"2018-01-10T03:40:11.275Z","type":"message"}
{"nick":"TimothyGu","message":"exception handling","date":"2018-01-10T03:40:28.395Z","type":"message"}
{"nick":"TimothyGu","message":"if a JS exception is thrown no value is returned","date":"2018-01-10T03:40:37.989Z","type":"message"}
{"nick":"devsnek","message":"when is this exception thrown","date":"2018-01-10T03:41:11.914Z","type":"message"}
{"nick":"devsnek","message":"is this like handling getters that throw or something","date":"2018-01-10T03:41:19.316Z","type":"message"}
{"nick":"TimothyGu","message":"well whatever the Maybe-returning function executes","date":"2018-01-10T03:41:35.778Z","type":"message"}
{"nick":"TimothyGu","message":"like Set() can call on setters, or Proxy handlers","date":"2018-01-10T03:41:50.404Z","type":"message"}
{"nick":"BridgeAR","reason":"Quit: Leaving.","date":"2018-01-10T03:42:11.263Z","type":"quit"}
{"nick":"devsnek","message":"makes sense i guess","date":"2018-01-10T03:42:17.469Z","type":"message"}
{"nick":"devsnek","message":"oh that actually reminds me","date":"2018-01-10T03:42:31.643Z","type":"message"}
{"nick":"TimothyGu","message":"and that's also why you should use array->Set().FromJust() rather than USE(array->Set())","date":"2018-01-10T03:42:35.832Z","type":"message"}
{"nick":"devsnek","message":"what is a normal completion","date":"2018-01-10T03:42:46.589Z","type":"message"}
{"nick":"devsnek","message":"if a return completion is when you return","date":"2018-01-10T03:42:55.714Z","type":"message"}
{"nick":"devsnek","message":"don't most functions return something","date":"2018-01-10T03:43:01.841Z","type":"message"}
{"nick":"devsnek","message":"or is it if you return with more code after","date":"2018-01-10T03:43:10.075Z","type":"message"}
{"nick":"TimothyGu","message":".FromJust() crashes the program when an exception is thrown, and we don't expect any exceptions to be thrown from an array we just created","date":"2018-01-10T03:43:30.597Z","type":"message"}
{"nick":"TimothyGu","message":"normal completion is like what everything returns","date":"2018-01-10T03:43:42.365Z","type":"message"}
{"nick":"TimothyGu","message":"\"return\" abrupt completion applies to the \"return\" syntax","date":"2018-01-10T03:43:56.968Z","type":"message"}
{"nick":"devsnek","message":"wdym","date":"2018-01-10T03:43:57.544Z","type":"message"}
{"nick":"devsnek","message":"like x = () => {}","date":"2018-01-10T03:44:08.436Z","type":"message"}
{"nick":"devsnek","message":"the normal completion is undefined?","date":"2018-01-10T03:44:13.103Z","type":"message"}
{"nick":"TimothyGu","message":"yes","date":"2018-01-10T03:44:18.185Z","type":"message"}
{"nick":"TimothyGu","message":"the Call abstract operation returns a normal completion","date":"2018-01-10T03:44:29.787Z","type":"message"}
{"nick":"devsnek","message":"and x = () => { return 5 } is a return completion then?","date":"2018-01-10T03:44:34.888Z","type":"message"}
{"nick":"TimothyGu","message":"no","date":"2018-01-10T03:44:37.893Z","type":"message"}
{"nick":"TimothyGu","message":"well it depends where","date":"2018-01-10T03:44:42.143Z","type":"message"}
{"nick":"TimothyGu","message":"the Call abstract operation still returns a normal completion","date":"2018-01-10T03:44:52.226Z","type":"message"}
{"nick":"devsnek","message":"if i say let y be the result of x","date":"2018-01-10T03:44:58.786Z","type":"message"}
{"nick":"devsnek","message":"with that example above","date":"2018-01-10T03:45:04.324Z","type":"message"}
{"nick":"TimothyGu","message":"but when the engine is evaluation the statement \"return 5\" it's a return abrupt completion","date":"2018-01-10T03:45:09.021Z","type":"message"}
{"nick":"TimothyGu","message":"https://timothygu.me/es-howto/#navigating-the-spec","date":"2018-01-10T03:45:35.575Z","type":"message"}
{"nick":"TimothyGu","message":"Call is like a general purpose abstract operation used in APIs","date":"2018-01-10T03:45:54.947Z","type":"message"}
{"nick":"devsnek","message":"ya i saw","date":"2018-01-10T03:46:01.458Z","type":"message"}
{"nick":"TimothyGu","message":"but return completions are only used in Runtime semantics of the language","date":"2018-01-10T03:46:10.474Z","type":"message"}
{"nick":"devsnek","message":"i read the whole thing","date":"2018-01-10T03:46:10.474Z","type":"message"}
{"nick":"devsnek","message":"v good","date":"2018-01-10T03:46:11.577Z","type":"message"}
{"nick":"devsnek","message":"hmm","date":"2018-01-10T03:46:19.254Z","type":"message"}
{"nick":"devsnek","message":"ok","date":"2018-01-10T03:46:21.638Z","type":"message"}
{"nick":"TimothyGu","message":"it's this paragraph I'm trying to paraphrase: Most of the time, you are only going to deal with abrupt completions whose [[Type]] is throw. The other three abrupt completion types are only useful in seeing how a specific syntactic element is evaluated. In fact, you will never see any of those other types in the definition of a built-in function, since break/continue/return don’t work across function","date":"2018-01-10T03:46:45.249Z","type":"message"}
{"nick":"TimothyGu","message":"boundaries.","date":"2018-01-10T03:46:47.968Z","type":"message"}
{"nick":"devsnek","message":"alright","date":"2018-01-10T03:47:25.585Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: do you want me to review the PR as it currently is?","date":"2018-01-10T03:49:43.523Z","type":"message"}
{"nick":"devsnek","message":"uh","date":"2018-01-10T03:49:47.944Z","type":"message"}
{"nick":"devsnek","message":"all that is left is these duplicated methods","date":"2018-01-10T03:49:57.106Z","type":"message"}
{"nick":"devsnek","message":"from your list of comments","date":"2018-01-10T03:50:00.744Z","type":"message"}
{"nick":"devsnek","message":"so it should be ok","date":"2018-01-10T03:50:05.104Z","type":"message"}
{"nick":"devsnek","message":"i'm sure you'll find more issues tho :^)","date":"2018-01-10T03:50:11.262Z","type":"message"}
{"nick":"TimothyGu","message":"oh I have more comments","date":"2018-01-10T03:50:12.621Z","type":"message"}
{"nick":"devsnek","message":"yeet","date":"2018-01-10T03:50:22.996Z","type":"message"}
{"nick":"TimothyGu","message":"I just wasn't sure if you want me to tell you about them right no","date":"2018-01-10T03:50:27.796Z","type":"message"}
{"nick":"TimothyGu","message":"now","date":"2018-01-10T03:50:30.011Z","type":"message"}
{"nick":"devsnek","message":"tell me everything","date":"2018-01-10T03:50:33.531Z","type":"message"}
{"nick":"TimothyGu","message":"or wait until your refactor","date":"2018-01-10T03:50:33.894Z","type":"message"}
{"nick":"devsnek","message":"everything you can see","date":"2018-01-10T03:50:41.658Z","type":"message"}
{"nick":"devsnek","message":"i can just keep going then","date":"2018-01-10T03:50:45.200Z","type":"message"}
{"nick":"devsnek","message":"in master the docs have ERR_VALUE_OUT_OF_RANGE","date":"2018-01-10T03:52:19.346Z","type":"message"}
{"nick":"devsnek","message":"but it isn't used or defined anywhere","date":"2018-01-10T03:52:24.556Z","type":"message"}
{"nick":"devsnek","message":"i'm not sure what to do with this","date":"2018-01-10T03:52:56.166Z","type":"message"}
{"nick":"TimothyGu","message":"https://github.com/nodejs/node/commit/d022cb1bdd20f10483cbe988a950548df2dfd48c","date":"2018-01-10T03:53:02.978Z","type":"message"}
{"nick":"devsnek","message":"ya but the actual deleting of the error","date":"2018-01-10T03:54:09.029Z","type":"message"}
{"nick":"devsnek","message":"from errors.js","date":"2018-01-10T03:54:10.434Z","type":"message"}
{"nick":"devsnek","message":"didn't happen when i rebased master","date":"2018-01-10T03:54:23.829Z","type":"message"}
{"nick":"TimothyGu","message":"Git has its faults","date":"2018-01-10T03:54:39.976Z","type":"message"}
{"nick":"plasticle","date":"2018-01-10T03:54:46.382Z","type":"join"}
{"nick":"devsnek","message":"i'll just manually delete it then","date":"2018-01-10T03:54:48.567Z","type":"message"}
{"nick":"TimothyGu","message":"aww you force pushed...","date":"2018-01-10T03:55:43.623Z","type":"message"}
{"nick":"devsnek","message":"did i break something?","date":"2018-01-10T03:55:56.317Z","type":"message"}
{"nick":"TimothyGu","message":"now my comments disappeared lol","date":"2018-01-10T03:55:57.398Z","type":"message"}
{"nick":"devsnek","message":"oh","date":"2018-01-10T03:56:01.879Z","type":"message"}
{"nick":"devsnek","message":"whoops sorrie","date":"2018-01-10T03:56:05.343Z","type":"message"}
{"nick":"devsnek","message":"sorry*","date":"2018-01-10T03:56:14.311Z","type":"message"}
{"nick":"devsnek","message":"wtf spelling","date":"2018-01-10T03:56:18.085Z","type":"message"}
{"nick":"TimothyGu","message":"sorrie sounds cuter","date":"2018-01-10T03:56:22.294Z","type":"message"}
{"nick":"TimothyGu","message":"jk","date":"2018-01-10T03:56:28.118Z","type":"message"}
{"nick":"TimothyGu","message":"they sound the same","date":"2018-01-10T03:56:34.318Z","type":"message"}
{"nick":"devsnek","message":"looks cuter","date":"2018-01-10T03:56:42.392Z","type":"message"}
{"nick":"devsnek","message":"sounds same","date":"2018-01-10T03:56:45.330Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu: i added freezing the dep cache and initializing it","date":"2018-01-10T04:04:41.104Z","type":"message"}
{"nick":"devsnek","message":"if you're gonna comment about that","date":"2018-01-10T04:04:51.925Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: ah cool, I forgot about that lol","date":"2018-01-10T04:06:48.648Z","type":"message"}
{"nick":"devsnek","message":"also i can't remember if doing instanceof checks is frowned upon at this point","date":"2018-01-10T04:07:13.275Z","type":"message"}
{"nick":"devsnek","message":"in the vm.Module constructor i think instanceof ModuleContext would be nicer","date":"2018-01-10T04:07:45.908Z","type":"message"}
{"nick":"doodadjs","reason":"Read error: Connection reset by peer","date":"2018-01-10T04:09:03.246Z","type":"quit"}
{"nick":"TimothyGu","message":"devsnek: yes it is. I commented on that :)","date":"2018-01-10T04:09:07.653Z","type":"message"}
{"nick":"devsnek","message":"cooleo","date":"2018-01-10T04:09:17.227Z","type":"message"}
{"nick":"devsnek","message":"well i changed that","date":"2018-01-10T04:09:22.494Z","type":"message"}
{"nick":"TimothyGu","message":"because of Object.create(proto)","date":"2018-01-10T04:09:25.127Z","type":"message"}
{"nick":"devsnek","message":"and also i'm gonna steal the inspect method from internal/encoding","date":"2018-01-10T04:09:49.075Z","type":"message"}
{"nick":"TimothyGu","message":"don't.","date":"2018-01-10T04:10:00.162Z","type":"message"}
{"nick":"devsnek","message":"why","date":"2018-01-10T04:10:07.697Z","type":"message"}
{"nick":"TimothyGu","message":"steal from internal/url.js instead","date":"2018-01-10T04:10:09.092Z","type":"message"}
{"nick":"devsnek","message":"o","date":"2018-01-10T04:10:12.238Z","type":"message"}
{"nick":"devsnek","message":"ok","date":"2018-01-10T04:10:13.711Z","type":"message"}
{"nick":"TimothyGu","message":"url is better, cuz I wrote it ;)","date":"2018-01-10T04:10:19.550Z","type":"message"}
{"nick":"devsnek","message":"humph","date":"2018-01-10T04:10:35.064Z","type":"message"}
{"nick":"devsnek","message":"i'll be the judge of that","date":"2018-01-10T04:10:38.129Z","type":"message"}
{"nick":"TimothyGu","message":"actually wait","date":"2018-01-10T04:10:41.791Z","type":"message"}
{"nick":"TimothyGu","message":"nah encoding is fine","date":"2018-01-10T04:10:45.959Z","type":"message"}
{"nick":"devsnek","message":"basically the same thing","date":"2018-01-10T04:10:49.983Z","type":"message"}
{"nick":"devsnek","message":"but yours has more stuff","date":"2018-01-10T04:10:57.945Z","type":"message"}
{"nick":"TimothyGu","message":"don't bother with the `this` type check","date":"2018-01-10T04:10:58.996Z","type":"message"}
{"nick":"devsnek","message":"i'm not gonna","date":"2018-01-10T04:11:05.799Z","type":"message"}
{"nick":"devsnek","message":"i just want the nice constructor name and stuff","date":"2018-01-10T04:11:10.626Z","type":"message"}
{"nick":"devsnek","message":"i know a spec typecheck when i see one :3","date":"2018-01-10T04:11:25.708Z","type":"message"}
{"nick":"TimothyGu","message":"getConstructorOf() is actually mostly intended for subclassing","date":"2018-01-10T04:12:05.607Z","type":"message"}
{"nick":"TimothyGu","message":"I don't think anyone would have a reason to subclass vm.Module, but who knows","date":"2018-01-10T04:12:17.617Z","type":"message"}
{"nick":"devsnek","message":"if its possible","date":"2018-01-10T04:12:57.699Z","type":"message"}
{"nick":"devsnek","message":"someone will do it","date":"2018-01-10T04:13:00.205Z","type":"message"}
{"nick":"devsnek","message":"this is js after all","date":"2018-01-10T04:13:03.725Z","type":"message"}
{"nick":"TimothyGu","message":"yup","date":"2018-01-10T04:13:16.494Z","type":"message"}
{"nick":"TimothyGu","message":"Also I don't remember if I said this but thanks for doing this","date":"2018-01-10T04:14:22.657Z","type":"message"}
{"nick":"TimothyGu","message":"also keeping up with my endless comments","date":"2018-01-10T04:14:39.082Z","type":"message"}
{"nick":"devsnek","message":"i just like coooode","date":"2018-01-10T04:14:50.691Z","type":"message"}
{"nick":"TimothyGu","message":"ah the youngsters these days","date":"2018-01-10T04:15:10.353Z","type":"message"}
{"nick":"devsnek","message":"what are you, 20?","date":"2018-01-10T04:15:55.551Z","type":"message"}
{"nick":"TimothyGu","message":"nah 18 lol","date":"2018-01-10T04:16:31.896Z","type":"message"}
{"nick":"devsnek","message":"> younsters","date":"2018-01-10T04:16:41.676Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu: evaluate do nothing","date":"2018-01-10T04:22:08.829Z","type":"message"}
{"nick":"devsnek","message":"should i return undefined?","date":"2018-01-10T04:22:15.588Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: I mean that's what V8 should be doing, so you just need to write tests for that","date":"2018-01-10T04:24:09.863Z","type":"message"}
{"nick":"TimothyGu","message":"l","date":"2018-01-10T04:24:11.984Z","type":"message"}
{"nick":"devsnek","message":"it would be Promise<undefined> then right?","date":"2018-01-10T04:25:16.446Z","type":"message"}
{"nick":"devsnek","message":"or just total undefined","date":"2018-01-10T04:25:22.092Z","type":"message"}
{"nick":"TimothyGu","message":"lemme see","date":"2018-01-10T04:27:53.376Z","type":"message"}
{"nick":"devsnek","message":"should i add error to ModuleWrap or vm.Module","date":"2018-01-10T04:29:18.659Z","type":"message"}
{"nick":"TimothyGu","message":"Okay, no, you don't have to explicitly check for them. V8 handles everything correctly","date":"2018-01-10T04:29:31.892Z","type":"message"}
{"nick":"TimothyGu","message":"just 1) make sure not to throw an error for those states, and 2) addd tests","date":"2018-01-10T04:29:52.990Z","type":"message"}
{"nick":"devsnek","message":"yea","date":"2018-01-10T04:30:00.672Z","type":"message"}
{"nick":"TimothyGu","message":"add what kind of errors?","date":"2018-01-10T04:30:07.773Z","type":"message"}
{"nick":"devsnek","message":"what about module's error","date":"2018-01-10T04:30:08.289Z","type":"message"}
{"nick":"devsnek","message":"module has an error slot right","date":"2018-01-10T04:30:15.675Z","type":"message"}
{"nick":"TimothyGu","message":"yeah?","date":"2018-01-10T04:30:23.872Z","type":"message"}
{"nick":"devsnek","message":"for if an error occurs during evaluation","date":"2018-01-10T04:30:24.327Z","type":"message"}
{"nick":"TimothyGu","message":"yeah","date":"2018-01-10T04:30:34.348Z","type":"message"}
{"nick":"TimothyGu","message":"V8's Evaluate() rethrows the same error","date":"2018-01-10T04:30:44.721Z","type":"message"}
{"nick":"devsnek","message":"oh","date":"2018-01-10T04:30:51.342Z","type":"message"}
{"nick":"devsnek","message":"then we have redundant code","date":"2018-01-10T04:30:57.919Z","type":"message"}
{"nick":"devsnek","message":"in the loader","date":"2018-01-10T04:30:59.293Z","type":"message"}
{"nick":"TimothyGu","message":"i.e., it implements the spec correctly","date":"2018-01-10T04:31:02.025Z","type":"message"}
{"nick":"devsnek","message":"cool","date":"2018-01-10T04:31:02.269Z","type":"message"}
{"nick":"TimothyGu","message":"Also like a LOT of tests are needed","date":"2018-01-10T04:31:35.927Z","type":"message"}
{"nick":"devsnek","message":"ye","date":"2018-01-10T04:31:41.684Z","type":"message"}
{"nick":"TimothyGu","message":"basically all of these status states need to be tested, against all the methods","date":"2018-01-10T04:31:49.371Z","type":"message"}
{"nick":"TimothyGu","message":"nPr","date":"2018-01-10T04:31:56.895Z","type":"message"}
{"nick":"devsnek","message":"oof","date":"2018-01-10T04:32:02.692Z","type":"message"}
{"nick":"TimothyGu","message":"or nCr, idk","date":"2018-01-10T04:32:06.824Z","type":"message"}
{"nick":"devsnek","message":"what do those mean","date":"2018-01-10T04:32:15.486Z","type":"message"}
{"nick":"devsnek","message":":<","date":"2018-01-10T04:32:18.487Z","type":"message"}
{"nick":"TimothyGu","message":"statistics","date":"2018-01-10T04:32:23.020Z","type":"message"}
{"nick":"TimothyGu","message":"like permutations","date":"2018-01-10T04:32:39.187Z","type":"message"}
{"nick":"devsnek","message":"oh","date":"2018-01-10T04:32:39.512Z","type":"message"}
{"nick":"devsnek","message":"i knewthat","date":"2018-01-10T04:32:41.625Z","type":"message"}
{"nick":"devsnek","message":"fml","date":"2018-01-10T04:32:44.431Z","type":"message"}
{"nick":"devsnek","message":"i'm in a statistics class rn i should remember that better","date":"2018-01-10T04:33:04.993Z","type":"message"}
{"nick":"devsnek","message":"well not at this moment","date":"2018-01-10T04:33:15.290Z","type":"message"}
{"nick":"devsnek","message":"but thats the math class i'm taking","date":"2018-01-10T04:33:20.304Z","type":"message"}
{"nick":"TimothyGu","message":"just wait until college. you're gonna relearn anything anyway","date":"2018-01-10T04:33:56.364Z","type":"message"}
{"nick":"devsnek","message":"rip","date":"2018-01-10T04:34:01.891Z","type":"message"}
{"nick":"devsnek","message":"would `context ? options.context : undefined` make sense for setting module.context","date":"2018-01-10T04:36:51.756Z","type":"message"}
{"nick":"devsnek","message":"cuz i want it to be the whole ModuleContext not just the sandbox","date":"2018-01-10T04:37:05.633Z","type":"message"}
{"nick":"TimothyGu","message":"huh?","date":"2018-01-10T04:38:33.516Z","type":"message"}
{"nick":"devsnek","message":"you said i should set it to the local context variable in the constructor","date":"2018-01-10T04:39:10.723Z","type":"message"}
{"nick":"devsnek","message":"but that ends up being the sandbox object","date":"2018-01-10T04:39:19.710Z","type":"message"}
{"nick":"devsnek","message":"tbh i need to rethink ModuleContext","date":"2018-01-10T04:39:53.178Z","type":"message"}
{"nick":"devsnek","message":"i have sandbox not top level just for the stupid url counter","date":"2018-01-10T04:40:01.602Z","type":"message"}
{"nick":"devsnek","message":"i can probably move that to a weak map","date":"2018-01-10T04:40:06.127Z","type":"message"}
{"nick":"devsnek","message":"and just get rid of ModuleContext entirely","date":"2018-01-10T04:40:13.523Z","type":"message"}
{"nick":"TimothyGu","message":"sounds good to me","date":"2018-01-10T04:40:31.163Z","type":"message"}
{"nick":"devsnek","message":"lol","date":"2018-01-10T04:40:33.346Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu: is the context name thing exposed as a public api","date":"2018-01-10T04:53:21.010Z","type":"message"}
{"nick":"TimothyGu","message":"No","date":"2018-01-10T04:53:32.522Z","type":"message"}
{"nick":"devsnek","message":"rip","date":"2018-01-10T04:53:48.888Z","type":"message"}
{"nick":"devsnek","message":"how can i do assert.throws on a promise","date":"2018-01-10T05:15:44.967Z","type":"message"}
{"nick":"devsnek","message":"we need assert.rejects :(","date":"2018-01-10T05:15:50.597Z","type":"message"}
{"nick":"not-an-aardvark","message":"promise.then(assert.fail, () => {})","date":"2018-01-10T05:21:18.213Z","type":"message"}
{"nick":"devsnek","message":"thats basically what i'm doing :(","date":"2018-01-10T05:21:37.329Z","type":"message"}
{"nick":"devsnek","message":"well i wrapped it a bit more","date":"2018-01-10T05:21:44.114Z","type":"message"}
{"nick":"devsnek","message":"to check the error message","date":"2018-01-10T05:21:48.402Z","type":"message"}
{"nick":"devsnek","message":"so its more like asser.throws","date":"2018-01-10T05:21:53.133Z","type":"message"}
{"nick":"devsnek","message":"but its not ideal","date":"2018-01-10T05:21:57.861Z","type":"message"}
{"nick":"marthinal","date":"2018-01-10T05:26:24.007Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T05:31:15.548Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T05:31:15.603Z","type":"part"}
{"nick":"devsnek","message":"TimothyGu: shouldn't link be sync? all it does is fill the dep cache but it doesn't actually wait for the promises to resolve","date":"2018-01-10T05:36:25.138Z","type":"message"}
{"nick":"TimothyGu","message":"we can only call instantiate() after link completes","date":"2018-01-10T05:36:46.001Z","type":"message"}
{"nick":"devsnek","message":"what does complete mean","date":"2018-01-10T05:36:58.180Z","type":"message"}
{"nick":"devsnek","message":"just filling the cache right","date":"2018-01-10T05:37:03.293Z","type":"message"}
{"nick":"devsnek","message":"not actually waiting for the promises in the cache to resolve","date":"2018-01-10T05:37:13.071Z","type":"message"}
{"nick":"TimothyGu","message":"well we need a way to know when linking finishes","date":"2018-01-10T05:37:55.001Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T05:38:01.553Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T05:38:01.620Z","type":"part"}
{"nick":"TimothyGu","message":"so that after linking finishes we can call instantiate","date":"2018-01-10T05:38:10.982Z","type":"message"}
{"nick":"TimothyGu","message":"link() is the way","date":"2018-01-10T05:38:15.543Z","type":"message"}
{"nick":"devsnek","message":"this is probably a ModuleWrap limitation then","date":"2018-01-10T05:38:15.625Z","type":"message"}
{"nick":"devsnek","message":"ok i think i figured this out","date":"2018-01-10T05:38:33.451Z","type":"message"}
{"nick":"devsnek","message":"gotta change up ModuleWrap::Link","date":"2018-01-10T05:38:41.583Z","type":"message"}
{"nick":"devsnek","message":"to return the array of promises","date":"2018-01-10T05:38:46.973Z","type":"message"}
{"nick":"devsnek","message":"then we can await that","date":"2018-01-10T05:38:48.739Z","type":"message"}
{"nick":"TimothyGu","message":"why?","date":"2018-01-10T05:39:12.963Z","type":"message"}
{"nick":"devsnek","message":"otherwise we can't track the promises","date":"2018-01-10T05:39:21.290Z","type":"message"}
{"nick":"devsnek","message":"if the function passed to link fails theres no way to catch it right?","date":"2018-01-10T05:39:38.338Z","type":"message"}
{"nick":"TimothyGu","message":"aren't you doing that already?","date":"2018-01-10T05:39:46.166Z","type":"message"}
{"nick":"TimothyGu","message":"well right now because you are awaiting Promise.all(promises user passed in)","date":"2018-01-10T05:40:04.847Z","type":"message"}
{"nick":"TimothyGu","message":"it's already caught","date":"2018-01-10T05:40:12.061Z","type":"message"}
{"nick":"devsnek","message":"ok the real issue here is","date":"2018-01-10T05:40:29.767Z","type":"message"}
{"nick":"devsnek","message":"i have a type check","date":"2018-01-10T05:40:33.159Z","type":"message"}
{"nick":"devsnek","message":"inside the link callback","date":"2018-01-10T05:40:37.007Z","type":"message"}
{"nick":"devsnek","message":"there's no way to handle if it throws","date":"2018-01-10T05:40:43.995Z","type":"message"}
{"nick":"devsnek","message":"there's a level of separation here which i don't know how to deal with","date":"2018-01-10T05:41:44.163Z","type":"message"}
{"nick":"devsnek","message":"hmm maybe i can fudge this a bit","date":"2018-01-10T05:44:02.989Z","type":"message"}
{"nick":"devsnek","message":"ok i did it by doing a function in a function","date":"2018-01-10T05:46:51.636Z","type":"message"}
{"nick":"lpin","date":"2018-01-10T06:27:31.324Z","type":"join"}
{"nick":"sgimeno","reason":"Ping timeout: 256 seconds","date":"2018-01-10T06:33:43.431Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-10T06:41:42.792Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T06:41:42.873Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T06:45:32.704Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T06:45:32.705Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T06:47:33.549Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T06:47:33.655Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T06:51:22.379Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T06:51:22.462Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T07:28:37.418Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T07:28:37.523Z","type":"part"}
{"nick":"sgimeno","date":"2018-01-10T07:29:11.397Z","type":"join"}
{"nick":"seishun","date":"2018-01-10T07:39:52.091Z","type":"join"}
{"nick":"sgimeno","reason":"Ping timeout: 276 seconds","date":"2018-01-10T07:44:32.094Z","type":"quit"}
{"nick":"sgimeno","date":"2018-01-10T07:50:20.292Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T08:10:18.405Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T08:10:18.473Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T08:12:13.426Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T08:12:13.495Z","type":"part"}
{"nick":"mollusk","date":"2018-01-10T08:24:54.840Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2018-01-10T08:39:57.781Z","type":"quit"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-10T08:41:04.222Z","type":"quit"}
{"nick":"mollusk","date":"2018-01-10T08:50:18.100Z","type":"join"}
{"nick":"mollusk","reason":"Client Quit","date":"2018-01-10T08:51:03.590Z","type":"quit"}
{"nick":"targos","date":"2018-01-10T08:56:41.826Z","type":"join"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2018-01-10T09:04:09.764Z","type":"quit"}
{"nick":"BridgeAR","date":"2018-01-10T09:54:32.310Z","type":"join"}
{"nick":"robink","reason":"Ping timeout: 252 seconds","date":"2018-01-10T10:49:20.103Z","type":"quit"}
{"nick":"robink","date":"2018-01-10T10:51:32.608Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T11:07:47.618Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T11:07:47.686Z","type":"part"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-01-10T11:25:10.991Z","type":"quit"}
{"nick":"mylesborins","date":"2018-01-10T11:25:41.451Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T12:42:37.628Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T12:42:37.629Z","type":"part"}
{"nick":"bradleymeck","date":"2018-01-10T12:47:55.417Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T12:54:24.695Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T12:54:24.695Z","type":"part"}
{"nick":"bradleymeck","message":"devsnek: minor changes to make things not leak and then +1 from me on that pr","date":"2018-01-10T13:15:42.515Z","type":"message"}
{"nick":"bradleymeck","message":"I need to figure out a way to move core onto a frozen realm but I don't expect defensive coding to be mandatory for most PRs","date":"2018-01-10T13:16:21.350Z","type":"message"}
{"nick":"bradleymeck","message":"once that happens Object.defineProperty will be \"safe\"","date":"2018-01-10T13:16:44.434Z","type":"message"}
{"nick":"fcanela","reason":"Read error: Connection reset by peer","date":"2018-01-10T13:57:35.036Z","type":"quit"}
{"nick":"fcanela","date":"2018-01-10T13:59:15.176Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T14:21:32.448Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T14:21:32.516Z","type":"part"}
{"nick":"bradleymeck","message":"devsnek: symbols are public so they do leak values","date":"2018-01-10T14:55:19.153Z","type":"message"}
{"nick":"bradleymeck","message":"posted example code in the pr","date":"2018-01-10T14:55:32.754Z","type":"message"}
{"nick":"devsnek","message":"how do you get a symbol from an object","date":"2018-01-10T15:02:09.852Z","type":"message"}
{"nick":"devsnek","message":"it won't show in getOwnPropertyNames or keys even from the result of getOwnPropertyDescriptors","date":"2018-01-10T15:02:32.614Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: getOwnPropertySymbols","date":"2018-01-10T15:02:40.084Z","type":"message"}
{"nick":"bradleymeck","message":"was my bad on using Names in the comment","date":"2018-01-10T15:02:49.762Z","type":"message"}
{"nick":"devsnek","message":"oh ;-;","date":"2018-01-10T15:02:50.209Z","type":"message"}
{"nick":"devsnek","message":"ya that makes sense","date":"2018-01-10T15:02:56.822Z","type":"message"}
{"nick":"devsnek","message":"and about the loader handling dynamic imports","date":"2018-01-10T15:03:17.201Z","type":"message"}
{"nick":"devsnek","message":"that seems like a real problem with this api as it currently stands","date":"2018-01-10T15:03:32.514Z","type":"message"}
{"nick":"bradleymeck","message":"i'm not sure why `vm:` is in discussion?","date":"2018-01-10T15:03:38.193Z","type":"message"}
{"nick":"bradleymeck","message":"since the constructor doesn't enforce that url scheme","date":"2018-01-10T15:03:50.552Z","type":"message"}
{"nick":"devsnek","message":"well something needs to stop that callback from handling vm's dynamic import","date":"2018-01-10T15:03:53.362Z","type":"message"}
{"nick":"devsnek","message":"and i did actually add that enforcement","date":"2018-01-10T15:04:00.986Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: weakmap it again","date":"2018-01-10T15:04:37.579Z","type":"message"}
{"nick":"devsnek","message":"weakmap what","date":"2018-01-10T15:04:54.478Z","type":"message"}
{"nick":"bradleymeck","message":"we have weakmaps all over the module code because we don't have private fields yet ;(","date":"2018-01-10T15:04:57.014Z","type":"message"}
{"nick":"devsnek","message":"what am i putting in this new weakmap","date":"2018-01-10T15:05:47.188Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: you can make a `isVMModule = WeakSet()` or use the `kWrap` WeakMap","date":"2018-01-10T15:05:49.675Z","type":"message"}
{"nick":"bradleymeck","message":"have the loader check w/ `isVMModule.has(esm)` to see if `import()` needs to be redirected/cancelled","date":"2018-01-10T15:06:16.110Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: 1. some way to signal that the Module instance is from VM 2. *if they can change the behavior of the loader per isntance*, a ref to the specific loader","date":"2018-01-10T15:07:48.499Z","type":"message"}
{"nick":"bradleymeck","message":"Module instance being a ModuleWrap in ^","date":"2018-01-10T15:08:11.763Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T15:08:40.216Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:08:40.296Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T15:23:04.231Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:23:04.231Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T15:23:24.184Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:23:24.253Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T15:24:46.629Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:24:46.697Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T15:27:44.453Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:27:44.522Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T15:31:20.547Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:31:20.615Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T15:31:59.147Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:31:59.217Z","type":"part"}
{"nick":"Fishrock123","date":"2018-01-10T15:34:37.109Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:34:39.559Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:34:39.559Z","type":"part"}
{"nick":"Fishrock123","message":"anyone familiar with util.inspect know why https://github.com/nodejs/node/pull/18065/files doesn't show [Symbol(refresh())] in the repl for a timer?","date":"2018-01-10T15:49:17.217Z","type":"message"}
{"nick":"Fishrock123","message":"wait does inspect not see the prototype?","date":"2018-01-10T15:50:19.607Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T15:57:26.875Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T15:57:27.081Z","type":"part"}
{"nick":"devsnek","message":"bradleymeck the modulewrap instance isn't passed to the dynamic import callback","date":"2018-01-10T15:59:41.678Z","type":"message"}
{"nick":"dave0x6d","reason":"Quit: Connection closed for inactivity","date":"2018-01-10T15:59:42.632Z","type":"quit"}
{"nick":"devsnek","message":"otherwise i would just make a weakset","date":"2018-01-10T15:59:51.935Z","type":"message"}
{"nick":"bradleymeck","message":"on C++ side you mean?","date":"2018-01-10T16:00:16.371Z","type":"message"}
{"nick":"devsnek","message":"yea","date":"2018-01-10T16:00:22.122Z","type":"message"}
{"nick":"devsnek","message":"you just get the ModuleOrScript","date":"2018-01-10T16:00:26.767Z","type":"message"}
{"nick":"devsnek","message":"i don't think i can go from Module to ModuleWrap anyway","date":"2018-01-10T16:00:34.782Z","type":"message"}
{"nick":"devsnek","message":"i'll look into \"ModuleWrap for Module\"","date":"2018-01-10T16:01:02.176Z","type":"message"}
{"nick":"devsnek","message":"actually the ScriptOrModule class doesn't even point to the actual module or script","date":"2018-01-10T16:01:30.144Z","type":"message"}
{"nick":"devsnek","message":"so that brings me back to enforcing vm scheme","date":"2018-01-10T16:02:04.306Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: URLs are not unique so it doesn't work","date":"2018-01-10T16:03:05.660Z","type":"message"}
{"nick":"devsnek","message":"wdym","date":"2018-01-10T16:03:17.783Z","type":"message"}
{"nick":"bradleymeck","message":"I can have multiple ESM with same URL, and multiple Script with same URL","date":"2018-01-10T16:03:46.886Z","type":"message"}
{"nick":"devsnek","message":"how does that break checking for the vm scheme","date":"2018-01-10T16:04:04.532Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: you can put stuff into the GetHostDefinedOptions for your ScriptOrigin though","date":"2018-01-10T16:04:31.727Z","type":"message"}
{"nick":"devsnek","message":"hmmm","date":"2018-01-10T16:05:04.220Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: could I make a script / esm with the same url?","date":"2018-01-10T16:05:16.706Z","type":"message"}
{"nick":"mollusk","date":"2018-01-10T16:05:19.083Z","type":"join"}
{"nick":"devsnek","message":"sure","date":"2018-01-10T16:05:29.745Z","type":"message"}
{"nick":"bradleymeck","message":"unless you change vm.Script and vm.Module to be unable to collide you need some other mechanism to determine the exact module that did the import()","date":"2018-01-10T16:05:44.467Z","type":"message"}
{"nick":"devsnek","message":"ya the host options seems good then","date":"2018-01-10T16:06:01.371Z","type":"message"}
{"nick":"bradleymeck","message":"I'd use GetHostDefinedOptions probably if you need to map it","date":"2018-01-10T16:06:05.796Z","type":"message"}
{"nick":"devsnek","message":"what can i put in a PrimitiveArray","date":"2018-01-10T16:06:19.743Z","type":"message"}
{"nick":"devsnek","message":"just primitives?","date":"2018-01-10T16:06:32.982Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T16:09:47.536Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T16:09:47.643Z","type":"part"}
{"nick":"john51","reason":"Remote host closed the connection","date":"2018-01-10T16:17:30.538Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-10T16:22:23.788Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T16:22:23.857Z","type":"part"}
{"nick":"nodejs-gh","date":"2018-01-10T16:23:06.161Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T16:23:06.282Z","type":"part"}
{"nick":"john51","date":"2018-01-10T16:23:57.882Z","type":"join"}
{"nick":"doodadjs","date":"2018-01-10T16:47:50.871Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T16:50:21.231Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T16:50:21.298Z","type":"part"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-10T16:54:59.659Z","type":"quit"}
{"nick":"TimothyGu","message":"devsnek: can we delay import() until after the current PR is merged? I really don't want to be mixing different things, esp. when V8's import() APIs are still marked as experimental","date":"2018-01-10T17:05:36.759Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: there's also Reflect.ownKeys() which exposes both string- and symbol-named own properties on an object","date":"2018-01-10T17:06:52.329Z","type":"message"}
{"nick":"TimothyGu","message":"bradleymeck: when I import a module b from module a, must these two modules belong to the same context/realm?","date":"2018-01-10T17:08:07.788Z","type":"message"}
{"nick":"bradleymeck","message":"TimothyGu: no, but V8 recommended we not allow them to be from their impl","date":"2018-01-10T17:08:37.622Z","type":"message"}
{"nick":"TimothyGu","message":"https://tc39.github.io/ecma262/#sec-hostresolveimportedmodule says \"occurring within the context of the module represented by the Module Record referencingModule\"","date":"2018-01-10T17:09:01.474Z","type":"message"}
{"nick":"bradleymeck","message":"context != realm in ECMA262","date":"2018-01-10T17:10:06.959Z","type":"message"}
{"nick":"bradleymeck","message":"it is just saying it is gathering those arguments from the module using import","date":"2018-01-10T17:10:35.354Z","type":"message"}
{"nick":"TimothyGu","message":"oh heh","date":"2018-01-10T17:10:49.000Z","type":"message"}
{"nick":"TimothyGu","message":"I was probably thinking about execution context, which is something else","date":"2018-01-10T17:11:22.226Z","type":"message"}
{"nick":"al-damiri","date":"2018-01-10T17:19:19.053Z","type":"join"}
{"nick":"seishun","date":"2018-01-10T17:30:01.139Z","type":"join"}
{"nick":"mollusk","date":"2018-01-10T17:34:53.724Z","type":"join"}
{"nick":"AtumT","date":"2018-01-10T17:37:01.185Z","type":"join"}
{"nick":"mollusk","reason":"Client Quit","date":"2018-01-10T17:39:32.187Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-10T17:44:08.082Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T17:44:08.150Z","type":"part"}
{"nick":"Trott","message":"Any TSC members paying attention to this channel at this moment?","date":"2018-01-10T17:44:48.094Z","type":"message"}
{"nick":"nodejs-gh","date":"2018-01-10T17:50:00.806Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T17:50:00.874Z","type":"part"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-10T18:05:41.279Z","type":"quit"}
{"nick":"reydelcompas","date":"2018-01-10T18:52:08.036Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-01-10T18:54:12.293Z","type":"quit"}
{"nick":"Fishrock123","date":"2018-01-10T18:58:20.406Z","type":"join"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-01-10T19:08:50.284Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-01-10T19:50:00.956Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-10T19:55:45.665Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T19:55:45.733Z","type":"part"}
{"nick":"bradleymeck","date":"2018-01-10T20:02:52.890Z","type":"join"}
{"nick":"Fishrock123","date":"2018-01-10T20:02:57.526Z","type":"join"}
{"nick":"bret","reason":"Quit: Updating details, brb","date":"2018-01-10T20:14:02.017Z","type":"quit"}
{"nick":"bret","date":"2018-01-10T20:14:11.056Z","type":"join"}
{"nick":"dave0x6d","date":"2018-01-10T20:35:11.793Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 265 seconds","date":"2018-01-10T20:54:57.512Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-01-10T20:59:22.669Z","type":"join"}
{"nick":"marthinal","reason":"Quit: This computer has gone to sleep","date":"2018-01-10T21:12:56.669Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-10T21:20:20.227Z","type":"join"}
{"nick":"marthinal","reason":"Quit: This computer has gone to sleep","date":"2018-01-10T21:26:40.308Z","type":"quit"}
{"nick":"marthinal","date":"2018-01-10T21:28:24.967Z","type":"join"}
{"nick":"Anthony-M","reason":"Quit: WeeChat 1.5","date":"2018-01-10T21:47:07.286Z","type":"quit"}
{"nick":"seishun","date":"2018-01-10T21:47:26.663Z","type":"join"}
{"nick":"marthinal","reason":"Quit: This computer has gone to sleep","date":"2018-01-10T21:52:09.307Z","type":"quit"}
{"nick":"PhDuck","date":"2018-01-10T21:52:49.163Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T22:02:41.631Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T22:02:41.696Z","type":"part"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-01-10T22:15:53.068Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2018-01-10T22:18:55.388Z","type":"quit"}
{"nick":"mollusk","date":"2018-01-10T22:22:10.039Z","type":"join"}
{"nick":"Fishrock123","date":"2018-01-10T22:25:53.627Z","type":"join"}
{"nick":"marthinal","date":"2018-01-10T22:47:37.388Z","type":"join"}
{"nick":"marthinal","reason":"Client Quit","date":"2018-01-10T22:48:32.357Z","type":"quit"}
{"nick":"Fishrock123","message":"anyone know if zlib.params breaks things if NOT used with DEFLATE? there aren't any checks for that but the docs say it is only applicable to deflate","date":"2018-01-10T22:57:30.025Z","type":"message"}
{"nick":"Fishrock123","message":"same with .reset() ...","date":"2018-01-10T22:58:14.899Z","type":"message"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-10T23:13:38.380Z","type":"quit"}
{"nick":"mollusk","date":"2018-01-10T23:17:39.656Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-01-10T23:19:58.061Z","type":"quit"}
{"nick":"nodejs-gh","date":"2018-01-10T23:20:59.164Z","type":"join"}
{"nick":"nodejs-gh","date":"2018-01-10T23:20:59.232Z","type":"part"}
{"nick":"adempus","date":"2018-01-10T23:27:46.199Z","type":"join"}
{"nick":"Fishrock123","reason":"Quit: Leaving...","date":"2018-01-10T23:33:20.861Z","type":"quit"}
{"nick":"mollusk","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-01-10T23:51:07.233Z","type":"quit"}
