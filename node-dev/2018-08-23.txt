{"nick":"gabrielschulhof","date":"2018-08-23T00:19:35.494Z","type":"join"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 240 seconds","date":"2018-08-23T02:03:05.455Z","type":"quit"}
{"nick":"mstallmo","reason":"Quit: Leaving","date":"2018-08-23T02:14:37.173Z","type":"quit"}
{"nick":"mmarchini_","date":"2018-08-23T02:21:43.103Z","type":"join"}
{"nick":"Guest11409___","date":"2018-08-23T02:22:05.246Z","type":"join"}
{"nick":"rvagg_","date":"2018-08-23T02:22:09.604Z","type":"join"}
{"nick":"bradleymeck","reason":"Disconnected by services","date":"2018-08-23T02:22:14.294Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-08-23T02:22:15.640Z","type":"join"}
{"nick":"ofrobots","date":"2018-08-23T02:22:15.890Z","type":"join"}
{"nick":"cspotcode_","date":"2018-08-23T02:22:38.140Z","type":"join"}
{"nick":"matth1askrgr","date":"2018-08-23T02:22:40.394Z","type":"join"}
{"nick":"ryzokuken__","date":"2018-08-23T02:22:51.142Z","type":"join"}
{"nick":"matth1askrgr","new_nick":"Guest58531","date":"2018-08-23T02:23:06.883Z","type":"nick"}
{"nick":"cxreg2","date":"2018-08-23T02:25:25.176Z","type":"join"}
{"nick":"cxreg","reason":"*.net *.split","date":"2018-08-23T02:29:36.046Z","type":"quit"}
{"nick":"Guest11409__","reason":"*.net *.split","date":"2018-08-23T02:29:38.484Z","type":"quit"}
{"nick":"ofrobots__","reason":"*.net *.split","date":"2018-08-23T02:29:39.153Z","type":"quit"}
{"nick":"rvagg","reason":"*.net *.split","date":"2018-08-23T02:29:39.925Z","type":"quit"}
{"nick":"cspotcode","reason":"*.net *.split","date":"2018-08-23T02:29:39.926Z","type":"quit"}
{"nick":"ryzokuken","reason":"*.net *.split","date":"2018-08-23T02:29:40.074Z","type":"quit"}
{"nick":"mmarchini","reason":"*.net *.split","date":"2018-08-23T02:29:40.222Z","type":"quit"}
{"nick":"matthiaskrgr","reason":"*.net *.split","date":"2018-08-23T02:29:40.520Z","type":"quit"}
{"nick":"r04r_","reason":"*.net *.split","date":"2018-08-23T02:29:43.282Z","type":"quit"}
{"nick":"cspotcode_","new_nick":"cspotcode","date":"2018-08-23T02:29:44.079Z","type":"nick"}
{"nick":"r04r","date":"2018-08-23T02:29:44.665Z","type":"join"}
{"nick":"r04r","reason":"Changing host","date":"2018-08-23T02:29:49.121Z","type":"quit"}
{"nick":"r04r","date":"2018-08-23T02:29:49.270Z","type":"join"}
{"nick":"zsoc","reason":"Ping timeout: 252 seconds","date":"2018-08-23T03:38:20.021Z","type":"quit"}
{"nick":"marthinal","date":"2018-08-23T04:53:19.096Z","type":"join"}
{"nick":"dc13ff","date":"2018-08-23T05:09:54.302Z","type":"join"}
{"nick":"Guest58531","reason":"Changing host","date":"2018-08-23T05:10:18.542Z","type":"quit"}
{"nick":"Guest58531","date":"2018-08-23T05:10:18.691Z","type":"join"}
{"nick":"Guest58531","reason":"Changing host","date":"2018-08-23T05:10:18.839Z","type":"quit"}
{"nick":"Guest58531","date":"2018-08-23T05:10:18.840Z","type":"join"}
{"nick":"Guest58531","new_nick":"matthiaskrgr","date":"2018-08-23T05:12:27.553Z","type":"nick"}
{"nick":"lpin","date":"2018-08-23T05:31:09.364Z","type":"join"}
{"nick":"seishun","date":"2018-08-23T06:05:22.629Z","type":"join"}
{"nick":"zeds1","date":"2018-08-23T06:34:34.140Z","type":"join"}
{"nick":"zeds1","date":"2018-08-23T06:34:38.897Z","type":"part"}
{"nick":"ChALkeR","date":"2018-08-23T06:52:03.497Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 260 seconds","date":"2018-08-23T06:57:48.501Z","type":"quit"}
{"nick":"ryzokuken__","date":"2018-08-23T07:06:21.217Z","type":"quit"}
{"nick":"ryzokuken__","date":"2018-08-23T07:06:50.364Z","type":"join"}
{"nick":"ryzokuken__","reason":"Client Quit","date":"2018-08-23T07:08:32.493Z","type":"quit"}
{"nick":"ryzokuken","date":"2018-08-23T07:08:54.702Z","type":"join"}
{"nick":"arkadio","reason":"Remote host closed the connection","date":"2018-08-23T07:12:27.513Z","type":"quit"}
{"nick":"dc13ff","reason":"Quit: Connection closed for inactivity","date":"2018-08-23T07:58:49.416Z","type":"quit"}
{"nick":"marthinal","date":"2018-08-23T08:04:03.929Z","type":"quit"}
{"nick":"marthinal","date":"2018-08-23T08:05:45.707Z","type":"join"}
{"nick":"benjamingr_","date":"2018-08-23T08:49:41.012Z","type":"join"}
{"nick":"neo-cool15","date":"2018-08-23T09:18:49.811Z","type":"join"}
{"nick":"neo-cool15","reason":"Remote host closed the connection","date":"2018-08-23T09:20:27.756Z","type":"quit"}
{"nick":"mcollina","message":"Is there a gyp expert around?","date":"2018-08-23T10:19:30.139Z","type":"message"}
{"nick":"lpin","reason":"Read error: Connection reset by peer","date":"2018-08-23T10:28:01.204Z","type":"quit"}
{"nick":"arkadio","date":"2018-08-23T10:48:56.526Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 240 seconds","date":"2018-08-23T12:32:05.579Z","type":"quit"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-08-23T13:05:02.066Z","type":"quit"}
{"nick":"benjamingr_","reason":"Quit: Connection closed for inactivity","date":"2018-08-23T13:20:57.969Z","type":"quit"}
{"nick":"marthinal","date":"2018-08-23T13:31:14.357Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-08-23T13:31:25.457Z","type":"quit"}
{"nick":"marthinal","date":"2018-08-23T13:31:31.860Z","type":"join"}
{"nick":"gabrielschulhof","date":"2018-08-23T14:13:36.015Z","type":"join"}
{"nick":"bhughes_","date":"2018-08-23T14:39:04.865Z","type":"join"}
{"nick":"bhughes","reason":"Quit: ZNC - http://znc.in","date":"2018-08-23T14:39:27.926Z","type":"quit"}
{"nick":"zsoc","date":"2018-08-23T14:47:33.304Z","type":"join"}
{"nick":"zsoc","reason":"Changing host","date":"2018-08-23T14:47:41.883Z","type":"quit"}
{"nick":"zsoc","date":"2018-08-23T14:47:41.883Z","type":"join"}
{"nick":"indutny","message":"I am not :)","date":"2018-08-23T15:17:06.866Z","type":"message"}
{"nick":"indutny","message":"but I can try","date":"2018-08-23T15:17:09.385Z","type":"message"}
{"nick":"indutny","message":"what's up?","date":"2018-08-23T15:17:10.850Z","type":"message"}
{"nick":"seishun","date":"2018-08-23T15:56:14.616Z","type":"join"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 272 seconds","date":"2018-08-23T16:00:57.011Z","type":"quit"}
{"nick":"gabrielschulhof","date":"2018-08-23T16:01:04.350Z","type":"join"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 268 seconds","date":"2018-08-23T16:11:45.417Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-08-23T16:11:49.746Z","type":"join"}
{"nick":"refack","message":"Have to force push a tiny change (was on wrong HEAD)","date":"2018-08-23T16:16:27.813Z","type":"message"}
{"nick":"refack","message":"mcollina: I might be able to help as well","date":"2018-08-23T16:18:04.221Z","type":"message"}
{"nick":"mcollina","message":"refack: no worries I got it sorted","date":"2018-08-23T16:18:37.905Z","type":"message"}
{"nick":"mcollina","message":"gyp is horrible :P","date":"2018-08-23T16:18:44.631Z","type":"message"}
{"nick":"mcollina","message":"I did put my define in the wrong place.","date":"2018-08-23T16:18:54.567Z","type":"message"}
{"nick":"refack","message":"It's my pet moster","date":"2018-08-23T16:18:55.927Z","type":"message"}
{"nick":"refack","message":"monster","date":"2018-08-23T16:19:02.605Z","type":"message"}
{"nick":"refack","message":"üêâ","date":"2018-08-23T16:19:13.488Z","type":"message"}
{"nick":"Wes-","message":"At least gyp works. That ninja thing the v8 team is using on tip does not appear to actually work with code that is outside of their source tree (like v8 embeddings). I finally gave up and copied my stuff into their tree for building. :(","date":"2018-08-23T16:23:32.147Z","type":"message"}
{"nick":"mcollina","message":":(","date":"2018-08-23T16:29:30.976Z","type":"message"}
{"nick":"al-damiri","date":"2018-08-23T16:29:41.793Z","type":"join"}
{"nick":"refack","message":"IMO `ninja` is fantastic, it's the depot_tools / GN that breaks for anything that is not Google/V8/Chromium :(","date":"2018-08-23T16:32:20.098Z","type":"message"}
{"nick":"devsnek","message":"depot_tools mostly works","date":"2018-08-23T16:33:20.643Z","type":"message"}
{"nick":"devsnek","message":"GN is hecked","date":"2018-08-23T16:33:39.899Z","type":"message"}
{"nick":"refack","message":"In my experience it very fragile for any scenario that is not tested in the chromium pipeline. i.e. my PC and out CI","date":"2018-08-23T16:34:27.922Z","type":"message"}
{"nick":"refack","message":"A lot of patching needed.","date":"2018-08-23T16:34:44.963Z","type":"message"}
{"nick":"devsnek","message":"i haven't needed to patch it","date":"2018-08-23T16:35:13.149Z","type":"message"}
{"nick":"refack","message":"Personally I don't like that it vendors in all of it's own tools...","date":"2018-08-23T16:35:15.185Z","type":"message"}
{"nick":"devsnek","message":"i just dislike how difficult it is to embed v8","date":"2018-08-23T16:35:28.979Z","type":"message"}
{"nick":"refack","message":"Then you are in the 80%","date":"2018-08-23T16:35:46.130Z","type":"message"}
{"nick":"devsnek","message":"it took me forever to figure out the monolithic build thing","date":"2018-08-23T16:36:03.096Z","type":"message"}
{"nick":"devsnek","message":"i haven't figured out how to properly link in icu yet","date":"2018-08-23T16:36:10.521Z","type":"message"}
{"nick":"devsnek","message":"all the Intl stuff just crashes","date":"2018-08-23T16:36:17.799Z","type":"message"}
{"nick":"refack","message":"I have my git in a special place, my python in a special place, I run Windows, and my VS is in a special place, my SDK is all patched up","date":"2018-08-23T16:36:24.362Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: why would you want to use jumbo build","date":"2018-08-23T16:36:43.375Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu: because its hecking impossible to link anything else","date":"2018-08-23T16:36:58.788Z","type":"message"}
{"nick":"devsnek","message":"maybe if v8 had better docs about its build artifacts","date":"2018-08-23T16:37:11.017Z","type":"message"}
{"nick":"refack","message":"I can only deduce from how we build it in node, it does have a ton of moving parts","date":"2018-08-23T16:37:13.901Z","type":"message"}
{"nick":"devsnek","message":"yep","date":"2018-08-23T16:38:06.575Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 252 seconds","date":"2018-08-23T16:38:14.077Z","type":"quit"}
{"nick":"seishun","date":"2018-08-23T16:40:32.555Z","type":"join"}
{"nick":"srl295","message":"devsnek: what's breaking","date":"2018-08-23T16:44:12.572Z","type":"message"}
{"nick":"devsnek","message":"srl295: missing symbols","date":"2018-08-23T16:44:35.802Z","type":"message"}
{"nick":"srl295","message":"oh.. link in icu into a standalone build of v8?","date":"2018-08-23T16:44:41.164Z","type":"message"}
{"nick":"devsnek","message":"ye","date":"2018-08-23T16:44:46.985Z","type":"message"}
{"nick":"devsnek","message":"i linked in the result of `pkg-config --libs --cflags icu-uc icu-io icu-i18n`","date":"2018-08-23T16:45:01.234Z","type":"message"}
{"nick":"devsnek","message":"hmm oh its the \"data files\"","date":"2018-08-23T16:46:14.503Z","type":"message"}
{"nick":"devsnek","message":"https://www.irccloud.com/pastebin/INluee60/bleh","date":"2018-08-23T16:46:19.516Z","type":"message"}
{"nick":"srl295","message":"devsnek: why are you trying to link icu into a standalone build of v8? you're not using their depot tools and third_party preconfigured ICU?","date":"2018-08-23T16:47:07.226Z","type":"message"}
{"nick":"devsnek","message":"srl295: i have no idea","date":"2018-08-23T16:47:20.049Z","type":"message"}
{"nick":"gabrielschulhof","date":"2018-08-23T16:47:43.331Z","type":"join"}
{"nick":"devsnek","message":"i just see that node links icu","date":"2018-08-23T16:47:59.134Z","type":"message"}
{"nick":"devsnek","message":"so i assumed i had to do the same","date":"2018-08-23T16:48:04.765Z","type":"message"}
{"nick":"srl295","message":"devsnek: you shoudln't have to do anything other than turn on the i18n switch from 0 to 1 (if even that)","date":"2018-08-23T16:48:47.195Z","type":"message"}
{"nick":"devsnek","message":"i don't know what that switch is","date":"2018-08-23T16:49:00.177Z","type":"message"}
{"nick":"srl295","message":"https://github.com/v8/v8/wiki/i18n-support#prerequisites ?","date":"2018-08-23T16:51:55.308Z","type":"message"}
{"nick":"srl295","message":"but i thought it was on by defqault","date":"2018-08-23T16:52:18.785Z","type":"message"}
{"nick":"srl295","message":"devsnek: do you want to ask over in #v8 ?","date":"2018-08-23T16:52:35.611Z","type":"message"}
{"nick":"devsnek","message":"srl295: i think that page is very out of date","date":"2018-08-23T16:52:54.316Z","type":"message"}
{"nick":"devsnek","message":"v8 doesn't have a makefile","date":"2018-08-23T16:53:03.796Z","type":"message"}
{"nick":"devsnek","message":"and i've asked in #v8 before","date":"2018-08-23T16:53:10.439Z","type":"message"}
{"nick":"srl295","message":"ok. `fetch v8` didn't fetch it from depot tools or whatever? I haven't done this myself in a long time","date":"2018-08-23T16:54:11.557Z","type":"message"}
{"nick":"TimothyGu","message":"I mean there's https://github.com/v8/v8/blob/50e142c98415d53663465e10b104fce411dd41e9/DEPS#L21-L22","date":"2018-08-23T16:54:38.348Z","type":"message"}
{"nick":"srl295","message":"yeah‚Ä¶¬†that should pull in the special chromium icu","date":"2018-08-23T16:54:56.494Z","type":"message"}
{"nick":"devsnek","message":"chromium uses full icu right?","date":"2018-08-23T16:55:03.712Z","type":"message"}
{"nick":"TimothyGu","message":"yes, with some custom patches","date":"2018-08-23T16:55:12.312Z","type":"message"}
{"nick":"srl295","message":"chromium uses chromium icu :)","date":"2018-08-23T16:55:14.025Z","type":"message"}
{"nick":"devsnek","message":"but not like a node-style trimmed version","date":"2018-08-23T16:55:16.833Z","type":"message"}
{"nick":"srl295","message":"chromium-style trimmed :)","date":"2018-08-23T16:55:29.481Z","type":"message"}
{"nick":"devsnek","message":"with just english or smth","date":"2018-08-23T16:55:35.293Z","type":"message"}
{"nick":"srl295","message":"i think it's closer to ull","date":"2018-08-23T16:55:46.051Z","type":"message"}
{"nick":"devsnek","message":"anyway so i build v8 and do InitializeICU()","date":"2018-08-23T16:55:46.552Z","type":"message"}
{"nick":"srl295","message":"full","date":"2018-08-23T16:55:48.002Z","type":"message"}
{"nick":"devsnek","message":"if i stop linking in this other icu maybe it would work then?","date":"2018-08-23T16:56:27.837Z","type":"message"}
{"nick":"srl295","message":"you may have one icu too many","date":"2018-08-23T16:56:36.917Z","type":"message"}
{"nick":"devsnek","message":"lol","date":"2018-08-23T16:56:52.024Z","type":"message"}
{"nick":"srl295","message":"really, it shoul djut work out of the box unless you specifically requested not to","date":"2018-08-23T16:56:57.641Z","type":"message"}
{"nick":"devsnek","message":"oh i forgot","date":"2018-08-23T16:56:58.550Z","type":"message"}
{"nick":"devsnek","message":"i use icu in my code too","date":"2018-08-23T16:57:02.772Z","type":"message"}
{"nick":"devsnek","message":"for whatwg encoding","date":"2018-08-23T16:57:14.400Z","type":"message"}
{"nick":"srl295","message":"ok","date":"2018-08-23T16:57:18.484Z","type":"message"}
{"nick":"srl295","message":"you may need to add the equivalent of -I third_party/icu  -L third_party/icu etc","date":"2018-08-23T16:57:45.312Z","type":"message"}
{"nick":"devsnek","message":"so if i don't link icu the build fails","date":"2018-08-23T16:57:45.844Z","type":"message"}
{"nick":"devsnek","message":"hmm ok","date":"2018-08-23T16:57:51.074Z","type":"message"}
{"nick":"srl295","message":"devsnek: https://github.com/v8/v8/blob/master/BUILD.gn#L3639","date":"2018-08-23T16:59:13.429Z","type":"message"}
{"nick":"srl295","message":"you may need to apply that to your own module somehow","date":"2018-08-23T16:59:25.221Z","type":"message"}
{"nick":"srl295","message":"*hand wave*","date":"2018-08-23T16:59:30.210Z","type":"message"}
{"nick":"devsnek","message":"thx","date":"2018-08-23T16:59:56.270Z","type":"message"}
{"nick":"srl295","message":"np","date":"2018-08-23T17:00:00.305Z","type":"message"}
{"nick":"srl295","message":"long term i'd like to unify how v8 and node build icu, but they are some very different design points. it's connected to teh 'check in full icu","date":"2018-08-23T17:02:22.239Z","type":"message"}
{"nick":"srl295","message":" item and such","date":"2018-08-23T17:02:24.669Z","type":"message"}
{"nick":"srl295","message":"chromium/v8's model is to prebuild the data multiple ways and check in platform specific intermediate files. downside is 10x+ size increase in the repo (that's why it's a separate repo),  platform specific, and ICU version specific.   Huge plus:  almost no work (no separate tools, etc) needed when building against v8 or chromium.  Vastly simplified build system.","date":"2018-08-23T17:07:16.434Z","type":"message"}
{"nick":"devsnek","message":"linking against the icu in deps didn't fix the problem with v8","date":"2018-08-23T17:07:55.697Z","type":"message"}
{"nick":"devsnek","message":"\"Failed to create ICU number format, are ICU data files missing?\"","date":"2018-08-23T17:09:30.474Z","type":"message"}
{"nick":"srl295","message":"devsnek: for node i went the other way. supports cross platform, multiple icu versions out of the box including platform's icu. butmore work has to be done in the node build. WHere I want to go is to use the new configuration tooling  upstream in ICU, hopefully something that can just be called by v8/chromium/node as apporpriate","date":"2018-08-23T17:09:33.365Z","type":"message"}
{"nick":"Fishrock123","date":"2018-08-23T17:09:41.746Z","type":"join"}
{"nick":"srl295","message":"devsnek: so is v8 itself workign for Intl? or your app?","date":"2018-08-23T17:09:51.112Z","type":"message"}
{"nick":"devsnek","message":"v8 provides Intl.NumberFormat","date":"2018-08-23T17:10:02.329Z","type":"message"}
{"nick":"devsnek","message":"and it looks like v8_enable_i18n_support was already true by default","date":"2018-08-23T17:10:21.124Z","type":"message"}
{"nick":"srl295","message":"but it's not working?","date":"2018-08-23T17:10:36.028Z","type":"message"}
{"nick":"Fishrock123","message":"addaleax: Sorry to bother you... but there isn't really docs haha - what's the difference between Napi::Reference and Napi::FunctionReference?","date":"2018-08-23T17:10:50.051Z","type":"message"}
{"nick":"devsnek","message":"srl295: yeah v8 says that \"icu data files\" are missing","date":"2018-08-23T17:11:31.586Z","type":"message"}
{"nick":"addaleax","message":"Fishrock123: without having it in front of me... is FunctionReference a subclass? I think it basically has extra convenience methods for calling it etc","date":"2018-08-23T17:12:00.495Z","type":"message"}
{"nick":"devsnek","message":"Fishrock123: Napi::FunctionReference is Napi::Reference<Function>","date":"2018-08-23T17:12:27.427Z","type":"message"}
{"nick":"devsnek","message":"with extra stuff like Call and operator()","date":"2018-08-23T17:12:34.070Z","type":"message"}
{"nick":"Fishrock123","message":"oookay","date":"2018-08-23T17:13:41.377Z","type":"message"}
{"nick":"Fishrock123","message":"uhhhh from https://nodejs.github.io/node-addon-api/class_napi_1_1_function_reference.html","date":"2018-08-23T17:13:48.699Z","type":"message"}
{"nick":"Fishrock123","message":"what is different about that MakeCallback from just Napi::Function?","date":"2018-08-23T17:14:00.412Z","type":"message"}
{"nick":"Fishrock123","message":"oh minus there not being a cargs version for some reaosn","date":"2018-08-23T17:14:13.366Z","type":"message"}
{"nick":"devsnek","message":"i have never understood the difference between MakeCallback and Call","date":"2018-08-23T17:14:17.974Z","type":"message"}
{"nick":"Fishrock123","message":"makCallback is async safe","date":"2018-08-23T17:14:26.489Z","type":"message"}
{"nick":"devsnek","message":"that would make sense","date":"2018-08-23T17:14:36.886Z","type":"message"}
{"nick":"Fishrock123","message":"It makes a new V8 stack i think","date":"2018-08-23T17:14:42.798Z","type":"message"}
{"nick":"devsnek","message":"it uses napi_make_callback","date":"2018-08-23T17:14:54.234Z","type":"message"}
{"nick":"srl295","message":"devsnek: anwyay per your Q, not sure - i'd search build logs for icu","date":"2018-08-23T17:19:30.478Z","type":"message"}
{"nick":"Fishrock123","message":"is there no easy we to get undefined using the Napi C++ api?","date":"2018-08-23T17:24:38.946Z","type":"message"}
{"nick":"devsnek","message":"Fishrock123: Env::Undefined()","date":"2018-08-23T17:25:44.013Z","type":"message"}
{"nick":"Fishrock123","message":"or... can i send nullptr as a function's \"this\" arg?","date":"2018-08-23T17:26:20.232Z","type":"message"}
{"nick":"devsnek","message":"use `env.Undefined()`","date":"2018-08-23T17:26:34.141Z","type":"message"}
{"nick":"devsnek","message":"i'm surprised we don't have env.True and env.False","date":"2018-08-23T17:26:44.450Z","type":"message"}
{"nick":"TimothyGu","message":"we should have all the oddballs, including env.TheHole()","date":"2018-08-23T17:27:24.328Z","type":"message"}
{"nick":"devsnek","message":"haha","date":"2018-08-23T17:27:33.976Z","type":"message"}
{"nick":"Fishrock123","message":"https://nodejs.github.io/node-addon-api/class_napi_1_1_function_reference.html says it has `static New (const Function &value, uint32_t initialRefcount=0)` .... but `Napi::FunctionReference::New(info[3].As<Napi::Function>(), 1);` gives a compile/ide error?","date":"2018-08-23T17:32:51.629Z","type":"message"}
{"nick":"Fishrock123","message":"oh are you supposed to use Napi::Persistent.. I guess?","date":"2018-08-23T17:36:51.476Z","type":"message"}
{"nick":"Fishrock123","message":"bah... now I'm aborting here: https://github.com/nodejs/node-addon-api/blob/2ff776ffe36cb694506678edc68ebf17f8eacd89/napi-inl.h#L1588","date":"2018-08-23T18:09:12.856Z","type":"message"}
{"nick":"Fishrock123","message":"> libc++abi.dylib: terminating with uncaught exception of type Napi::Error","date":"2018-08-23T18:09:49.815Z","type":"message"}
{"nick":"devsnek","message":"lldb backtrace","date":"2018-08-23T18:10:04.134Z","type":"message"}
{"nick":"Fishrock123","message":"https://gist.github.com/Fishrock123/a2b3aa37da332ca9dee88ed22825e03a","date":"2018-08-23T18:11:09.111Z","type":"message"}
{"nick":"Fishrock123","message":"added a code snippet","date":"2018-08-23T18:13:43.122Z","type":"message"}
{"nick":"devsnek","message":"maybe makecallback isn't thread safe","date":"2018-08-23T18:14:57.178Z","type":"message"}
{"nick":"devsnek","message":"don't we also have those async things","date":"2018-08-23T18:15:03.849Z","type":"message"}
{"nick":"Fishrock123","message":"\"async things\"?","date":"2018-08-23T18:15:51.434Z","type":"message"}
{"nick":"Fishrock123","message":"MakeCallback is certainly libuv loop safe","date":"2018-08-23T18:16:17.557Z","type":"message"}
{"nick":"Fishrock123","message":"I'm not calling from a different thread","date":"2018-08-23T18:16:28.069Z","type":"message"}
{"nick":"Fishrock123","message":"I mean, it;s the same things that node and every other addon use to call into JS from async tasks","date":"2018-08-23T18:17:08.351Z","type":"message"}
{"nick":"Fishrock123","message":"heck I've done this before from files","date":"2018-08-23T18:17:18.965Z","type":"message"}
{"nick":"Fishrock123","message":"using the C api though, not the C++ api","date":"2018-08-23T18:17:29.070Z","type":"message"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-08-23T18:26:08.997Z","type":"quit"}
{"nick":"Fishrock123","message":"there don't appear to be any makecallback tests so... maybe this is a bug?","date":"2018-08-23T18:29:53.270Z","type":"message"}
{"nick":"Fishrock123","message":"Pretty sure there's an exception handling bug","date":"2018-08-23T18:43:27.454Z","type":"message"}
{"nick":"Fishrock123","message":"there's a js exception when the fn invoked but it just kinda.. explodes there","date":"2018-08-23T18:43:57.209Z","type":"message"}
{"nick":"Fishrock123","message":"\"Exception: ReferenceError: util is not defined\"","date":"2018-08-23T18:44:00.134Z","type":"message"}
{"nick":"Fishrock123","message":"ok well my code works \\o/","date":"2018-08-23T18:45:45.573Z","type":"message"}
{"nick":"devsnek","message":"lol","date":"2018-08-23T18:49:48.948Z","type":"message"}
{"nick":"zeds","date":"2018-08-23T18:56:49.869Z","type":"join"}
{"nick":"zeds","date":"2018-08-23T19:01:38.509Z","type":"part"}
{"nick":"seishun","reason":"Ping timeout: 252 seconds","date":"2018-08-23T19:44:27.752Z","type":"quit"}
{"nick":"seishun","date":"2018-08-23T19:53:59.871Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 264 seconds","date":"2018-08-23T20:02:54.752Z","type":"quit"}
{"nick":"seishun","date":"2018-08-23T20:07:34.909Z","type":"join"}
{"nick":"marthinal","date":"2018-08-23T20:21:59.683Z","type":"join"}
{"nick":"littledan_","date":"2018-08-23T20:24:55.820Z","type":"quit"}
{"nick":"littledan_","date":"2018-08-23T20:26:36.654Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-08-23T20:33:39.996Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 264 seconds","date":"2018-08-23T20:56:18.703Z","type":"quit"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 256 seconds","date":"2018-08-23T20:57:14.318Z","type":"quit"}
{"nick":"lundibundi","date":"2018-08-23T20:57:55.898Z","type":"join"}
{"nick":"marthinal","date":"2018-08-23T21:06:46.036Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 255 seconds","date":"2018-08-23T21:11:23.875Z","type":"quit"}
{"nick":"seishun","date":"2018-08-23T21:13:53.973Z","type":"join"}
{"nick":"refack","message":"Jenkins is down :(","date":"2018-08-23T21:21:32.511Z","type":"message"}
{"nick":"lholmquist","reason":"Ping timeout: 268 seconds","date":"2018-08-23T21:23:59.744Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-08-23T21:27:36.518Z","type":"quit"}
{"nick":"lholmquist","date":"2018-08-23T21:28:46.750Z","type":"join"}
{"nick":"Fishrock123","date":"2018-08-23T21:36:13.729Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 255 seconds","date":"2018-08-23T21:37:02.842Z","type":"quit"}
{"nick":"refack","message":"Back online","date":"2018-08-23T21:44:02.706Z","type":"message"}
{"nick":"PolarizedIons11","date":"2018-08-23T22:05:15.507Z","type":"join"}
{"nick":"PolarizedIons11","reason":"Remote host closed the connection","date":"2018-08-23T22:09:41.429Z","type":"quit"}
{"nick":"zsoc","reason":"Quit: Leaving","date":"2018-08-23T22:12:36.886Z","type":"quit"}
{"nick":"lholmquist","reason":"Changing host","date":"2018-08-23T23:14:50.699Z","type":"quit"}
{"nick":"lholmquist","date":"2018-08-23T23:14:50.886Z","type":"join"}
{"nick":"AtumT","reason":"Quit: AtumT","date":"2018-08-23T23:20:03.232Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-08-23T23:20:57.525Z","type":"quit"}
{"nick":"boneskull","message":"addaleax: having trouble figuring out how to consume the list of allowed options anywhere in lib/... #22490 gives me some ideas, but they're evidently bad ones.","date":"2018-08-23T23:21:30.835Z","type":"message"}
{"nick":"addaleax","message":"boneskull: have you looked at the return value of getOptions()?","date":"2018-08-23T23:23:02.870Z","type":"message"}
{"nick":"addaleax","message":"or, wait a minute, i can share it here","date":"2018-08-23T23:23:08.855Z","type":"message"}
{"nick":"addaleax","message":"boneskull: https://pastebin.com/5Lj1Lgyu","date":"2018-08-23T23:24:26.082Z","type":"message"}
{"nick":"boneskull","message":"addaleax: I don't have internal/test/binding","date":"2018-08-23T23:27:12.782Z","type":"message"}
{"nick":"addaleax","message":"boneskull: you need --expose-internals to access it","date":"2018-08-23T23:27:32.097Z","type":"message"}
{"nick":"addaleax","message":"sorry, should have mentioned that","date":"2018-08-23T23:27:34.806Z","type":"message"}
{"nick":"boneskull","message":"ah, well, I can work with that output, but I'm trying to get at it from inside of a setup function in lib/internal/bootstrap/node.js","date":"2018-08-23T23:28:14.303Z","type":"message"}
{"nick":"devsnek","message":"i didn't even notice you added internalBinding('options') in that pr","date":"2018-08-23T23:28:21.052Z","type":"message"}
{"nick":"devsnek","message":"#bestreviewer2018","date":"2018-08-23T23:28:27.992Z","type":"message"}
{"nick":"boneskull","message":"addaleax: calling internalBinding('options') results in \"Error: No such module: options\"","date":"2018-08-23T23:30:05.928Z","type":"message"}
{"nick":"addaleax","message":"boneskull: yeah, it‚Äôs being added in the first commit of that PR","date":"2018-08-23T23:30:29.541Z","type":"message"}
{"nick":"addaleax","message":"devsnek: it‚Äôs not in the original options parser PR, if that‚Äôs what you‚Äôre thinking? ;)","date":"2018-08-23T23:30:55.122Z","type":"message"}
{"nick":"boneskull","message":"what can I copy/paste from your PR? Otherwise I'm just blocking on it","date":"2018-08-23T23:30:56.131Z","type":"message"}
{"nick":"devsnek","message":"oh","date":"2018-08-23T23:31:10.446Z","type":"message"}
{"nick":"zsoc","date":"2018-08-23T23:31:41.938Z","type":"join"}
{"nick":"zsoc","reason":"Changing host","date":"2018-08-23T23:31:41.939Z","type":"quit"}
{"nick":"zsoc","date":"2018-08-23T23:31:41.939Z","type":"join"}
{"nick":"devsnek","message":"aha new pr","date":"2018-08-23T23:31:51.108Z","type":"message"}
{"nick":"addaleax","message":"boneskull: The first commit should give you everything you need for accessing this ‚Ä¶ but please, you‚Äôre not blocking anything. This is just in case it makes things easier for you ‚Äì you can totally go ahead with your PR and have me rebase against it later","date":"2018-08-23T23:31:51.732Z","type":"message"}
{"nick":"boneskull","message":"addaleax: I mean rather I'm blocking on this new PR... I can just leave what I have and you can deal with it, of course, but that assumes my PR will a) get merged and b) get merged before yours","date":"2018-08-23T23:32:59.690Z","type":"message"}
{"nick":"boneskull","message":"there's like 200-some-odd comments on mine, and it's months old, so I'm not really expecting the gears of progress to move too quickly","date":"2018-08-23T23:33:51.409Z","type":"message"}
{"nick":"addaleax","message":"boneskull: sorry, I‚Äôve not been keeping up to date with everything, but I thought your PR was basically done?","date":"2018-08-23T23:34:09.260Z","type":"message"}
{"nick":"boneskull","message":"addaleax: heh, yeah, no, I basically gutted the whole thing b/c of chalker's feedback","date":"2018-08-23T23:34:34.772Z","type":"message"}
{"nick":"boneskull","message":"addaleax: the API changed drastically","date":"2018-08-23T23:34:46.641Z","type":"message"}
{"nick":"boneskull","message":"addaleax: and now I'm going to need another round of reviews ..","date":"2018-08-23T23:34:57.935Z","type":"message"}
{"nick":"devsnek","message":"addaleax: any reason for getOptions() instead of just assigning directly to the exports object","date":"2018-08-23T23:35:57.889Z","type":"message"}
{"nick":"Fishrock123","date":"2018-08-23T23:36:40.085Z","type":"join"}
{"nick":"boneskull","message":"it's tough to add an API that most collaborators seem to be rather indifferent about :P","date":"2018-08-23T23:36:41.296Z","type":"message"}
{"nick":"devsnek","message":"heh","date":"2018-08-23T23:36:49.686Z","type":"message"}
{"nick":"devsnek","message":"lots of opinions","date":"2018-08-23T23:36:56.413Z","type":"message"}
{"nick":"devsnek","message":"the worst is when you have like 3 options and they're all equally terrible","date":"2018-08-23T23:37:16.993Z","type":"message"}
{"nick":"addaleax","message":"devsnek: yeah, a couple reasons actually ‚Ä¶ one, I want to be able to use getOptions() as the new main way for accessing CLI options from JS, then, the current values are included in the return value, so it‚Äôs not fully static and, finally, I imagine there‚Äôs some overhead associated with creating such an object from C++","date":"2018-08-23T23:37:26.187Z","type":"message"}
{"nick":"devsnek","message":"well you create the map","date":"2018-08-23T23:37:42.679Z","type":"message"}
{"nick":"boneskull","message":"devsnek: that's bad, but it's worse when you get each opinion over the course of 6 weeks","date":"2018-08-23T23:37:51.871Z","type":"message"}
{"nick":"devsnek","message":"addaleax: doesn't this create an entire map every time getOptions is called without an argument","date":"2018-08-23T23:38:22.702Z","type":"message"}
{"nick":"boneskull","message":"devsnek: hmm, I couldn't figure out how to create anything as complex as a Set or Map from C++","date":"2018-08-23T23:38:29.253Z","type":"message"}
{"nick":"addaleax","message":"devsnek: yeah, that is the point ‚Ä¶ I don‚Äôt want to have that every time","date":"2018-08-23T23:38:44.304Z","type":"message"}
{"nick":"boneskull","message":"oops, that's @ addaleax","date":"2018-08-23T23:38:48.270Z","type":"message"}
{"nick":"addaleax","message":"boneskull: it‚Äôs not very different from creating Objects ‚Ä¶ & my commit introduces a new utility that should make that easier when you start with a C++ std::unordered_map","date":"2018-08-23T23:39:40.782Z","type":"message"}
{"nick":"devsnek","message":"addaleax: move your loop into the initialize and change map->Set to target->Set","date":"2018-08-23T23:39:43.815Z","type":"message"}
{"nick":"devsnek","message":"or just don't provide the full object","date":"2018-08-23T23:39:54.800Z","type":"message"}
{"nick":"devsnek","message":"i think having both things is kinda awkward","date":"2018-08-23T23:40:12.784Z","type":"message"}
{"nick":"boneskull","message":"addaleax: anyway, I guess I'll just cover my eyes and pretend #22490 doesn't exist :D","date":"2018-08-23T23:40:26.796Z","type":"message"}
{"nick":"devsnek","message":"hmm you could also lazy generate it","date":"2018-08-23T23:40:31.998Z","type":"message"}
{"nick":"devsnek","message":"using an exotic object","date":"2018-08-23T23:40:42.535Z","type":"message"}
{"nick":"devsnek","message":"addaleax: sorta like what we do for env","date":"2018-08-23T23:41:09.562Z","type":"message"}
{"nick":"addaleax","message":"boneskull: your PR seems just fine to me","date":"2018-08-23T23:41:21.569Z","type":"message"}
{"nick":"devsnek","message":"then only people trying to get the keys get burned (like printing help)","date":"2018-08-23T23:41:25.753Z","type":"message"}
{"nick":"devsnek","message":"every other time its just a direct access","date":"2018-08-23T23:41:32.263Z","type":"message"}
{"nick":"devsnek","message":"equiv to calling getOptions(arg)","date":"2018-08-23T23:41:41.354Z","type":"message"}
{"nick":"addaleax","message":"devsnek: no, I precisely don‚Äôt want to have something on `target`","date":"2018-08-23T23:42:19.413Z","type":"message"}
{"nick":"devsnek","message":"butwhy","date":"2018-08-23T23:42:28.999Z","type":"message"}
{"nick":"addaleax","message":"generating lazily is the whole point here","date":"2018-08-23T23:42:29.149Z","type":"message"}
{"nick":"devsnek","message":"yeah you can still do that","date":"2018-08-23T23:42:41.358Z","type":"message"}
{"nick":"devsnek","message":"i'm looking at this primarily from the js api side","date":"2018-08-23T23:43:01.931Z","type":"message"}
{"nick":"addaleax","message":"if i follow your suggestion i still create a hundred accessors or so, right?","date":"2018-08-23T23:43:07.483Z","type":"message"}
{"nick":"addaleax","message":"(hyperbole :P)","date":"2018-08-23T23:43:12.050Z","type":"message"}
{"nick":"devsnek","message":"hehe","date":"2018-08-23T23:43:34.837Z","type":"message"}
{"nick":"devsnek","message":"tbh two things i want on internal module wrapper are internalBinding and parsed options","date":"2018-08-23T23:44:14.229Z","type":"message"}
{"nick":"addaleax","message":"not sure about parsed options, but yeah, I‚Äôm still sad about internalBinding having been removed from it","date":"2018-08-23T23:44:36.431Z","type":"message"}
{"nick":"addaleax","message":"I added it for a reason :P","date":"2018-08-23T23:44:39.822Z","type":"message"}
{"nick":"boneskull","message":"addaleax: re my PR & arraysize, adding `node_internals.h` to `node_config.cc` gives `../src/node_internals.h:239:18: note: candidate template ignored: could not match 'const T [N]' against 'const char *const []'`","date":"2018-08-23T23:44:49.352Z","type":"message"}
{"nick":"boneskull","message":"which in my feeble understanding of C++ may as well be ancient egyptian","date":"2018-08-23T23:44:55.830Z","type":"message"}
{"nick":"boneskull","message":"(giving myself some credit, compiler errors could also be more helpful)","date":"2018-08-23T23:45:47.323Z","type":"message"}
{"nick":"devsnek","message":"char arrays have no explicit size so you can't arraysize them","date":"2018-08-23T23:45:55.340Z","type":"message"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-08-23T23:45:59.990Z","type":"quit"}
{"nick":"devsnek","message":"well char pointer arrays","date":"2018-08-23T23:46:00.217Z","type":"message"}
{"nick":"devsnek","message":"whatever you call those","date":"2018-08-23T23:46:02.360Z","type":"message"}
{"nick":"devsnek","message":"you have to know how long the chunk of memory is","date":"2018-08-23T23:46:10.993Z","type":"message"}
{"nick":"devsnek","message":"or count to \\0","date":"2018-08-23T23:46:15.798Z","type":"message"}
{"nick":"devsnek","message":"assuming the string ends with null","date":"2018-08-23T23:46:21.288Z","type":"message"}
{"nick":"addaleax","message":"devsnek: i think you are mixing up things here ‚Ä¶","date":"2018-08-23T23:46:43.145Z","type":"message"}
{"nick":"boneskull","message":"devsnek: yeah, but.. https://github.com/nodejs/node/pull/19335/files#diff-cd53544f44aab2c697bcd7b6a57f23ccR649","date":"2018-08-23T23:46:47.967Z","type":"message"}
{"nick":"devsnek","message":"lol probably","date":"2018-08-23T23:46:48.395Z","type":"message"}
{"nick":"addaleax","message":"\\0 is for strings","date":"2018-08-23T23:46:51.645Z","type":"message"}
{"nick":"devsnek","message":"isn't const char* a string","date":"2018-08-23T23:46:59.835Z","type":"message"}
{"nick":"addaleax","message":"devsnek: this is an array *of* const char*","date":"2018-08-23T23:47:10.121Z","type":"message"}
{"nick":"devsnek","message":"oh","date":"2018-08-23T23:47:15.037Z","type":"message"}
{"nick":"devsnek","message":"haha","date":"2018-08-23T23:47:16.195Z","type":"message"}
{"nick":"boneskull","message":"yeah, duh","date":"2018-08-23T23:47:27.809Z","type":"message"}
{"nick":"boneskull","message":"???","date":"2018-08-23T23:47:30.932Z","type":"message"}
{"nick":"boneskull","message":"anyway, I can call arraysize in one file but not the other one :D","date":"2018-08-23T23:47:56.200Z","type":"message"}
{"nick":"devsnek","message":"do we have std::size in whatever version of c++ we're using","date":"2018-08-23T23:48:01.160Z","type":"message"}
{"nick":"Fishrock123","date":"2018-08-23T23:48:46.706Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-08-23T23:48:52.973Z","type":"quit"}
{"nick":"boneskull","message":"devsnek: `no member named 'size' in namespace 'std'`","date":"2018-08-23T23:49:08.945Z","type":"message"}
{"nick":"addaleax","message":"devsnek: no, but our `arraysize` does basically exactly the same thing","date":"2018-08-23T23:49:29.395Z","type":"message"}
{"nick":"devsnek","message":"every since i learned that template length trick","date":"2018-08-23T23:50:02.662Z","type":"message"}
{"nick":"devsnek","message":"c++ is a fantastic languagelol","date":"2018-08-23T23:50:10.326Z","type":"message"}
{"nick":"addaleax","message":"boneskull: i have no idea why arraysize() doesn‚Äôt work, tbh.","date":"2018-08-23T23:50:54.486Z","type":"message"}
{"nick":"boneskull","message":"that makes me feel better.","date":"2018-08-23T23:51:02.883Z","type":"message"}
{"nick":"boneskull","message":"well, thanks for the help.  I've pushed a change & commented on this issue, maybe travis-ci will even pass","date":"2018-08-23T23:52:25.601Z","type":"message"}
{"nick":"boneskull","message":"not sure what's needed to merge it, Rich said something about people need to review it again.","date":"2018-08-23T23:52:44.856Z","type":"message"}
{"nick":"addaleax","message":"yeah ‚Ä¶ it seems like a reasonable thing to ask given how much the PR had changed","date":"2018-08-23T23:54:46.675Z","type":"message"}
{"nick":"addaleax","message":"but also, getting this done is a bit overdue. :D","date":"2018-08-23T23:54:58.478Z","type":"message"}
{"nick":"devsnek","message":"i'm still not convinced the api should exist heh","date":"2018-08-23T23:56:09.308Z","type":"message"}
