{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2018-11-02T00:25:24.608Z","type":"quit"}
{"nick":"doodadjs","reason":"Ping timeout: 252 seconds","date":"2018-11-02T01:30:00.310Z","type":"quit"}
{"nick":"ralphtheninja","reason":"Quit: leaving","date":"2018-11-02T01:39:34.597Z","type":"quit"}
{"nick":"antsmartian","date":"2018-11-02T01:50:54.561Z","type":"join"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2018-11-02T02:11:12.929Z","type":"quit"}
{"nick":"antsmartian","date":"2018-11-02T02:35:51.539Z","type":"join"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2018-11-02T02:49:29.267Z","type":"quit"}
{"nick":"ZeZu","date":"2018-11-02T03:09:36.252Z","type":"join"}
{"nick":"holdsworth","reason":"Quit: No Ping reply in 180 seconds.","date":"2018-11-02T04:09:39.675Z","type":"quit"}
{"nick":"holdsworth","date":"2018-11-02T04:09:57.546Z","type":"join"}
{"nick":"evanlucas","reason":"Ping timeout: 252 seconds","date":"2018-11-02T04:12:48.347Z","type":"quit"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 252 seconds","date":"2018-11-02T04:27:39.279Z","type":"quit"}
{"nick":"octetcloud","date":"2018-11-02T05:44:32.304Z","type":"join"}
{"nick":"t0dd1v","date":"2018-11-02T05:49:27.759Z","type":"join"}
{"nick":"octetcloud","reason":"Ping timeout: 252 seconds","date":"2018-11-02T05:51:48.285Z","type":"quit"}
{"nick":"lpin","date":"2018-11-02T06:29:33.094Z","type":"join"}
{"nick":"m00dy","date":"2018-11-02T06:59:32.569Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:00:00.915Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T07:00:44.589Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:01:17.627Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T07:01:49.463Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:01:49.971Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T07:02:04.451Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:02:34.684Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T07:03:19.481Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:03:51.458Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T07:04:35.595Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:05:08.303Z","type":"quit"}
{"nick":"bellare","date":"2018-11-02T07:05:12.920Z","type":"join"}
{"nick":"m00dy","date":"2018-11-02T07:05:55.611Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T07:06:25.184Z","type":"quit"}
{"nick":"t0dd1v","reason":"Quit: Connection closed for inactivity","date":"2018-11-02T07:58:40.427Z","type":"quit"}
{"nick":"lundibundi","date":"2018-11-02T08:08:59.871Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 268 seconds","date":"2018-11-02T08:26:53.803Z","type":"quit"}
{"nick":"marthinal","date":"2018-11-02T08:28:55.716Z","type":"join"}
{"nick":"seishun","date":"2018-11-02T08:57:05.100Z","type":"join"}
{"nick":"rtn","date":"2018-11-02T09:12:43.490Z","type":"join"}
{"nick":"rtn","new_nick":"ralphtheninja","date":"2018-11-02T09:12:51.581Z","type":"nick"}
{"nick":"ralphtheninja","reason":"Client Quit","date":"2018-11-02T09:12:55.765Z","type":"quit"}
{"nick":"rtn","date":"2018-11-02T09:13:58.632Z","type":"join"}
{"nick":"rtn","new_nick":"ralphtheninja","date":"2018-11-02T09:14:06.716Z","type":"nick"}
{"nick":"ralphtheninja","reason":"Ping timeout: 240 seconds","date":"2018-11-02T09:50:07.324Z","type":"quit"}
{"nick":"bellare","reason":"Quit: Connection closed for inactivity","date":"2018-11-02T09:54:48.742Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 252 seconds","date":"2018-11-02T09:56:33.278Z","type":"quit"}
{"nick":"seishun","date":"2018-11-02T10:01:17.891Z","type":"join"}
{"nick":"lundibundi","date":"2018-11-02T10:45:07.456Z","type":"join"}
{"nick":"rtn","date":"2018-11-02T10:51:24.528Z","type":"join"}
{"nick":"rtn","new_nick":"ralphtheninja","date":"2018-11-02T10:51:29.335Z","type":"nick"}
{"nick":"AtumT","date":"2018-11-02T10:57:04.914Z","type":"join"}
{"nick":"Dharmang","date":"2018-11-02T10:59:14.997Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 252 seconds","date":"2018-11-02T11:05:18.279Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T11:11:57.015Z","type":"join"}
{"nick":"lundibundi","date":"2018-11-02T11:19:39.850Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-11-02T11:32:53.235Z","type":"quit"}
{"nick":"lundibundi","reason":"Ping timeout: 268 seconds","date":"2018-11-02T11:46:04.808Z","type":"quit"}
{"nick":"marthinal","date":"2018-11-02T11:47:16.906Z","type":"join"}
{"nick":"lundibundi","date":"2018-11-02T12:09:12.465Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-11-02T12:20:37.919Z","type":"quit"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T12:27:53.663Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T12:28:26.621Z","type":"join"}
{"nick":"t0dd1v","date":"2018-11-02T12:30:42.846Z","type":"join"}
{"nick":"m00dy","reason":"Ping timeout: 252 seconds","date":"2018-11-02T12:32:45.286Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T12:39:53.443Z","type":"join"}
{"nick":"antsmartian","date":"2018-11-02T12:41:38.488Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 252 seconds","date":"2018-11-02T12:43:12.278Z","type":"quit"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T12:43:40.794Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T12:43:53.678Z","type":"join"}
{"nick":"al-damiri","date":"2018-11-02T12:51:15.585Z","type":"join"}
{"nick":"evanlucas","date":"2018-11-02T12:56:00.097Z","type":"join"}
{"nick":"Dharmang","date":"2018-11-02T13:16:19.481Z","type":"part"}
{"nick":"masterdonx","date":"2018-11-02T13:27:31.098Z","type":"join"}
{"nick":"lundibundi","date":"2018-11-02T13:37:06.624Z","type":"join"}
{"nick":"lundibundi","reason":"Read error: Connection reset by peer","date":"2018-11-02T13:39:32.524Z","type":"quit"}
{"nick":"gabrielschulhof","date":"2018-11-02T13:43:38.753Z","type":"join"}
{"nick":"doodadjs","date":"2018-11-02T13:49:20.283Z","type":"join"}
{"nick":"lpin","reason":"Ping timeout: 252 seconds","date":"2018-11-02T14:02:24.761Z","type":"quit"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T14:12:27.618Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T14:12:45.020Z","type":"join"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 272 seconds","date":"2018-11-02T14:14:16.809Z","type":"quit"}
{"nick":"octetcloud","date":"2018-11-02T14:18:29.807Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 250 seconds","date":"2018-11-02T14:25:04.745Z","type":"quit"}
{"nick":"octetcloud","reason":"Ping timeout: 268 seconds","date":"2018-11-02T14:31:20.693Z","type":"quit"}
{"nick":"seishun","date":"2018-11-02T14:38:24.555Z","type":"join"}
{"nick":"t0dd1v","reason":"Quit: Connection closed for inactivity","date":"2018-11-02T14:40:04.594Z","type":"quit"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T15:01:16.284Z","type":"quit"}
{"nick":"octetcloud","date":"2018-11-02T15:18:55.372Z","type":"join"}
{"nick":"marthinal","date":"2018-11-02T15:20:32.498Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 245 seconds","date":"2018-11-02T15:25:28.317Z","type":"quit"}
{"nick":"marthinal","date":"2018-11-02T16:03:47.462Z","type":"join"}
{"nick":"joyee","message":"refack: BTW, if there is a mkcodecache...do you think it should use uv_fs_*, or just normal iostreams/stdio.h? (Or, embed generate_code_cache.js) as _third_party_main.js ?","date":"2018-11-02T16:05:51.042Z","type":"message"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2018-11-02T16:06:00.252Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T16:19:30.418Z","type":"join"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-11-02T16:20:07.828Z","type":"quit"}
{"nick":"m00dy","date":"2018-11-02T16:20:43.233Z","type":"join"}
{"nick":"m00dy","reason":"Ping timeout: 268 seconds","date":"2018-11-02T16:25:25.774Z","type":"quit"}
{"nick":"antsmartian","date":"2018-11-02T16:27:35.918Z","type":"join"}
{"nick":"refack","message":"IMHO it would be simplest to build it just as we build `node` except for the code cache (and maybe node_javascript.cc)","date":"2018-11-02T16:39:49.657Z","type":"message"}
{"nick":"refack","message":"So what ever is simplest","date":"2018-11-02T16:40:07.419Z","type":"message"}
{"nick":"refack","message":"Including writing it in JS","date":"2018-11-02T16:40:20.394Z","type":"message"}
{"nick":"lpin","date":"2018-11-02T16:40:54.479Z","type":"join"}
{"nick":"refack","message":"I have some time now, let's see what kind of damage I can do...","date":"2018-11-02T16:41:48.272Z","type":"message"}
{"nick":"joyee","message":"refack: I was slightly leaning towards a main in C++ but now it seems it’s easier to have a main in JS...for one you can share the NativeModule wrapper or to get the wrapped source fairly trivially in JS without copy pasting","date":"2018-11-02T16:50:29.386Z","type":"message"}
{"nick":"joyee","message":"Now come to think of it, why can’t js2c be written in C++ as well?","date":"2018-11-02T16:52:25.224Z","type":"message"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2018-11-02T16:52:27.598Z","type":"quit"}
{"nick":"devsnek","message":"joyee: i had a pr that rewrote it in js","date":"2018-11-02T16:54:48.571Z","type":"message"}
{"nick":"joyee","message":"And if the wrapper/arguments is in C++ somehow, we can reuse the code to generate both node_javascript.cc and node_code_cache.cc","date":"2018-11-02T16:55:09.546Z","type":"message"}
{"nick":"joyee","message":"devsnek: yeah I know but that leads to a chicken and egg problem...","date":"2018-11-02T16:55:36.671Z","type":"message"}
{"nick":"devsnek","message":"oh you said in c++","date":"2018-11-02T16:55:46.158Z","type":"message"}
{"nick":"devsnek","message":"i misread that","date":"2018-11-02T16:55:51.711Z","type":"message"}
{"nick":"joyee","message":"Whereas C++ is safe from that similar to python","date":"2018-11-02T16:56:02.611Z","type":"message"}
{"nick":"devsnek","message":"i think python is definitely better than c++ for this","date":"2018-11-02T16:56:24.520Z","type":"message"}
{"nick":"joyee","message":"The upside about that is code reuse if we can put things in headers reasonably","date":"2018-11-02T16:56:46.194Z","type":"message"}
{"nick":"joyee","message":"Like wrapping/compiling in C++ instead of in JS","date":"2018-11-02T16:57:21.437Z","type":"message"}
{"nick":"joyee","message":"So that you can skip the chicken and egg problem when the tool needs the wrapped source","date":"2018-11-02T16:57:46.007Z","type":"message"}
{"nick":"refack","message":"I'm for C++ wrappers + main.js","date":"2018-11-02T16:57:52.541Z","type":"message"}
{"nick":"devsnek","message":"you mean moving NativeModule stuff to c++ land?","date":"2018-11-02T16:57:54.478Z","type":"message"}
{"nick":"refack","message":"wow 🤯","date":"2018-11-02T16:58:26.714Z","type":"message"}
{"nick":"joyee","message":"devsnek: just a small part of NativeModule.prototype.compile should suffice","date":"2018-11-02T16:58:33.244Z","type":"message"}
{"nick":"refack","message":"I kind of love that","date":"2018-11-02T16:58:34.505Z","type":"message"}
{"nick":"devsnek","message":"i want more to be written in js 😢","date":"2018-11-02T16:58:58.734Z","type":"message"}
{"nick":"refack","message":"Just to eliminate the noise from the DevTools debug experiance","date":"2018-11-02T16:59:01.389Z","type":"message"}
{"nick":"devsnek","message":"well we're fixing that anyway","date":"2018-11-02T16:59:19.204Z","type":"message"}
{"nick":"joyee","message":"In theory, it’s beneficial if we do more bootstrapping in C++ - it’s fine to do other modules in JS in general of course","date":"2018-11-02T16:59:45.382Z","type":"message"}
{"nick":"refack","message":"I'll focus my comment, I would like to eliminate code that manipulates JS code","date":"2018-11-02T16:59:45.633Z","type":"message"}
{"nick":"devsnek","message":"yeah bootstrap needs to be consolidated","date":"2018-11-02T17:00:18.523Z","type":"message"}
{"nick":"joyee","message":"Also you get less noise from V8 tracing outputs if you do more bootstrapping in C++","date":"2018-11-02T17:00:36.744Z","type":"message"}
{"nick":"devsnek","message":"there's a flag in v8 where it will compile some js but mark the sources of the functions as native","date":"2018-11-02T17:01:21.117Z","type":"message"}
{"nick":"devsnek","message":"so you don't get the extra frames in tracing","date":"2018-11-02T17:01:29.498Z","type":"message"}
{"nick":"joyee","message":"Whereas if you try to do any —trace-something in Node now, v8 prints tons and tons of stuff about the native JS","date":"2018-11-02T17:01:31.920Z","type":"message"}
{"nick":"devsnek","message":"but the downside is that it would kill debugging core","date":"2018-11-02T17:02:00.814Z","type":"message"}
{"nick":"refack","message":"That's too far","date":"2018-11-02T17:02:14.367Z","type":"message"}
{"nick":"devsnek","message":"cuz stack traces that people report would stop at the boundaries of calls into standard lib","date":"2018-11-02T17:02:17.715Z","type":"message"}
{"nick":"refack","message":"debugable core is IMO fantastic","date":"2018-11-02T17:02:28.721Z","type":"message"}
{"nick":"devsnek","message":"ye","date":"2018-11-02T17:02:34.018Z","type":"message"}
{"nick":"refack","message":"and congruent with python/java/.NET etc.","date":"2018-11-02T17:02:51.413Z","type":"message"}
{"nick":"devsnek","message":"that's why i haven't pushed the topic","date":"2018-11-02T17:02:51.745Z","type":"message"}
{"nick":"refack","message":"Just cleanup some of the bootstrating and compile, and we'll get optimal","date":"2018-11-02T17:03:41.074Z","type":"message"}
{"nick":"joyee","message":"But the essential part that you want to move to C++ cannot be debugged with inspector anyways because they are run before inspector is done","date":"2018-11-02T17:03:49.493Z","type":"message"}
{"nick":"joyee","message":"So you are essentially moving unddebuggable code (JS) to debuggable code (with gdb/lldb)","date":"2018-11-02T17:04:31.416Z","type":"message"}
{"nick":"refack","message":"BTW: on that there's an idea floated by addaleax , that I've looked into to have a dev build mode where `/lib/` is loaded at runtime","date":"2018-11-02T17:05:12.240Z","type":"message"}
{"nick":"joyee","message":"And in C++ we can do a lot more rigorous tests important for bootstrapping","date":"2018-11-02T17:05:35.313Z","type":"message"}
{"nick":"joyee","message":"I mean assertions","date":"2018-11-02T17:05:52.461Z","type":"message"}
{"nick":"refack","message":"🤭 C++ testing","date":"2018-11-02T17:05:57.956Z","type":"message"}
{"nick":"refack","message":"We should really require much much more of these (`cctest` not just runtime asserts)","date":"2018-11-02T17:06:23.279Z","type":"message"}
{"nick":"devsnek","message":"wasn't there a pr for the runtime lib at some point","date":"2018-11-02T17:06:44.802Z","type":"message"}
{"nick":"refack","message":"I think there were at least two","date":"2018-11-02T17:07:01.432Z","type":"message"}
{"nick":"refack","message":"As a Windows guy, until now it has been horible","date":"2018-11-02T17:08:04.156Z","type":"message"}
{"nick":"devsnek","message":"i just pretend windows doesn't exist","date":"2018-11-02T17:08:15.354Z","type":"message"}
{"nick":"devsnek","message":"its really nice :)","date":"2018-11-02T17:08:19.841Z","type":"message"}
{"nick":"refack","message":"30m compile cylce for even 1 line change in `/lib/`","date":"2018-11-02T17:08:21.990Z","type":"message"}
{"nick":"addaleax","message":"refack: devsnek: yes, I think I had two PRs open for that – you can feel free to pick the idea up, if you are okay with putting it behind a compile time flag (i was not okay with that, because i wanted to be able to use real release builds that one could download from the website, mostly bc of the windows problematic that refack is mentioning rn)","date":"2018-11-02T17:08:52.817Z","type":"message"}
{"nick":"refack","message":"I kinda have this problem that when I minimize all my open apps There's Windows behind","date":"2018-11-02T17:09:36.875Z","type":"message"}
{"nick":"refack","message":"🙌 two paradigm shifts I could enable _today_","date":"2018-11-02T17:11:03.284Z","type":"message"}
{"nick":"joyee","message":"addaleax: where are those PRs?","date":"2018-11-02T17:11:06.559Z","type":"message"}
{"nick":"devsnek","message":"addaleax: maybe i'll take them up after i finish my errors thing","date":"2018-11-02T17:11:28.096Z","type":"message"}
{"nick":"devsnek","message":"speaking of which i need to ping assertion people again","date":"2018-11-02T17:11:37.660Z","type":"message"}
{"nick":"addaleax","message":"joyee: devsnek: uh … i can try to look it up (they won’t apply to current `master` though, too much has changed since then)","date":"2018-11-02T17:11:41.464Z","type":"message"}
{"nick":"devsnek","message":"that magic error message stuff in assert is insanity","date":"2018-11-02T17:11:47.352Z","type":"message"}
{"nick":"addaleax","message":"joyee: devsnek: https://github.com/nodejs/node/pull/9652","date":"2018-11-02T17:12:17.696Z","type":"message"}
{"nick":"devsnek","message":"such a low number","date":"2018-11-02T17:12:27.732Z","type":"message"}
{"nick":"octetcloud","message":"refack: (or anyone) who can get shigeki access to one of the plinux build servers? Not sure how that works. re: https://github.com/nodejs/node/issues/18770#issuecomment-435303590","date":"2018-11-02T17:12:33.191Z","type":"message"}
{"nick":"joyee","message":"I still find the fact that we have acron...odd","date":"2018-11-02T17:12:34.228Z","type":"message"}
{"nick":"joyee","message":"addaleax: thanks","date":"2018-11-02T17:12:50.417Z","type":"message"}
{"nick":"joyee","message":"Because that’s like, as not-small-core as you can get (acron)","date":"2018-11-02T17:13:31.671Z","type":"message"}
{"nick":"refack","message":"octetcloud: was waiting for a second +1 to https://github.com/nodejs/build/issues/1561","date":"2018-11-02T17:13:37.933Z","type":"message"}
{"nick":"refack","message":"I'm on it","date":"2018-11-02T17:13:42.638Z","type":"message"}
{"nick":"devsnek","message":"oh hey i'm in that thread lol","date":"2018-11-02T17:14:31.471Z","type":"message"}
{"nick":"joyee","message":"addaleax: do you think it has value to encourage people prefer debug builds for development? Then we will have less problem like this (CLI option being not acceptable)","date":"2018-11-02T17:18:40.355Z","type":"message"}
{"nick":"joyee","message":"And also more DCHECKs instead of sloppy no CHECK at all","date":"2018-11-02T17:19:30.507Z","type":"message"}
{"nick":"addaleax","message":"joyee: that doesn’t bring people who can’t or don’t have the time to compile node much, does it? maybe if we released the debug binaries along with the regular ones, yeah…","date":"2018-11-02T17:20:07.213Z","type":"message"}
{"nick":"octetcloud","message":"refack: thank you","date":"2018-11-02T17:20:53.228Z","type":"message"}
{"nick":"refack","message":"de nada","date":"2018-11-02T17:22:28.866Z","type":"message"}
{"nick":"joyee","message":"addaleax: true...it's a compromise, I guess","date":"2018-11-02T17:24:58.454Z","type":"message"}
{"nick":"addaleax","message":"joyee: i’d actually be totally a fan of releasing debug binaries, that would also help soooo much with crashes. but that probably poses some challenges for the build infra","date":"2018-11-02T17:26:25.395Z","type":"message"}
{"nick":"addaleax","message":"maybe just mac/linux/windows","date":"2018-11-02T17:26:39.284Z","type":"message"}
{"nick":"joyee","message":"Speaking of which, is there any doc on how the release CI work in general? refack?","date":"2018-11-02T17:37:40.827Z","type":"message"}
{"nick":"joyee","message":"I understand that you can tweak the existing build steps in Makefiles and vcbuild.bat...but there are other parts","date":"2018-11-02T17:38:25.858Z","type":"message"}
{"nick":"refack","message":"It's very similar to the test CI, but uses `make release` and `vbcuild build-release`","date":"2018-11-02T17:38:33.442Z","type":"message"}
{"nick":"refack","message":"I'll publish the Jenkins script.","date":"2018-11-02T17:38:45.156Z","type":"message"}
{"nick":"refack","message":"Fortunatly it's a single block","date":"2018-11-02T17:38:58.755Z","type":"message"}
{"nick":"refack","message":"For all platforms","date":"2018-11-02T17:39:04.850Z","type":"message"}
{"nick":"joyee","message":"refack: so I've heard, but I never really found the source of that (thanks BTW!)","date":"2018-11-02T17:39:44.728Z","type":"message"}
{"nick":"joyee","message":"Can't we have the Jenkins pull that script from a repo? (like in node-private if we worry about secruity?)","date":"2018-11-02T17:40:26.133Z","type":"message"}
{"nick":"refack","message":"Not sure, since it is an \"old-style\" job","date":"2018-11-02T17:41:45.598Z","type":"message"}
{"nick":"refack","message":"But we can make a policy that we publish any changes.","date":"2018-11-02T17:42:06.784Z","type":"message"}
{"nick":"joyee","message":"Also just wondering...if one day ci.nodejs.org and ci-release.nodejs.org were completely wiped, is it possible to setup everything from scratch with what we have in nodejs/build?","date":"2018-11-02T17:42:35.552Z","type":"message"}
{"nick":"refack","message":"We have daily backups","date":"2018-11-02T17:42:49.541Z","type":"message"}
{"nick":"refack","message":"But to you quastion, no","date":"2018-11-02T17:43:03.770Z","type":"message"}
{"nick":"joyee","message":"In a provider account some how?","date":"2018-11-02T17:43:07.413Z","type":"message"}
{"nick":"joyee","message":"the backups","date":"2018-11-02T17:43:23.936Z","type":"message"}
{"nick":"refack","message":"see https://github.com/nodejs/build/blob/55714b80ab6aed964da19501900d53d2704ee831/backup/rsnapshot.conf","date":"2018-11-02T17:43:56.057Z","type":"message"}
{"nick":"joyee","message":"They appear to be on the machines?","date":"2018-11-02T17:44:53.313Z","type":"message"}
{"nick":"refack","message":"Supposedly it's on a seperate machine. But we should verify","date":"2018-11-02T17:45:49.139Z","type":"message"}
{"nick":"refack","message":"Yeah, it run on https://github.com/nodejs/build/blob/master/ansible/inventory.yml#L18","date":"2018-11-02T17:46:43.609Z","type":"message"}
{"nick":"refack","message":"on `infra-joyeny-smartos15-x64-1`","date":"2018-11-02T17:47:04.388Z","type":"message"}
{"nick":"joyee","message":"And that's a smartos machine XD","date":"2018-11-02T17:47:13.217Z","type":"message"}
{"nick":"devsnek","message":"`--no-warnings` doesn't silence experimental warnings?","date":"2018-11-02T17:47:33.048Z","type":"message"}
{"nick":"refack","message":"We could push it to something with more 9s like some block storage","date":"2018-11-02T17:48:42.068Z","type":"message"}
{"nick":"joyee","message":"Yeah not super urgent or anything, but seems a bit shaky","date":"2018-11-02T17:49:25.322Z","type":"message"}
{"nick":"refack","message":"I can't find DigitalOcean Storage SLA","date":"2018-11-02T17:50:46.538Z","type":"message"}
{"nick":"refack","message":"Azure has 4 9s","date":"2018-11-02T17:51:41.833Z","type":"message"}
{"nick":"joyee","message":"Do we have any preference in general regarding providers? (I guess the ones that are willing to sponsor are better, of course)","date":"2018-11-02T17:52:30.885Z","type":"message"}
{"nick":"refack","message":"Amazon Glacier has 12 9s 😮","date":"2018-11-02T17:52:35.868Z","type":"message"}
{"nick":"joyee","message":"wat","date":"2018-11-02T17:52:42.198Z","type":"message"}
{"nick":"refack","message":"https://aws.amazon.com/glacier/","date":"2018-11-02T17:53:05.279Z","type":"message"}
{"nick":"refack","message":"It's even of like the landing page","date":"2018-11-02T17:53:13.452Z","type":"message"}
{"nick":"devsnek","message":"glacier is $$$ though","date":"2018-11-02T17:53:34.251Z","type":"message"}
{"nick":"joyee","message":"Well if you have 12 9s it makes no sense not to brag about that on landing page","date":"2018-11-02T17:53:45.910Z","type":"message"}
{"nick":"devsnek","message":"wow its more expensive to retrieve your data","date":"2018-11-02T17:54:41.884Z","type":"message"}
{"nick":"joyee","message":"We don't have AWS account do we? (by we I mean build)","date":"2018-11-02T17:55:38.032Z","type":"message"}
{"nick":"refack","message":"Nope Amazon is the \"bad guys\" in the cloud game. They are why Radis and Mongo changed their license","date":"2018-11-02T17:57:30.265Z","type":"message"}
{"nick":"refack","message":"They don't even want to be NF members","date":"2018-11-02T17:58:16.358Z","type":"message"}
{"nick":"joyee","message":"Why would they want to be NF members anyway?","date":"2018-11-02T17:58:48.894Z","type":"message"}
{"nick":"joyee","message":"Other than they are a cloud","date":"2018-11-02T17:59:00.282Z","type":"message"}
{"nick":"doodadjs","reason":"Ping timeout: 260 seconds","date":"2018-11-02T18:03:26.297Z","type":"quit"}
{"nick":"refack","message":"They sell node as a service a.k.a. AWS Lambda","date":"2018-11-02T18:07:53.738Z","type":"message"}
{"nick":"joyee","message":"Good point","date":"2018-11-02T18:08:18.924Z","type":"message"}
{"nick":"joyee","message":"(But then what they should do is probably contributing instead of throwing money at NF)","date":"2018-11-02T18:08:42.777Z","type":"message"}
{"nick":"joyee","message":"Pretty sure it'd benefit them if Node is lighter weight and start up faster etc","date":"2018-11-02T18:09:29.482Z","type":"message"}
{"nick":"joyee","message":"Also if they provide some of the infras then they'll know when something weird is going on in their products, e.g. I think I saw a bug in core potentially caused by their spectre patch","date":"2018-11-02T18:11:42.764Z","type":"message"}
{"nick":"refack","message":"It's kind of their policy not to contribute","date":"2018-11-02T18:17:05.291Z","type":"message"}
{"nick":"refack","message":"that's why redis & mongo changed their license, so they would either contribute or pay","date":"2018-11-02T18:17:23.822Z","type":"message"}
{"nick":"devsnek","message":"most companies just avoid agpl","date":"2018-11-02T18:18:25.050Z","type":"message"}
{"nick":"devsnek","message":"and mongo's license is theorized to be unenforceable lol","date":"2018-11-02T18:18:46.122Z","type":"message"}
{"nick":"joyee","message":"refack: OK, so they are like Apple I guess :/","date":"2018-11-02T18:18:48.492Z","type":"message"}
{"nick":"octetcloud","message":"refack: that is a very generous characterization of that license change. I don't agree that contributation was wanted, mostly just \"pay\". More commentary here: https://lwn.net/Articles/768670/","date":"2018-11-02T18:19:22.724Z","type":"message"}
{"nick":"devsnek","message":"\"Making the GPL more scary\" is a good description of AGPL lol","date":"2018-11-02T18:19:45.545Z","type":"message"}
{"nick":"refack","message":"Yes I know","date":"2018-11-02T18:19:46.887Z","type":"message"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-11-02T18:33:12.229Z","type":"quit"}
{"nick":"marthinal","date":"2018-11-02T19:02:30.399Z","type":"join"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-11-02T19:04:24.568Z","type":"quit"}
{"nick":"doodadjs","date":"2018-11-02T19:08:20.529Z","type":"join"}
{"nick":"zeds","date":"2018-11-02T19:08:37.249Z","type":"join"}
{"nick":"zeds","date":"2018-11-02T19:09:23.473Z","type":"part"}
{"nick":"seishun","reason":"Ping timeout: 252 seconds","date":"2018-11-02T19:14:48.757Z","type":"quit"}
{"nick":"d10n-work","date":"2018-11-02T19:26:39.730Z","type":"join"}
{"nick":"gabrielschulhof","date":"2018-11-02T19:43:56.255Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-11-02T20:01:29.410Z","type":"quit"}
{"nick":"lundibundi","date":"2018-11-02T20:22:53.432Z","type":"join"}
{"nick":"dosjota","date":"2018-11-02T20:29:59.056Z","type":"join"}
{"nick":"dosjota","reason":"Client Quit","date":"2018-11-02T20:33:10.580Z","type":"quit"}
{"nick":"seishun","date":"2018-11-02T20:47:47.052Z","type":"join"}
{"nick":"boneskull","message":"I'm working on recursive rmdir.  right now, the sync implementation (C++) does all work in series.  how could I do the same work in parallel, but still \"block\" until no work remains?  this could be a libuv question","date":"2018-11-02T21:00:39.164Z","type":"message"}
{"nick":"AtumT_","date":"2018-11-02T21:08:28.868Z","type":"join"}
{"nick":"AtumT","reason":"Ping timeout: 272 seconds","date":"2018-11-02T21:12:16.800Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 244 seconds","date":"2018-11-02T21:18:02.566Z","type":"quit"}
{"nick":"joyee","message":"boneskull: how do you even rmdir in parallel...?","date":"2018-11-02T21:40:57.492Z","type":"message"}
{"nick":"joyee","message":"rmdirr","date":"2018-11-02T21:41:30.671Z","type":"message"}
{"nick":"joyee","message":"(OK that just sounds weird)","date":"2018-11-02T21:41:54.701Z","type":"message"}
{"nick":"boneskull","message":"joyee: you don't unless you're pruning an entire tree.  some of those ops may be rmdir, some may be unlink, there's some lstat's involved...","date":"2018-11-02T21:42:40.157Z","type":"message"}
{"nick":"joyee","message":"Oh right, you'd need to clean up everything before you go up..","date":"2018-11-02T21:43:00.163Z","type":"message"}
{"nick":"boneskull","message":"right, if I have a dir full of 20 files, I want to do as much unlinking in parallel as I can before moving on","date":"2018-11-02T21:43:36.494Z","type":"message"}
{"nick":"octetcloud","message":"boneskull: you want to do a fs.rmdirSync(), with it working in parallel?","date":"2018-11-02T21:45:10.264Z","type":"message"}
{"nick":"joyee","message":"If you just submit them all via  uv_fs_* with callbacks (make them async), libuv will parallelize that with its thread pool","date":"2018-11-02T21:45:14.679Z","type":"message"}
{"nick":"joyee","message":"the question is how to sync after they are done","date":"2018-11-02T21:45:40.043Z","type":"message"}
{"nick":"boneskull","message":"joyee: so it won't appear as nonblocking to the user, or allow other work through?","date":"2018-11-02T21:45:41.096Z","type":"message"}
{"nick":"boneskull","message":"octetcloud: no, I have essentially a `rm -rf` implementation in node_file.cc and I'm trying to improve its performance","date":"2018-11-02T21:46:27.892Z","type":"message"}
{"nick":"octetcloud","message":"joyee's suggestion will not block. You can't do this easily with uv. I think you'd have to do something like the child_process.execSync() calls do - set up a uv \"sub loop\". Child process interaction is also fundamentally async, but the sub-loop hides that from the javascript caller.","date":"2018-11-02T21:46:51.634Z","type":"message"}
{"nick":"boneskull","message":"octetcloud: that's what I was worried about yeah.","date":"2018-11-02T21:47:09.725Z","type":"message"}
{"nick":"boneskull","message":"I'll take a look at execSync","date":"2018-11-02T21:47:36.970Z","type":"message"}
{"nick":"boneskull","message":"ty","date":"2018-11-02T21:48:49.087Z","type":"message"}
{"nick":"joyee","message":"so you are implementing recursive rmdirSync, not recursive rmdir?","date":"2018-11-02T21:48:56.859Z","type":"message"}
{"nick":"boneskull","message":"joyee: both, but I'm talking about the former atm","date":"2018-11-02T21:49:07.533Z","type":"message"}
{"nick":"boneskull","message":"the async version also works in serial, but I'll figure out that problem later :D","date":"2018-11-02T21:49:45.773Z","type":"message"}
{"nick":"octetcloud","message":"to parallelize, you'll want to keep the threadpool saturated, not sure if its current state is observable. I am pretty sure  that it is not. I'd suggest keeping UV_THREADPOOL_SIZE + 1 ops in flight at all times to keep an upper bound on the number of ops waiting to get a thread","date":"2018-11-02T21:51:03.471Z","type":"message"}
{"nick":"octetcloud","message":"that's true whether its sync or not. Sounds like an interesting coding challenge. Naively recursing in parallel can explode memory usage with  large trees with lots of files, so you'll have to be careful. Fun.","date":"2018-11-02T21:52:31.034Z","type":"message"}
{"nick":"boneskull","message":"yeah, the boneskull who last touched multithreaded programming in 2002 would be super excited","date":"2018-11-02T21:53:25.420Z","type":"message"}
{"nick":"joyee","message":"I think you can just uv_queue_work to use the libuv threadpool?","date":"2018-11-02T21:53:26.210Z","type":"message"}
{"nick":"joyee","message":"Not sure how that plays out with a sub loop though","date":"2018-11-02T21:54:36.622Z","type":"message"}
{"nick":"boneskull","message":"octetcloud: can I pm you","date":"2018-11-02T21:55:21.313Z","type":"message"}
{"nick":"octetcloud","message":"boneskull: sure, if you want, I warn you my knowledge is somewhat theoretical, based on Bert describing shelljs.execSync() and the uv work to make it unnecessary -- though I've read the uv code for the threadpool when I was trying to expose stats on it.","date":"2018-11-02T21:56:58.428Z","type":"message"}
{"nick":"octetcloud","message":"boneskull & joyee: and yeah, uv_queue_work is how to get work into the queue.","date":"2018-11-02T21:57:32.163Z","type":"message"}
{"nick":"octetcloud","message":"sorry, the threadpool","date":"2018-11-02T21:57:39.765Z","type":"message"}
{"nick":"octetcloud","message":"(same thing almost: queue --> pool)","date":"2018-11-02T21:58:08.543Z","type":"message"}
{"nick":"t0dd1v","date":"2018-11-02T22:00:16.705Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 246 seconds","date":"2018-11-02T22:09:10.253Z","type":"quit"}
{"nick":"marthinal","date":"2018-11-02T22:10:08.971Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 268 seconds","date":"2018-11-02T22:15:04.848Z","type":"quit"}
