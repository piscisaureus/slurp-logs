{"nick":"devsnek","message":"how come starting node for the first time in a while (hour or so) doubles the start time","date":"2018-03-22T00:15:28.669Z","type":"message"}
{"nick":"devsnek","message":"could it be dick cache or something?","date":"2018-03-22T00:16:01.189Z","type":"message"}
{"nick":"al-damiri","reason":"Quit: Connection closed for inactivity","date":"2018-03-22T00:20:47.310Z","type":"quit"}
{"nick":"AtumT_","reason":"Remote host closed the connection","date":"2018-03-22T00:52:19.688Z","type":"quit"}
{"nick":"seishun","reason":"Disconnected by services","date":"2018-03-22T00:55:49.270Z","type":"quit"}
{"nick":"seishun","date":"2018-03-22T00:55:55.822Z","type":"join"}
{"nick":"gowpen","reason":"Quit: Heading downriver","date":"2018-03-22T01:05:37.786Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 264 seconds","date":"2018-03-22T01:16:33.357Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T01:26:57.570Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 240 seconds","date":"2018-03-22T01:31:05.476Z","type":"quit"}
{"nick":"BridgeAR","reason":"Ping timeout: 264 seconds","date":"2018-03-22T01:51:58.144Z","type":"quit"}
{"nick":"devsnek","message":"mafintosh: i'm not sure if i'll ever finish the parser i started but if you wanna steal it i'm fine with that","date":"2018-03-22T03:15:23.378Z","type":"message"}
{"nick":"Ultrasauce","reason":"Quit: No Ping reply in 180 seconds.","date":"2018-03-22T03:24:30.548Z","type":"quit"}
{"nick":"Ultrasauce","date":"2018-03-22T03:25:53.196Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 265 seconds","date":"2018-03-22T05:18:21.219Z","type":"quit"}
{"nick":"ryzokuken","date":"2018-03-22T05:19:06.875Z","type":"join"}
{"nick":"marthinal","date":"2018-03-22T05:26:30.222Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 260 seconds","date":"2018-03-22T05:30:54.005Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T05:52:33.534Z","type":"join"}
{"nick":"lpin","date":"2018-03-22T06:05:36.161Z","type":"join"}
{"nick":"cspotcode","reason":"*.net *.split","date":"2018-03-22T07:25:59.478Z","type":"quit"}
{"nick":"bhughes","reason":"*.net *.split","date":"2018-03-22T07:25:59.976Z","type":"quit"}
{"nick":"joepie91","reason":"*.net *.split","date":"2018-03-22T07:26:00.421Z","type":"quit"}
{"nick":"dagobert__","reason":"*.net *.split","date":"2018-03-22T07:26:00.695Z","type":"quit"}
{"nick":"joepie91","date":"2018-03-22T07:26:17.655Z","type":"join"}
{"nick":"cspotcode","date":"2018-03-22T07:26:44.324Z","type":"join"}
{"nick":"joepie91","reason":"Changing host","date":"2018-03-22T07:26:52.223Z","type":"quit"}
{"nick":"joepie91","date":"2018-03-22T07:26:52.291Z","type":"join"}
{"nick":"dagobert__","date":"2018-03-22T07:27:05.188Z","type":"join"}
{"nick":"bhughes","date":"2018-03-22T07:27:52.497Z","type":"join"}
{"nick":"ryzokuken","reason":"Quit: Connection closed for inactivity","date":"2018-03-22T07:28:44.127Z","type":"quit"}
{"nick":"Cagan","reason":"Remote host closed the connection","date":"2018-03-22T07:29:17.336Z","type":"quit"}
{"nick":"Cagan","date":"2018-03-22T07:29:42.468Z","type":"join"}
{"nick":"Cagan","reason":"Remote host closed the connection","date":"2018-03-22T07:30:47.207Z","type":"quit"}
{"nick":"tkore","date":"2018-03-22T07:34:17.387Z","type":"join"}
{"nick":"tkore","reason":"Max SendQ exceeded","date":"2018-03-22T07:34:18.187Z","type":"quit"}
{"nick":"tkore","date":"2018-03-22T07:34:41.305Z","type":"join"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2018-03-22T07:50:30.588Z","type":"quit"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-03-22T08:18:50.992Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T08:23:00.099Z","type":"join"}
{"nick":"juggernaut451","date":"2018-03-22T08:51:15.950Z","type":"join"}
{"nick":"bradleymeck","date":"2018-03-22T08:51:23.276Z","type":"join"}
{"nick":"BridgeAR","date":"2018-03-22T09:01:20.177Z","type":"join"}
{"nick":"ilkka","reason":"Remote host closed the connection","date":"2018-03-22T09:13:23.896Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-03-22T09:17:43.047Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-03-22T09:23:45.637Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-03-22T10:00:57.094Z","type":"join"}
{"nick":"juggernaut451","reason":"Remote host closed the connection","date":"2018-03-22T10:04:12.341Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-03-22T10:22:45.908Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-03-22T10:25:11.235Z","type":"quit"}
{"nick":"mylesborins","date":"2018-03-22T10:25:41.850Z","type":"join"}
{"nick":"seishun","date":"2018-03-22T10:31:59.598Z","type":"join"}
{"nick":"bradleymeck","date":"2018-03-22T10:33:40.633Z","type":"join"}
{"nick":"mafintosh","message":"devsnek: cool!","date":"2018-03-22T10:51:00.062Z","type":"message"}
{"nick":"ilkka","date":"2018-03-22T11:05:04.515Z","type":"join"}
{"nick":"ilkka","reason":"Remote host closed the connection","date":"2018-03-22T11:05:08.694Z","type":"quit"}
{"nick":"ilkka","date":"2018-03-22T11:05:49.986Z","type":"join"}
{"nick":"AtumT","date":"2018-03-22T11:14:47.385Z","type":"join"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-03-22T11:24:14.773Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-03-22T11:32:28.552Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2018-03-22T11:32:46.635Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-03-22T11:37:03.786Z","type":"join"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2018-03-22T11:38:04.105Z","type":"quit"}
{"nick":"chalker_","date":"2018-03-22T11:40:11.298Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 260 seconds","date":"2018-03-22T11:43:39.086Z","type":"quit"}
{"nick":"chalker_","reason":"Ping timeout: 260 seconds","date":"2018-03-22T11:47:44.041Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-03-22T11:47:50.605Z","type":"join"}
{"nick":"bradleymeck","date":"2018-03-22T11:51:42.408Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 276 seconds","date":"2018-03-22T12:04:20.091Z","type":"quit"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-03-22T12:08:27.724Z","type":"quit"}
{"nick":"sgimeno","reason":"Ping timeout: 264 seconds","date":"2018-03-22T12:29:09.303Z","type":"quit"}
{"nick":"sgimeno","date":"2018-03-22T12:41:57.606Z","type":"join"}
{"nick":"sgimeno","reason":"Ping timeout: 268 seconds","date":"2018-03-22T12:47:06.605Z","type":"quit"}
{"nick":"sgimeno","date":"2018-03-22T12:59:28.812Z","type":"join"}
{"nick":"bradleymeck","date":"2018-03-22T12:59:40.947Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-03-22T13:02:16.678Z","type":"quit"}
{"nick":"seishun","date":"2018-03-22T13:03:15.398Z","type":"join"}
{"nick":"sgimeno","reason":"Ping timeout: 240 seconds","date":"2018-03-22T13:03:57.735Z","type":"quit"}
{"nick":"bradleymeck","reason":"Client Quit","date":"2018-03-22T13:04:07.219Z","type":"quit"}
{"nick":"howdoi","reason":"Quit: Connection closed for inactivity","date":"2018-03-22T13:13:29.142Z","type":"quit"}
{"nick":"juggernaut451","date":"2018-03-22T13:14:33.105Z","type":"join"}
{"nick":"sgimeno","date":"2018-03-22T13:16:10.941Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 246 seconds","date":"2018-03-22T13:17:37.069Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-03-22T13:20:28.027Z","type":"join"}
{"nick":"seishun","date":"2018-03-22T13:21:46.894Z","type":"join"}
{"nick":"juggernaut451","reason":"Remote host closed the connection","date":"2018-03-22T13:36:43.781Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T13:38:07.811Z","type":"join"}
{"nick":"al-damiri","date":"2018-03-22T14:39:39.891Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 265 seconds","date":"2018-03-22T14:48:21.176Z","type":"quit"}
{"nick":"ahmadassaf","date":"2018-03-22T14:56:08.875Z","type":"join"}
{"nick":"chalker_","date":"2018-03-22T15:38:00.807Z","type":"join"}
{"nick":"ChALkeR","reason":"Ping timeout: 268 seconds","date":"2018-03-22T15:38:32.610Z","type":"quit"}
{"nick":"juggernaut451","date":"2018-03-22T15:46:11.534Z","type":"join"}
{"nick":"Trott","message":"Question for native addon folks: Is https://github.com/nodejs/node-addon-examples still relevant? Or should it be archived? Does it need a massive update effort? Or is it fine as is? rvagg_","date":"2018-03-22T15:57:04.409Z","type":"message"}
{"nick":"seishun","date":"2018-03-22T15:58:12.196Z","type":"join"}
{"nick":"devsnek","message":"Trott: we just do the abi stable repo at this point right?","date":"2018-03-22T15:59:53.825Z","type":"message"}
{"nick":"Trott","message":"devsnek: I guess?","date":"2018-03-22T16:00:43.164Z","type":"message"}
{"nick":"bradleymeck","reason":"Quit: bradleymeck","date":"2018-03-22T16:08:30.741Z","type":"quit"}
{"nick":"chalker_","reason":"Ping timeout: 240 seconds","date":"2018-03-22T16:13:57.786Z","type":"quit"}
{"nick":"juggernaut451","reason":"Ping timeout: 276 seconds","date":"2018-03-22T16:20:26.142Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2018-03-22T16:25:27.844Z","type":"quit"}
{"nick":"BridgeAR","reason":"Ping timeout: 246 seconds","date":"2018-03-22T16:32:12.968Z","type":"quit"}
{"nick":"seishun","date":"2018-03-22T16:32:17.249Z","type":"join"}
{"nick":"bradleymeck","date":"2018-03-22T16:34:13.423Z","type":"join"}
{"nick":"bradleymeck","reason":"Ping timeout: 256 seconds","date":"2018-03-22T16:39:11.393Z","type":"quit"}
{"nick":"bradleymeck","date":"2018-03-22T17:00:08.171Z","type":"join"}
{"nick":"chalker_","date":"2018-03-22T17:01:26.765Z","type":"join"}
{"nick":"tkore","reason":"Read error: Connection reset by peer","date":"2018-03-22T17:06:20.427Z","type":"quit"}
{"nick":"bradleymeck","reason":"Ping timeout: 265 seconds","date":"2018-03-22T17:06:21.231Z","type":"quit"}
{"nick":"ryzokuken","date":"2018-03-22T17:11:31.126Z","type":"join"}
{"nick":"BridgeAR","date":"2018-03-22T17:11:54.366Z","type":"join"}
{"nick":"ryzokuken","message":"hey everybody!","date":"2018-03-22T17:11:59.893Z","type":"message"}
{"nick":"ryzokuken","message":"take a look at https://github.com/nodejs/node/blob/master/test/parallel/test-dgram-regress-4496.js","date":"2018-03-22T17:12:06.442Z","type":"message"}
{"nick":"ryzokuken","message":"should I remove it? Does dgram support sending strings?","date":"2018-03-22T17:13:13.926Z","type":"message"}
{"nick":"devsnek","message":"try it an see","date":"2018-03-22T17:21:15.916Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2018-03-22T17:23:21.362Z","type":"quit"}
{"nick":"seishun","date":"2018-03-22T17:33:59.073Z","type":"join"}
{"nick":"seishun","reason":"Disconnected by services","date":"2018-03-22T17:34:37.403Z","type":"quit"}
{"nick":"seishun","date":"2018-03-22T17:34:45.989Z","type":"join"}
{"nick":"BridgeAR","reason":"Ping timeout: 256 seconds","date":"2018-03-22T17:38:07.436Z","type":"quit"}
{"nick":"Fishrock123","date":"2018-03-22T17:44:59.163Z","type":"join"}
{"nick":"BridgeAR","date":"2018-03-22T18:14:39.694Z","type":"join"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-03-22T18:17:05.147Z","type":"quit"}
{"nick":"BridgeAR","reason":"Quit: WeeChat 2.0.1","date":"2018-03-22T18:21:23.728Z","type":"quit"}
{"nick":"Fishrock123","date":"2018-03-22T18:24:29.009Z","type":"join"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-03-22T18:55:05.445Z","type":"quit"}
{"nick":"not-an-aardvark","date":"2018-03-22T18:58:17.111Z","type":"join"}
{"nick":"ahmadassaf","reason":"Quit: My Mac has gone to sleep. ZZZzzzâ€¦","date":"2018-03-22T19:02:04.595Z","type":"quit"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-03-22T19:32:27.687Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T19:32:53.464Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-03-22T19:33:50.483Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T19:33:56.098Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-03-22T19:36:54.409Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-03-22T19:52:21.334Z","type":"quit"}
{"nick":"Fishrock123","date":"2018-03-22T20:06:15.019Z","type":"join"}
{"nick":"Trott","message":"ryzokuken: I think the comment is wrong.","date":"2018-03-22T20:17:46.844Z","type":"message"}
{"nick":"Trott","message":"I think the comment was about a specific test case, but that test case has probably been removed. The comment should be removed but the test should stay. It's testing that a TypeError is thrown if the msg argument is a boolean or a number instead of a Buffer, array, string, or Uint8Array.","date":"2018-03-22T20:18:36.243Z","type":"message"}
{"nick":"Trott","message":"Yeah, here's the original test: https://github.com/nodejs/node/blob/ad6769fc92ed21c9d4a62719ed9d46538dc5a73b/test/simple/test-dgram-regress-4496.js","date":"2018-03-22T20:20:09.617Z","type":"message"}
{"nick":"Trott","message":"Obviously, at some point it was changed to check numbers and booleans instead of strings because strings are fine.","date":"2018-03-22T20:20:36.116Z","type":"message"}
{"nick":"Trott","message":"So I guess the question is if that duplicates another test somewhere.","date":"2018-03-22T20:20:46.721Z","type":"message"}
{"nick":"Trott","message":"And here's the subsequent commit that changed it. https://github.com/nodejs/node/commit/81307440440127c7c99183734098f97fac5e214d Arguably, the test should have been removed then....let's see if those tests are duplicated anywhere...","date":"2018-03-22T20:22:38.536Z","type":"message"}
{"nick":"Trott","message":"Not seeing it anywhere, so seems to me the test should stay but be renamed something like `test-dgram-send-invalid-msg-type` or something like that.","date":"2018-03-22T20:24:28.130Z","type":"message"}
{"nick":"Trott","message":"And, of course, the comment should be removed. I mean, that's the minimum change that should happen. :-D","date":"2018-03-22T20:25:01.680Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2018-03-22T20:32:51.476Z","type":"quit"}
{"nick":"marthinal","date":"2018-03-22T21:11:14.546Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 240 seconds","date":"2018-03-22T21:15:51.438Z","type":"quit"}
{"nick":"ryzokuken","reason":"Quit: Connection closed for inactivity","date":"2018-03-22T21:21:43.250Z","type":"quit"}
{"nick":"seishun","date":"2018-03-22T21:48:41.549Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 276 seconds","date":"2018-03-22T22:06:14.074Z","type":"quit"}
{"nick":"Trott","message":"Where's the issue for empty stack traces in CI?","date":"2018-03-22T22:42:09.348Z","type":"message"}
{"nick":"chalker_","reason":"Ping timeout: 240 seconds","date":"2018-03-22T22:46:57.789Z","type":"quit"}
{"nick":"TimothyGu","message":"devsnek: checked out your changes. Definitely appreciate the dynamic import() support in vm.Script. Re import.meta though, it's a logically separate chunk of this single commit, and I'd rather my mentee's less invasive version of this change get through first","date":"2018-03-22T22:52:39.835Z","type":"message"}
{"nick":"devsnek","message":"TimothyGu: thats why i didn't open the pr yet","date":"2018-03-22T22:53:07.324Z","type":"message"}
{"nick":"TimothyGu","message":"Also, make sure to change the ContextifyScript::identity_\" to belong to the Environment","date":"2018-03-22T22:53:20.520Z","type":"message"}
{"nick":"ahmadassaf","date":"2018-03-22T22:53:33.183Z","type":"join"}
{"nick":"TimothyGu","message":"for thread safety of future workers support","date":"2018-03-22T22:53:39.724Z","type":"message"}
{"nick":"devsnek","message":"move the identity counter to env?","date":"2018-03-22T22:54:07.349Z","type":"message"}
{"nick":"devsnek","message":"hopefully we can get a better structure for workers than ContextifyScript","date":"2018-03-22T22:54:24.959Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: yeah","date":"2018-03-22T22:55:14.392Z","type":"message"}
{"nick":"devsnek","message":"why would workers depend on ContextifyScript at all","date":"2018-03-22T22:55:31.364Z","type":"message"}
{"nick":"TimothyGu","message":"it doesn't","date":"2018-03-22T22:55:38.350Z","type":"message"}
{"nick":"TimothyGu","message":"but two threads will share the same ContextifyScript class","date":"2018-03-22T22:55:51.396Z","type":"message"}
{"nick":"TimothyGu","message":"i.e., the same identity_ variable","date":"2018-03-22T22:56:00.574Z","type":"message"}
{"nick":"devsnek","message":"why would the other thread be using that class is my question ;-;","date":"2018-03-22T22:56:08.134Z","type":"message"}
{"nick":"TimothyGu","message":"at least in the Ayo implementation, each thread has access to all the modules","date":"2018-03-22T22:56:27.826Z","type":"message"}
{"nick":"TimothyGu","message":"(with a few exceptions like cluster)","date":"2018-03-22T22:56:35.518Z","type":"message"}
{"nick":"devsnek","message":"oh","date":"2018-03-22T22:56:47.920Z","type":"message"}
{"nick":"TimothyGu","message":"so one would be able to require('vm') in another thread","date":"2018-03-22T22:56:49.780Z","type":"message"}
{"nick":"devsnek","message":"ok that makes sense","date":"2018-03-22T22:56:56.843Z","type":"message"}
{"nick":"devsnek","message":"i didn't realise we were gonna do that","date":"2018-03-22T22:57:00.444Z","type":"message"}
{"nick":"devsnek","message":"sounds like a lot of work","date":"2018-03-22T22:57:03.913Z","type":"message"}
{"nick":"TimothyGu","message":"when did you start using the British spelling for \"realise\"?","date":"2018-03-22T22:57:59.055Z","type":"message"}
{"nick":"TimothyGu","message":"just out of curiosity","date":"2018-03-22T22:58:08.618Z","type":"message"}
{"nick":"devsnek","message":"no idea","date":"2018-03-22T22:58:35.310Z","type":"message"}
{"nick":"devsnek","message":"i do it with other words too","date":"2018-03-22T22:58:39.793Z","type":"message"}
{"nick":"devsnek","message":"and i've done it for a while","date":"2018-03-22T22:58:44.023Z","type":"message"}
{"nick":"TimothyGu","message":"heh","date":"2018-03-22T22:58:56.590Z","type":"message"}
{"nick":"devsnek","message":"u got a problem with good spelling bruh ðŸ˜ ","date":"2018-03-22T22:59:20.090Z","type":"message"}
{"nick":"marthinal","date":"2018-03-22T23:01:25.492Z","type":"join"}
{"nick":"TimothyGu","message":"no just wondering","date":"2018-03-22T23:01:29.897Z","type":"message"}
{"nick":"devsnek","message":"btw how does moving the int to env make it thread safe","date":"2018-03-22T23:01:57.352Z","type":"message"}
{"nick":"TimothyGu","message":"that was how I learned it as well, before I got corrupted by middle schools in the US","date":"2018-03-22T23:01:58.620Z","type":"message"}
{"nick":"devsnek","message":"var++ on any class will be not-thread-safe right?","date":"2018-03-22T23:02:09.799Z","type":"message"}
{"nick":"TimothyGu","message":"because the Environment is only accessed in one thread","date":"2018-03-22T23:02:12.402Z","type":"message"}
{"nick":"devsnek","message":"o","date":"2018-03-22T23:02:15.447Z","type":"message"}
{"nick":"devsnek","message":"but","date":"2018-03-22T23:02:20.515Z","type":"message"}
{"nick":"devsnek","message":"then i would just be doing `id = env->context_counter++`","date":"2018-03-22T23:02:34.183Z","type":"message"}
{"nick":"devsnek","message":"?","date":"2018-03-22T23:02:36.393Z","type":"message"}
{"nick":"devsnek","message":"am i missing something","date":"2018-03-22T23:02:53.743Z","type":"message"}
{"nick":"TimothyGu","message":"yeah, but Environment's existing state variables are all getter/setter pairs","date":"2018-03-22T23:03:02.340Z","type":"message"}
{"nick":"TimothyGu","message":"so id = env->vm_context_counter(); env->set_vm_context_counter(id + 1);","date":"2018-03-22T23:03:25.484Z","type":"message"}
{"nick":"devsnek","message":"`env->get_next_context_id()`","date":"2018-03-22T23:03:46.668Z","type":"message"}
{"nick":"TimothyGu","message":"to make ++ thread safe you'd need something like atomic get and increment","date":"2018-03-22T23:03:56.685Z","type":"message"}
{"nick":"devsnek","message":"thats why i was confused","date":"2018-03-22T23:04:23.901Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: nah there's a convention","date":"2018-03-22T23:04:26.937Z","type":"message"}
{"nick":"TimothyGu","message":"e.g. https://github.com/nodejs/node/blob/982e3bdb1f06bf9d9926c808d30864b32a8223f9/src/env.h#L630-L631","date":"2018-03-22T23:05:05.740Z","type":"message"}
{"nick":"TimothyGu","message":"the implementation is in env-inl.h","date":"2018-03-22T23:05:19.332Z","type":"message"}
{"nick":"devsnek","message":"ok","date":"2018-03-22T23:05:28.907Z","type":"message"}
{"nick":"TimothyGu","message":"and there's a corresponding private member variable","date":"2018-03-22T23:05:30.168Z","type":"message"}
{"nick":"devsnek","message":"i should do this with module_wrap too right","date":"2018-03-22T23:05:44.028Z","type":"message"}
{"nick":"TimothyGu","message":"if you had a static/global member variable, then yes","date":"2018-03-22T23:07:06.257Z","type":"message"}
{"nick":"TimothyGu","message":"but if it's there already then don't worry about it","date":"2018-03-22T23:07:19.276Z","type":"message"}
{"nick":"devsnek","message":"no i added incrementing id for both","date":"2018-03-22T23:07:33.215Z","type":"message"}
{"nick":"TimothyGu","message":"Ah","date":"2018-03-22T23:07:37.254Z","type":"message"}
{"nick":"TimothyGu","message":"1129 unread notifications :'(","date":"2018-03-22T23:07:45.781Z","type":"message"}
{"nick":"devsnek","message":"v8 too lazy to provide Module/Script::GetScriptOrigin :'(","date":"2018-03-22T23:07:53.586Z","type":"message"}
{"nick":"devsnek","message":"do i need to manually add a libuv mutex to this method?","date":"2018-03-22T23:10:26.802Z","type":"message"}
{"nick":"devsnek","message":"the other functions don't look very thread safe","date":"2018-03-22T23:10:36.126Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: no","date":"2018-03-22T23:11:01.387Z","type":"message"}
{"nick":"TimothyGu","message":"again anything in Environment is guaranteed to be only accessed by one thread","date":"2018-03-22T23:11:13.194Z","type":"message"}
{"nick":"TimothyGu","message":"so there're no thread safety concerns","date":"2018-03-22T23:11:22.945Z","type":"message"}
{"nick":"devsnek","message":"but all i've done is add a function","date":"2018-03-22T23:11:26.310Z","type":"message"}
{"nick":"devsnek","message":"what is governing how that function is called","date":"2018-03-22T23:11:33.957Z","type":"message"}
{"nick":"TimothyGu","message":"human intellect","date":"2018-03-22T23:11:43.278Z","type":"message"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-03-22T23:11:43.802Z","type":"quit"}
{"nick":"Fishrock123","reason":"Remote host closed the connection","date":"2018-03-22T23:11:52.658Z","type":"quit"}
{"nick":"TimothyGu","message":"lol","date":"2018-03-22T23:12:03.357Z","type":"message"}
{"nick":"devsnek","message":"so like","date":"2018-03-22T23:12:10.905Z","type":"message"}
{"nick":"devsnek","message":"\"if its a function on env pls don't call from another thread\"","date":"2018-03-22T23:12:19.216Z","type":"message"}
{"nick":"TimothyGu","message":"more like \"env should not be accessible at all from another thread, unless you try to\"","date":"2018-03-22T23:12:56.791Z","type":"message"}
{"nick":"TimothyGu","message":"\"try to\" = actual worker code","date":"2018-03-22T23:13:09.242Z","type":"message"}
{"nick":"devsnek","message":"so how would `env->module_wrap_id()` work in the ModuleWrap constructor","date":"2018-03-22T23:13:24.471Z","type":"message"}
{"nick":"devsnek","message":"assuming it was called from a worker thread","date":"2018-03-22T23:13:29.117Z","type":"message"}
{"nick":"TimothyGu","message":"the env it receives is the Environment if the worker thread","date":"2018-03-22T23:13:47.231Z","type":"message"}
{"nick":"TimothyGu","message":"of*","date":"2018-03-22T23:13:49.483Z","type":"message"}
{"nick":"devsnek","message":"oh a new env","date":"2018-03-22T23:13:58.819Z","type":"message"}
{"nick":"TimothyGu","message":"yeah","date":"2018-03-22T23:14:03.220Z","type":"message"}
{"nick":"devsnek","message":"ok this is all making sense now","date":"2018-03-22T23:14:04.164Z","type":"message"}
{"nick":"devsnek","message":"lol","date":"2018-03-22T23:14:06.299Z","type":"message"}
{"nick":"TimothyGu","message":"sorry for not clarifying","date":"2018-03-22T23:14:07.186Z","type":"message"}
{"nick":"devsnek","message":"i guess i should have known","date":"2018-03-22T23:14:19.226Z","type":"message"}
{"nick":"devsnek","message":"since environments are tied to isolates","date":"2018-03-22T23:14:25.033Z","type":"message"}
{"nick":"TimothyGu","message":"I believe historically Environments were designed to be tied to contexts","date":"2018-03-22T23:15:25.115Z","type":"message"}
{"nick":"TimothyGu","message":"but the vm module messed that up","date":"2018-03-22T23:15:31.818Z","type":"message"}
{"nick":"devsnek","message":"vm module messes everything up","date":"2018-03-22T23:15:38.974Z","type":"message"}
{"nick":"TimothyGu","message":"you can tell by the fact that env->context() always returns the top context","date":"2018-03-22T23:15:46.733Z","type":"message"}
{"nick":"devsnek","message":"two hecking unordered_maps just for going from `id` to `ModuleWrap`","date":"2018-03-22T23:15:54.218Z","type":"message"}
{"nick":"TimothyGu","message":"what are you talking about vm module is perfect","date":"2018-03-22T23:16:09.158Z","type":"message"}
{"nick":"TimothyGu","message":"jkjk","date":"2018-03-22T23:16:12.233Z","type":"message"}
{"nick":"devsnek","message":"i cried","date":"2018-03-22T23:16:20.054Z","type":"message"}
{"nick":"devsnek","message":"ðŸ˜­","date":"2018-03-22T23:16:24.675Z","type":"message"}
{"nick":"TimothyGu","message":"devsnek: do you know why https://github.com/nodejs/node/pull/18814 was landed, but https://github.com/nodejs/node/pull/19454 no?","date":"2018-03-22T23:56:31.148Z","type":"message"}
{"nick":"devsnek","message":"what","date":"2018-03-22T23:56:45.874Z","type":"message"}
{"nick":"devsnek","message":"thats weird","date":"2018-03-22T23:56:58.312Z","type":"message"}
{"nick":"TimothyGu","message":"both are s/var/let|const/ changes","date":"2018-03-22T23:57:01.284Z","type":"message"}
{"nick":"devsnek","message":"well","date":"2018-03-22T23:57:04.997Z","type":"message"}
{"nick":"devsnek","message":"it looks like it was small enough i guess?","date":"2018-03-22T23:57:22.776Z","type":"message"}
{"nick":"devsnek","message":"it was definitely a breach from our modus operandi though","date":"2018-03-22T23:57:33.974Z","type":"message"}
{"nick":"TimothyGu","message":"left for a few months and Node.js is completely different ðŸ˜’","date":"2018-03-22T23:59:24.003Z","type":"message"}
{"nick":"TimothyGu","message":"jkjk","date":"2018-03-22T23:59:26.097Z","type":"message"}
{"nick":"devsnek","message":"we haven't merged anything else like that","date":"2018-03-22T23:59:40.774Z","type":"message"}
{"nick":"devsnek","message":"and i'm probably not the person to be asking ðŸ˜“","date":"2018-03-22T23:59:52.899Z","type":"message"}
