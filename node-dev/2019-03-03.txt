{"nick":"AtumT","reason":"Quit: AtumT","date":"2019-03-03T00:05:46.218Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T00:17:59.366Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T00:22:32.992Z","type":"quit"}
{"nick":"Yann2","reason":"Ping timeout: 245 seconds","date":"2019-03-03T00:25:02.167Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T00:36:50.534Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T00:41:18.323Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T00:56:04.297Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T01:00:20.293Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T01:16:04.851Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T01:20:35.292Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T01:39:09.570Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T01:43:22.166Z","type":"quit"}
{"nick":"zeds1","date":"2019-03-03T02:03:44.274Z","type":"join"}
{"nick":"zeds1","date":"2019-03-03T02:03:56.080Z","type":"part"}
{"nick":"dbevenius","date":"2019-03-03T02:06:59.375Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T02:11:26.251Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T02:25:52.693Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T02:30:48.426Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T02:46:09.101Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T02:50:44.787Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T03:06:04.751Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T03:10:27.116Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T04:17:09.370Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T04:21:29.198Z","type":"quit"}
{"nick":"coreyfarrell","message":"devsnek: odd, I thought it was originally in fs/promises but was moved to fs.promises?  I'm guessing this means it's not on the table for it to be non-experimental in 12.x?","date":"2019-03-03T04:37:24.099Z","type":"message"}
{"nick":"devsnek","message":"coreyfarrell: it was moved again while we work on namespacing issues","date":"2019-03-03T04:37:43.805Z","type":"message"}
{"nick":"devsnek","message":"but it needs to be moved back so esm can properly consume it","date":"2019-03-03T04:37:55.539Z","type":"message"}
{"nick":"dbevenius","date":"2019-03-03T04:41:10.624Z","type":"join"}
{"nick":"coreyfarrell","message":"that makes sense.","date":"2019-03-03T04:44:24.956Z","type":"message"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T04:45:27.182Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T05:25:59.365Z","type":"join"}
{"nick":"lpin","date":"2019-03-03T05:58:30.342Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T06:34:14.198Z","type":"quit"}
{"nick":"antsmartian","date":"2019-03-03T06:40:08.484Z","type":"join"}
{"nick":"dbevenius","date":"2019-03-03T06:46:13.092Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T06:50:48.825Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T07:20:25.222Z","type":"join"}
{"nick":"neo4","date":"2019-03-03T07:34:13.493Z","type":"join"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-03-03T08:08:09.482Z","type":"quit"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-03-03T08:25:36.014Z","type":"quit"}
{"nick":"antsmartian","date":"2019-03-03T08:28:34.046Z","type":"join"}
{"nick":"neo4","reason":"Remote host closed the connection","date":"2019-03-03T08:32:31.016Z","type":"quit"}
{"nick":"neo4","date":"2019-03-03T08:32:47.235Z","type":"join"}
{"nick":"dbevenius","date":"2019-03-03T08:36:08.117Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 268 seconds","date":"2019-03-03T08:40:51.829Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T08:56:10.415Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T09:00:28.345Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T09:11:50.825Z","type":"join"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-03-03T09:20:36.182Z","type":"quit"}
{"nick":"neo4","reason":"Quit: neo4","date":"2019-03-03T10:09:32.006Z","type":"quit"}
{"nick":"Yann2","date":"2019-03-03T11:09:57.778Z","type":"join"}
{"nick":"dbevenius","reason":"Read error: Connection reset by peer","date":"2019-03-03T11:09:58.219Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T11:10:11.350Z","type":"join"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-03-03T11:12:37.796Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T11:20:10.258Z","type":"join"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-03-03T11:53:23.001Z","type":"quit"}
{"nick":"Rudd0","reason":"Ping timeout: 250 seconds","date":"2019-03-03T12:23:10.518Z","type":"quit"}
{"nick":"AtumT","date":"2019-03-03T12:35:48.509Z","type":"join"}
{"nick":"dbevenius","date":"2019-03-03T12:45:45.453Z","type":"join"}
{"nick":"antsmartian","date":"2019-03-03T13:21:33.350Z","type":"join"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-03-03T13:38:09.674Z","type":"quit"}
{"nick":"antsmartian","date":"2019-03-03T13:42:56.385Z","type":"join"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-03-03T13:44:59.494Z","type":"quit"}
{"nick":"antsmartian","date":"2019-03-03T14:10:38.476Z","type":"join"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-03-03T14:46:31.535Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T14:48:49.578Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T14:53:17.201Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T15:28:58.674Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T15:33:47.197Z","type":"quit"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-03-03T16:07:45.547Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T16:28:25.538Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T16:32:33.298Z","type":"quit"}
{"nick":"lundibundi","date":"2019-03-03T16:43:13.381Z","type":"join"}
{"nick":"dbevenius","date":"2019-03-03T16:48:38.829Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T16:52:57.142Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T17:04:53.191Z","type":"join"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-03-03T18:06:49.816Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T18:16:37.888Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T18:21:06.583Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T18:36:40.467Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T18:45:03.329Z","type":"quit"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2019-03-03T18:54:15.221Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T19:26:42.220Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T19:31:18.933Z","type":"quit"}
{"nick":"lundibundi","reason":"Ping timeout: 245 seconds","date":"2019-03-03T19:33:23.406Z","type":"quit"}
{"nick":"lundibundi","date":"2019-03-03T19:44:22.358Z","type":"join"}
{"nick":"dbevenius","date":"2019-03-03T19:46:45.495Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-03-03T19:50:53.335Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T20:06:28.470Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-03-03T20:11:01.309Z","type":"quit"}
{"nick":"weswigham","date":"2019-03-03T20:48:13.747Z","type":"join"}
{"nick":"dbevenius","date":"2019-03-03T21:40:49.225Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T21:45:29.235Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T21:55:54.301Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 255 seconds","date":"2019-03-03T22:00:20.180Z","type":"quit"}
{"nick":"weswigham","message":"@devsnek yo. You happen to know how one would go about testing for this https://github.com/nodejs/ecmascript-modules/pull/41#issuecomment-469060367 ?","date":"2019-03-03T22:03:43.218Z","type":"message"}
{"nick":"devsnek","message":"weswigham: not positive","date":"2019-03-03T22:05:04.725Z","type":"message"}
{"nick":"devsnek","message":"addaleax: would you mind taking a look?","date":"2019-03-03T22:05:21.740Z","type":"message"}
{"nick":"devsnek","message":"the code here is creating a new libuv loop to run all the stuff the esm loader does synchronously so its possible to require('esm')","date":"2019-03-03T22:05:52.582Z","type":"message"}
{"nick":"weswigham","message":"here, specifically: https://github.com/weswigham/ecmascript-modules/commit/3e6a7687266d6551ecb8ea319d328046446bfc59","date":"2019-03-03T22:06:28.695Z","type":"message"}
{"nick":"addaleax","message":"devsnek: addaleax: So … not sure what the uv_stop() is for? You may also want to use `CheckedUvLoopClose()` instead of `uv_loop_close()` to make sure you’re not accidentally still having handles on the loop when closing it… but generally, this seems a bit dangerous? What if module evaluation creates libuv handles that are then stuck on the inner loop?","date":"2019-03-03T22:13:11.543Z","type":"message"}
{"nick":"addaleax","message":"sorry, meant weswigham: and not addaleax: :P","date":"2019-03-03T22:13:23.948Z","type":"message"}
{"nick":"devsnek","message":"addaleax: that last part in particular was my worry","date":"2019-03-03T22:13:38.714Z","type":"message"}
{"nick":"weswigham","message":"> What if module evaluation creates libuv handles that are then stuck on the inner loop?","date":"2019-03-03T22:13:59.774Z","type":"message"}
{"nick":"weswigham","message":"evaluation isn;t part of what's being sync'd","date":"2019-03-03T22:14:07.642Z","type":"message"}
{"nick":"weswigham","message":"just instantiation & resolution","date":"2019-03-03T22:14:14.756Z","type":"message"}
{"nick":"weswigham","message":"the only entrypoint that could cause that, afaik, would be a custom resolver that needs to wait on an external promise","date":"2019-03-03T22:15:03.513Z","type":"message"}
{"nick":"weswigham","message":"but we're talking about making custom resolvers & loaders out of proc anyway, so it might not be an issue","date":"2019-03-03T22:15:35.496Z","type":"message"}
{"nick":"addaleax","message":"weswigham: So … what parts of the code that’s being \"sync'd\" *is* run in the new loop? I think it might make more sense to pass the new loop instance to those bits explicitly, rather than replacing the event_loop() on IsolateData/Environment","date":"2019-03-03T22:16:24.876Z","type":"message"}
{"nick":"dbevenius","date":"2019-03-03T22:16:58.384Z","type":"join"}
{"nick":"addaleax","message":"(which is, ironically, something I’ve attempted to do for child_process so that we can merge spawn and spawnSync – has turned out to be pretty complex, though. but having another use case might be good motivation for actually doing this)","date":"2019-03-03T22:17:14.616Z","type":"message"}
{"nick":"devsnek","message":"resolution, which does a lot of file ops","date":"2019-03-03T22:17:28.152Z","type":"message"}
{"nick":"addaleax","message":"is it only file operations?","date":"2019-03-03T22:17:34.346Z","type":"message"}
{"nick":"devsnek","message":"i think so","date":"2019-03-03T22:18:30.654Z","type":"message"}
{"nick":"addaleax","message":"i mean, I’d totally be a fan of being able to create new loops programatically and being able to pass them explicitly to libuv codes, maybe even as a public API","date":"2019-03-03T22:18:46.573Z","type":"message"}
{"nick":"devsnek","message":"it is currently using the uv_fs api directly","date":"2019-03-03T22:19:04.338Z","type":"message"}
{"nick":"devsnek","message":"but maybe some sort of uv_scope api could be a general fix","date":"2019-03-03T22:19:16.271Z","type":"message"}
{"nick":"addaleax","message":"so … the target code is already in C++?","date":"2019-03-03T22:19:36.654Z","type":"message"}
{"nick":"devsnek","message":"yep","date":"2019-03-03T22:19:41.975Z","type":"message"}
{"nick":"weswigham","message":"Right now, yeah - there's theories for custom stuff, but nothing complex. AFAIK the default resolver isn't actually really async rn.","date":"2019-03-03T22:20:00.407Z","type":"message"}
{"nick":"addaleax","message":"maybe Environment/IsolateData could have a stack of uv_loop_ts rather than a single one","date":"2019-03-03T22:20:13.533Z","type":"message"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-03-03T22:21:13.275Z","type":"quit"}
{"nick":"weswigham","message":"mmm... probably - that'd effectively move the loop stack management code from the callstack implicit in the helper I wrote into explicit handing in the code node runloop","date":"2019-03-03T22:23:21.403Z","type":"message"}
{"nick":"weswigham","message":"*core node runloop","date":"2019-03-03T22:23:33.055Z","type":"message"}
{"nick":"dbevenius","date":"2019-03-03T22:37:55.102Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T22:42:24.940Z","type":"quit"}
{"nick":"AtumT","reason":"Ping timeout: 250 seconds","date":"2019-03-03T22:51:56.575Z","type":"quit"}
{"nick":"Yann2","reason":"Ping timeout: 250 seconds","date":"2019-03-03T22:52:22.867Z","type":"quit"}
{"nick":"lundibundi","reason":"Ping timeout: 255 seconds","date":"2019-03-03T22:57:02.273Z","type":"quit"}
{"nick":"AtumT","date":"2019-03-03T23:02:52.350Z","type":"join"}
{"nick":"zaiste","reason":"Quit: ZNC 1.6.3+deb1ubuntu0.1 - http://znc.in","date":"2019-03-03T23:10:20.841Z","type":"quit"}
{"nick":"dbevenius","date":"2019-03-03T23:46:54.093Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 250 seconds","date":"2019-03-03T23:51:18.796Z","type":"quit"}
