{"nick":"AtumT","reason":"Read error: Connection reset by peer","date":"2018-05-17T00:33:08.471Z","type":"quit"}
{"nick":"BridgeAR","reason":"Ping timeout: 268 seconds","date":"2018-05-17T02:12:12.793Z","type":"quit"}
{"nick":"benjamingr_","reason":"Quit: Connection closed for inactivity","date":"2018-05-17T02:34:12.636Z","type":"quit"}
{"nick":"ryzokuken","reason":"Remote host closed the connection","date":"2018-05-17T02:41:33.430Z","type":"quit"}
{"nick":"howdoi","date":"2018-05-17T03:19:43.423Z","type":"join"}
{"nick":"marthinal","date":"2018-05-17T04:59:27.788Z","type":"join"}
{"nick":"marthina_","date":"2018-05-17T05:01:24.654Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-17T05:02:20.307Z","type":"quit"}
{"nick":"lpin","date":"2018-05-17T05:38:27.322Z","type":"join"}
{"nick":"ryzokuken","date":"2018-05-17T06:10:46.248Z","type":"join"}
{"nick":"seishun","date":"2018-05-17T06:15:55.082Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 255 seconds","date":"2018-05-17T07:29:00.216Z","type":"quit"}
{"nick":"CustosLimen","reason":"Ping timeout: 260 seconds","date":"2018-05-17T08:00:14.835Z","type":"quit"}
{"nick":"bhughes","reason":"Ping timeout: 255 seconds","date":"2018-05-17T08:39:39.223Z","type":"quit"}
{"nick":"CustosLimen","date":"2018-05-17T08:53:30.115Z","type":"join"}
{"nick":"BridgeAR","date":"2018-05-17T09:15:41.365Z","type":"join"}
{"nick":"not-an-aardvark","reason":"Quit: Connection closed for inactivity","date":"2018-05-17T09:33:00.937Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-17T09:52:04.511Z","type":"join"}
{"nick":"howdoi","reason":"Quit: Connection closed for inactivity","date":"2018-05-17T09:56:40.440Z","type":"quit"}
{"nick":"bhughes","date":"2018-05-17T10:04:51.714Z","type":"join"}
{"nick":"bhughes","reason":"Ping timeout: 265 seconds","date":"2018-05-17T10:09:59.456Z","type":"quit"}
{"nick":"bhughes","date":"2018-05-17T10:10:49.550Z","type":"join"}
{"nick":"bhughes","reason":"Ping timeout: 256 seconds","date":"2018-05-17T10:18:12.327Z","type":"quit"}
{"nick":"bhughes","date":"2018-05-17T10:19:11.661Z","type":"join"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-05-17T10:25:05.174Z","type":"quit"}
{"nick":"mylesborins","date":"2018-05-17T10:25:35.723Z","type":"join"}
{"nick":"ryzokuken","reason":"Remote host closed the connection","date":"2018-05-17T10:29:16.733Z","type":"quit"}
{"nick":"joyee","message":"Do we send child.kill() to processes spawned in tests on exit to make sure they don't go stray if the test times out?","date":"2018-05-17T10:38:48.105Z","type":"message"}
{"nick":"AtumT","date":"2018-05-17T10:39:34.672Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-17T10:40:02.190Z","type":"quit"}
{"nick":"joyee","message":"Or does that just happens if detached is not set..","date":"2018-05-17T10:41:01.716Z","type":"message"}
{"nick":"apapirovski","date":"2018-05-17T11:32:34.657Z","type":"join"}
{"nick":"lpin","reason":"Read error: Connection reset by peer","date":"2018-05-17T12:50:19.586Z","type":"quit"}
{"nick":"lpin","date":"2018-05-17T12:55:36.572Z","type":"join"}
{"nick":"marthina_","reason":"Remote host closed the connection","date":"2018-05-17T13:00:22.037Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-17T13:47:39.008Z","type":"join"}
{"nick":"juggernaut451","date":"2018-05-17T15:32:37.730Z","type":"join"}
{"nick":"juggernaut451","reason":"Remote host closed the connection","date":"2018-05-17T15:37:48.710Z","type":"quit"}
{"nick":"bhughes","reason":"Ping timeout: 265 seconds","date":"2018-05-17T15:50:15.440Z","type":"quit"}
{"nick":"bhughes","date":"2018-05-17T15:53:03.674Z","type":"join"}
{"nick":"seishun","date":"2018-05-17T16:01:39.690Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-17T16:09:28.535Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-17T16:11:56.902Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-17T16:17:29.974Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-17T16:17:58.435Z","type":"join"}
{"nick":"marthinal","date":"2018-05-17T16:21:00.463Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-17T16:22:00.979Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-17T16:22:46.566Z","type":"quit"}
{"nick":"ryzokuken","date":"2018-05-17T16:26:02.605Z","type":"join"}
{"nick":"howdoi","date":"2018-05-17T16:36:05.651Z","type":"join"}
{"nick":"d3r3k","date":"2018-05-17T16:57:06.736Z","type":"join"}
{"nick":"CustosLimen","reason":"Ping timeout: 255 seconds","date":"2018-05-17T17:08:50.949Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-17T17:18:28.028Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-17T17:22:25.782Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-17T17:23:10.351Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 240 seconds","date":"2018-05-17T17:54:27.775Z","type":"quit"}
{"nick":"CustosLimen","date":"2018-05-17T17:58:32.093Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-17T18:00:02.157Z","type":"quit"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-05-17T18:00:54.905Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-17T18:01:13.188Z","type":"join"}
{"nick":"seishun","date":"2018-05-17T18:01:29.720Z","type":"join"}
{"nick":"trevnorris","date":"2018-05-17T18:08:56.803Z","type":"join"}
{"nick":"ofrobots_","date":"2018-05-17T18:20:29.242Z","type":"quit"}
{"nick":"ofrobots_","date":"2018-05-17T18:20:50.142Z","type":"join"}
{"nick":"ofrobots_","reason":"Client Quit","date":"2018-05-17T18:21:32.302Z","type":"quit"}
{"nick":"ofrobots","date":"2018-05-17T18:21:45.106Z","type":"join"}
{"nick":"trevnorris","reason":"Quit: quit all you want","date":"2018-05-17T18:26:47.858Z","type":"quit"}
{"nick":"trevnorris","date":"2018-05-17T18:27:53.854Z","type":"join"}
{"nick":"bradleymeck","message":"devsnek: per events yesterday, it might be good to think about an instantiate event? so people could inject values at instantiation","date":"2018-05-17T18:29:56.734Z","type":"message"}
{"nick":"bradleymeck","message":"module.onInstantiate = ns => ns.setup(...args);","date":"2018-05-17T18:30:28.657Z","type":"message"}
{"nick":"bradleymeck","message":"since function declarations and var delcarations are available at that time","date":"2018-05-17T18:30:44.078Z","type":"message"}
{"nick":"devsnek","message":"are they?","date":"2018-05-17T18:44:28.531Z","type":"message"}
{"nick":"devsnek","message":"they look undefined to me","date":"2018-05-17T18:44:45.234Z","type":"message"}
{"nick":"bradleymeck","message":"after instantiating the namespace should exist","date":"2018-05-17T18:49:02.361Z","type":"message"}
{"nick":"bradleymeck","message":"i might have to poke around in code, my head is in spec","date":"2018-05-17T18:49:17.520Z","type":"message"}
{"nick":"bradleymeck","message":"spec doesn't reflect reality all the time","date":"2018-05-17T18:49:24.812Z","type":"message"}
{"nick":"devsnek","message":"namespace exists","date":"2018-05-17T18:49:31.912Z","type":"message"}
{"nick":"devsnek","message":"but in v8 anyway `var` and `function` declarations point to `undefined`","date":"2018-05-17T18:49:43.400Z","type":"message"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-17T18:49:43.925Z","type":"quit"}
{"nick":"devsnek","message":"and for `let` and `const` accessing them throws a ReferenceError","date":"2018-05-17T18:49:57.054Z","type":"message"}
{"nick":"bradleymeck","message":"well that seems like a bug","date":"2018-05-17T18:50:16.657Z","type":"message"}
{"nick":"bradleymeck","message":"the var/function bit","date":"2018-05-17T18:50:23.336Z","type":"message"}
{"nick":"bradleymeck","message":"let/const have TDZ and should blow up","date":"2018-05-17T18:50:31.896Z","type":"message"}
{"nick":"devsnek","message":"var doesn't seem like bug","date":"2018-05-17T18:50:42.475Z","type":"message"}
{"nick":"devsnek","message":"unsure about function but leaning towards not bug","date":"2018-05-17T18:50:50.045Z","type":"message"}
{"nick":"bradleymeck","message":"ah, true","date":"2018-05-17T18:50:50.438Z","type":"message"}
{"nick":"bradleymeck","message":"it is a bug","date":"2018-05-17T18:50:58.502Z","type":"message"}
{"nick":"bradleymeck","action":"digs about","date":"2018-05-17T18:51:00.709Z","type":"action"}
{"nick":"devsnek","message":"a function existing without the rest of its scope cannot possibly be safe","date":"2018-05-17T18:51:13.234Z","type":"message"}
{"nick":"bradleymeck","message":"how so? the scope exists just code for it hasn't started","date":"2018-05-17T18:51:58.232Z","type":"message"}
{"nick":"bradleymeck","message":"all the bindings exist","date":"2018-05-17T18:52:01.105Z","type":"message"}
{"nick":"bradleymeck","message":"https://tc39.github.io/ecma262/#sec-innermoduleinstantiation  calls https://tc39.github.io/ecma262/#sec-moduledeclarationenvironmentsetup which sets up the scope","date":"2018-05-17T18:52:19.037Z","type":"message"}
{"nick":"bradleymeck","message":"you can see this also when you have a cycle a->b->a so b evaluates first, but can call function declarations in a","date":"2018-05-17T18:52:42.624Z","type":"message"}
{"nick":"devsnek","message":"like if you have `var y = 5; export function z() { return y }`","date":"2018-05-17T18:53:09.267Z","type":"message"}
{"nick":"bradleymeck","message":"this can be used to populate `var` bindings and/or replace the function declaration bindings with a different value for exporting","date":"2018-05-17T18:53:12.076Z","type":"message"}
{"nick":"devsnek","message":"before `evaluate` isn't `y` undefined","date":"2018-05-17T18:53:18.489Z","type":"message"}
{"nick":"bradleymeck","message":"yes, but not in a TDZ","date":"2018-05-17T18:53:26.481Z","type":"message"}
{"nick":"devsnek","message":"so i should be able to call `z` after instantiate","date":"2018-05-17T18:54:02.191Z","type":"message"}
{"nick":"bradleymeck","message":"yes","date":"2018-05-17T18:54:19.286Z","type":"message"}
{"nick":"bradleymeck","message":"and it lets you \"inject\" values etc","date":"2018-05-17T18:54:26.238Z","type":"message"}
{"nick":"bradleymeck","message":"function replace(_) {z = _;} export function z(_) {replace(_);}","date":"2018-05-17T18:54:27.793Z","type":"message"}
{"nick":"bradleymeck","message":"would replace the value of the exported binding `z` when you call `z(...)`","date":"2018-05-17T18:54:42.946Z","type":"message"}
{"nick":"devsnek","message":"we can make createDynamicModule only use a single module instance i think","date":"2018-05-17T18:54:44.865Z","type":"message"}
{"nick":"devsnek","message":"if this is true","date":"2018-05-17T18:54:50.932Z","type":"message"}
{"nick":"devsnek","message":"well i believe you","date":"2018-05-17T18:54:56.056Z","type":"message"}
{"nick":"bradleymeck","message":"I don't think so","date":"2018-05-17T18:54:56.810Z","type":"message"}
{"nick":"devsnek","message":"right now we have two to expose `setExecutor`","date":"2018-05-17T18:55:21.295Z","type":"message"}
{"nick":"devsnek","message":"and `reflect` i suppose but we don't need that until after regular evaluation anyway","date":"2018-05-17T18:55:46.244Z","type":"message"}
{"nick":"bradleymeck","message":"the problem with this approach is you have to have at least 1 binding to do the replacement on","date":"2018-05-17T18:56:05.883Z","type":"message"}
{"nick":"bradleymeck","message":"the way it is written is hideous but lets you have no extra bindings put onto your module","date":"2018-05-17T18:56:32.454Z","type":"message"}
{"nick":"devsnek","message":"hmm true","date":"2018-05-17T18:56:47.044Z","type":"message"}
{"nick":"bradleymeck","message":"if v8 wants to let us do \"private\" exports, maybe we could?","date":"2018-05-17T18:57:35.944Z","type":"message"}
{"nick":"devsnek","message":"somehow i can't see v8 being very excited about that","date":"2018-05-17T18:57:48.467Z","type":"message"}
{"nick":"bradleymeck","message":"probably not","date":"2018-05-17T18:58:00.897Z","type":"message"}
{"nick":"devsnek","message":"i'll open a bug about var/function stuff though","date":"2018-05-17T18:58:18.561Z","type":"message"}
{"nick":"devsnek","message":"hmm v8 made an interesting change where background tasks aren't isolate specific anymore","date":"2018-05-17T19:24:08.752Z","type":"message"}
{"nick":"howdoi","reason":"Quit: Connection closed for inactivity","date":"2018-05-17T19:28:04.105Z","type":"quit"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-17T19:30:09.238Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-17T19:45:42.023Z","type":"join"}
{"nick":"apapirovski","reason":"Client Quit","date":"2018-05-17T19:46:25.241Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-17T20:17:59.001Z","type":"join"}
{"nick":"marthinal","reason":"Ping timeout: 260 seconds","date":"2018-05-17T20:22:49.820Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2018-05-17T20:40:05.368Z","type":"quit"}
{"nick":"bradleymeck","message":"devsnek: i realize i completely forgot that we now have `import.meta` and can use that to replace things so that only 1 module is used during creating a dynamic module facade","date":"2018-05-17T22:53:37.571Z","type":"message"}
{"nick":"bradleymeck","message":"devsnek: i can take that on tomorrow afternoon, haven't done much code lately so it might be nice for a change","date":"2018-05-17T22:55:34.103Z","type":"message"}
{"nick":"d3r3k","reason":"Quit: Connection closed for inactivity","date":"2018-05-17T23:09:29.470Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-17T23:38:37.046Z","type":"join"}
{"nick":"devsnek","message":"bradleymeck: sounds good :D","date":"2018-05-17T23:41:56.817Z","type":"message"}
{"nick":"devsnek","message":"actually hmm we don't expose import.meta","date":"2018-05-17T23:42:10.814Z","type":"message"}
{"nick":"devsnek","message":"in the way you want","date":"2018-05-17T23:42:13.765Z","type":"message"}
{"nick":"devsnek","message":"i really wish we did","date":"2018-05-17T23:42:20.778Z","type":"message"}
{"nick":"bradleymeck","message":"i'll make it work","date":"2018-05-17T23:42:21.712Z","type":"message"}
{"nick":"devsnek","message":"can i make a suggestion","date":"2018-05-17T23:42:27.576Z","type":"message"}
{"nick":"bradleymeck","message":"sure","date":"2018-05-17T23:42:30.661Z","type":"message"}
{"nick":"devsnek","message":"actually wait you're just messing with module wrap nvm","date":"2018-05-17T23:42:46.406Z","type":"message"}
{"nick":"marthinal","reason":"Ping timeout: 240 seconds","date":"2018-05-17T23:42:57.795Z","type":"quit"}
{"nick":"devsnek","message":"i was gonna suggest exposing import.meta as a property on vm.Module","date":"2018-05-17T23:43:10.374Z","type":"message"}
{"nick":"devsnek","message":"anyway i'm glad you thought of that heh","date":"2018-05-17T23:43:54.615Z","type":"message"}
{"nick":"bradleymeck","message":"can we track as it updates?","date":"2018-05-17T23:43:57.779Z","type":"message"}
{"nick":"bradleymeck","action":"checks v8.h","date":"2018-05-17T23:44:05.088Z","type":"action"}
{"nick":"devsnek","message":"iirc its a callback you register on the isolate","date":"2018-05-17T23:44:15.334Z","type":"message"}
{"nick":"devsnek","message":"i'm not sure if it fires for all modules or only ones that access import.meta","date":"2018-05-17T23:44:43.546Z","type":"message"}
{"nick":"bradleymeck","message":"yea, but if we expose it on vm.Module I don't think we can stay in sync","date":"2018-05-17T23:44:43.880Z","type":"message"}
{"nick":"devsnek","message":"or when it fires","date":"2018-05-17T23:44:46.545Z","type":"message"}
{"nick":"devsnek","message":"ye","date":"2018-05-17T23:44:47.564Z","type":"message"}
{"nick":"bradleymeck","message":"since `import.meta = 1` doesn't look to have a hook?","date":"2018-05-17T23:44:56.592Z","type":"message"}
{"nick":"devsnek","message":"you can assign to import.meta directly?","date":"2018-05-17T23:45:19.756Z","type":"message"}
{"nick":"devsnek","message":"i don't think thats valid syntax","date":"2018-05-17T23:46:08.462Z","type":"message"}
{"nick":"bradleymeck","message":"ah, you can't. nm","date":"2018-05-17T23:46:37.395Z","type":"message"}
{"nick":"devsnek","message":"i look forward to seeing what you come up with","date":"2018-05-17T23:47:20.499Z","type":"message"}
{"nick":"bradleymeck","message":"meh, it works fine since dynamic modules don't actually get to put code into the source text","date":"2018-05-17T23:48:00.316Z","type":"message"}
{"nick":"bradleymeck","message":"i was more thinking about vm.Module","date":"2018-05-17T23:48:15.441Z","type":"message"}
{"nick":"bradleymeck","message":"it would have been a problem if `import.meta` could be assigned to","date":"2018-05-17T23:48:25.238Z","type":"message"}
{"nick":"bradleymeck","message":"right now we could safely attach it","date":"2018-05-17T23:48:30.671Z","type":"message"}
{"nick":"bradleymeck","message":"dunno if it is super useful but also don't see a real reason to hide it","date":"2018-05-17T23:48:44.360Z","type":"message"}
{"nick":"devsnek","message":"import.meta.__SECRET_NODE_FUNCTION_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","date":"2018-05-17T23:48:51.934Z","type":"message"}
{"nick":"bradleymeck","message":"vm.Module is a power tool and people can just manually attach it","date":"2018-05-17T23:48:56.114Z","type":"message"}
{"nick":"bradleymeck","message":"that would be funny","date":"2018-05-17T23:49:15.195Z","type":"message"}
{"nick":"devsnek","message":"right?","date":"2018-05-17T23:49:19.042Z","type":"message"}
{"nick":"bradleymeck","message":"vm.Module#meta seems fine","date":"2018-05-17T23:49:48.356Z","type":"message"}
{"nick":"bradleymeck","message":"you can also be sneakier","date":"2018-05-17T23:49:52.686Z","type":"message"}
{"nick":"bradleymeck","message":"attach a prototype and push things around","date":"2018-05-17T23:50:01.768Z","type":"message"}
{"nick":"bradleymeck","message":"or set it to be a proxy because yolo","date":"2018-05-17T23:50:08.685Z","type":"message"}
{"nick":"devsnek","message":"😓","date":"2018-05-17T23:50:18.642Z","type":"message"}
{"nick":"bradleymeck","message":"look at one point I was changing the global object to be a proxy to test things","date":"2018-05-17T23:51:01.869Z","type":"message"}
{"nick":"bradleymeck","message":"and that was ... buggy","date":"2018-05-17T23:51:11.531Z","type":"message"}
{"nick":"devsnek","message":"sounds like a normal day in v8 to me","date":"2018-05-17T23:51:19.862Z","type":"message"}
{"nick":"bradleymeck","message":"this is probably fine","date":"2018-05-17T23:51:20.048Z","type":"message"}
{"nick":"devsnek","message":"isn't chrome's window implemented as a weird proxy thing","date":"2018-05-17T23:51:51.210Z","type":"message"}
{"nick":"bradleymeck","message":"yes","date":"2018-05-17T23:51:59.540Z","type":"message"}
{"nick":"bradleymeck","message":"the global proxy vs the global object is a complex topic that i don't fully understand","date":"2018-05-17T23:52:18.592Z","type":"message"}
{"nick":"bradleymeck","message":"node uses the global object which is JS spec based","date":"2018-05-17T23:52:32.224Z","type":"message"}
{"nick":"bradleymeck","message":"web wraps in a proxy","date":"2018-05-17T23:52:36.694Z","type":"message"}
{"nick":"bradleymeck","message":"but not a JS proxy","date":"2018-05-17T23:52:41.008Z","type":"message"}
{"nick":"devsnek","message":"fun stuff","date":"2018-05-17T23:53:00.216Z","type":"message"}
