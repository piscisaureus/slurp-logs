{"nick":"dbevenius","date":"2019-01-14T00:04:59.230Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-01-14T00:09:15.063Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T00:28:59.126Z","type":"join"}
{"nick":"AtumT","reason":"Quit: AtumT","date":"2019-01-14T00:30:32.477Z","type":"quit"}
{"nick":"dbevenius","reason":"Ping timeout: 268 seconds","date":"2019-01-14T00:33:59.862Z","type":"quit"}
{"nick":"zeds","date":"2019-01-14T01:45:40.229Z","type":"join"}
{"nick":"dbevenius","date":"2019-01-14T01:46:05.159Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 258 seconds","date":"2019-01-14T01:50:38.127Z","type":"quit"}
{"nick":"zeds","date":"2019-01-14T01:58:03.206Z","type":"part"}
{"nick":"dbevenius","date":"2019-01-14T02:26:01.665Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 244 seconds","date":"2019-01-14T02:30:07.350Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T02:45:02.190Z","type":"join"}
{"nick":"antsmartian","date":"2019-01-14T02:45:16.535Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-01-14T02:49:12.065Z","type":"quit"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-01-14T05:02:46.332Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T05:14:46.818Z","type":"join"}
{"nick":"dbeveniu_","date":"2019-01-14T05:17:45.164Z","type":"join"}
{"nick":"dbevenius","reason":"Read error: Connection reset by peer","date":"2019-01-14T05:17:45.566Z","type":"quit"}
{"nick":"antsmartian","date":"2019-01-14T05:21:18.532Z","type":"join"}
{"nick":"wawasho`","date":"2019-01-14T05:56:35.050Z","type":"part"}
{"nick":"dreampillow","date":"2019-01-14T06:02:44.010Z","type":"join"}
{"nick":"dreampillow","new_nick":"wawasho","date":"2019-01-14T06:04:47.226Z","type":"nick"}
{"nick":"lpin","date":"2019-01-14T06:13:48.441Z","type":"join"}
{"nick":"delusional_trogl","date":"2019-01-14T06:16:01.688Z","type":"join"}
{"nick":"dbeveniu_","reason":"Remote host closed the connection","date":"2019-01-14T06:16:04.038Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T06:17:03.497Z","type":"join"}
{"nick":"al-damiri","reason":"Quit: Connection closed for inactivity","date":"2019-01-14T06:34:32.317Z","type":"quit"}
{"nick":"delusional_trogl","reason":"Ping timeout: 256 seconds","date":"2019-01-14T07:23:53.245Z","type":"quit"}
{"nick":"antsmartian","reason":"Remote host closed the connection","date":"2019-01-14T07:26:59.859Z","type":"quit"}
{"nick":"howdoi","date":"2019-01-14T09:13:46.586Z","type":"join"}
{"nick":"mgol","date":"2019-01-14T10:08:40.735Z","type":"join"}
{"nick":"lundibundi","date":"2019-01-14T10:15:16.423Z","type":"join"}
{"nick":"seishun","date":"2019-01-14T10:25:25.346Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 246 seconds","date":"2019-01-14T10:46:22.296Z","type":"quit"}
{"nick":"lundibundi","date":"2019-01-14T11:01:58.424Z","type":"join"}
{"nick":"gamelaster","date":"2019-01-14T11:06:49.970Z","type":"join"}
{"nick":"seishun","reason":"Ping timeout: 268 seconds","date":"2019-01-14T11:27:34.185Z","type":"quit"}
{"nick":"seishun","date":"2019-01-14T12:10:01.356Z","type":"join"}
{"nick":"gamelaster","reason":"Ping timeout: 250 seconds","date":"2019-01-14T12:22:10.890Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 272 seconds","date":"2019-01-14T13:37:34.919Z","type":"quit"}
{"nick":"seishun","date":"2019-01-14T13:43:35.578Z","type":"join"}
{"nick":"bradleymeck","message":"anyone with a working windows machine around? can they check why https://github.com/nodejs/node/pull/23834 is freaking out (change test-policy-integrity.js spawn to use stdio:'inherit' instead of 'pipe' and it should give info)","date":"2019-01-14T14:36:22.835Z","type":"message"}
{"nick":"al-damiri","date":"2019-01-14T14:40:42.779Z","type":"join"}
{"nick":"rtn","reason":"Quit: leaving","date":"2019-01-14T15:03:32.761Z","type":"quit"}
{"nick":"jcovingt","date":"2019-01-14T15:25:55.541Z","type":"join"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-01-14T15:40:10.240Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T15:50:41.120Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-01-14T15:55:28.410Z","type":"quit"}
{"nick":"jcovingt","reason":"Remote host closed the connection","date":"2019-01-14T15:59:40.745Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T16:06:52.250Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 244 seconds","date":"2019-01-14T16:09:33.353Z","type":"quit"}
{"nick":"dbevenius","reason":"Ping timeout: 272 seconds","date":"2019-01-14T16:11:28.797Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T16:27:34.413Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-01-14T16:31:49.324Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T16:47:55.523Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 258 seconds","date":"2019-01-14T16:52:37.090Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T17:05:40.436Z","type":"join"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-01-14T17:09:04.567Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T17:09:25.181Z","type":"join"}
{"nick":"howdoi","reason":"Quit: Connection closed for inactivity","date":"2019-01-14T17:13:41.267Z","type":"quit"}
{"nick":"AtumT","date":"2019-01-14T17:43:40.208Z","type":"join"}
{"nick":"jcovingt","date":"2019-01-14T18:26:45.321Z","type":"join"}
{"nick":"jcovingt","reason":"Remote host closed the connection","date":"2019-01-14T18:32:54.760Z","type":"quit"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2019-01-14T18:48:05.462Z","type":"quit"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-01-14T18:49:06.599Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T18:58:40.511Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 245 seconds","date":"2019-01-14T19:03:23.355Z","type":"quit"}
{"nick":"howdoi","date":"2019-01-14T19:06:29.019Z","type":"join"}
{"nick":"dbevenius","date":"2019-01-14T19:10:38.822Z","type":"join"}
{"nick":"mgol","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2019-01-14T19:10:38.929Z","type":"quit"}
{"nick":"lundibundi","date":"2019-01-14T19:10:41.278Z","type":"join"}
{"nick":"gamelaster","date":"2019-01-14T19:46:45.223Z","type":"join"}
{"nick":"mgol","date":"2019-01-14T20:06:35.472Z","type":"join"}
{"nick":"lundibundi","reason":"Ping timeout: 258 seconds","date":"2019-01-14T20:16:10.275Z","type":"quit"}
{"nick":"damianrivas","date":"2019-01-14T20:26:38.580Z","type":"join"}
{"nick":"damianrivas","message":"Hello","date":"2019-01-14T20:30:51.969Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 250 seconds","date":"2019-01-14T20:32:16.840Z","type":"quit"}
{"nick":"seishun","date":"2019-01-14T20:47:18.977Z","type":"join"}
{"nick":"bradleymeck","message":"hehe tracing taint shows all sorts of fun usages","date":"2019-01-14T20:48:59.450Z","type":"message"}
{"nick":"seishun","reason":"Ping timeout: 258 seconds","date":"2019-01-14T20:53:21.130Z","type":"quit"}
{"nick":"dbevenius","reason":"Remote host closed the connection","date":"2019-01-14T20:58:12.702Z","type":"quit"}
{"nick":"lundibundi","date":"2019-01-14T21:04:02.555Z","type":"join"}
{"nick":"indutny_","date":"2019-01-14T21:04:51.847Z","type":"join"}
{"nick":"emilbayes_","date":"2019-01-14T21:05:12.747Z","type":"join"}
{"nick":"emilbayes","reason":"Ping timeout: 268 seconds","date":"2019-01-14T21:11:38.478Z","type":"quit"}
{"nick":"indutny","reason":"Ping timeout: 268 seconds","date":"2019-01-14T21:11:45.118Z","type":"quit"}
{"nick":"indutny_","new_nick":"indutny","date":"2019-01-14T21:11:45.535Z","type":"nick"}
{"nick":"emilbayes_","new_nick":"emilbayes","date":"2019-01-14T21:11:45.605Z","type":"nick"}
{"nick":"bradleymeck","message":"136 taintable points in `require('internal/url')`...","date":"2019-01-14T21:22:22.965Z","type":"message"}
{"nick":"seishun","date":"2019-01-14T21:47:48.006Z","type":"join"}
{"nick":"dbevenius","date":"2019-01-14T21:55:46.220Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 268 seconds","date":"2019-01-14T22:00:53.172Z","type":"quit"}
{"nick":"dbevenius","date":"2019-01-14T22:06:58.095Z","type":"join"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-01-14T22:11:12.020Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 258 seconds","date":"2019-01-14T22:13:51.255Z","type":"quit"}
{"nick":"zsoc","reason":"Disconnected by services","date":"2019-01-14T22:20:13.585Z","type":"quit"}
{"nick":"zsocw","date":"2019-01-14T22:20:13.759Z","type":"join"}
{"nick":"joyee","message":"Is it me or is it just funny to read worker code that uses the process object.....","date":"2019-01-14T22:32:50.188Z","type":"message"}
{"nick":"joyee","message":"It’s makes much more sense to mentally s/process/worker/ (and then it becomes obvious that some stuff should not be there in the first place)","date":"2019-01-14T22:35:19.359Z","type":"message"}
{"nick":"bradleymeck","message":"joyee: I feel that way about a lot of stuff in workers, but I just strip them down to be WebWorker APIs when I use them","date":"2019-01-14T22:36:22.813Z","type":"message"}
{"nick":"dbevenius","date":"2019-01-14T22:37:54.090Z","type":"join"}
{"nick":"joyee","message":"Or maybe they should be process.currentThread.something (not proposing adding another thing to process)","date":"2019-01-14T22:40:27.162Z","type":"message"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-01-14T22:42:21.017Z","type":"quit"}
{"nick":"damianrivas","reason":"Ping timeout: 256 seconds","date":"2019-01-14T22:49:15.231Z","type":"quit"}
{"nick":"AtumT","reason":"Quit: AtumT","date":"2019-01-14T22:55:50.790Z","type":"quit"}
{"nick":"mgol","reason":"Ping timeout: 244 seconds","date":"2019-01-14T23:04:26.353Z","type":"quit"}
{"nick":"bradleymeck","message":"joyee: mmm trying to figure out how to get loaders.js to not use the taintable form of Map/WeakMap but ordering seems hard","date":"2019-01-14T23:15:42.985Z","type":"message"}
{"nick":"bradleymeck","message":"i'm thinking I'd have to prepopulate `NativeModule.map` with `internal/safe_globals`","date":"2019-01-14T23:16:19.423Z","type":"message"}
{"nick":"joyee","message":"bradleymeck: currently the issue is safe_globals is itself a NativeModule","date":"2019-01-14T23:17:01.514Z","type":"message"}
{"nick":"bradleymeck","message":"i'm fine hoisting it to not be a real module","date":"2019-01-14T23:17:31.765Z","type":"message"}
{"nick":"joyee","message":"an easy way out is to precompile it and pass it to the native modules lexicallt","date":"2019-01-14T23:17:48.344Z","type":"message"}
{"nick":"bradleymeck","message":"i still have to shove it somewhere for internal modules to grab","date":"2019-01-14T23:17:50.345Z","type":"message"}
{"nick":"bradleymeck","message":"joyee: we cannot since prototypes","date":"2019-01-14T23:18:04.518Z","type":"message"}
{"nick":"joyee","message":"bradleymeck: prototypes?","date":"2019-01-14T23:18:24.548Z","type":"message"}
{"nick":"bradleymeck","message":"x.hasOwnProperty is pulled off Object.prototype","date":"2019-01-14T23:18:45.801Z","type":"message"}
{"nick":"bradleymeck","message":"no clear way to know for all possible props if we intend to use the own prop or the intrinsic one from JS lang","date":"2019-01-14T23:19:08.417Z","type":"message"}
{"nick":"bradleymeck","message":"we can only really statically detect constructors","date":"2019-01-14T23:19:19.494Z","type":"message"}
{"nick":"bradleymeck","message":"and we don't want to leak those to userland","date":"2019-01-14T23:19:27.325Z","type":"message"}
{"nick":"joyee","message":"bradleymeck: I don’t follow, what does that have anything to do with loaders.js?","date":"2019-01-14T23:20:01.998Z","type":"message"}
{"nick":"bradleymeck","message":"i'm just saying we cannot do a source transform to precompile","date":"2019-01-14T23:20:16.692Z","type":"message"}
{"nick":"bradleymeck","message":"i might be misunderstanding something","date":"2019-01-14T23:20:38.412Z","type":"message"}
{"nick":"joyee","message":"I meant compiling safe_globals before loaders.js, not transpling","date":"2019-01-14T23:20:54.166Z","type":"message"}
{"nick":"bradleymeck","message":"why not have loaders.js compile it?","date":"2019-01-14T23:21:12.711Z","type":"message"}
{"nick":"bradleymeck","message":"and then prepopulate the map","date":"2019-01-14T23:21:19.851Z","type":"message"}
{"nick":"joyee","message":"Because it’s a native module","date":"2019-01-14T23:21:26.754Z","type":"message"}
{"nick":"bradleymeck","message":"i don't see the problem","date":"2019-01-14T23:22:16.829Z","type":"message"}
{"nick":"bradleymeck","message":"we do a require of another native module in loaders.js for 'internal/process/coverage'","date":"2019-01-14T23:22:51.320Z","type":"message"}
{"nick":"mgol","date":"2019-01-14T23:22:51.494Z","type":"join"}
{"nick":"joyee","message":"The map is an id => native module map","date":"2019-01-14T23:22:55.340Z","type":"message"}
{"nick":"bradleymeck","message":"sure","date":"2019-01-14T23:22:59.643Z","type":"message"}
{"nick":"joyee","message":"So how do you fill the map if the map itself is the result of compiling a native module?","date":"2019-01-14T23:23:40.818Z","type":"message"}
{"nick":"bradleymeck","message":"so we `NativeModule.map = new SafeMap([['internal/safe_globals', safeGlobals]]);`","date":"2019-01-14T23:23:42.080Z","type":"message"}
{"nick":"bradleymeck","message":"the map is only used as a cache","date":"2019-01-14T23:23:53.301Z","type":"message"}
{"nick":"bradleymeck","message":"new NativeModule is how you get a ref to a module","date":"2019-01-14T23:24:11.994Z","type":"message"}
{"nick":"gamelaster","reason":"Ping timeout: 258 seconds","date":"2019-01-14T23:24:46.264Z","type":"quit"}
{"nick":"joyee","message":"We are talking abut the same thing - I am taking about how you get that safeGlobals","date":"2019-01-14T23:24:51.091Z","type":"message"}
{"nick":"joyee","message":"By compiling the file first (but the file should not be a native module)","date":"2019-01-14T23:25:23.252Z","type":"message"}
{"nick":"joyee","message":"Should not be compiled in the C++ later as a native module, so to speak","date":"2019-01-14T23:25:55.644Z","type":"message"}
{"nick":"joyee","message":"s/later/layer/","date":"2019-01-14T23:26:29.569Z","type":"message"}
{"nick":"joyee","message":"So loaders.js cannot compile it, or, specifically you can’t compile it in JS, it has to be driven by C++ because every machinery you have in the JS land to compile things do not exist yet in loaders.js","date":"2019-01-14T23:30:52.547Z","type":"message"}
{"nick":"noname__","reason":"Quit: Leaving","date":"2019-01-14T23:32:06.382Z","type":"quit"}
{"nick":"bradleymeck","message":"joyee: I have it running with my code above","date":"2019-01-14T23:33:48.521Z","type":"message"}
{"nick":"bradleymeck","message":"in JS","date":"2019-01-14T23:33:52.907Z","type":"message"}
{"nick":"bradleymeck","message":"i still don't understand why we need C++","date":"2019-01-14T23:34:48.507Z","type":"message"}
{"nick":"bradleymeck","message":"https://gist.github.com/bmeck/3f5c6ecb2751ebc7850ad9ca19b132c7#file-modified-js-L320-L334","date":"2019-01-14T23:35:49.948Z","type":"message"}
{"nick":"dbevenius","date":"2019-01-14T23:36:46.053Z","type":"join"}
{"nick":"joyee","message":"Oh, I see, you are invoking the constructor and use mod.compile","date":"2019-01-14T23:38:41.794Z","type":"message"}
{"nick":"joyee","message":"There is a footgun - the require function accessible in safe_globals is bogus","date":"2019-01-14T23:39:20.750Z","type":"message"}
{"nick":"dbevenius","reason":"Ping timeout: 246 seconds","date":"2019-01-14T23:41:09.020Z","type":"quit"}
{"nick":"bradleymeck","message":"safe_globals should never require other modules, we could just document it","date":"2019-01-14T23:41:52.911Z","type":"message"}
{"nick":"bradleymeck","message":"I really don't want to move it to C++","date":"2019-01-14T23:41:59.574Z","type":"message"}
{"nick":"bradleymeck","message":"down to 95 leaks and safe_globals keeps growing","date":"2019-01-14T23:42:50.377Z","type":"message"}
{"nick":"lundibundi","reason":"Ping timeout: 250 seconds","date":"2019-01-14T23:43:48.468Z","type":"quit"}
{"nick":"joyee","message":"Why? Moving it to C++ makes it possible to specialize the compilation","date":"2019-01-14T23:43:59.133Z","type":"message"}
{"nick":"joyee","message":"Maybe it’s because I see every file under lib with a wrapper applied in my brain and it makes my head hurts to see bogus parameters","date":"2019-01-14T23:46:55.148Z","type":"message"}
{"nick":"bradleymeck","message":"moving it to C++ moves it out of snapshot if I'm not mistaken","date":"2019-01-14T23:48:41.005Z","type":"message"}
{"nick":"bradleymeck","message":"also the logic to freeze things is... not pretty in C++","date":"2019-01-14T23:49:01.172Z","type":"message"}
{"nick":"bradleymeck","message":"you would need to do some seriously hard to read stuff just to get it to work","date":"2019-01-14T23:49:18.911Z","type":"message"}
{"nick":"bradleymeck","message":"for little benefit that I can tell","date":"2019-01-14T23:49:27.270Z","type":"message"}
{"nick":"joyee","message":"That makes it easier to snapshot, if anything","date":"2019-01-14T23:49:31.066Z","type":"message"}
{"nick":"bradleymeck","message":"why/how?","date":"2019-01-14T23:49:46.469Z","type":"message"}
{"nick":"joyee","message":"I am talking about the compilation of the file in C++, not porting the file to C++","date":"2019-01-14T23:50:04.008Z","type":"message"}
{"nick":"joyee","message":"Also snapshot is for the heap - that is the execution of the code, not the code or the function itself, so even porting the file to C++ does not affect that anyways","date":"2019-01-14T23:53:13.034Z","type":"message"}
{"nick":"mgol","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2019-01-14T23:53:41.859Z","type":"quit"}
{"nick":"lundibundi","date":"2019-01-14T23:54:56.281Z","type":"join"}
{"nick":"dbevenius","date":"2019-01-14T23:56:51.176Z","type":"join"}
