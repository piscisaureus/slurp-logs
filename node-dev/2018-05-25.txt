{"nick":"BridgeAR","reason":"Ping timeout: 245 seconds","date":"2018-05-25T00:44:50.496Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T00:48:45.203Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 268 seconds","date":"2018-05-25T00:53:50.797Z","type":"quit"}
{"nick":"al-damiri","reason":"Quit: Connection closed for inactivity","date":"2018-05-25T02:05:04.067Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T02:26:47.384Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 252 seconds","date":"2018-05-25T02:31:37.018Z","type":"quit"}
{"nick":"howdoi","date":"2018-05-25T03:16:08.973Z","type":"join"}
{"nick":"TimothyGu","reason":"Quit: WeeChat 1.6","date":"2018-05-25T03:33:23.680Z","type":"quit"}
{"nick":"TimothyGu","date":"2018-05-25T03:37:46.568Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T03:40:15.523Z","type":"join"}
{"nick":"qard","date":"2018-05-25T03:43:04.140Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T04:08:58.423Z","type":"quit"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 268 seconds","date":"2018-05-25T04:11:10.735Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T04:16:48.472Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T04:21:17.737Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T04:28:49.848Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T04:44:57.095Z","type":"quit"}
{"nick":"m00dy","date":"2018-05-25T04:45:02.844Z","type":"join"}
{"nick":"m00dy","reason":"Read error: No route to host","date":"2018-05-25T04:45:43.218Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T04:58:43.188Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T05:05:26.774Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 248 seconds","date":"2018-05-25T05:10:25.439Z","type":"quit"}
{"nick":"lpin","date":"2018-05-25T05:16:05.301Z","type":"join"}
{"nick":"marthinal","date":"2018-05-25T05:19:29.331Z","type":"quit"}
{"nick":"qard","reason":"Quit: qard","date":"2018-05-25T05:21:18.320Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T05:27:05.989Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T05:47:08.568Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 256 seconds","date":"2018-05-25T05:51:53.370Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T06:07:45.766Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 260 seconds","date":"2018-05-25T06:12:10.115Z","type":"quit"}
{"nick":"seishun","date":"2018-05-25T06:25:54.608Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T06:28:21.397Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 252 seconds","date":"2018-05-25T06:32:52.923Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2018-05-25T07:23:00.733Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-05-25T07:26:31.148Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T07:30:18.501Z","type":"join"}
{"nick":"ChALkeR","reason":"Remote host closed the connection","date":"2018-05-25T07:31:51.589Z","type":"quit"}
{"nick":"apapirovski","reason":"Ping timeout: 252 seconds","date":"2018-05-25T07:34:50.898Z","type":"quit"}
{"nick":"Shailesh","date":"2018-05-25T07:40:52.984Z","type":"join"}
{"nick":"Shailesh","reason":"Quit: Page closed","date":"2018-05-25T07:47:20.524Z","type":"quit"}
{"nick":"BridgeAR","date":"2018-05-25T08:44:07.006Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T09:01:05.649Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 245 seconds","date":"2018-05-25T09:05:37.326Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-05-25T10:25:17.030Z","type":"quit"}
{"nick":"mylesborins","date":"2018-05-25T10:25:47.624Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T10:59:11.573Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 265 seconds","date":"2018-05-25T11:03:53.434Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T11:28:14.812Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 240 seconds","date":"2018-05-25T11:32:27.807Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T11:44:34.610Z","type":"join"}
{"nick":"LJHarb","new_nick":"ljharb","date":"2018-05-25T12:02:53.258Z","type":"nick"}
{"nick":"gabrielschulhof","date":"2018-05-25T12:45:41.104Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-25T12:56:44.300Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T13:37:12.076Z","type":"join"}
{"nick":"STRML","reason":"Ping timeout: 256 seconds","date":"2018-05-25T14:24:43.544Z","type":"quit"}
{"nick":"STRML","date":"2018-05-25T14:27:19.527Z","type":"join"}
{"nick":"devsnek","message":"BridgeAR: i don't get your last comment","date":"2018-05-25T14:51:10.272Z","type":"message"}
{"nick":"BridgeAR","message":"I realized that :D","date":"2018-05-25T14:51:23.291Z","type":"message"}
{"nick":"devsnek","message":"heh","date":"2018-05-25T14:51:31.481Z","type":"message"}
{"nick":"BridgeAR","message":"Check ./lib/internal/vm/module.js:230","date":"2018-05-25T14:51:55.547Z","type":"message"}
{"nick":"devsnek","message":"oh those custom inspect functions","date":"2018-05-25T14:52:05.928Z","type":"message"}
{"nick":"BridgeAR","message":"This is the custom inspect function called before Object.keys is called","date":"2018-05-25T14:52:12.151Z","type":"message"}
{"nick":"BridgeAR","message":"So using that will work","date":"2018-05-25T14:52:21.337Z","type":"message"}
{"nick":"devsnek","message":"no","date":"2018-05-25T14:52:24.642Z","type":"message"}
{"nick":"devsnek","message":"the issue is the namespace object itself","date":"2018-05-25T14:52:32.122Z","type":"message"}
{"nick":"devsnek","message":"we don't even show the namespace in the vm.Module inspect function","date":"2018-05-25T14:52:42.355Z","type":"message"}
{"nick":"BridgeAR","message":"Let me recap what I see:","date":"2018-05-25T14:53:30.088Z","type":"message"}
{"nick":"BridgeAR","message":"You instantiate the namespace in line 196","date":"2018-05-25T14:53:44.391Z","type":"message"}
{"nick":"devsnek","message":"right","date":"2018-05-25T14:54:28.774Z","type":"message"}
{"nick":"BridgeAR","message":"That is then _somewhere_ inspected. That inspect call is then calling the custom inspect function in line 230","date":"2018-05-25T14:54:39.582Z","type":"message"}
{"nick":"BridgeAR","message":"From inside the regular util.inspect","date":"2018-05-25T14:54:52.851Z","type":"message"}
{"nick":"BridgeAR","message":"The custom inspect function now calls the regular util.inspect again on the namespace and fails","date":"2018-05-25T14:55:20.811Z","type":"message"}
{"nick":"devsnek","message":"i don't follow that","date":"2018-05-25T14:55:23.624Z","type":"message"}
{"nick":"BridgeAR","message":"Let me verify that right quick","date":"2018-05-25T14:55:41.957Z","type":"message"}
{"nick":"devsnek","message":"customInspectSymbol is on vm.Module","date":"2018-05-25T14:55:57.093Z","type":"message"}
{"nick":"devsnek","message":"i'm talking about vm.Module.namespace","date":"2018-05-25T14:56:02.958Z","type":"message"}
{"nick":"devsnek","message":"the object returned on 133","date":"2018-05-25T14:56:27.839Z","type":"message"}
{"nick":"ryzokuken","message":"devsnek APFS is case sensitive?","date":"2018-05-25T14:57:01.833Z","type":"message"}
{"nick":"devsnek","message":"it can be","date":"2018-05-25T14:57:08.541Z","type":"message"}
{"nick":"ryzokuken","message":"I always thought otherwise.","date":"2018-05-25T14:57:08.722Z","type":"message"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T14:57:25.193Z","type":"quit"}
{"nick":"devsnek","message":"both HFS and APFS can be case sensitive","date":"2018-05-25T14:57:31.867Z","type":"message"}
{"nick":"ryzokuken","message":"I mean, mine seems case insensitive, so I guess that's might be the default","date":"2018-05-25T14:57:33.381Z","type":"message"}
{"nick":"devsnek","message":"yeah it is","date":"2018-05-25T14:57:37.686Z","type":"message"}
{"nick":"devsnek","message":"you have to reformat to change it","date":"2018-05-25T14:57:43.903Z","type":"message"}
{"nick":"BridgeAR","message":"devsnek: right, we have to add a custom inspect function to the namespace on line 133","date":"2018-05-25T14:58:22.667Z","type":"message"}
{"nick":"devsnek","message":"nty","date":"2018-05-25T14:58:40.996Z","type":"message"}
{"nick":"devsnek","message":"thats not ours to touch","date":"2018-05-25T14:58:52.146Z","type":"message"}
{"nick":"apapirovski","date":"2018-05-25T14:59:14.827Z","type":"join"}
{"nick":"BridgeAR","message":"I guess I do not have enough inside into modules to judge on that","date":"2018-05-25T15:00:11.809Z","type":"message"}
{"nick":"BridgeAR","message":"But I am not a fan of having a lot of special handling in util.inspect specifically for this case","date":"2018-05-25T15:00:37.556Z","type":"message"}
{"nick":"devsnek","message":"try/catch isn't a slow path anymore","date":"2018-05-25T15:00:53.226Z","type":"message"}
{"nick":"devsnek","message":"i think its fine","date":"2018-05-25T15:00:55.395Z","type":"message"}
{"nick":"BridgeAR","message":"I know it is almost always fine to use it but it still has some impact","date":"2018-05-25T15:01:18.714Z","type":"message"}
{"nick":"devsnek","message":"util.inspect doesn't need insane perf","date":"2018-05-25T15:01:52.059Z","type":"message"}
{"nick":"BridgeAR","message":"If the benchmark comes out as having no impact at all, I am fine with it","date":"2018-05-25T15:01:56.606Z","type":"message"}
{"nick":"BridgeAR","message":"Well... that is actually not true at all","date":"2018-05-25T15:02:08.403Z","type":"message"}
{"nick":"devsnek","message":"why does util.inspect need to be insanely performant","date":"2018-05-25T15:02:23.972Z","type":"message"}
{"nick":"BridgeAR","message":"People always stumble over it because it is not insanely fast (even though it is actually quite fast)","date":"2018-05-25T15:02:33.260Z","type":"message"}
{"nick":"BridgeAR","message":"I do not talk about the average case where you only inspect small objects. I mean cases like the one where we reverted something else because npm broke because of a new default value","date":"2018-05-25T15:03:11.556Z","type":"message"}
{"nick":"devsnek","message":"npm shouldn't be logging insanely ginormous objects","date":"2018-05-25T15:03:59.258Z","type":"message"}
{"nick":"devsnek","message":"with default util.inspect anyway","date":"2018-05-25T15:04:16.954Z","type":"message"}
{"nick":"devsnek","message":"cuz thats not what its for","date":"2018-05-25T15:04:21.246Z","type":"message"}
{"nick":"BridgeAR","message":"But as long as it can be used like that we have to make sure it still works fine","date":"2018-05-25T15:04:42.694Z","type":"message"}
{"nick":"devsnek","message":"as long as we're talking about util.inspect perf","date":"2018-05-25T15:05:20.274Z","type":"message"}
{"nick":"BridgeAR","message":"And it also shows up in flame graphs in different applications because it is used where more frequently than you might think","date":"2018-05-25T15:05:21.539Z","type":"message"}
{"nick":"devsnek","message":"putting a timeout on it","date":"2018-05-25T15:05:23.339Z","type":"message"}
{"nick":"BridgeAR","message":"I did somewhat like that in https://github.com/nodejs/node/pull/19994","date":"2018-05-25T15:06:01.912Z","type":"message"}
{"nick":"devsnek","message":"i don't think thats how we should be going about this","date":"2018-05-25T15:06:13.774Z","type":"message"}
{"nick":"devsnek","message":"i was referencing your pr","date":"2018-05-25T15:06:26.196Z","type":"message"}
{"nick":"devsnek","message":"there's a lot of microopt to be found in util.inspect","date":"2018-05-25T15:07:37.334Z","type":"message"}
{"nick":"devsnek","message":"we should move more stuff to string concat","date":"2018-05-25T15:07:51.044Z","type":"message"}
{"nick":"BridgeAR","message":"I can not follow about the string concat","date":"2018-05-25T15:08:44.238Z","type":"message"}
{"nick":"devsnek","message":"we do a lot of operations with arrays and joining them","date":"2018-05-25T15:09:18.593Z","type":"message"}
{"nick":"devsnek","message":"when i was working on an http parser i found that is a huge slowdown","date":"2018-05-25T15:09:36.735Z","type":"message"}
{"nick":"BridgeAR","message":"That is indeed true. The problem is you do not really know about the correct indentation and stuff like that","date":"2018-05-25T15:10:37.557Z","type":"message"}
{"nick":"BridgeAR","message":"But maybe I'll have a look at that again","date":"2018-05-25T15:10:48.343Z","type":"message"}
{"nick":"devsnek","message":"another thing we could do is never use Object.keys","date":"2018-05-25T15:12:26.139Z","type":"message"}
{"nick":"BridgeAR","message":"Object.keys is necessary. While I actually asked the V8 team for a new function that will help in some cases","date":"2018-05-25T15:13:26.363Z","type":"message"}
{"nick":"BridgeAR","message":"And it is also the main performance pain point","date":"2018-05-25T15:13:42.017Z","type":"message"}
{"nick":"BridgeAR","message":"So even optimizing to only using strings will not help much currently with Object.keys","date":"2018-05-25T15:14:03.627Z","type":"message"}
{"nick":"BridgeAR","message":"*because of Object keys","date":"2018-05-25T15:14:09.549Z","type":"message"}
{"nick":"devsnek","message":"you don't have to use it","date":"2018-05-25T15:14:23.750Z","type":"message"}
{"nick":"BridgeAR","message":"You mean to use for..in instead?","date":"2018-05-25T15:14:53.352Z","type":"message"}
{"nick":"devsnek","message":"just always use getOwnPropertyDescriptors or getOwnPropertyNames","date":"2018-05-25T15:15:14.913Z","type":"message"}
{"nick":"BridgeAR","message":"Both are significantly slower","date":"2018-05-25T15:15:59.193Z","type":"message"}
{"nick":"BridgeAR","message":"I benchmarked using both (even though that is a while ago)","date":"2018-05-25T15:16:13.482Z","type":"message"}
{"nick":"devsnek","message":"well we grab the descriptors anyway","date":"2018-05-25T15:17:11.820Z","type":"message"}
{"nick":"BridgeAR","message":"I know","date":"2018-05-25T15:17:18.750Z","type":"message"}
{"nick":"devsnek","message":"i can't imagine that trade off is faster","date":"2018-05-25T15:17:20.462Z","type":"message"}
{"nick":"BridgeAR","message":"But not all","date":"2018-05-25T15:17:22.659Z","type":"message"}
{"nick":"al-damiri","date":"2018-05-25T15:18:55.133Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T15:40:54.316Z","type":"quit"}
