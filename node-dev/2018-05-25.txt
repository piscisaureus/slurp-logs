{"nick":"BridgeAR","reason":"Ping timeout: 245 seconds","date":"2018-05-25T00:44:50.496Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T00:48:45.203Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 268 seconds","date":"2018-05-25T00:53:50.797Z","type":"quit"}
{"nick":"al-damiri","reason":"Quit: Connection closed for inactivity","date":"2018-05-25T02:05:04.067Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T02:26:47.384Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 252 seconds","date":"2018-05-25T02:31:37.018Z","type":"quit"}
{"nick":"howdoi","date":"2018-05-25T03:16:08.973Z","type":"join"}
{"nick":"TimothyGu","reason":"Quit: WeeChat 1.6","date":"2018-05-25T03:33:23.680Z","type":"quit"}
{"nick":"TimothyGu","date":"2018-05-25T03:37:46.568Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T03:40:15.523Z","type":"join"}
{"nick":"qard","date":"2018-05-25T03:43:04.140Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T04:08:58.423Z","type":"quit"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 268 seconds","date":"2018-05-25T04:11:10.735Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T04:16:48.472Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T04:21:17.737Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T04:28:49.848Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T04:44:57.095Z","type":"quit"}
{"nick":"m00dy","date":"2018-05-25T04:45:02.844Z","type":"join"}
{"nick":"m00dy","reason":"Read error: No route to host","date":"2018-05-25T04:45:43.218Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T04:58:43.188Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T05:05:26.774Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 248 seconds","date":"2018-05-25T05:10:25.439Z","type":"quit"}
{"nick":"lpin","date":"2018-05-25T05:16:05.301Z","type":"join"}
{"nick":"marthinal","date":"2018-05-25T05:19:29.331Z","type":"quit"}
{"nick":"qard","reason":"Quit: qard","date":"2018-05-25T05:21:18.320Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T05:27:05.989Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T05:47:08.568Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 256 seconds","date":"2018-05-25T05:51:53.370Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T06:07:45.766Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 260 seconds","date":"2018-05-25T06:12:10.115Z","type":"quit"}
{"nick":"seishun","date":"2018-05-25T06:25:54.608Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T06:28:21.397Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 252 seconds","date":"2018-05-25T06:32:52.923Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 256 seconds","date":"2018-05-25T07:23:00.733Z","type":"quit"}
{"nick":"ChALkeR","date":"2018-05-25T07:26:31.148Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T07:30:18.501Z","type":"join"}
{"nick":"ChALkeR","reason":"Remote host closed the connection","date":"2018-05-25T07:31:51.589Z","type":"quit"}
{"nick":"apapirovski","reason":"Ping timeout: 252 seconds","date":"2018-05-25T07:34:50.898Z","type":"quit"}
{"nick":"Shailesh","date":"2018-05-25T07:40:52.984Z","type":"join"}
{"nick":"Shailesh","reason":"Quit: Page closed","date":"2018-05-25T07:47:20.524Z","type":"quit"}
{"nick":"BridgeAR","date":"2018-05-25T08:44:07.006Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T09:01:05.649Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 245 seconds","date":"2018-05-25T09:05:37.326Z","type":"quit"}
{"nick":"mylesborins","reason":"Quit: farewell for now","date":"2018-05-25T10:25:17.030Z","type":"quit"}
{"nick":"mylesborins","date":"2018-05-25T10:25:47.624Z","type":"join"}
{"nick":"apapirovski","date":"2018-05-25T10:59:11.573Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 265 seconds","date":"2018-05-25T11:03:53.434Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T11:28:14.812Z","type":"join"}
{"nick":"apapirovski","reason":"Ping timeout: 240 seconds","date":"2018-05-25T11:32:27.807Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T11:44:34.610Z","type":"join"}
{"nick":"LJHarb","new_nick":"ljharb","date":"2018-05-25T12:02:53.258Z","type":"nick"}
{"nick":"gabrielschulhof","date":"2018-05-25T12:45:41.104Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-25T12:56:44.300Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T13:37:12.076Z","type":"join"}
{"nick":"STRML","reason":"Ping timeout: 256 seconds","date":"2018-05-25T14:24:43.544Z","type":"quit"}
{"nick":"STRML","date":"2018-05-25T14:27:19.527Z","type":"join"}
{"nick":"devsnek","message":"BridgeAR: i don't get your last comment","date":"2018-05-25T14:51:10.272Z","type":"message"}
{"nick":"BridgeAR","message":"I realized that :D","date":"2018-05-25T14:51:23.291Z","type":"message"}
{"nick":"devsnek","message":"heh","date":"2018-05-25T14:51:31.481Z","type":"message"}
{"nick":"BridgeAR","message":"Check ./lib/internal/vm/module.js:230","date":"2018-05-25T14:51:55.547Z","type":"message"}
{"nick":"devsnek","message":"oh those custom inspect functions","date":"2018-05-25T14:52:05.928Z","type":"message"}
{"nick":"BridgeAR","message":"This is the custom inspect function called before Object.keys is called","date":"2018-05-25T14:52:12.151Z","type":"message"}
{"nick":"BridgeAR","message":"So using that will work","date":"2018-05-25T14:52:21.337Z","type":"message"}
{"nick":"devsnek","message":"no","date":"2018-05-25T14:52:24.642Z","type":"message"}
{"nick":"devsnek","message":"the issue is the namespace object itself","date":"2018-05-25T14:52:32.122Z","type":"message"}
{"nick":"devsnek","message":"we don't even show the namespace in the vm.Module inspect function","date":"2018-05-25T14:52:42.355Z","type":"message"}
{"nick":"BridgeAR","message":"Let me recap what I see:","date":"2018-05-25T14:53:30.088Z","type":"message"}
{"nick":"BridgeAR","message":"You instantiate the namespace in line 196","date":"2018-05-25T14:53:44.391Z","type":"message"}
{"nick":"devsnek","message":"right","date":"2018-05-25T14:54:28.774Z","type":"message"}
{"nick":"BridgeAR","message":"That is then _somewhere_ inspected. That inspect call is then calling the custom inspect function in line 230","date":"2018-05-25T14:54:39.582Z","type":"message"}
{"nick":"BridgeAR","message":"From inside the regular util.inspect","date":"2018-05-25T14:54:52.851Z","type":"message"}
{"nick":"BridgeAR","message":"The custom inspect function now calls the regular util.inspect again on the namespace and fails","date":"2018-05-25T14:55:20.811Z","type":"message"}
{"nick":"devsnek","message":"i don't follow that","date":"2018-05-25T14:55:23.624Z","type":"message"}
{"nick":"BridgeAR","message":"Let me verify that right quick","date":"2018-05-25T14:55:41.957Z","type":"message"}
{"nick":"devsnek","message":"customInspectSymbol is on vm.Module","date":"2018-05-25T14:55:57.093Z","type":"message"}
{"nick":"devsnek","message":"i'm talking about vm.Module.namespace","date":"2018-05-25T14:56:02.958Z","type":"message"}
{"nick":"devsnek","message":"the object returned on 133","date":"2018-05-25T14:56:27.839Z","type":"message"}
{"nick":"ryzokuken","message":"devsnek APFS is case sensitive?","date":"2018-05-25T14:57:01.833Z","type":"message"}
{"nick":"devsnek","message":"it can be","date":"2018-05-25T14:57:08.541Z","type":"message"}
{"nick":"ryzokuken","message":"I always thought otherwise.","date":"2018-05-25T14:57:08.722Z","type":"message"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T14:57:25.193Z","type":"quit"}
{"nick":"devsnek","message":"both HFS and APFS can be case sensitive","date":"2018-05-25T14:57:31.867Z","type":"message"}
{"nick":"ryzokuken","message":"I mean, mine seems case insensitive, so I guess that's might be the default","date":"2018-05-25T14:57:33.381Z","type":"message"}
{"nick":"devsnek","message":"yeah it is","date":"2018-05-25T14:57:37.686Z","type":"message"}
{"nick":"devsnek","message":"you have to reformat to change it","date":"2018-05-25T14:57:43.903Z","type":"message"}
{"nick":"BridgeAR","message":"devsnek: right, we have to add a custom inspect function to the namespace on line 133","date":"2018-05-25T14:58:22.667Z","type":"message"}
{"nick":"devsnek","message":"nty","date":"2018-05-25T14:58:40.996Z","type":"message"}
{"nick":"devsnek","message":"thats not ours to touch","date":"2018-05-25T14:58:52.146Z","type":"message"}
{"nick":"apapirovski","date":"2018-05-25T14:59:14.827Z","type":"join"}
{"nick":"BridgeAR","message":"I guess I do not have enough inside into modules to judge on that","date":"2018-05-25T15:00:11.809Z","type":"message"}
{"nick":"BridgeAR","message":"But I am not a fan of having a lot of special handling in util.inspect specifically for this case","date":"2018-05-25T15:00:37.556Z","type":"message"}
{"nick":"devsnek","message":"try/catch isn't a slow path anymore","date":"2018-05-25T15:00:53.226Z","type":"message"}
{"nick":"devsnek","message":"i think its fine","date":"2018-05-25T15:00:55.395Z","type":"message"}
{"nick":"BridgeAR","message":"I know it is almost always fine to use it but it still has some impact","date":"2018-05-25T15:01:18.714Z","type":"message"}
{"nick":"devsnek","message":"util.inspect doesn't need insane perf","date":"2018-05-25T15:01:52.059Z","type":"message"}
{"nick":"BridgeAR","message":"If the benchmark comes out as having no impact at all, I am fine with it","date":"2018-05-25T15:01:56.606Z","type":"message"}
{"nick":"BridgeAR","message":"Well... that is actually not true at all","date":"2018-05-25T15:02:08.403Z","type":"message"}
{"nick":"devsnek","message":"why does util.inspect need to be insanely performant","date":"2018-05-25T15:02:23.972Z","type":"message"}
{"nick":"BridgeAR","message":"People always stumble over it because it is not insanely fast (even though it is actually quite fast)","date":"2018-05-25T15:02:33.260Z","type":"message"}
{"nick":"BridgeAR","message":"I do not talk about the average case where you only inspect small objects. I mean cases like the one where we reverted something else because npm broke because of a new default value","date":"2018-05-25T15:03:11.556Z","type":"message"}
{"nick":"devsnek","message":"npm shouldn't be logging insanely ginormous objects","date":"2018-05-25T15:03:59.258Z","type":"message"}
{"nick":"devsnek","message":"with default util.inspect anyway","date":"2018-05-25T15:04:16.954Z","type":"message"}
{"nick":"devsnek","message":"cuz thats not what its for","date":"2018-05-25T15:04:21.246Z","type":"message"}
{"nick":"BridgeAR","message":"But as long as it can be used like that we have to make sure it still works fine","date":"2018-05-25T15:04:42.694Z","type":"message"}
{"nick":"devsnek","message":"as long as we're talking about util.inspect perf","date":"2018-05-25T15:05:20.274Z","type":"message"}
{"nick":"BridgeAR","message":"And it also shows up in flame graphs in different applications because it is used where more frequently than you might think","date":"2018-05-25T15:05:21.539Z","type":"message"}
{"nick":"devsnek","message":"putting a timeout on it","date":"2018-05-25T15:05:23.339Z","type":"message"}
{"nick":"BridgeAR","message":"I did somewhat like that in https://github.com/nodejs/node/pull/19994","date":"2018-05-25T15:06:01.912Z","type":"message"}
{"nick":"devsnek","message":"i don't think thats how we should be going about this","date":"2018-05-25T15:06:13.774Z","type":"message"}
{"nick":"devsnek","message":"i was referencing your pr","date":"2018-05-25T15:06:26.196Z","type":"message"}
{"nick":"devsnek","message":"there's a lot of microopt to be found in util.inspect","date":"2018-05-25T15:07:37.334Z","type":"message"}
{"nick":"devsnek","message":"we should move more stuff to string concat","date":"2018-05-25T15:07:51.044Z","type":"message"}
{"nick":"BridgeAR","message":"I can not follow about the string concat","date":"2018-05-25T15:08:44.238Z","type":"message"}
{"nick":"devsnek","message":"we do a lot of operations with arrays and joining them","date":"2018-05-25T15:09:18.593Z","type":"message"}
{"nick":"devsnek","message":"when i was working on an http parser i found that is a huge slowdown","date":"2018-05-25T15:09:36.735Z","type":"message"}
{"nick":"BridgeAR","message":"That is indeed true. The problem is you do not really know about the correct indentation and stuff like that","date":"2018-05-25T15:10:37.557Z","type":"message"}
{"nick":"BridgeAR","message":"But maybe I'll have a look at that again","date":"2018-05-25T15:10:48.343Z","type":"message"}
{"nick":"devsnek","message":"another thing we could do is never use Object.keys","date":"2018-05-25T15:12:26.139Z","type":"message"}
{"nick":"BridgeAR","message":"Object.keys is necessary. While I actually asked the V8 team for a new function that will help in some cases","date":"2018-05-25T15:13:26.363Z","type":"message"}
{"nick":"BridgeAR","message":"And it is also the main performance pain point","date":"2018-05-25T15:13:42.017Z","type":"message"}
{"nick":"BridgeAR","message":"So even optimizing to only using strings will not help much currently with Object.keys","date":"2018-05-25T15:14:03.627Z","type":"message"}
{"nick":"BridgeAR","message":"*because of Object keys","date":"2018-05-25T15:14:09.549Z","type":"message"}
{"nick":"devsnek","message":"you don't have to use it","date":"2018-05-25T15:14:23.750Z","type":"message"}
{"nick":"BridgeAR","message":"You mean to use for..in instead?","date":"2018-05-25T15:14:53.352Z","type":"message"}
{"nick":"devsnek","message":"just always use getOwnPropertyDescriptors or getOwnPropertyNames","date":"2018-05-25T15:15:14.913Z","type":"message"}
{"nick":"BridgeAR","message":"Both are significantly slower","date":"2018-05-25T15:15:59.193Z","type":"message"}
{"nick":"BridgeAR","message":"I benchmarked using both (even though that is a while ago)","date":"2018-05-25T15:16:13.482Z","type":"message"}
{"nick":"devsnek","message":"well we grab the descriptors anyway","date":"2018-05-25T15:17:11.820Z","type":"message"}
{"nick":"BridgeAR","message":"I know","date":"2018-05-25T15:17:18.750Z","type":"message"}
{"nick":"devsnek","message":"i can't imagine that trade off is faster","date":"2018-05-25T15:17:20.462Z","type":"message"}
{"nick":"BridgeAR","message":"But not all","date":"2018-05-25T15:17:22.659Z","type":"message"}
{"nick":"al-damiri","date":"2018-05-25T15:18:55.133Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T15:40:54.316Z","type":"quit"}
{"nick":"howdoi","reason":"Quit: Connection closed for inactivity","date":"2018-05-25T16:04:33.869Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T16:07:19.828Z","type":"join"}
{"nick":"seishun","date":"2018-05-25T16:16:16.762Z","type":"join"}
{"nick":"zeds","date":"2018-05-25T16:54:22.379Z","type":"join"}
{"nick":"apapirovski","reason":"Remote host closed the connection","date":"2018-05-25T17:00:46.305Z","type":"quit"}
{"nick":"apapirovski","date":"2018-05-25T17:01:19.780Z","type":"join"}
{"nick":"apapirov_","date":"2018-05-25T17:01:55.738Z","type":"join"}
{"nick":"apapirov_","reason":"Client Quit","date":"2018-05-25T17:02:28.592Z","type":"quit"}
{"nick":"apapirovski","reason":"Ping timeout: 256 seconds","date":"2018-05-25T17:06:06.724Z","type":"quit"}
{"nick":"mmarchini","message":"is there going to be possible to participate in the collabs summit remotely?","date":"2018-05-25T17:38:29.206Z","type":"message"}
{"nick":"devsnek","message":"mmarchini: it looks like its going to be ad-hoc","date":"2018-05-25T17:40:28.412Z","type":"message"}
{"nick":"devsnek","message":"i haven't seen anything official mentioned","date":"2018-05-25T17:40:47.168Z","type":"message"}
{"nick":"mmarchini","message":":(","date":"2018-05-25T17:40:53.510Z","type":"message"}
{"nick":"devsnek","message":"ikr","date":"2018-05-25T17:41:04.045Z","type":"message"}
{"nick":"devsnek","message":"BridgeAR: even if we wanted to add to the namespace (which i think would be bad) we can't","date":"2018-05-25T17:43:08.404Z","type":"message"}
{"nick":"devsnek","message":"they aren't extensible","date":"2018-05-25T17:43:11.926Z","type":"message"}
{"nick":"BridgeAR","message":"devsnek: I guess the context is about exported symbols like util.inspect.custom?","date":"2018-05-25T17:44:20.201Z","type":"message"}
{"nick":"devsnek","message":"oh i meant module namespace","date":"2018-05-25T17:44:43.163Z","type":"message"}
{"nick":"devsnek","message":"i'm talking about util.inspect","date":"2018-05-25T17:44:48.283Z","type":"message"}
{"nick":"devsnek","message":"er","date":"2018-05-25T17:44:51.073Z","type":"message"}
{"nick":"devsnek","message":"this is confusing","date":"2018-05-25T17:44:54.518Z","type":"message"}
{"nick":"devsnek","message":"i'm talking about what we were talking about before","date":"2018-05-25T17:45:01.868Z","type":"message"}
{"nick":"lpin","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-05-25T17:57:39.325Z","type":"quit"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-25T18:22:52.482Z","type":"quit"}
{"nick":"marthinal","date":"2018-05-25T18:23:54.157Z","type":"join"}
{"nick":"BridgeAR","message":"devsnek: I see. Well, the issue is considered a spec bug. So maybe it is resolved there at some point. Of course we first have to find a solution for this (the timing for implementing this seemed to be perfect...)","date":"2018-05-25T18:36:20.040Z","type":"message"}
{"nick":"devsnek","message":"i think my patch is fine for it","date":"2018-05-25T18:36:47.194Z","type":"message"}
{"nick":"ljharb","message":"is this the same thing about TDZ'd module namespace objects?","date":"2018-05-25T18:37:00.069Z","type":"message"}
{"nick":"al-damiri","date":"2018-05-25T18:46:14.332Z","type":"quit"}
{"nick":"ryzokuken","reason":"Quit: The Lounge - https://thelounge.chat","date":"2018-05-25T18:52:40.836Z","type":"quit"}
{"nick":"ryzokuken","date":"2018-05-25T18:53:59.026Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-25T18:56:44.811Z","type":"quit"}
{"nick":"devsnek","message":"ljharb: mhm","date":"2018-05-25T18:56:58.572Z","type":"message"}
{"nick":"ljharb","message":"i think it's definitely a spec bug that you can't do \"all things that only show you the keys\" on a module namespace object (which already knows all its forever keys)","date":"2018-05-25T18:58:37.560Z","type":"message"}
{"nick":"ljharb","message":"and i think it's something we can fix","date":"2018-05-25T18:58:47.589Z","type":"message"}
{"nick":"devsnek","message":"that will take time tho","date":"2018-05-25T19:00:02.183Z","type":"message"}
{"nick":"devsnek","message":"until then i'm gonna push this patch","date":"2018-05-25T19:00:07.883Z","type":"message"}
{"nick":"ljharb","message":"sure","date":"2018-05-25T19:05:12.640Z","type":"message"}
{"nick":"ljharb","message":"but let's pursue that in parallel","date":"2018-05-25T19:05:20.369Z","type":"message"}
{"nick":"ljharb","topic":"Get registered on freenode ( https://git.io/vaTS2 ) | Node.js Current: v10.2.1  | LTS: Carbon v8.11.2, Boron v6.14.2; EOL: Argon v4.9.1, v9, v7, <= v5 | -- https://nodejs.org/ -- IRC Logs: http://logs.libuv.org/node-dev/latest -- Channel Info: http://nodeirc.info/#node-dev -- Newcomers welcome: http://nodeschool.io/ -- dev channel for all things node core","date":"2018-05-25T19:05:44.275Z","type":"topic"}
{"nick":"devsnek","message":"discord invite in that when","date":"2018-05-25T19:08:54.939Z","type":"message"}
{"nick":"ljharb","message":"never? this is irc, we wouldn't want to send people away from a help medium they've already found","date":"2018-05-25T19:09:28.708Z","type":"message"}
{"nick":"devsnek","message":"to be fair this isn't the support channel","date":"2018-05-25T19:12:47.721Z","type":"message"}
{"nick":"devsnek","message":"that would be #node.js","date":"2018-05-25T19:12:53.492Z","type":"message"}
{"nick":"ljharb","message":"then we should put that in the topic :-p","date":"2018-05-25T19:14:47.244Z","type":"message"}
{"nick":"juggernaut451","date":"2018-05-25T19:46:53.012Z","type":"join"}
{"nick":"juggernaut451","reason":"Remote host closed the connection","date":"2018-05-25T19:49:32.331Z","type":"quit"}
{"nick":"TimothyGu","message":"sorry, force-pushing to add commit metadata","date":"2018-05-25T20:09:29.208Z","type":"message"}
{"nick":"marthinal","date":"2018-05-25T21:44:13.060Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-05-25T21:51:13.177Z","type":"quit"}
{"nick":"seishun","reason":"Ping timeout: 245 seconds","date":"2018-05-25T22:03:57.300Z","type":"quit"}
{"nick":"devsnek","message":"so what is still broken on the CI","date":"2018-05-25T22:09:18.178Z","type":"message"}
{"nick":"marthinal","date":"2018-05-25T22:10:06.168Z","type":"join"}
{"nick":"devsnek","message":"98% of unaborted jobs are failing","date":"2018-05-25T22:10:13.970Z","type":"message"}
{"nick":"marthinal","reason":"Ping timeout: 252 seconds","date":"2018-05-25T22:14:29.403Z","type":"quit"}
{"nick":"al-damiri","date":"2018-05-25T22:20:46.906Z","type":"join"}
{"nick":"tniessen","reason":"Remote host closed the connection","date":"2018-05-25T22:41:37.533Z","type":"quit"}
{"nick":"Trott","message":"addaleax or someone else knowledgable about valgrind: We have a node test that crashes when run from test.py but not if launched directly with `./node test-name`.  Is doing `valgrind test.py test-name` useful in that situation? Or would I need to insert the `valgrind` into the command spawned by `test.py`?","date":"2018-05-25T22:50:06.738Z","type":"message"}
{"nick":"addaleax","message":"Trott: `tools/test.py` does take a `--valgrind` option for that … valgrind doesn’t automatically track child processes, and in this case enabling it probably just would be too slow to be useful","date":"2018-05-25T22:53:23.505Z","type":"message"}
{"nick":"Trott","message":"So `tools/test.py --valgrind test-name` should get us what we want?","date":"2018-05-25T22:53:48.247Z","type":"message"}
{"nick":"addaleax","message":"Yes, I’d think so","date":"2018-05-25T22:53:55.378Z","type":"message"}
{"nick":"addaleax","message":"*hope :P","date":"2018-05-25T22:54:03.249Z","type":"message"}
{"nick":"Trott","message":"Awesome! Thanks.","date":"2018-05-25T22:54:05.466Z","type":"message"}
{"nick":"Trott","message":"Well, this is annoying: The test fails without `--valgrind` but passes if I supply `--valgrind`.","date":"2018-05-25T22:55:39.755Z","type":"message"}
{"nick":"addaleax","message":"If it’s a race condition, sometimes that happens because valgrind changes timing so much","date":"2018-05-25T23:00:18.495Z","type":"message"}
{"nick":"addaleax","message":"Trott: can you manually edit `tools/run-valgrind.py` and add `--tool=helgrind` as a `valgrind` argument and try again?","date":"2018-05-25T23:00:44.571Z","type":"message"}
{"nick":"Trott","message":"That caused it to fail. Hooray!","date":"2018-05-25T23:02:15.247Z","type":"message"}
{"nick":"addaleax","message":"Trott: can you share the output somewhere? there’s a decent chance of false positives with this tooling :/","date":"2018-05-25T23:04:21.709Z","type":"message"}
{"nick":"Trott","message":"https://github.com/nodejs/node/issues/20907#issuecomment-392209447","date":"2018-05-25T23:04:54.519Z","type":"message"}
{"nick":"devsnek","message":"is that whats keeping the ci dead","date":"2018-05-25T23:06:31.809Z","type":"message"}
{"nick":"devsnek","message":"the ci is a problem","date":"2018-05-25T23:06:37.219Z","type":"message"}
{"nick":"d3r3k","date":"2018-05-25T23:11:42.953Z","type":"join"}
{"nick":"mmarchini","message":"devsnek: I don't think so, this test is marked as flaky","date":"2018-05-25T23:12:48.244Z","type":"message"}
{"nick":"mmarchini","message":"Last time I checked arm machines were on fire","date":"2018-05-25T23:13:05.396Z","type":"message"}
{"nick":"Trott","message":"ARM is OK in the last node-test-pull-request run. Other stuff is in a bad place though... https://ci.nodejs.org/job/node-test-commit/18780/","date":"2018-05-25T23:13:47.577Z","type":"message"}
{"nick":"Trott","message":"(Unless those are errors in the pull request code, of course.)","date":"2018-05-25T23:13:56.059Z","type":"message"}
{"nick":"devsnek","message":"every single test fails","date":"2018-05-25T23:22:08.778Z","type":"message"}
{"nick":"devsnek","message":"or is aborted","date":"2018-05-25T23:22:10.694Z","type":"message"}
