{"nick":"wrkrcoop","message":"if I’m exporting a class called User should i export User or export new User()","date":"2018-09-18T00:01:11.158Z","type":"message"}
{"nick":"GreenJello","date":"2018-09-18T00:01:24.266Z","type":"join"}
{"nick":"GreenJello","reason":"Client Quit","date":"2018-09-18T00:01:28.679Z","type":"quit"}
{"nick":"zsoc","message":"... User","date":"2018-09-18T00:01:33.262Z","type":"message"}
{"nick":"zsoc","message":"if you only ever need 1 copy of something, it shouldn't be a class (in javascript) - that's basically a singleton","date":"2018-09-18T00:01:43.803Z","type":"message"}
{"nick":"wrkrcoop","message":"zsoc: if its a singleton u wouldn’t create a class?","date":"2018-09-18T00:02:17.424Z","type":"message"}
{"nick":"DjKad2","reason":"Quit: Yaaic - Yet another Android IRC client - http://www.yaaic.org","date":"2018-09-18T00:02:52.629Z","type":"quit"}
{"nick":"zsoc","message":"a \"Singleton\" in that context makes no sense in javascript, so no","date":"2018-09-18T00:02:56.696Z","type":"message"}
{"nick":"wrkrcoop","message":"you’d just create an object with functions? where would you store state?","date":"2018-09-18T00:02:57.702Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2018-09-18T00:03:07.372Z","type":"quit"}
{"nick":"zsoc","message":"in module scope","date":"2018-09-18T00:03:08.588Z","type":"message"}
{"nick":"wrkrcoop","message":"got it","date":"2018-09-18T00:03:13.320Z","type":"message"}
{"nick":"wrkrcoop","message":"zsoc: would u export an object with functions or just export each function?","date":"2018-09-18T00:03:30.619Z","type":"message"}
{"nick":"zsoc","message":"depends on what the thing is? Lol","date":"2018-09-18T00:03:46.344Z","type":"message"}
{"nick":"wrkrcoop","message":"right now I’m exporting a user model …","date":"2018-09-18T00:04:20.889Z","type":"message"}
{"nick":"zsoc","message":"well you'll need more than 1 instance of that","date":"2018-09-18T00:04:28.879Z","type":"message"}
{"nick":"zsoc","message":"it's a model, you'll have to create new instances of it every time you handle a user :p","date":"2018-09-18T00:04:40.244Z","type":"message"}
{"nick":"zsoc","message":"Unless you just mean \"it's a group of functions that do things to users\" - in which case there's no state to worry about","date":"2018-09-18T00:05:12.365Z","type":"message"}
{"nick":"Typo","reason":"Ping timeout: 245 seconds","date":"2018-09-18T00:05:28.387Z","type":"quit"}
{"nick":"zsoc","message":"but basically the \"singleton pattern\" was created to get around the limitation of \"everything is a class\" in a lot of classical oop languages - if you don't have that limitation, working 'around' it is a little silly","date":"2018-09-18T00:05:46.765Z","type":"message"}
{"nick":"wrkrcoop","message":"zsoc: yeah its just a group of functions that do things to users","date":"2018-09-18T00:05:47.947Z","type":"message"}
{"nick":"zsoc","message":"Sure, so then no there's state to speak of","date":"2018-09-18T00:06:02.487Z","type":"message"}
{"nick":"wrkrcoop","message":"yeah","date":"2018-09-18T00:06:09.146Z","type":"message"}
{"nick":"zsoc","message":"which is good :)","date":"2018-09-18T00:06:15.257Z","type":"message"}
{"nick":"wrkrcoop","message":"storing it in a class is fine though yeah?","date":"2018-09-18T00:06:17.811Z","type":"message"}
{"nick":"zsoc","message":"but why?","date":"2018-09-18T00:06:23.211Z","type":"message"}
{"nick":"zsoc","message":"it's just a bunch of utility functions","date":"2018-09-18T00:06:29.629Z","type":"message"}
{"nick":"wrkrcoop","message":"whats the alternative?","date":"2018-09-18T00:06:32.190Z","type":"message"}
{"nick":"zsoc","message":"in java you put it in a class because you have to put them somewhere","date":"2018-09-18T00:06:35.331Z","type":"message"}
{"nick":"wrkrcoop","message":"just export one big object with functions?","date":"2018-09-18T00:06:43.040Z","type":"message"}
{"nick":"hello_kitty","date":"2018-09-18T00:07:06.770Z","type":"join"}
{"nick":"zsoc","message":"or... /models/user/fn-a.js , fn-b.js, fn-c.js etc","date":"2018-09-18T00:07:07.559Z","type":"message"}
{"nick":"wrkrcoop","message":"interesting","date":"2018-09-18T00:07:21.957Z","type":"message"}
{"nick":"zsoc","message":"and maybe a user/index.js that requires and re-exports them all together, if you're into that sort of thing","date":"2018-09-18T00:07:26.921Z","type":"message"}
{"nick":"theWhisper_","date":"2018-09-18T00:07:31.604Z","type":"join"}
{"nick":"AtumT","reason":"Quit: AtumT","date":"2018-09-18T00:07:37.339Z","type":"quit"}
{"nick":"wrkrcoop","message":"oo sounds nice","date":"2018-09-18T00:07:38.842Z","type":"message"}
{"nick":"zsoc","message":"but at the very least - sure - just create 1 module that exports the functions.... module.exports = { foo, bar , baz }","date":"2018-09-18T00:07:40.729Z","type":"message"}
{"nick":"zsoc","message":"then you can `const all = require...` or `const { foo } = require..` depending on the situation","date":"2018-09-18T00:08:01.840Z","type":"message"}
{"nick":"wrkrcoop","message":"but lets say u have all these functions and all require acess the datbase, now we have to import db to every file","date":"2018-09-18T00:08:10.190Z","type":"message"}
{"nick":"zsoc","message":"so... generally speaking a function that acts on a data layer should have access to it injected","date":"2018-09-18T00:08:36.320Z","type":"message"}
{"nick":"zsoc","message":"well i use \"should\" loosely here - in a system with any sort of complexity","date":"2018-09-18T00:08:46.616Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T00:08:46.764Z","type":"join"}
{"nick":"willav","date":"2018-09-18T00:09:16.950Z","type":"join"}
{"nick":"zsoc","message":"but yeah, require('./db/connection.js') in every file if that's the way you want to do it, why not?","date":"2018-09-18T00:09:26.166Z","type":"message"}
{"nick":"zsoc","message":"there is no penalty for `require`ing the same thing in multiple files, it's the same object reference","date":"2018-09-18T00:09:49.776Z","type":"message"}
{"nick":"wrkrcoop","message":"so instead of requiring pg into my user model, i should pass in a pg object (pg == postgres)","date":"2018-09-18T00:09:51.734Z","type":"message"}
{"nick":"zsoc","message":"that's one common pattern... i don't love it, but yeah to give the fn itself (db, ...args)","date":"2018-09-18T00:10:14.794Z","type":"message"}
{"nick":"wrkrcoop","message":"k","date":"2018-09-18T00:10:31.385Z","type":"message"}
{"nick":"zsoc","message":"another is to have the fn take the arguments it needs (like the db object) and return the rest of the functions... that's like the parametric module pattern","date":"2018-09-18T00:10:52.740Z","type":"message"}
{"nick":"hello_kitty","message":"or db within scope of the router, if this is a classic web app","date":"2018-09-18T00:11:04.950Z","type":"message"}
{"nick":"zsoc","message":"const userFunctions = require('./models/user')(db)","date":"2018-09-18T00:11:06.015Z","type":"message"}
{"nick":"wrkrcoop","message":"k","date":"2018-09-18T00:11:25.417Z","type":"message"}
{"nick":"zsoc","message":"hello_kitty: and that works fine, but again, when you have an app with any amount of complexity, that gets painful super fast","date":"2018-09-18T00:11:26.097Z","type":"message"}
{"nick":"zsoc","message":"mixing your http req/res abstractions with your database functionality","date":"2018-09-18T00:11:36.343Z","type":"message"}
{"nick":"hello_kitty","message":"can you tell me more, im making a complex web app now","date":"2018-09-18T00:11:54.867Z","type":"message"}
{"nick":"lynnzh","date":"2018-09-18T00:12:30.944Z","type":"join"}
{"nick":"zsoc","message":"well, think about it... your router functions (\"route handlers\", if you will) take the http request and response... and it uses that context to handle the request, and return a response. That's its job. Not to query your database or know anything about your data","date":"2018-09-18T00:12:35.749Z","type":"message"}
{"nick":"zsoc","message":"in the same way, the functions that do some business logic, like creating a new user - don't need to know much about the transport layer that got it there (like http, lets say, in the example of a router)","date":"2018-09-18T00:13:02.020Z","type":"message"}
{"nick":"hello_kitty","message":"so you don't put more than a function call in your routes?","date":"2018-09-18T00:13:08.429Z","type":"message"}
{"nick":"zsoc","message":"not that it's \"more than 1 function call\", but it's \"what is the responsibility of this function\"","date":"2018-09-18T00:13:21.983Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T00:13:51.614Z","type":"quit"}
{"nick":"TheMadcapper","reason":"Ping timeout: 252 seconds","date":"2018-09-18T00:13:51.763Z","type":"quit"}
{"nick":"zsoc","message":"you'd find that if you couple things together tightly like this, as your application grows, you'll have awkward refactors and duplicated code","date":"2018-09-18T00:13:57.366Z","type":"message"}
{"nick":"hello_kitty","message":"zsoc: so i have a lot of code that looks essentially like this (w/ varying complexity) https://bpaste.net/show/062c5fcf5568","date":"2018-09-18T00:14:25.534Z","type":"message"}
{"nick":"ukyrgf","date":"2018-09-18T00:14:30.588Z","type":"join"}
{"nick":"zsoc","message":"like lets say now there's a second web client that needs to be able to create a user - but it only interfaces via websockets - now you have some socket handler and an event... but you need to do all the same things you're already doing in your /register/ route","date":"2018-09-18T00:14:40.679Z","type":"message"}
{"nick":"xNinjaDNT","reason":"Ping timeout: 240 seconds","date":"2018-09-18T00:15:07.326Z","type":"quit"}
{"nick":"zsoc","message":"or you want to unit test user creation","date":"2018-09-18T00:15:11.060Z","type":"message"}
{"nick":"zsoc","message":"or you want to write a small cli app so the application admins can create a user for someone","date":"2018-09-18T00:15:21.340Z","type":"message"}
{"nick":"hello_kitty","message":"that would be nice","date":"2018-09-18T00:15:23.830Z","type":"message"}
{"nick":"zsoc","message":"or you want to have a backend where an admin can login to create a user, but now it's a different route","date":"2018-09-18T00:15:35.296Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T00:15:51.299Z","type":"quit"}
{"nick":"zsoc","message":"these things all have the same basic behavior, but in different transport contexts... so having the logic all shoved into the existing http route makes it harder to reason about abstracting","date":"2018-09-18T00:15:56.434Z","type":"message"}
{"nick":"hello_kitty","message":"so in my code above what would you change?","date":"2018-09-18T00:16:02.650Z","type":"message"}
{"nick":"hello_kitty","message":"or is that too simple","date":"2018-09-18T00:16:09.831Z","type":"message"}
{"nick":"gxt","reason":"Ping timeout: 272 seconds","date":"2018-09-18T00:16:14.925Z","type":"quit"}
{"nick":"ukyrgf","reason":"Client Quit","date":"2018-09-18T00:16:18.183Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T00:16:22.250Z","type":"join"}
{"nick":"jaawerth","message":"supernov1h: just out of curiosity I checked it (.read() vs .read(2) ) and that seems to hold. It's also consistently outputting bufferss when piping into a writestream (just implemented one that puts the data on an output array), since in taht situation you're expected to use the encoding value yourself if you want to do any transformation https://repl.it/@jaawerth/QuirkyMediumInsurance","date":"2018-09-18T00:16:24.661Z","type":"message"}
{"nick":"zsoc","message":"so again, this is a complexity thing... all this function does is return a resource","date":"2018-09-18T00:16:25.520Z","type":"message"}
{"nick":"zsoc","message":"in theory if you \"repeat\" this logic in another function somewhere it's not the end of the world... but then the issue is that you have multiple entry points to similar behavior","date":"2018-09-18T00:16:54.586Z","type":"message"}
{"nick":"zsoc","message":"so if in the future you change something about the logic... you need to change it in more than 1 place","date":"2018-09-18T00:17:14.361Z","type":"message"}
{"nick":"w0ng","reason":"Quit: leaving","date":"2018-09-18T00:17:14.696Z","type":"quit"}
{"nick":"w0ng","date":"2018-09-18T00:17:36.710Z","type":"join"}
{"nick":"ukyrgf","date":"2018-09-18T00:17:41.587Z","type":"join"}
{"nick":"zsoc","message":"this is going on my list of things to write about... i need to sit down and figure out how to word it with examples that make sense lol","date":"2018-09-18T00:18:13.912Z","type":"message"}
{"nick":"zsoc","message":"this is like a lot of other things... there's no reason to go overkill until it makes sense for your application... but this is one of the ones that quickly will bite you once you get passed \"nice basic little web app\" sort of behavior","date":"2018-09-18T00:18:44.539Z","type":"message"}
{"nick":"horsey","date":"2018-09-18T00:18:46.463Z","type":"join"}
{"nick":"hello_kitty","message":"some of my routes kinda suck","date":"2018-09-18T00:19:00.195Z","type":"message"}
{"nick":"hello_kitty","message":"like uhm.. create vs update","date":"2018-09-18T00:19:05.944Z","type":"message"}
{"nick":"hello_kitty","message":"are almost the same, but not reused really","date":"2018-09-18T00:19:14.545Z","type":"message"}
{"nick":"zsoc","message":"when you have functions that are long or difficult to read - that's actually a good thing - because that's the time when javascript really shines","date":"2018-09-18T00:19:22.848Z","type":"message"}
{"nick":"zsoc","message":"you can basically grab a chunk of code - shove it in a new function, and call it from the old context, and it will \"just work\"","date":"2018-09-18T00:19:38.205Z","type":"message"}
{"nick":"zsoc","message":"try thinking about your function conceptually and break it down into what it's doing... if it's doing more than 1 thing, you should probably have more than 1 function","date":"2018-09-18T00:20:07.971Z","type":"message"}
{"nick":"zsoc","message":"like \"This validates the input data - then it inserts it into the db\", vs \"this validates the input data - then it updates the data in the db\"","date":"2018-09-18T00:20:26.637Z","type":"message"}
{"nick":"zsoc","message":"you can see the overlap","date":"2018-09-18T00:20:28.615Z","type":"message"}
{"nick":"renlo","reason":"Ping timeout: 264 seconds","date":"2018-09-18T00:22:06.714Z","type":"quit"}
{"nick":"zsoc","message":"jaawerth: i think the point tho was that the docs specify the encoding passed to a Readable is a *string* encoding type... if you pass it, you should only be reading strings - according to the docs","date":"2018-09-18T00:22:10.914Z","type":"message"}
{"nick":"jaawerth","message":"ah","date":"2018-09-18T00:22:33.483Z","type":"message"}
{"nick":"zsoc","message":"if you *don't* pass it, you should only get buffers... which holds - it's just the other way around with his example is showing a mix","date":"2018-09-18T00:22:52.031Z","type":"message"}
{"nick":"wrkrcoop","message":"question. if BigCorp’s sever gets a request for index.html and it uses CORS to say assets from AWS are fine, then does that mean the browser has permission to load assets from AWS?","date":"2018-09-18T00:22:52.270Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T00:23:14.439Z","type":"join"}
{"nick":"zsoc","message":"CORS is something that's allowed by the server","date":"2018-09-18T00:23:27.251Z","type":"message"}
{"nick":"jaawerth","message":"zsoc: right, so in his example I'm wondering if, at different times read() is being called, there are sometimes different #'s of chunks available","date":"2018-09-18T00:23:30.442Z","type":"message"}
{"nick":"zsoc","message":"they can allow everyone, or only certain hosts","date":"2018-09-18T00:23:34.192Z","type":"message"}
{"nick":"gxt","date":"2018-09-18T00:23:38.661Z","type":"join"}
{"nick":"zsoc","message":"jaawerth: let's... say there are - because that makes sense","date":"2018-09-18T00:23:50.032Z","type":"message"}
{"nick":"horsey","reason":"Ping timeout: 272 seconds","date":"2018-09-18T00:23:50.794Z","type":"quit"}
{"nick":"zsoc","message":"oh wait","date":"2018-09-18T00:24:14.393Z","type":"message"}
{"nick":"zsoc","message":"javascript strings are 2 byte characters","date":"2018-09-18T00:24:22.686Z","type":"message"}
{"nick":"jaawerth","message":"yeah","date":"2018-09-18T00:24:26.482Z","type":"message"}
{"nick":"zsoc","message":"so you're saying if there aren't enough bytes to make a string... it still pushes, but it can't encode it?","date":"2018-09-18T00:24:37.550Z","type":"message"}
{"nick":"jaawerth","message":"so read() will give you buffer is there's 1.. or to your point, maybe an odd number, of chunks","date":"2018-09-18T00:24:40.648Z","type":"message"}
{"nick":"wrkrcoop","message":"so if i set domains in my cors … am i saying only domains can access my server, or the browser can load assets from these domains?","date":"2018-09-18T00:24:49.300Z","type":"message"}
{"nick":"jaawerth","message":"zsoc: but I think your answer might be the best one","date":"2018-09-18T00:25:27.609Z","type":"message"}
{"nick":"zsoc","message":"wrkrcoop: you're saying \"hey browsers, only users on these origins should be allowed to make an xhr request here\"","date":"2018-09-18T00:25:35.956Z","type":"message"}
{"nick":"jaawerth","message":"I hadn't quite gotten that far to connect the dots","date":"2018-09-18T00:25:36.129Z","type":"message"}
{"nick":"mizu_no_oto_work","date":"2018-09-18T00:26:09.883Z","type":"join"}
{"nick":"zsoc","message":"jaawerth: that's interesting.. i'd say something like \"maybe it shouldn't push with less than 2 bytes\" (eg with remainders) but.. that seems wrong - and a warning seems wrong too","date":"2018-09-18T00:26:13.706Z","type":"message"}
{"nick":"zsoc","message":"i think maybe just the docs need a note","date":"2018-09-18T00:26:17.578Z","type":"message"}
{"nick":"jaawerth","message":"agreed","date":"2018-09-18T00:26:26.320Z","type":"message"}
{"nick":"zsoc","message":"wrkrcoop: but note that there's no *security* here, per se - anyone can still make a request and say they are from some other origin - this is a browser safety mechanism","date":"2018-09-18T00:26:53.763Z","type":"message"}
{"nick":"jaawerth","message":"I think also when using read(n) you need to account for the possibility of not getting back n chunks","date":"2018-09-18T00:27:22.742Z","type":"message"}
{"nick":"wrkrcoop","message":"so why do i put cors on my server? does it prevent requests coming from anything but domains i whitelist?","date":"2018-09-18T00:27:28.834Z","type":"message"}
{"nick":"xNinjaDNT","date":"2018-09-18T00:27:30.369Z","type":"join"}
{"nick":"zsoc","message":"yes that part is made clear in the docs... that `n` is a suggestion heh","date":"2018-09-18T00:27:42.531Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2018-09-18T00:27:47.450Z","type":"quit"}
{"nick":"jaawerth","message":"yep","date":"2018-09-18T00:27:53.535Z","type":"message"}
{"nick":"zsoc","message":"wrkrcoop: by default cors is disallowed generally speaking - you have to explicitly allow it","date":"2018-09-18T00:28:02.545Z","type":"message"}
{"nick":"zsoc","message":"and you only need to put it on your server when you have a website at an origin different from your server making the api request","date":"2018-09-18T00:28:17.209Z","type":"message"}
{"nick":"wrkrcoop","message":"oh ok","date":"2018-09-18T00:28:28.491Z","type":"message"}
{"nick":"jaawerth","message":"wrkrcoop: CORS isn't restrictive. It's that browsers' Same Origin Policy locks things down, and CORS is a way to selectively open it up","date":"2018-09-18T00:28:30.514Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 246 seconds","date":"2018-09-18T00:28:31.249Z","type":"quit"}
{"nick":"jaawerth","message":"that's why CORS has no effect on, say, curl","date":"2018-09-18T00:29:04.167Z","type":"message"}
{"nick":"wrkrcoop","message":"so if i add cors to my server and only whitelist EvilCorp.com then any request not coming from that domain will get an error?","date":"2018-09-18T00:29:12.164Z","type":"message"}
{"nick":"jaawerth","message":"it's just headers the server returns, and browsers use them to decide whether to allow certain kinds of cross origin request","date":"2018-09-18T00:29:26.133Z","type":"message"}
{"nick":"wrkrcoop","message":"oh","date":"2018-09-18T00:29:36.234Z","type":"message"}
{"nick":"zsoc","message":"right, the *browsers* implement the policy","date":"2018-09-18T00:29:46.352Z","type":"message"}
{"nick":"zsoc","message":"you're saying \"it's okay browser, you can do this\"","date":"2018-09-18T00:30:17.500Z","type":"message"}
{"nick":"wrkrcoop","message":"so if the browser makes a request for an image from xxx.com and xxx.com has not whitelisted EvilCorp, the browser wont load the resources?","date":"2018-09-18T00:30:26.147Z","type":"message"}
{"nick":"zsoc","message":"it's to stop malicious code from running from lets say, some third party dependency or from an extension or something to make those requests on your behave","date":"2018-09-18T00:30:40.799Z","type":"message"}
{"nick":"zsoc","message":"*behalf","date":"2018-09-18T00:30:42.390Z","type":"message"}
{"nick":"zsoc","message":"depends on the request, not all requests require cors","date":"2018-09-18T00:30:55.475Z","type":"message"}
{"nick":"jaawerth","message":"yeah it's one of the ways browsers prevent cross-site attacks","date":"2018-09-18T00:31:11.524Z","type":"message"}
{"nick":"the_ant","date":"2018-09-18T00:31:20.334Z","type":"join"}
{"nick":"zsoc","message":"things like \"including credentials\" (cookies) or \"posting data\" (a 'complex' request)","date":"2018-09-18T00:31:23.333Z","type":"message"}
{"nick":"jaawerth","message":"but yeah, like, an img tag won't need to pass cors","date":"2018-09-18T00:31:25.463Z","type":"message"}
{"nick":"wrkrcoop","message":"i dont get how it prevents malicious code, if i inject a script and make it load something from xxx.com and i run xxx.com then i can just whitelist the domain right?","date":"2018-09-18T00:31:36.396Z","type":"message"}
{"nick":"jaawerth","message":"well, what if I'm running yyy.com","date":"2018-09-18T00:31:48.304Z","type":"message"}
{"nick":"jaawerth","message":"and I phish people who use xxx.com","date":"2018-09-18T00:31:59.069Z","type":"message"}
{"nick":"darkhanb","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T00:32:02.845Z","type":"quit"}
{"nick":"zsoc","message":"wrkrcoop: otherwise i could have some js dependency, right? And you use it on your site, like a jquery plugin - now any time a user is on your site an logged in... they can click a button that sends a request to your api to do something - and you know who they are, because they are logged in","date":"2018-09-18T00:32:14.786Z","type":"message"}
{"nick":"jaawerth","message":"to click on my yyy link - without cors I could potentially use their session to POST data to xxx.com","date":"2018-09-18T00:32:20.755Z","type":"message"}
{"nick":"zsoc","message":"well if there was no CORS, now my script could *also* send a request, including those credentials.. because you're user is logged in... and could make a different request, or post different data, or w/e","date":"2018-09-18T00:32:40.483Z","type":"message"}
{"nick":"Sharaal","date":"2018-09-18T00:32:52.902Z","type":"join"}
{"nick":"zsoc","message":"i don't know what's with my brain tonight - that made zero sense reading it back lol","date":"2018-09-18T00:33:33.030Z","type":"message"}
{"nick":"zsoc","message":"maybe i'll try again in a minute :p","date":"2018-09-18T00:33:37.851Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T00:33:38.292Z","type":"join"}
{"nick":"wrkrcoop","message":"so if u inject a link to yyy.com and they click it, the browser sends their session id to yyy.com? then yyy.com now has their session id and can use it to post data to xxx.com … but since yyy.com isn’t whitelisted it wont work?","date":"2018-09-18T00:34:04.831Z","type":"message"}
{"nick":"jaawerth","message":"that said, you still need stuff like CSRF token to prevent regular form POST hijacks (if using sessions)","date":"2018-09-18T00:34:06.834Z","type":"message"}
{"nick":"zsoc","message":"right, CORS doesn't really prevent XSS","date":"2018-09-18T00:34:16.492Z","type":"message"}
{"nick":"zsoc","message":"or... at all, actually - it doesn't really even help","date":"2018-09-18T00:34:25.534Z","type":"message"}
{"nick":"wrkrcoop","message":"i’ve never done anything with CSRF token … does react handle that for u?","date":"2018-09-18T00:35:01.089Z","type":"message"}
{"nick":"jaawerth","message":"it can also just be to prevent client-based API abuseu","date":"2018-09-18T00:35:03.229Z","type":"message"}
{"nick":"jaawerth","message":"at least, on a blanket level","date":"2018-09-18T00:35:08.620Z","type":"message"}
{"nick":"jaawerth","message":"since most people's clients will not do the CORS","date":"2018-09-18T00:35:13.822Z","type":"message"}
{"nick":"gxt","reason":"Ping timeout: 272 seconds","date":"2018-09-18T00:35:14.908Z","type":"quit"}
{"nick":"jaawerth","message":"if you don't allow it","date":"2018-09-18T00:35:18.440Z","type":"message"}
{"nick":"zsoc","message":"CSRF is a combination of server and client... basically the server paints a token when it renders the page, and the client has to pass it back or the post will fail","date":"2018-09-18T00:35:25.092Z","type":"message"}
{"nick":"zsoc","message":"it's like a one time use thing","date":"2018-09-18T00:35:28.664Z","type":"message"}
{"nick":"zsoc","message":"right, CORS is more for restricting abuse i suppose than malicious attacks","date":"2018-09-18T00:35:46.025Z","type":"message"}
{"nick":"angraze","date":"2018-09-18T00:35:48.614Z","type":"join"}
{"nick":"wrkrcoop","message":"wth i’ve never done anything like that …","date":"2018-09-18T00:35:53.870Z","type":"message"}
{"nick":"jaawerth","message":"I always have to remind myself o that too","date":"2018-09-18T00:35:56.873Z","type":"message"}
{"nick":"zsoc","message":"i can't just use the private API of ebay.com on myEbayClone.com","date":"2018-09-18T00:35:58.245Z","type":"message"}
{"nick":"jaawerth","message":"if you aren't using CSRF with regular sessions then.. you probably have a security problem","date":"2018-09-18T00:36:12.677Z","type":"message"}
{"nick":"Mattiaslndstrm","date":"2018-09-18T00:36:25.428Z","type":"join"}
{"nick":"wrkrcoop","message":"with posts i just use their session id to get their user data …","date":"2018-09-18T00:36:42.919Z","type":"message"}
{"nick":"zsoc","message":"yeah luckily csrf is super easy to set up with `csurf` and most client type of rendering","date":"2018-09-18T00:36:45.549Z","type":"message"}
{"nick":"zsoc","message":"right, this is separate from all that","date":"2018-09-18T00:36:52.470Z","type":"message"}
{"nick":"gxt","date":"2018-09-18T00:37:08.894Z","type":"join"}
{"nick":"zsoc","message":"it's not really a \"who are you?\" thing,","date":"2018-09-18T00:37:16.400Z","type":"message"}
{"nick":"jaawerth","message":"wrkrcoop: the problem is, without CSRF, someone on a another site could get a user to click on a form that sends a POST request to some endpoint on your domain - if they ahave an active session on your domain, that POST will succeed at doing whatever it does","date":"2018-09-18T00:37:35.182Z","type":"message"}
{"nick":"Sharaal","reason":"Ping timeout: 264 seconds","date":"2018-09-18T00:37:42.712Z","type":"quit"}
{"nick":"jaawerth","message":"CSRF prevents that","date":"2018-09-18T00:37:44.919Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T00:37:45.460Z","type":"join"}
{"nick":"eckhardt_","date":"2018-09-18T00:37:56.519Z","type":"join"}
{"nick":"zsoc","message":"^ good description","date":"2018-09-18T00:38:01.164Z","type":"message"}
{"nick":"wrkrcoop","message":"shit i need to learn about this","date":"2018-09-18T00:38:04.514Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T00:38:24.444Z","type":"quit"}
{"nick":"zsoc","message":"so i could have my own website and you fill in a form and hit 'submit' but the submit action goes to like...facebook.com or something - and now you just posted on your wall and you didn't know about it - because you were *already* logged into facebook and had an active session in another tab or something","date":"2018-09-18T00:38:36.292Z","type":"message"}
{"nick":"wrkrcoop","message":"so the backend sends the tocken for the form, then the user fills out the form, then they hit send, then the backend … invalidates the token?","date":"2018-09-18T00:38:38.869Z","type":"message"}
{"nick":"zsoc","message":"yeah, single use... digests it, wipes it off the list","date":"2018-09-18T00:38:54.926Z","type":"message"}
{"nick":"zsoc","message":"usually it's just handled in memory","date":"2018-09-18T00:38:59.999Z","type":"message"}
{"nick":"wrkrcoop","message":"wth","date":"2018-09-18T00:39:05.728Z","type":"message"}
{"nick":"wrkrcoop","message":"but what about when the frontend is decoupled from the backend","date":"2018-09-18T00:39:20.737Z","type":"message"}
{"nick":"jaawerth","message":"when the page is rendered, typically any forms on the page have the csrf token embedded in, say, a hidden field","date":"2018-09-18T00:39:29.076Z","type":"message"}
{"nick":"jaawerth","message":"there are tools to make this less manual","date":"2018-09-18T00:39:33.439Z","type":"message"}
{"nick":"wrkrcoop","message":"on page load it has to request a token from the backend?","date":"2018-09-18T00:39:37.182Z","type":"message"}
{"nick":"hello_kitty","message":"i use those a lot.. though in a different context... also i invalidate them a few minutes after they're made (depending what they're for)","date":"2018-09-18T00:39:57.676Z","type":"message"}
{"nick":"jaawerth","message":"well usually it's embedded in ithe page somehow","date":"2018-09-18T00:40:08.356Z","type":"message"}
{"nick":"zsoc","message":"right, if for simplicity sake we just say a static or server rendered site.. it's really simple, csurf middleware creates the tokens, verifies them, destroys them, etc.. all you do is use the middleware. In the form you just add 1 hidden field and you're done","date":"2018-09-18T00:40:12.683Z","type":"message"}
{"nick":"zsoc","message":"in a SPA - you can generate a csrf token and pass it along during like hydration, for example","date":"2018-09-18T00:40:45.668Z","type":"message"}
{"nick":"wrkrcoop","message":"hydration?","date":"2018-09-18T00:40:55.848Z","type":"message"}
{"nick":"the_ant","reason":"Ping timeout: 245 seconds","date":"2018-09-18T00:41:18.371Z","type":"quit"}
{"nick":"zsoc","message":"er, well that's if you're doing SSR with it... but i mean the initial api request that is made when you mount your app","date":"2018-09-18T00:41:21.854Z","type":"message"}
{"nick":"zsoc","message":"like in the case of react","date":"2018-09-18T00:41:25.462Z","type":"message"}
{"nick":"jaawerth","message":"yeah if it's a true SPA then you'll need some other way to get the csrf tokens","date":"2018-09-18T00:41:48.146Z","type":"message"}
{"nick":"jaawerth","message":"that's one of the reasons folks might use tokens over sessions with a SPA","date":"2018-09-18T00:41:59.758Z","type":"message"}
{"nick":"hello_kitty","message":"i use these (well, an equivalent) to take a user that has a session on a website, and log them into a game on another server than the website","date":"2018-09-18T00:42:05.880Z","type":"message"}
{"nick":"zsoc","message":"i got used to calling that \"initial\" on-mount request \"hydration\" even tho i know that's technically not correct lol","date":"2018-09-18T00:42:08.045Z","type":"message"}
{"nick":"jaawerth","message":"but honestly, sessions are still fine, just gotta csrf it up","date":"2018-09-18T00:42:09.697Z","type":"message"}
{"nick":"jaawerth","message":"\"hydration\" makes sense","date":"2018-09-18T00:42:19.555Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 244 seconds","date":"2018-09-18T00:42:21.463Z","type":"quit"}
{"nick":"zsoc","message":"right, also apparently it's a thing that csrf tokens aren't one time use? i didn't know that","date":"2018-09-18T00:42:29.663Z","type":"message"}
{"nick":"jaawerth","message":"yeah, they don't really need to be, they just have to not last forever and not be accessible from other sites","date":"2018-09-18T00:43:12.314Z","type":"message"}
{"nick":"zsoc","message":"jaawerth: yeah but a few different frameworks (react specifically) have a built in 'hydration' function that specifically takes the server rendered data and mounts react on top of it using some state you passed along and shoved into global space","date":"2018-09-18T00:43:21.962Z","type":"message"}
{"nick":"jaawerth","message":"yeah","date":"2018-09-18T00:43:37.084Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T00:43:37.750Z","type":"join"}
{"nick":"wrkrcoop","message":"so sorry to go back to CORS, but cors is just for telling a browser HEY ITS OK U CAN LOAD OUR RESOURCES SINCE YOURE DOMAIN XXX.COM","date":"2018-09-18T00:43:54.832Z","type":"message"}
{"nick":"zsoc","message":"i guess i never considered they aren't one time use because if you have a \"classically\" rendered web site... they probably will be","date":"2018-09-18T00:43:56.299Z","type":"message"}
{"nick":"zsoc","message":"wrkrcoop: yeah, basically it's *always* okay to request a resource from the *same* origin","date":"2018-09-18T00:44:13.943Z","type":"message"}
{"nick":"jaawerth","message":"yes, resources that apply to the single origin policy anyway","date":"2018-09-18T00:44:24.397Z","type":"message"}
{"nick":"zsoc","message":"(where \"origin\" means subdomain + host + port... i think)","date":"2018-09-18T00:44:27.466Z","type":"message"}
{"nick":"jaawerth","message":"yeah","date":"2018-09-18T00:44:33.352Z","type":"message"}
{"nick":"jaawerth","message":"also protocol","date":"2018-09-18T00:44:37.133Z","type":"message"}
{"nick":"jkridner","date":"2018-09-18T00:44:41.248Z","type":"join"}
{"nick":"zsoc","message":"http vs https? or just like http vs.. not http? lol","date":"2018-09-18T00:44:48.920Z","type":"message"}
{"nick":"jaawerth","message":"well I suppose protocol implies port anyway in this case","date":"2018-09-18T00:45:04.842Z","type":"message"}
{"nick":"wrkrcoop","message":"okk weird i dont get how they does anything … because if yyy.com whitelists my domain, and they are injecting something in my site that loads some malicious script from yyy.com … the browser is going to load it, i feel like my website xxx.com should say which domains it can load resources from","date":"2018-09-18T00:45:15.215Z","type":"message"}
{"nick":"jaawerth","message":"yeah forget what I said earlier, i was conflating with csrf. cors is more about api abuse","date":"2018-09-18T00:45:50.071Z","type":"message"}
{"nick":"wrkrcoop","message":"GOT IT","date":"2018-09-18T00:46:02.019Z","type":"message"}
{"nick":"wrkrcoop","message":"that’s a good way to put it .. API ABUSE","date":"2018-09-18T00:46:09.387Z","type":"message"}
{"nick":"hello_kitty","message":"and i think specific to browser javascript, ya?","date":"2018-09-18T00:47:07.388Z","type":"message"}
{"nick":"zsoc","message":"specific to a browser - it has no meaning outside of that context, correct","date":"2018-09-18T00:47:19.316Z","type":"message"}
{"nick":"wrkrcoop","message":"and for sessions … if a user makes a request to my server … on the first request they won’t send over a session_id right? so we create one and return one … then all following requests return taht session_id?","date":"2018-09-18T00:47:42.572Z","type":"message"}
{"nick":"hello_kitty","message":"well i mean its the browser that sets the header on a request made from within a script, right?","date":"2018-09-18T00:47:48.254Z","type":"message"}
{"nick":"hello_kitty","message":"and if we used node-fetch or w/e, we could set whatever header we wanted","date":"2018-09-18T00:47:56.444Z","type":"message"}
{"nick":"jaawerth","message":"but I think it helps with some xss? like without cors you could still end up reusing cookies even if you aren't form POSTing","date":"2018-09-18T00:48:03.041Z","type":"message"}
{"nick":"zsoc","message":"this is why in ##javascript you get the question once a day \"how do i show x api (maps, forex values, etc) on my site\" and then they figure out they have to take the request on their server, do a request from their server to the remote api, then return the response, etc","date":"2018-09-18T00:48:07.910Z","type":"message"}
{"nick":"zsoc","message":"otherwise all these sites would be popping up that have none of their own resources and just leech external apis :p","date":"2018-09-18T00:48:19.236Z","type":"message"}
{"nick":"jaawerth","message":"actually I think the same-origin party is a way to close some holes in CSRF","date":"2018-09-18T00:48:50.801Z","type":"message"}
{"nick":"zsoc","message":"hello_kitty: in node yes - but not in the browser... you can't override the origin in the browsers \"fetch\" (or XMLHttpRequest, etc)","date":"2018-09-18T00:48:59.369Z","type":"message"}
{"nick":"jaawerth","message":"it just isn't a replacement *for* CSRF","date":"2018-09-18T00:49:05.289Z","type":"message"}
{"nick":"zsoc","message":"maybe","date":"2018-09-18T00:49:11.008Z","type":"message"}
{"nick":"zsoc","message":"mix of both :)","date":"2018-09-18T00:49:13.506Z","type":"message"}
{"nick":"jaawerth","message":"I really should refresh myself on this rather than hand-waving security answers, lol","date":"2018-09-18T00:50:17.029Z","type":"message"}
{"nick":"zsoc","message":"but outside of a browser... you are free to shape an http request however you like.. even with just curl from your commmand line - http is just a bunch of strings over tcp in some expected order","date":"2018-09-18T00:50:20.855Z","type":"message"}
{"nick":"zsoc","message":"i guess me too","date":"2018-09-18T00:50:24.998Z","type":"message"}
{"nick":"zsoc","message":"'full stack' development is really a terrible idea - who came up with this :p","date":"2018-09-18T00:50:42.151Z","type":"message"}
{"nick":"hello_kitty","message":"i always feel like cors is a nuisance rather than security","date":"2018-09-18T00:50:42.877Z","type":"message"}
{"nick":"hello_kitty","message":"but maybe i dont know how it is actual security","date":"2018-09-18T00:50:50.880Z","type":"message"}
{"nick":"jaawerth","message":"well, it's not really cors getting in your way, it's the same origin policy on browsers. cors is how you get around that","date":"2018-09-18T00:51:04.734Z","type":"message"}
{"nick":"hello_kitty","message":"well i mean the same origin policy","date":"2018-09-18T00:51:19.844Z","type":"message"}
{"nick":"hello_kitty","message":"b/c as someone who learned to code writing scrapers","date":"2018-09-18T00:51:32.149Z","type":"message"}
{"nick":"hello_kitty","message":"i was super confused the day i ran into the same origin thing on one of my own products","date":"2018-09-18T00:51:42.104Z","type":"message"}
{"nick":"zsoc","message":"apparently it's been around since 1995","date":"2018-09-18T00:51:58.506Z","type":"message"}
{"nick":"wrkrcoop","message":"hey did i get that sessions thing right?","date":"2018-09-18T00:52:13.954Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T00:52:14.309Z","type":"join"}
{"nick":"jaawerth","message":"I mean, better to default to no cross origin access than to default to too much cross origin access. \"principle of least privilege\" and all taht","date":"2018-09-18T00:52:20.139Z","type":"message"}
{"nick":"zsoc","message":"okay wait","date":"2018-09-18T00:52:41.532Z","type":"message"}
{"nick":"zsoc","message":"the example i gave earlier seems correct tho? according to wikipedia? now i'm confused:","date":"2018-09-18T00:52:53.920Z","type":"message"}
{"nick":"zsoc","message":"\"Assume that a user is visiting a banking website and doesn't log out. Then, the user goes to another site that has some malicious JavaScript code running in the background that requests data from the banking site. Because the user is still logged in on the banking site, the malicious code could do anything the user could do on the banking site. For example, it could get a list of the user's last transactions, create a new transaction, etc. This is","date":"2018-09-18T00:52:55.108Z","type":"message"}
{"nick":"zsoc","message":"because the browser can send and receive session cookies to the banking site based on the domain of the banking site.\"","date":"2018-09-18T00:52:55.256Z","type":"message"}
{"nick":"cotko4","reason":"Quit: Konversation terminated!","date":"2018-09-18T00:53:15.832Z","type":"quit"}
{"nick":"jaawerth","message":"yeah.. it's confusing. I think it DOES help with the XSS stuff, just not as a replacement for CSRF","date":"2018-09-18T00:53:23.300Z","type":"message"}
{"nick":"zsoc","message":"hmm more research needed lol","date":"2018-09-18T00:53:32.330Z","type":"message"}
{"nick":"jaawerth","message":"I mean one thing is, like, people with outdated browsers where SOP maybe still has some exploits","date":"2018-09-18T00:53:56.808Z","type":"message"}
{"nick":"wrkrcoop","message":"well if malicious site makes a request to bank site bc user is still logged in CORS would prevent them because malicious site has not been white listed","date":"2018-09-18T00:54:10.867Z","type":"message"}
{"nick":"angraze","reason":"Quit: Page closed","date":"2018-09-18T00:54:25.373Z","type":"quit"}
{"nick":"andrehjr","date":"2018-09-18T00:55:23.844Z","type":"join"}
{"nick":"jaawerth","message":"also CORS alone won't necessarily, say, putting a request in an img tag or various other workarounds that CSRF will prevent","date":"2018-09-18T00:56:00.408Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 245 seconds","date":"2018-09-18T00:56:43.319Z","type":"quit"}
{"nick":"jaawerth","message":"iirc","date":"2018-09-18T00:56:46.077Z","type":"message"}
{"nick":"jaawerth","message":"but yeah it's kinda murky","date":"2018-09-18T00:57:02.824Z","type":"message"}
{"nick":"wrkrcoop","message":"im readnig about https://github.com/expressjs/session","date":"2018-09-18T00:57:11.952Z","type":"message"}
{"nick":"jaawerth","message":"definitely gotta refamiliarize myself with the various edge cases","date":"2018-09-18T00:57:15.463Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 272 seconds","date":"2018-09-18T00:57:24.892Z","type":"quit"}
{"nick":"the_ant","date":"2018-09-18T00:57:47.808Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T00:58:01.650Z","type":"join"}
{"nick":"wrkrcoop","message":"under secret it says “This is the secret used to sign the session ID cookie.”  … so if i use this it stores all sessionIds and their cookie","date":"2018-09-18T00:58:09.341Z","type":"message"}
{"nick":"wrkrcoop","message":"and signs the cookie?","date":"2018-09-18T00:58:25.158Z","type":"message"}
{"nick":"duderonomy","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T00:58:38.256Z","type":"quit"}
{"nick":"hello_kitty","message":"foo({a: a})   ->  foo({a})   is this still called destructuring","date":"2018-09-18T00:59:32.200Z","type":"message"}
{"nick":"hello_kitty","message":"is it the same as  const { a, b, c } = stuff()","date":"2018-09-18T01:00:23.956Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T01:02:48.710Z","type":"quit"}
{"nick":"jimlei","reason":"Quit: http://quassel-irc.org - Chat comfortably. Anywhere.","date":"2018-09-18T01:02:59.357Z","type":"quit"}
{"nick":"jaawerth","message":"nope, that's just called property shorthand","date":"2018-09-18T01:03:33.490Z","type":"message"}
{"nick":"jaawerth","message":"see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Object_initializer#New_notations_in_ECMAScript_2015","date":"2018-09-18T01:03:58.368Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T01:04:20.316Z","type":"join"}
{"nick":"jkridner|pd","date":"2018-09-18T01:04:32.383Z","type":"join"}
{"nick":"lewix","date":"2018-09-18T01:04:38.357Z","type":"join"}
{"nick":"toi","date":"2018-09-18T01:05:22.318Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T01:06:42.804Z","type":"join"}
{"nick":"deltab","date":"2018-09-18T01:06:51.449Z","type":"join"}
{"nick":"zerymo13","date":"2018-09-18T01:06:55.137Z","type":"join"}
{"nick":"zerymo13","reason":"Remote host closed the connection","date":"2018-09-18T01:07:38.815Z","type":"quit"}
{"nick":"jkridner","reason":"Ping timeout: 246 seconds","date":"2018-09-18T01:07:43.255Z","type":"quit"}
{"nick":"the_ant","reason":"Quit: the_ant","date":"2018-09-18T01:08:22.021Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 245 seconds","date":"2018-09-18T01:08:48.333Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T01:09:27.737Z","type":"join"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2018-09-18T01:11:43.647Z","type":"quit"}
{"nick":"TikityTik","date":"2018-09-18T01:11:53.934Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T01:11:58.862Z","type":"quit"}
{"nick":"smccarthy","date":"2018-09-18T01:12:15.457Z","type":"join"}
{"nick":"miliarch","date":"2018-09-18T01:12:19.418Z","type":"join"}
{"nick":"hello_kitty","message":" i almost like sequelize","date":"2018-09-18T01:13:58.948Z","type":"message"}
{"nick":"hello_kitty","message":"fast dev time, but the generated tables and automagic names on multi-relations are rough","date":"2018-09-18T01:14:38.445Z","type":"message"}
{"nick":"hello_kitty","message":"is there another thing like this which is bearable?","date":"2018-09-18T01:14:52.388Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T01:15:04.706Z","type":"quit"}
{"nick":"jonquest","date":"2018-09-18T01:15:09.923Z","type":"join"}
{"nick":"smccarthy","reason":"Ping timeout: 244 seconds","date":"2018-09-18T01:16:27.515Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T01:16:27.855Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T01:16:57.678Z","type":"join"}
{"nick":"jottr","date":"2018-09-18T01:16:58.698Z","type":"join"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2018-09-18T01:20:00.445Z","type":"quit"}
{"nick":"ed209","date":"2018-09-18T01:20:07.905Z","type":"join"}
{"nick":"jottr","reason":"Ping timeout: 240 seconds","date":"2018-09-18T01:21:07.371Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T01:22:06.869Z","type":"quit"}
{"nick":"hugo__","date":"2018-09-18T01:23:31.254Z","type":"join"}
{"nick":"jaawerth","message":"the only ORM-like thing I've tried on node that I'd actually use again is objection","date":"2018-09-18T01:25:13.837Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 272 seconds","date":"2018-09-18T01:25:16.759Z","type":"quit"}
{"nick":"hello_kitty","message":"i'll check it out","date":"2018-09-18T01:25:39.657Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T01:26:03.514Z","type":"join"}
{"nick":"jaawerth","message":"it's more of a toolkit for putting your model together in that it's a knex wrapper with some extra sauce (like you can tell it relations, etc, and use a few extra methods for eager loading and whatnot) and \"hooks\" you can implement to do extra things if desired","date":"2018-09-18T01:26:07.050Z","type":"message"}
{"nick":"jaawerth","message":"but you can still just use its query builder directly or even drop down to lower-level knex","date":"2018-09-18T01:26:35.521Z","type":"message"}
{"nick":"hello_kitty","message":"can it rebuild table definitions?","date":"2018-09-18T01:26:41.390Z","type":"message"}
{"nick":"jaawerth","message":"I.. can't remember because I hate using orms for that","date":"2018-09-18T01:26:51.841Z","type":"message"}
{"nick":"hello_kitty","message":"really???","date":"2018-09-18T01:26:58.054Z","type":"message"}
{"nick":"hello_kitty","message":"what do you do","date":"2018-09-18T01:27:02.784Z","type":"message"}
{"nick":"jaawerth","message":"write migrations, usually","date":"2018-09-18T01:27:08.731Z","type":"message"}
{"nick":"jonquest","reason":"Quit: Leaving","date":"2018-09-18T01:27:23.509Z","type":"quit"}
{"nick":"hello_kitty","message":"how do you do that?","date":"2018-09-18T01:27:52.247Z","type":"message"}
{"nick":"jaawerth","message":"knex has an ok API for it","date":"2018-09-18T01:28:03.507Z","type":"message"}
{"nick":"jaawerth","message":"I prefer to build my DB schemas directly because the automagic stuff tends to get in my way beyond the trivial stuff","date":"2018-09-18T01:28:30.449Z","type":"message"}
{"nick":"hello_kitty","message":"when tables and property names are still frequently changing i just set the application to wipe/rebuild the tables every time it runs.... and then when i get some test data in it i turn that off","date":"2018-09-18T01:28:36.671Z","type":"message"}
{"nick":"hello_kitty","message":"yea im not liking the automagic many-to-many relations","date":"2018-09-18T01:28:49.529Z","type":"message"}
{"nick":"hello_kitty","message":"im really left guessing what it named the id fields and the tables","date":"2018-09-18T01:28:59.439Z","type":"message"}
{"nick":"Taylor","reason":"Excess Flood","date":"2018-09-18T01:29:43.553Z","type":"quit"}
{"nick":"jaawerth","message":"actually if you look at the introduction to objection it pretty much points you to knex's migration tool http://vincit.github.io/objection.js/#introduction","date":"2018-09-18T01:29:46.000Z","type":"message"}
{"nick":"zsoc","message":"wrkrcoop: signing is to prevent the developer from doing something stupid","date":"2018-09-18T01:30:03.860Z","type":"message"}
{"nick":"jaawerth","message":"under \"what objection.js doesn't give you\"","date":"2018-09-18T01:30:04.009Z","type":"message"}
{"nick":"hello_kitty","message":"what is a migration asides from the naive changing of structure... does it include some sort of rollback record..?","date":"2018-09-18T01:30:33.795Z","type":"message"}
{"nick":"jaawerth","message":"yeah","date":"2018-09-18T01:30:44.184Z","type":"message"}
{"nick":"hello_kitty","message":"does knex like.. add a table to teh db for itself in that case?","date":"2018-09-18T01:31:07.513Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T01:31:27.320Z","type":"join"}
{"nick":"hello_kitty","message":"oh yep, found it","date":"2018-09-18T01:31:31.467Z","type":"message"}
{"nick":"hello_kitty","message":"knex_migrations","date":"2018-09-18T01:31:33.251Z","type":"message"}
{"nick":"hello_kitty","message":"okay next project is knex, sweet","date":"2018-09-18T01:31:37.489Z","type":"message"}
{"nick":"zsoc","message":"wrkrcoop: like if you decide to do something really terrible like \"lets make the session id the user id!\" and you don't sign it.... then i can just increment the session id in my cookie to `124` instead of `123` and now i'm a different user","date":"2018-09-18T01:31:47.625Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 244 seconds","date":"2018-09-18T01:31:57.438Z","type":"quit"}
{"nick":"jaawerth","message":"so, basically, when you tell knex to create a new migration (by name - it then prepends a datetime string to the filename of the mgiration it creates) it genereates a JS module that exports \"up\" and \"down\" functions that receive (knex, Promise) as args","date":"2018-09-18T01:32:02.334Z","type":"message"}
{"nick":"zsoc","message":"signing prevents the ids from being guessable, even if the dev *does* do something like this","date":"2018-09-18T01:32:05.952Z","type":"message"}
{"nick":"jaawerth","message":"hello_kitty: you define the schema change inn \"up\" and the reverse operation in \"down\"","date":"2018-09-18T01:32:18.480Z","type":"message"}
{"nick":"jaawerth","message":"so you can always go back and forth in time wrt your schema defs","date":"2018-09-18T01:32:32.710Z","type":"message"}
{"nick":"hello_kitty","message":"jaawerth: what is the process like? llike lets say you rename or add a column.. what is the workflow","date":"2018-09-18T01:32:44.051Z","type":"message"}
{"nick":"jaawerth","message":"(the built-in migration cli tool only gives you so granular control but there's another lib I use, knex-migrate, for more granular up/down operations)","date":"2018-09-18T01:32:54.124Z","type":"message"}
{"nick":"jaawerth","message":"whatever you want it to be, realy","date":"2018-09-18T01:33:02.685Z","type":"message"}
{"nick":"hello_kitty","message":"is it code","date":"2018-09-18T01:33:05.916Z","type":"message"}
{"nick":"Sharaal","date":"2018-09-18T01:33:09.928Z","type":"join"}
{"nick":"jaawerth","message":"it's code, using the knex schema builder","date":"2018-09-18T01:33:15.528Z","type":"message"}
{"nick":"jaawerth","message":"in the \"up\"/\"down\" functions I'm talking about","date":"2018-09-18T01:33:29.271Z","type":"message"}
{"nick":"Deltanic","reason":"Ping timeout: 272 seconds","date":"2018-09-18T01:33:30.919Z","type":"quit"}
{"nick":"zsoc","message":"hello_kitty: you type a command line thing, which generates the blank definition file for you","date":"2018-09-18T01:33:59.436Z","type":"message"}
{"nick":"zsoc","message":"and then you fill it out with the migration","date":"2018-09-18T01:34:03.959Z","type":"message"}
{"nick":"jaawerth","message":"I tend to turn the exported up/down functions into async functions these days so I can use \"await\" in them.. makes the migrations more succinct","date":"2018-09-18T01:34:56.719Z","type":"message"}
{"nick":"jaawerth","message":"but that's just a stylistic preference","date":"2018-09-18T01:35:08.078Z","type":"message"}
{"nick":"Taylor","date":"2018-09-18T01:35:17.845Z","type":"join"}
{"nick":"zsoc","message":"but it provides a bluebird instance to the fn and everything! haha :p","date":"2018-09-18T01:35:21.626Z","type":"message"}
{"nick":"jaawerth","message":"which I'll use for bluebird methods!","date":"2018-09-18T01:35:38.100Z","type":"message"}
{"nick":"prometh","reason":"Quit: My Mac Mini has gone to sleep. ZZZzzz…","date":"2018-09-18T01:35:53.089Z","type":"quit"}
{"nick":"jaawerth","message":"but ultimately all it really cares about for the transaction is whether the final promise is resolved or rejected so returning a native promsie is no big deal","date":"2018-09-18T01:36:06.154Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 245 seconds","date":"2018-09-18T01:36:18.373Z","type":"quit"}
{"nick":"zsoc","message":"ye - no big deal how it's actually done... just pushing buttons xD","date":"2018-09-18T01:36:23.041Z","type":"message"}
{"nick":"saul","date":"2018-09-18T01:36:46.654Z","type":"part"}
{"nick":"hello_kitty","message":"does reverting a migration recover data in the case that like.. a column was removed?","date":"2018-09-18T01:36:58.853Z","type":"message"}
{"nick":"zsoc","message":"no, it's schema-migrations only","date":"2018-09-18T01:37:10.874Z","type":"message"}
{"nick":"zsoc","message":"data migrations (like with snapshots) is an entirely different thing","date":"2018-09-18T01:37:20.371Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T01:37:24.437Z","type":"join"}
{"nick":"zsoc","message":"you can build into the migration things like, nulling out fields in a newly nullable table or something... but anything you do destructive is not directly undoable","date":"2018-09-18T01:37:48.632Z","type":"message"}
{"nick":"Sharaal","reason":"Ping timeout: 252 seconds","date":"2018-09-18T01:37:48.781Z","type":"quit"}
{"nick":"zsoc","message":"although in theory you could take dumps and do restores... but uh, that sounds like a bad idea?","date":"2018-09-18T01:38:01.684Z","type":"message"}
{"nick":"jaawerth","message":"you could make it undoable yourself","date":"2018-09-18T01:38:22.895Z","type":"message"}
{"nick":"hello_kitty","message":"i mean im currently dropping a table on each model change :D","date":"2018-09-18T01:38:23.476Z","type":"message"}
{"nick":"jaawerth","message":"but you'd have to implement it","date":"2018-09-18T01:38:25.799Z","type":"message"}
{"nick":"Deltanic","date":"2018-09-18T01:38:28.776Z","type":"join"}
{"nick":"jaawerth","message":"there's also a seeding api","date":"2018-09-18T01:38:36.425Z","type":"message"}
{"nick":"jaawerth","message":"but once there's real data in there..","date":"2018-09-18T01:38:40.575Z","type":"message"}
{"nick":"jaawerth","message":"you gotta watch out what data you destroy when migrating or rolling back","date":"2018-09-18T01:38:55.301Z","type":"message"}
{"nick":"zsoc","message":"yeah.... once everything is frozen at v1...","date":"2018-09-18T01:38:55.505Z","type":"message"}
{"nick":"hello_kitty","message":"seeding api for test data type of thing?","date":"2018-09-18T01:39:00.595Z","type":"message"}
{"nick":"jaawerth","message":"or whatever initial data you want to seed","date":"2018-09-18T01:39:08.622Z","type":"message"}
{"nick":"zsoc","message":"well you *can* use it for test data but i usually do my test seeding separately - along with the tests","date":"2018-09-18T01:39:18.484Z","type":"message"}
{"nick":"jaawerth","message":"same","date":"2018-09-18T01:39:25.811Z","type":"message"}
{"nick":"zsoc","message":"a lot of times there is legitimate data you need to seed on deployment","date":"2018-09-18T01:39:26.931Z","type":"message"}
{"nick":"toi","reason":"Ping timeout: 245 seconds","date":"2018-09-18T01:39:38.313Z","type":"quit"}
{"nick":"zsoc","message":"not all databases start empty :)","date":"2018-09-18T01:39:59.627Z","type":"message"}
{"nick":"hello_kitty","message":"yea neither does mine i have this excel spreadsheet of stuff i paste in","date":"2018-09-18T01:40:18.854Z","type":"message"}
{"nick":"hello_kitty","message":"95% kidding ;p","date":"2018-09-18T01:40:24.285Z","type":"message"}
{"nick":"zsoc","message":"eh i've done it before","date":"2018-09-18T01:40:28.661Z","type":"message"}
{"nick":"zsoc","message":"but like you could keep that csv in your /data or /fixtures or whatever and seed it in on deployment","date":"2018-09-18T01:40:47.411Z","type":"message"}
{"nick":"jaawerth","message":"in the past, I have actually had a \"v1\" api whose rollback saves a dropped table to a copy somewhere, or when I did destructive migrations after the fact, that would save data and another to restore any saved data upon rollback. Done that once or twice","date":"2018-09-18T01:41:27.696Z","type":"message"}
{"nick":"zsoc","message":"although... at that point i'd probably just get to a state i'd want start with and do a pg_dump.... i dunno","date":"2018-09-18T01:41:28.662Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 244 seconds","date":"2018-09-18T01:41:46.503Z","type":"quit"}
{"nick":"jaawerth","message":"but that kind of micromanagement is a bit risky if you're in a rush","date":"2018-09-18T01:42:00.742Z","type":"message"}
{"nick":"zsoc","message":"then again, half the time these days my migrations file is just a knex.raw and a readFile pointing to the requisite .sql :p","date":"2018-09-18T01:42:11.162Z","type":"message"}
{"nick":"jaawerth","message":"heh","date":"2018-09-18T01:42:17.814Z","type":"message"}
{"nick":"jaawerth","message":"sometimes after dev you can just replace the ininitial migrations with a single schema definition","date":"2018-09-18T01:42:31.858Z","type":"message"}
{"nick":"zsoc","message":"i keep getting convinced to do more and more in my data layer","date":"2018-09-18T01:42:32.275Z","type":"message"}
{"nick":"jaawerth","message":"\"flatten\" it, so to speak","date":"2018-09-18T01:42:39.362Z","type":"message"}
{"nick":"jaawerth","message":"and then just write migrations for stable versions","date":"2018-09-18T01:42:51.141Z","type":"message"}
{"nick":"zsoc","message":"yeah i'm very close to doing that on one project... i have a mix of initial / create script and a bunch of migrations... because there's live data on QA and stuff... but the application isn't really live","date":"2018-09-18T01:43:04.690Z","type":"message"}
{"nick":"itaipu","date":"2018-09-18T01:43:06.254Z","type":"join"}
{"nick":"jaawerth","message":"unfortunately there's no catch-all solution for that stuff","date":"2018-09-18T01:43:24.516Z","type":"message"}
{"nick":"zsoc","message":"i'm considering either flatting it into one script or flattening it and *then* breaking it up into a bunch of easier-to-reason-about migrations","date":"2018-09-18T01:43:27.083Z","type":"message"}
{"nick":"jaawerth","message":"there are some per-database change management tools but...","date":"2018-09-18T01:43:30.981Z","type":"message"}
{"nick":"zsoc","message":"maybe that's not so unfortunate xD","date":"2018-09-18T01:43:33.659Z","type":"message"}
{"nick":"jaawerth","message":"(and even data management tools)","date":"2018-09-18T01:43:35.858Z","type":"message"}
{"nick":"Emperor_Earth","date":"2018-09-18T01:43:40.806Z","type":"join"}
{"nick":"jaawerth","message":"true","date":"2018-09-18T01:43:47.066Z","type":"message"}
{"nick":"jaawerth","message":"to that not being so unfortunate","date":"2018-09-18T01:43:52.351Z","type":"message"}
{"nick":"jaawerth","message":"if you're really afraid of dataloss you'll changelog everything in a reversible manner anyway, storage be damned","date":"2018-09-18T01:44:09.244Z","type":"message"}
{"nick":"jimlei","date":"2018-09-18T01:44:24.342Z","type":"join"}
{"nick":"zsoc","message":"i mean i do DBA~y things and have no idea what i'm doing","date":"2018-09-18T01:44:27.124Z","type":"message"}
{"nick":"zsoc","message":"so i just hit 'backup' a lot and hope i don't screw anything up","date":"2018-09-18T01:44:36.106Z","type":"message"}
{"nick":"zsoc","action":"shrugs","date":"2018-09-18T01:44:37.693Z","type":"action"}
{"nick":"jaawerth","message":"hehe","date":"2018-09-18T01:44:44.367Z","type":"message"}
{"nick":"zsoc","message":"which i'm starting to think is kind of what being a DBA is about....","date":"2018-09-18T01:44:53.710Z","type":"message"}
{"nick":"jaawerth","message":"yeah I'm the DBA by default too","date":"2018-09-18T01:45:03.796Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T01:45:44.560Z","type":"join"}
{"nick":"zsoc","message":"what you do seems wildly interesting to me for no good reason - because on its face it sounds kind of boring","date":"2018-09-18T01:45:51.706Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T01:45:54.771Z","type":"join"}
{"nick":"zsoc","message":"but you make it seem interesting lol","date":"2018-09-18T01:45:56.235Z","type":"message"}
{"nick":"hello_kitty","message":"i just changed the name of a column in a table where the data is used by 7 apps... 2 of which render in ejs, 4 just stick the value onto a page via ajax, and 1 renders the info in webgl","date":"2018-09-18T01:45:58.454Z","type":"message"}
{"nick":"hello_kitty","message":"and it makes me crazy","date":"2018-09-18T01:46:03.260Z","type":"message"}
{"nick":"zsoc","message":"haha okay","date":"2018-09-18T01:46:09.910Z","type":"message"}
{"nick":"zsoc","message":"that's an interesting use case","date":"2018-09-18T01:46:14.376Z","type":"message"}
{"nick":"jaawerth","message":"lol, well, I need to keep it interesting","date":"2018-09-18T01:46:14.524Z","type":"message"}
{"nick":"wrkrcoop","reason":"Quit: wrkrcoop","date":"2018-09-18T01:46:33.541Z","type":"quit"}
{"nick":"zsoc","message":"i love when people talk about having their monolithic framework automate their migrations","date":"2018-09-18T01:46:33.825Z","type":"message"}
{"nick":"jaawerth","message":"making it into something more interesting than it is is for my own benefit as much as it is anyone else's","date":"2018-09-18T01:46:37.800Z","type":"message"}
{"nick":"zsoc","message":"and i'm like \"So... no other client is ever going to use/need this db? never ever? you sure?\" Lol","date":"2018-09-18T01:46:49.186Z","type":"message"}
{"nick":"jaawerth","message":"yeah that's the thing","date":"2018-09-18T01:47:03.264Z","type":"message"}
{"nick":"jaawerth","message":"a lot of my databases end up with multiple usecases","date":"2018-09-18T01:47:10.927Z","type":"message"}
{"nick":"hello_kitty","message":"i wish i had a migration for changing the thing i just changed (not a db migration, like a code update)","date":"2018-09-18T01:47:46.827Z","type":"message"}
{"nick":"hello_kitty","message":"like if it could be a symbol in all of the applications somehow","date":"2018-09-18T01:48:00.018Z","type":"message"}
{"nick":"zsoc","message":"well that's rough, considering how many different languages you might be dealing with and how many different ways the symbols are transformed","date":"2018-09-18T01:48:24.680Z","type":"message"}
{"nick":"hello_kitty","message":"maybe i just need more units tests","date":"2018-09-18T01:48:32.543Z","type":"message"}
{"nick":"zsoc","message":"i don't even use the same identifiers in my db as my applications... i convert case :p","date":"2018-09-18T01:48:33.805Z","type":"message"}
{"nick":"hello_kitty","message":"like... any... unit tests","date":"2018-09-18T01:48:36.196Z","type":"message"}
{"nick":"zsoc","message":"*integration tests","date":"2018-09-18T01:48:41.786Z","type":"message"}
{"nick":"hello_kitty","message":"not that i wouldve made a test to see if the ejs template rendered","date":"2018-09-18T01:48:49.697Z","type":"message"}
{"nick":"zsoc","message":"unit tests are pretty pointless for top-level apps... in my experience","date":"2018-09-18T01:48:55.491Z","type":"message"}
{"nick":"hello_kitty","message":"or that the webgl gui showed the right thing","date":"2018-09-18T01:48:58.392Z","type":"message"}
{"nick":"zsoc","message":"well... i imagine it wouldn't get that far","date":"2018-09-18T01:49:15.786Z","type":"message"}
{"nick":"zsoc","message":"at least with something like Objection.js - as long as you defined json schemas","date":"2018-09-18T01:49:26.186Z","type":"message"}
{"nick":"zsoc","message":"if some column changed, it would start throwing validations the second you tries to read/write anything off that model :p","date":"2018-09-18T01:49:43.010Z","type":"message"}
{"nick":"hello_kitty","message":"on read? hmm","date":"2018-09-18T01:50:07.329Z","type":"message"}
{"nick":"hello_kitty","message":"i'm just manually testing my apps going through for crashes","date":"2018-09-18T01:50:19.270Z","type":"message"}
{"nick":"hello_kitty","message":"after changing things like this","date":"2018-09-18T01:50:22.854Z","type":"message"}
{"nick":"zsoc","message":"sure, if you have a required field missing, or a field is allowed to be an empty string but not null, etc","date":"2018-09-18T01:50:23.894Z","type":"message"}
{"nick":"hello_kitty","message":"i know roughly where they are (hopefully....)","date":"2018-09-18T01:50:29.593Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 244 seconds","date":"2018-09-18T01:50:33.438Z","type":"quit"}
{"nick":"zsoc","message":"honestly that's still the most common way of doing that sort of stuff lol - obviously some integration tests would be preferred - but there's nothing saying you have enough tests that touch all the points it effects","date":"2018-09-18T01:50:50.580Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T01:51:14.903Z","type":"quit"}
{"nick":"zsoc","message":"depending on how expansive the application is... i'd consider doing transforms for migrated columns in some single location - like in the model or something","date":"2018-09-18T01:51:39.791Z","type":"message"}
{"nick":"quarters","message":"hello. I'm getting an error message in node saying that I can't set headers after they're sent to the client. I think it's related to the fact that I have a res.redirect on line 5, but that doesn't stop the promise chain despite the use of return: https://pastebin.com/y5RWiLmA","date":"2018-09-18T01:51:43.098Z","type":"message"}
{"nick":"zsoc","message":"and don't touch it in the code anywhere","date":"2018-09-18T01:51:45.967Z","type":"message"}
{"nick":"jaawerth","message":"what I really like about objection is that you can see its heritage in its design - specifically how it evolved from a toolkit the authors were using internally to build their models into a cohesive tool","date":"2018-09-18T01:51:48.033Z","type":"message"}
{"nick":"zsoc","message":"that's true","date":"2018-09-18T01:51:56.413Z","type":"message"}
{"nick":"jottr","date":"2018-09-18T01:52:06.636Z","type":"join"}
{"nick":"zsoc","message":"and the other thing i like about objection is i completely disagree with like, half of its design choices... and yet i still use it and appreciate it - so it helps me see other ways of doing things","date":"2018-09-18T01:52:21.756Z","type":"message"}
{"nick":"quarters","message":"I was wondering how to setup the promise chain such that I don't move forward after I hit res.redirect","date":"2018-09-18T01:52:24.322Z","type":"message"}
{"nick":"jaawerth","message":"yeah, same","date":"2018-09-18T01:52:31.106Z","type":"message"}
{"nick":"zsoc","message":"and i mean i see where the design choices bit them in the butt too - but i also see where it has benefits","date":"2018-09-18T01:52:49.525Z","type":"message"}
{"nick":"HumorBaby","reason":"Remote host closed the connection","date":"2018-09-18T01:52:56.152Z","type":"quit"}
{"nick":"zsoc","message":"i still hate everything about the suggestion class / static / getter methods in the docs... but you can just like - not use them lol","date":"2018-09-18T01:53:03.547Z","type":"message"}
{"nick":"zsoc","message":"quarters: so there's a few ways to do this","date":"2018-09-18T01:53:35.499Z","type":"message"}
{"nick":"HumorBaby","date":"2018-09-18T01:53:44.814Z","type":"join"}
{"nick":"zsoc","message":"i'm going to tell you the way i would do it - and then i'm going to tell you the reason why a lot of people say it's bad","date":"2018-09-18T01:53:45.734Z","type":"message"}
{"nick":"zsoc","message":"actually let me just gist you a similar block of code i have","date":"2018-09-18T01:54:16.736Z","type":"message"}
{"nick":"jaawerth","message":"assuming you're gonna bring up timing attacks","date":"2018-09-18T01:55:28.890Z","type":"message"}
{"nick":"zsoc","message":"oh no - i leave that to my hash checking method - which is built into my hash library :p","date":"2018-09-18T01:55:51.571Z","type":"message"}
{"nick":"zsoc","message":"actually there might be too much context here... maybe i should snip out a little","date":"2018-09-18T01:56:21.811Z","type":"message"}
{"nick":"jottr","reason":"Ping timeout: 272 seconds","date":"2018-09-18T01:56:56.764Z","type":"quit"}
{"nick":"eckhardt_","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T01:56:57.185Z","type":"quit"}
{"nick":"zsoc","message":"quarters: https://gist.github.com/jkantr/b5c2f2968ed65645148e675bf3b2d8b8","date":"2018-09-18T01:57:19.076Z","type":"message"}
{"nick":"zsoc","message":"i guess.. uh... ignore the bluebird-specific stuff? the answer to your question is on line 14","date":"2018-09-18T01:57:40.935Z","type":"message"}
{"nick":"fullstack","message":"Hey when I try to do REPL ES6 from babel-node I get \"SyntaxError: repl: Modules aren't supported in the REPL\"","date":"2018-09-18T01:58:40.749Z","type":"message"}
{"nick":"fullstack","message":"is there a way to do REPL/cli babel ES6?","date":"2018-09-18T01:58:53.452Z","type":"message"}
{"nick":"quarters","message":"zsoc: awesome! thanks! so if I find a mismatch, I'll just throw an error","date":"2018-09-18T01:58:54.457Z","type":"message"}
{"nick":"andrehjr","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T01:58:55.332Z","type":"quit"}
{"nick":"quarters","message":"all the bad stuff will be handled in the catch block","date":"2018-09-18T01:59:11.274Z","type":"message"}
{"nick":"zsoc","message":"quarters: right, then have a specific error handler in the stack made to handle a custom error of that type","date":"2018-09-18T01:59:11.972Z","type":"message"}
{"nick":"jaawerth","message":"assuming that's also using expres-promise-router","date":"2018-09-18T01:59:17.887Z","type":"message"}
{"nick":"zsoc","message":"right","date":"2018-09-18T01:59:21.663Z","type":"message"}
{"nick":"jaawerth","message":"quarters: anyway, I'd just reject the promise if the password match fails (or if there's no user) and then put the redirect in the catch handler, or an error handler that you mount later (the error handler would check the type of error to decide what to do)","date":"2018-09-18T01:59:52.811Z","type":"message"}
{"nick":"zsoc","message":"and then map the error to a constant for the string you want to return.... also notice how \"no such user\" (line 14) and \"wrong password\" (line 26) throw the same error","date":"2018-09-18T01:59:53.753Z","type":"message"}
{"nick":"zsoc","message":"which is part of the arguable thing","date":"2018-09-18T02:00:17.929Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T02:00:24.829Z","type":"join"}
{"nick":"jaawerth","message":"some folks would want to try a hash check even if the user isn't found to prevent timing attacks for telling whether a username is correct","date":"2018-09-18T02:00:38.864Z","type":"message"}
{"nick":"zsoc","message":"The other part of the arguable thing is that ... if i had a dollar for every time someone crawled up my wazoo for \"throwing an error for an unexceptional circumstance\"... i swear","date":"2018-09-18T02:00:42.349Z","type":"message"}
{"nick":"jaawerth","message":"and/or taking other steps to make the time constant","date":"2018-09-18T02:01:01.353Z","type":"message"}
{"nick":"zsoc","message":"that's true - but there's a pretty strong argument to say it's okay if they know if a user exists or not","date":"2018-09-18T02:01:03.690Z","type":"message"}
{"nick":"earendel","date":"2018-09-18T02:01:19.961Z","type":"join"}
{"nick":"zsoc","message":"because in a web application you don't have unlimited brute force abilities","date":"2018-09-18T02:01:20.679Z","type":"message"}
{"nick":"cthulchu_","date":"2018-09-18T02:01:34.526Z","type":"join"}
{"nick":"zsoc","message":"and also... better UX, in theory... for people remembering what email they used etc during password resets heh","date":"2018-09-18T02:01:38.451Z","type":"message"}
{"nick":"jaawerth","message":"right, you'd want to rate-limit login attempts anyway","date":"2018-09-18T02:01:43.205Z","type":"message"}
{"nick":"zsoc","message":"but the \"don't throw an error for expected conditions!\" argument really grinds my gears","date":"2018-09-18T02:02:09.585Z","type":"message"}
{"nick":"zsoc","message":"as if somehow the answer is returning false :p","date":"2018-09-18T02:02:14.510Z","type":"message"}
{"nick":"ShekharReddy","date":"2018-09-18T02:02:16.972Z","type":"join"}
{"nick":"zsoc","message":"also this should probably just be User.login({ email, password }) - if an application is large enough to use an ORM.... probably have no excuse to stuff this login in an http route lol","date":"2018-09-18T02:03:44.699Z","type":"message"}
{"nick":"quarters","message":"I'm a bit new to throwing errors.  Will I need to create a subclass of all the different types of errors I expect to use, or can I just use instances of Error?","date":"2018-09-18T02:03:52.653Z","type":"message"}
{"nick":"zsoc","message":"So.. there's a big advantage of subclassing the built in Error object","date":"2018-09-18T02:04:08.210Z","type":"message"}
{"nick":"zsoc","message":"but you can use something like the `create-error` package to do it really easily, like in one line","date":"2018-09-18T02:04:25.404Z","type":"message"}
{"nick":"zsoc","message":"it becomes a lot easier to pass data along with your error - so your error handler know what to do with it","date":"2018-09-18T02:04:41.934Z","type":"message"}
{"nick":"jaawerth","message":"you don't *necessarily* need to throw an error if you're rejecting a promise. I'd only do that if actually throwing out of the middleware (or rejecting, if using express-promise-router) so it delegates to an error-handling middleware","date":"2018-09-18T02:04:42.902Z","type":"message"}
{"nick":"smccarthy","date":"2018-09-18T02:04:45.503Z","type":"join"}
{"nick":"jaawerth","message":"if it's all happening within that one handler, you could reject the promise with whatever","date":"2018-09-18T02:04:54.142Z","type":"message"}
{"nick":"zsoc","message":"you're... not wrong - but at the same time...","date":"2018-09-18T02:05:04.908Z","type":"message"}
{"nick":"jaawerth","message":"yeah, for consistency you may still want an error","date":"2018-09-18T02:05:16.101Z","type":"message"}
{"nick":"zsoc","message":"if you do .catch(.... ) you have to know how you got there - if you don't have an error type/shape then you have to basically check the string you rejected with","date":"2018-09-18T02:05:25.365Z","type":"message"}
{"nick":"jaawerth","message":"but you don't have to subclass for every type of error, necessarily","date":"2018-09-18T02:05:25.605Z","type":"message"}
{"nick":"zsoc","message":"that can get iffy fast","date":"2018-09-18T02:05:27.789Z","type":"message"}
{"nick":"jaawerth","message":"I'd check out the \"error\" module on npm","date":"2018-09-18T02:05:30.242Z","type":"message"}
{"nick":"jaawerth","message":"true, zsoc","date":"2018-09-18T02:05:45.057Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T02:05:48.846Z","type":"quit"}
{"nick":"zsoc","message":"I generally create a single overarching custom error type, like CustomError or ApplicationError or whatever - and all it does is append { isCustomError: true } to the err... then take all my subclasses from there","date":"2018-09-18T02:06:13.330Z","type":"message"}
{"nick":"alexi5_","date":"2018-09-18T02:06:16.853Z","type":"join"}
{"nick":"jaawerth","message":"yeah, I do similar, only with that error module","date":"2018-09-18T02:06:26.887Z","type":"message"}
{"nick":"jaawerth","message":"it's got a very nice API, imo","date":"2018-09-18T02:06:31.088Z","type":"message"}
{"nick":"zsoc","message":"so if i need something generic, i have it - and at the same time in my global error handler i know that the thing i got there with originated from my application or not","date":"2018-09-18T02:06:41.617Z","type":"message"}
{"nick":"esrse","date":"2018-09-18T02:06:52.606Z","type":"join"}
{"nick":"quarters","message":"I actually also haven't played with the resolve reject syntax in quite awhile. I reckon that reject will be on the same \"level\" as the calls to .then and I won't need to nest them in the then blocks?","date":"2018-09-18T02:06:52.824Z","type":"message"}
{"nick":"zsoc","message":"for some reason i've never seen the `error` module lol... checking it out","date":"2018-09-18T02:06:54.718Z","type":"message"}
{"nick":"zsoc","message":"quarters: yeah, you can just `return Promise.reject('foo')` but uh.. if you just \"`throw new Error('foo')` it's ostensibly the same thing","date":"2018-09-18T02:07:26.709Z","type":"message"}
{"nick":"alexi5","reason":"Ping timeout: 252 seconds","date":"2018-09-18T02:07:30.300Z","type":"quit"}
{"nick":"zsoc","message":"since you're in a .then callback, it's already a promise context and being wrapped","date":"2018-09-18T02:07:35.241Z","type":"message"}
{"nick":"jaawerth","message":"true story: I recognized the author of that module by their API design before actually checking to see who it was","date":"2018-09-18T02:07:39.682Z","type":"message"}
{"nick":"Mattiaslndstrm","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T02:07:45.256Z","type":"quit"}
{"nick":"jaawerth","message":"they just have a very distinctive style","date":"2018-09-18T02:08:09.195Z","type":"message"}
{"nick":"quarters","message":"on a sidenote, if I call .then IN a then block, I'm probably doing it wrong right, since the point of using promises is to minimize, if not eliminate, nesting","date":"2018-09-18T02:08:17.764Z","type":"message"}
{"nick":"zsoc","message":"hmmm wait i've seen this before lol","date":"2018-09-18T02:08:27.168Z","type":"message"}
{"nick":"zsoc","message":"quarters: not.. necessarily - sometimes nesting promises is used to keep something in scope","date":"2018-09-18T02:08:41.684Z","type":"message"}
{"nick":"jaawerth","message":"I'd be surprised if you hadn't","date":"2018-09-18T02:08:45.985Z","type":"message"}
{"nick":"zsoc","message":"ultimately, promises \"unwrap\" anyway","date":"2018-09-18T02:08:48.310Z","type":"message"}
{"nick":"alexi5","date":"2018-09-18T02:08:51.707Z","type":"join"}
{"nick":"jaawerth","message":"you can nest but generally you want to make sure you're doing it for a reason","date":"2018-09-18T02:09:22.528Z","type":"message"}
{"nick":"zsoc","message":"wait who is this tho","date":"2018-09-18T02:09:25.730Z","type":"message"}
{"nick":"jaawerth","message":"it's R.aynos (they're in the channel and I don't want to ping them unnecessarily, hehe)","date":"2018-09-18T02:09:45.486Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T02:09:46.308Z","type":"join"}
{"nick":"zsoc","message":"i mean.... i saw the name... hmm what else have they done i'd recognize?","date":"2018-09-18T02:10:03.670Z","type":"message"}
{"nick":"alexi5_","reason":"Ping timeout: 272 seconds","date":"2018-09-18T02:10:52.766Z","type":"quit"}
{"nick":"wrkrcoop","date":"2018-09-18T02:11:21.255Z","type":"join"}
{"nick":"jaawerth","message":"I don't think they're as active on github as they used to be but they were very prolific for a while.. usually with a lot of small composable modules","date":"2018-09-18T02:11:31.476Z","type":"message"}
{"nick":"zsoc","message":"oh they have done... a lot of things","date":"2018-09-18T02:11:32.361Z","type":"message"}
{"nick":"wrkrcoop","reason":"Client Quit","date":"2018-09-18T02:11:43.124Z","type":"quit"}
{"nick":"sharax","reason":"Remote host closed the connection","date":"2018-09-18T02:12:09.768Z","type":"quit"}
{"nick":"zsoc","message":"i wonder if there's a way to pull metadata out of a project from like, author frequency and stuff","date":"2018-09-18T02:12:24.486Z","type":"message"}
{"nick":"jaawerth","message":"was a major contributor to virtual-dom, but also made mercury, a sort of react-lite that's really just a collection of small modules that can be swapped out - it's almost more of an example of how to do a DIY react-lite","date":"2018-09-18T02:12:24.837Z","type":"message"}
{"nick":"sharax","date":"2018-09-18T02:12:27.340Z","type":"join"}
{"nick":"zsoc","message":"i mean i'm sure there is","date":"2018-09-18T02:12:29.378Z","type":"message"}
{"nick":"Akinator","date":"2018-09-18T02:12:33.901Z","type":"join"}
{"nick":"quarters","message":"zsoc and jaawerth: I'll try to implement different versions using both of your advice, especially since you also reference libraries that I'm not familiar with (express-promise-router and create-error).  thank you!","date":"2018-09-18T02:12:47.909Z","type":"message"}
{"nick":"zsoc","message":"wait substack wrote tape?","date":"2018-09-18T02:12:53.213Z","type":"message"}
{"nick":"sharax","reason":"Remote host closed the connection","date":"2018-09-18T02:12:56.198Z","type":"quit"}
{"nick":"jaawerth","message":"yep","date":"2018-09-18T02:13:07.599Z","type":"message"}
{"nick":"zsoc","message":"huh, that name never ceases to pop up places lol - i just randomly saw a talk he did too","date":"2018-09-18T02:13:31.200Z","type":"message"}
{"nick":"sharax","date":"2018-09-18T02:13:31.580Z","type":"join"}
{"nick":"jaawerth","message":"it's hard to tell sometimes because of the first law of JS projects: with time, the chances of ljharb becoming the maintainer approaches infinity","date":"2018-09-18T02:13:54.556Z","type":"message"}
{"nick":"zsoc","message":"LOL i thought that was the second law","date":"2018-09-18T02:14:08.855Z","type":"message"}
{"nick":"Twelve-60","date":"2018-09-18T02:14:21.607Z","type":"join"}
{"nick":"jaawerth","message":"hmm you might be right","date":"2018-09-18T02:14:25.670Z","type":"message"}
{"nick":"zsoc","message":"behind \"with time, all single responsibility modules with have a very from sindre\"","date":"2018-09-18T02:14:28.110Z","type":"message"}
{"nick":"jaawerth","message":"hahaha","date":"2018-09-18T02:14:37.522Z","type":"message"}
{"nick":"hugo__","reason":"Remote host closed the connection","date":"2018-09-18T02:14:37.702Z","type":"quit"}
{"nick":"zsoc","message":"a... very? what was i even trying to type - jeez hands","date":"2018-09-18T02:14:43.923Z","type":"message"}
{"nick":"zsoc","message":"a version?","date":"2018-09-18T02:14:45.369Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T02:14:57.256Z","type":"join"}
{"nick":"zsoc","message":"too much caffeine apparently today","date":"2018-09-18T02:15:01.576Z","type":"message"}
{"nick":"Aquazi","reason":"Quit: Connection closed for inactivity","date":"2018-09-18T02:17:27.415Z","type":"quit"}
{"nick":"zsoc","message":"i like how you avoided pinged R.aynos  but you had no problem pinging jordan xD","date":"2018-09-18T02:17:45.758Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 245 seconds","date":"2018-09-18T02:17:58.347Z","type":"quit"}
{"nick":"jaawerth","message":"hahaha well I know him better","date":"2018-09-18T02:18:17.742Z","type":"message"}
{"nick":"jaawerth","message":"that joke will get a chuckle later","date":"2018-09-18T02:18:58.863Z","type":"message"}
{"nick":"horsey","date":"2018-09-18T02:19:20.954Z","type":"join"}
{"nick":"jaawerth","message":"or.. a light facepalm at worst","date":"2018-09-18T02:19:24.572Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 246 seconds","date":"2018-09-18T02:19:28.255Z","type":"quit"}
{"nick":"ljharb","message":"ᕕ( ᐛ )ᕗ","date":"2018-09-18T02:20:01.560Z","type":"message"}
{"nick":"foodS1urp","date":"2018-09-18T02:21:48.452Z","type":"join"}
{"nick":"jaawerth","message":"OR A KIRBY DANCE too late","date":"2018-09-18T02:21:56.267Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T02:21:59.350Z","type":"join"}
{"nick":"ljharb","message":"༼ つ ◕_◕ ༽つ","date":"2018-09-18T02:22:20.280Z","type":"message"}
{"nick":"zsoc","message":"lel","date":"2018-09-18T02:22:37.567Z","type":"message"}
{"nick":"jaawerth","message":"haha I don't know if I've seen that one before","date":"2018-09-18T02:22:46.601Z","type":"message"}
{"nick":"zsoc","message":"gib","date":"2018-09-18T02:22:53.410Z","type":"message"}
{"nick":"zsoc","message":"gib me","date":"2018-09-18T02:22:54.545Z","type":"message"}
{"nick":"zsoc","message":"plis gib","date":"2018-09-18T02:23:05.843Z","type":"message"}
{"nick":"horsey","reason":"Ping timeout: 246 seconds","date":"2018-09-18T02:23:40.677Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T02:29:24.661Z","type":"join"}
{"nick":"darkhanb","date":"2018-09-18T02:29:45.544Z","type":"join"}
{"nick":"bRinbg","date":"2018-09-18T02:30:14.740Z","type":"join"}
{"nick":"mizu_no_oto_work","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T02:31:02.858Z","type":"quit"}
{"nick":"supernov1h","message":"jaawerth: I read your messages before btw, just to let you know","date":"2018-09-18T02:32:32.260Z","type":"message"}
{"nick":"jaawerth","message":"thanks - I think zsoc got to the core of it","date":"2018-09-18T02:33:15.092Z","type":"message"}
{"nick":"jaawerth","message":"it's a good theory anyway","date":"2018-09-18T02:34:05.534Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 245 seconds","date":"2018-09-18T02:34:13.339Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T02:34:18.758Z","type":"quit"}
{"nick":"lewix","reason":"Ping timeout: 245 seconds","date":"2018-09-18T02:37:58.346Z","type":"quit"}
{"nick":"xrash","reason":"Read error: Connection reset by peer","date":"2018-09-18T02:38:44.744Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T02:38:44.950Z","type":"join"}
{"nick":"Sharaal","date":"2018-09-18T02:40:49.091Z","type":"join"}
{"nick":"JAMESBOND","reason":"Quit: http://www.kiwiirc.com/ - A hand crafted IRC client","date":"2018-09-18T02:42:29.168Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T02:43:49.973Z","type":"join"}
{"nick":"Sharaal","reason":"Ping timeout: 252 seconds","date":"2018-09-18T02:45:06.670Z","type":"quit"}
{"nick":"Acelogic","date":"2018-09-18T02:45:24.784Z","type":"join"}
{"nick":"itaipu","reason":"Ping timeout: 246 seconds","date":"2018-09-18T02:46:04.252Z","type":"quit"}
{"nick":"satire","date":"2018-09-18T02:47:29.755Z","type":"join"}
{"nick":"marthinal","date":"2018-09-18T02:48:09.587Z","type":"join"}
{"nick":"dyl","date":"2018-09-18T02:48:10.541Z","type":"join"}
{"nick":"dyl","reason":"\"Be back later...\"","date":"2018-09-18T02:48:11.690Z","type":"part"}
{"nick":"jsatk","reason":"Ping timeout: 272 seconds","date":"2018-09-18T02:48:14.841Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T02:48:24.688Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T02:48:40.304Z","type":"join"}
{"nick":"Emperor_Earth","reason":"Ping timeout: 264 seconds","date":"2018-09-18T02:52:06.725Z","type":"quit"}
{"nick":"marthinal","reason":"Ping timeout: 252 seconds","date":"2018-09-18T02:52:48.579Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T02:53:09.322Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T02:53:57.302Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T02:58:24.741Z","type":"join"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2018-09-18T03:00:39.300Z","type":"quit"}
{"nick":"smccarthy","date":"2018-09-18T03:01:14.321Z","type":"join"}
{"nick":"jrobeson","message":"ljharb, there's nothing in the scripts docs that says prepare scripts must be regular dependencies. This package https://www.npmjs.com/package/postinstall-build says explicitly that it is deprecated because the functionality is part of prepare","date":"2018-09-18T03:01:28.564Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T03:03:26.907Z","type":"quit"}
{"nick":"lewix","date":"2018-09-18T03:04:12.887Z","type":"join"}
{"nick":"smccarthy","reason":"Ping timeout: 245 seconds","date":"2018-09-18T03:05:28.339Z","type":"quit"}
{"nick":"braincrash","reason":"Quit: bye bye","date":"2018-09-18T03:06:36.702Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 245 seconds","date":"2018-09-18T03:06:43.334Z","type":"quit"}
{"nick":"smccarthy","date":"2018-09-18T03:07:03.253Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T03:07:13.252Z","type":"join"}
{"nick":"hello_kitty","reason":"Ping timeout: 252 seconds","date":"2018-09-18T03:07:36.631Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T03:08:36.333Z","type":"join"}
{"nick":"lewix","reason":"Ping timeout: 272 seconds","date":"2018-09-18T03:09:08.781Z","type":"quit"}
{"nick":"braincrash","date":"2018-09-18T03:10:37.611Z","type":"join"}
{"nick":"Rashad","date":"2018-09-18T03:10:39.446Z","type":"join"}
{"nick":"nrics","date":"2018-09-18T03:10:57.620Z","type":"join"}
{"nick":"nrics","message":"guys....","date":"2018-09-18T03:11:18.586Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 246 seconds","date":"2018-09-18T03:11:37.254Z","type":"quit"}
{"nick":"nrics","message":"<input type=\"text\" class=\"qty\" name=\"qty[]\" value=\"<%= product.qty %>\">","date":"2018-09-18T03:11:37.645Z","type":"message"}
{"nick":"nrics","message":"In my controller: body('qty.*', 'Must ne number').isNumeric().trim(),","date":"2018-09-18T03:12:05.906Z","type":"message"}
{"nick":"nrics","message":"is qty.* correct? but it doesnt give me any errors if i input strings","date":"2018-09-18T03:12:20.466Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T03:12:39.443Z","type":"join"}
{"nick":"zsoc","message":"if the name is qty[] i would assume that's an array...","date":"2018-09-18T03:13:04.849Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 245 seconds","date":"2018-09-18T03:13:23.359Z","type":"quit"}
{"nick":"zsoc","message":"also i have no idea what body() is","date":"2018-09-18T03:13:36.701Z","type":"message"}
{"nick":"nrics","message":"const { body,validationResult } = require('express-validator/check');","date":"2018-09-18T03:15:04.378Z","type":"message"}
{"nick":"nrics","message":"this is body","date":"2018-09-18T03:15:09.136Z","type":"message"}
{"nick":"Rashad","reason":"Ping timeout: 252 seconds","date":"2018-09-18T03:15:09.336Z","type":"quit"}
{"nick":"zsoc","message":"so the express-validator library? this is important information to include when asking questions :p","date":"2018-09-18T03:15:25.691Z","type":"message"}
{"nick":"nrics","message":"sorry to mislead.","date":"2018-09-18T03:15:48.883Z","type":"message"}
{"nick":"nrics","message":"why isnt it working?","date":"2018-09-18T03:16:02.450Z","type":"message"}
{"nick":"zsoc","message":"what makes you think 'qty.*' is a thing? have you seen that somewhere in the docs?","date":"2018-09-18T03:16:08.640Z","type":"message"}
{"nick":"nrics","message":"i saw it in google","date":"2018-09-18T03:16:38.000Z","type":"message"}
{"nick":"nrics","message":"so whats the correct way to do this?","date":"2018-09-18T03:16:49.938Z","type":"message"}
{"nick":"zsoc","message":"google generally gives search results, not code examples","date":"2018-09-18T03:16:50.716Z","type":"message"}
{"nick":"zsoc","message":"did you.. try reading the express-validator documentation?","date":"2018-09-18T03:16:59.952Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 244 seconds","date":"2018-09-18T03:17:21.440Z","type":"quit"}
{"nick":"duderonomy","date":"2018-09-18T03:17:23.212Z","type":"join"}
{"nick":"zsoc","message":"https://express-validator.github.io/docs/wildcards.html","date":"2018-09-18T03:17:28.547Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T03:17:51.578Z","type":"join"}
{"nick":"duderonomy","reason":"Client Quit","date":"2018-09-18T03:18:14.352Z","type":"quit"}
{"nick":"Luxray5474","date":"2018-09-18T03:18:19.753Z","type":"join"}
{"nick":"zsoc","message":"what is the shape of the data you're receiving?","date":"2018-09-18T03:18:31.718Z","type":"message"}
{"nick":"zsoc","message":"is there just qty: [1, 2, 3]? or is it more like,,, [product: { qty: 1 }, product: { qty: 3}, ...] etc","date":"2018-09-18T03:19:00.266Z","type":"message"}
{"nick":"nrics","message":"qty: [1, 2, 3]","date":"2018-09-18T03:19:12.051Z","type":"message"}
{"nick":"zsoc","message":"then... yeah that seems correct","date":"2018-09-18T03:19:20.482Z","type":"message"}
{"nick":"nrics","message":"but it doesnt give any error if i input strings","date":"2018-09-18T03:19:37.908Z","type":"message"}
{"nick":"miliarch","reason":"Read error: Connection reset by peer","date":"2018-09-18T03:20:25.085Z","type":"quit"}
{"nick":"nrics","message":"console.log(errors.array()); return []","date":"2018-09-18T03:20:39.243Z","type":"message"}
{"nick":"zsoc","message":"i mean.. check req.body and make sure the data looks as you expect it?","date":"2018-09-18T03:21:07.613Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T03:22:30.788Z","type":"quit"}
{"nick":"zsoc","message":"also are you using these fns as an array of middleware? because that's how it'is designed to be used i'm pretty sure","date":"2018-09-18T03:22:35.559Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T03:23:08.370Z","type":"join"}
{"nick":"nrics","message":"yes","date":"2018-09-18T03:23:11.196Z","type":"message"}
{"nick":"smccarthy","reason":"Ping timeout: 246 seconds","date":"2018-09-18T03:23:31.256Z","type":"quit"}
{"nick":"smccarthy","date":"2018-09-18T03:24:11.434Z","type":"join"}
{"nick":"zsoc","message":"dunno then - check the shape of the data you're sending... verify it's there at all","date":"2018-09-18T03:24:36.326Z","type":"message"}
{"nick":"ljharb","message":"jrobeson: if it’s not part of regular deps, it won’t be installed, so how can it run","date":"2018-09-18T03:24:36.513Z","type":"message"}
{"nick":"nrics","message":"so is this body('qty.*', 'Must ne number').isNumeric(), correct?","date":"2018-09-18T03:24:38.871Z","type":"message"}
{"nick":"zsoc","message":"no idea - because it's one line of code completely out of context, gist the whole route","date":"2018-09-18T03:24:52.012Z","type":"message"}
{"nick":"zsoc","message":"!gist @ nrics","date":"2018-09-18T03:24:54.547Z","type":"message"}
{"nick":"ecmabot","message":"nrics: Paste code at https://gist.github.com (or a similar site) and name the file .js so that we can look over it. Thanks!","date":"2018-09-18T03:24:54.695Z","type":"message"}
{"nick":"jrobeson","message":"@ljharb, then I don't see how that project can say prepare is a replacement.  but in any case, what if that devdependency is part of the project that is requiring it?","date":"2018-09-18T03:27:10.423Z","type":"message"}
{"nick":"quarters","message":"when making error types, is the only thing that sets them apart the string related to the error?","date":"2018-09-18T03:27:16.260Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 245 seconds","date":"2018-09-18T03:27:33.321Z","type":"quit"}
{"nick":"ljharb","message":"jrobeson: then the consumer would get lucky. That’s not how you want your project to operate tho :-)","date":"2018-09-18T03:27:55.774Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T03:28:02.321Z","type":"join"}
{"nick":"jrobeson","message":"i'll worry about that later","date":"2018-09-18T03:28:08.879Z","type":"message"}
{"nick":"jrobeson","message":"i just want it to work right now","date":"2018-09-18T03:28:15.232Z","type":"message"}
{"nick":"zsoc","message":"quarters: no, assuming there's no cross-realm shenanigans you can test against the error class / constructor itself","date":"2018-09-18T03:28:30.029Z","type":"message"}
{"nick":"zsoc","message":"or you can duck type it based on some unique props or something","date":"2018-09-18T03:28:49.692Z","type":"message"}
{"nick":"nrics","message":"https://gist.github.com/nrics/874bd0b25efa826cb0ae8138bfd6396d","date":"2018-09-18T03:29:00.540Z","type":"message"}
{"nick":"nrics","message":"here it is","date":"2018-09-18T03:29:02.813Z","type":"message"}
{"nick":"nrics","message":"simple code","date":"2018-09-18T03:29:04.807Z","type":"message"}
{"nick":"quarters","message":"zsoc: gotcha. thanks!","date":"2018-09-18T03:29:05.803Z","type":"message"}
{"nick":"zsoc","message":"in bluebird it looks like .catch(MyFooError, err => { ... which will only catch that error type and ignore ('rethrow') the rest - you can sort of do similar with just instanceof checks in your catch block","date":"2018-09-18T03:29:33.213Z","type":"message"}
{"nick":"nrics","message":"The html that matters is just this: <input type=\"text\" class=\"qty\" name=\"qty[]\" value=\"<%= product.qty %>\">","date":"2018-09-18T03:29:40.290Z","type":"message"}
{"nick":"zsoc","message":"the html doesn't matter","date":"2018-09-18T03:29:50.907Z","type":"message"}
{"nick":"zsoc","message":"if you console.log(req.body) - what does it look like","date":"2018-09-18T03:29:59.365Z","type":"message"}
{"nick":"zsoc","message":"you don't want to assume what you think it *should* look like based on the html heh","date":"2018-09-18T03:30:11.408Z","type":"message"}
{"nick":"tm","reason":"Ping timeout: 245 seconds","date":"2018-09-18T03:30:28.485Z","type":"quit"}
{"nick":"nrics","message":"{ 'qty[]': '1dd',   'productid[]': 'Prodid123',   nonce: '38b9934a48febd69dc036ed0bab9b115' }","date":"2018-09-18T03:31:10.725Z","type":"message"}
{"nick":"nrics","message":"it looks like this","date":"2018-09-18T03:31:11.678Z","type":"message"}
{"nick":"zsoc","message":"oh","date":"2018-09-18T03:31:18.135Z","type":"message"}
{"nick":"zsoc","message":"you uh.. probably want to change your body parser","date":"2018-09-18T03:31:25.167Z","type":"message"}
{"nick":"zsoc","message":"because clearly that's not an array heh","date":"2018-09-18T03:31:37.326Z","type":"message"}
{"nick":"nrics","message":"into what form? thank you","date":"2018-09-18T03:32:11.038Z","type":"message"}
{"nick":"zsoc","message":"nrics: assuming you're using body-parser? and bodyParser.urlEncoded() ?","date":"2018-09-18T03:32:23.474Z","type":"message"}
{"nick":"nrics","message":"yes","date":"2018-09-18T03:32:44.983Z","type":"message"}
{"nick":"nrics","message":"thats right","date":"2018-09-18T03:32:48.524Z","type":"message"}
{"nick":"zsoc","message":"so i think you can just pass { extended: true }","date":"2018-09-18T03:33:02.538Z","type":"message"}
{"nick":"quarters","message":"I was wondering what was meant by this: \"some folks would want to try a hash check even if the user isn't found to prevent timing attacks for telling whether a username is correct\"","date":"2018-09-18T03:33:03.908Z","type":"message"}
{"nick":"zsoc","message":"wait do","date":"2018-09-18T03:33:13.101Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T03:33:13.433Z","type":"join"}
{"nick":"zsoc","message":"*no","date":"2018-09-18T03:33:15.086Z","type":"message"}
{"nick":"zsoc","message":"nrics: { extended: false } <-- pass this to bodyParser.urlencoded()","date":"2018-09-18T03:33:40.186Z","type":"message"}
{"nick":"gxt","reason":"Ping timeout: 272 seconds","date":"2018-09-18T03:33:50.910Z","type":"quit"}
{"nick":"nrics","message":"then?","date":"2018-09-18T03:33:58.318Z","type":"message"}
{"nick":"tm","date":"2018-09-18T03:34:05.919Z","type":"join"}
{"nick":"zsoc","message":"this uses `qs` instead of `querystring`, and i'm *pretty sure* `qs` will parse foo[] as an array by default","date":"2018-09-18T03:34:06.114Z","type":"message"}
{"nick":"zsoc","message":"that's it, bodyParser.urlencoded({ extended: false })","date":"2018-09-18T03:34:21.348Z","type":"message"}
{"nick":"lewix","date":"2018-09-18T03:34:27.433Z","type":"join"}
{"nick":"nrics","message":"thats what i did","date":"2018-09-18T03:34:29.360Z","type":"message"}
{"nick":"nrics","message":"that was my default","date":"2018-09-18T03:34:36.270Z","type":"message"}
{"nick":"zsoc","message":"then instead of your body  having strings like 'qty[]' and string values like '1dd', you should have { qty: [1, 'd', 'd'] }","date":"2018-09-18T03:34:40.079Z","type":"message"}
{"nick":"zsoc","message":"extended: false was your *default*?","date":"2018-09-18T03:34:46.749Z","type":"message"}
{"nick":"nrics","message":"yes","date":"2018-09-18T03:34:50.954Z","type":"message"}
{"nick":"zsoc","message":"uh, then switch it to true? make it the one it isn't lol","date":"2018-09-18T03:34:51.885Z","type":"message"}
{"nick":"nrics","message":"ok","date":"2018-09-18T03:34:56.228Z","type":"message"}
{"nick":"nrics","message":"yes","date":"2018-09-18T03:35:25.255Z","type":"message"}
{"nick":"nrics","message":"thats correct","date":"2018-09-18T03:35:27.042Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T03:35:27.427Z","type":"quit"}
{"nick":"nrics","message":"now its an array look","date":"2018-09-18T03:35:33.859Z","type":"message"}
{"nick":"nrics","message":"thank you zsoc","date":"2018-09-18T03:35:38.387Z","type":"message"}
{"nick":"zsoc","message":"riiiiight, `true` is `qs`.. and actually that's default if you leave it out entirely, but apparently you're supposed to be explicit","date":"2018-09-18T03:35:39.406Z","type":"message"}
{"nick":"nrics","message":"very much","date":"2018-09-18T03:35:40.374Z","type":"message"}
{"nick":"zsoc","message":"so now it should work :)","date":"2018-09-18T03:35:42.362Z","type":"message"}
{"nick":"zsoc","message":"sometimes troubleshooting is just... 1 step at a time lol","date":"2018-09-18T03:35:50.959Z","type":"message"}
{"nick":"zsoc","message":"gl","date":"2018-09-18T03:35:51.391Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T03:36:30.311Z","type":"join"}
{"nick":"zsoc","message":"quarters: in other words - if you check for a user and it doesn't exist, you throw and response 401 or whatever.... if you check with a user that *does* exist, now you go and test the supplied hash","date":"2018-09-18T03:37:02.727Z","type":"message"}
{"nick":"zsoc","message":"that takes longer","date":"2018-09-18T03:37:04.893Z","type":"message"}
{"nick":"zsoc","message":"so if i am measuring time it takes for your server to respond, and i try a bunch of users - technically i can figure out which users exist and which don't","date":"2018-09-18T03:37:27.121Z","type":"message"}
{"nick":"zsoc","message":"this isn't necessarily a problem except in higher security type things...","date":"2018-09-18T03:37:36.144Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2018-09-18T03:37:47.435Z","type":"quit"}
{"nick":"quarters","message":"zsoc: aaah gotcha. measured by time, not by the error message issued.  clever!","date":"2018-09-18T03:37:55.161Z","type":"message"}
{"nick":"quarters","message":"I thought that a generic error message can be an adequate deterrent","date":"2018-09-18T03:38:15.051Z","type":"message"}
{"nick":"nrics","message":"ok thank you. i have gotta go","date":"2018-09-18T03:38:23.284Z","type":"message"}
{"nick":"nrics","message":"bye","date":"2018-09-18T03:38:27.440Z","type":"message"}
{"nick":"zsoc","message":"nrics: later :)","date":"2018-09-18T03:38:28.683Z","type":"message"}
{"nick":"nrics","reason":"Quit: Page closed","date":"2018-09-18T03:38:31.000Z","type":"quit"}
{"nick":"lewix","reason":"Ping timeout: 240 seconds","date":"2018-09-18T03:38:47.327Z","type":"quit"}
{"nick":"zsoc","message":"quarters: so what he was saying was that if you just check some hash *anyway*, even if it's not with a valid user hash.. the response should be a similar time","date":"2018-09-18T03:38:49.472Z","type":"message"}
{"nick":"quarters","message":"definitely","date":"2018-09-18T03:38:56.513Z","type":"message"}
{"nick":"quarters","message":"that's so awesome","date":"2018-09-18T03:39:03.128Z","type":"message"}
{"nick":"zsoc","message":"but again... this is in systems where you have the requirement to not leak user existence - it's not necessarily a generally needed security practice","date":"2018-09-18T03:39:37.892Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 245 seconds","date":"2018-09-18T03:40:53.336Z","type":"quit"}
{"nick":"quarters","message":"zsoc: your argument being that it's especially unnecessary if it comes with big UX penalty?","date":"2018-09-18T03:41:13.177Z","type":"message"}
{"nick":"zsoc","message":"well i've heard both arguments extensively... and yeah i lean towards the latter","date":"2018-09-18T03:41:30.277Z","type":"message"}
{"nick":"zsoc","message":"it can be frustrating to try to recover login info if the system won't even tell you that you used that email address","date":"2018-09-18T03:41:49.928Z","type":"message"}
{"nick":"gxt","date":"2018-09-18T03:41:50.907Z","type":"join"}
{"nick":"zsoc","message":"some of us have many email addresses :p","date":"2018-09-18T03:41:56.028Z","type":"message"}
{"nick":"zsoc","message":"if it's a sensitive system, then full stop you just do it because it's best practice.... (or if it's sensitive to your users for others to find out they *use* your system)","date":"2018-09-18T03:42:21.412Z","type":"message"}
{"nick":"quarters","message":"oh, speaking of login recovery, is nodemailer the goto for something like that when using node as the backend?","date":"2018-09-18T03:43:03.604Z","type":"message"}
{"nick":"Sven_vB","reason":"Remote host closed the connection","date":"2018-09-18T03:43:04.177Z","type":"quit"}
{"nick":"zsoc","message":"also there's extra difficultly in dealing with the registration form... because obv you can't only allow an email a single time (or you would give up user existence on that check).... so..","date":"2018-09-18T03:43:09.556Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T03:43:52.438Z","type":"join"}
{"nick":"quarters","message":"sensitive probably meaning tied to money?","date":"2018-09-18T03:44:20.122Z","type":"message"}
{"nick":"quarters","message":"like bank account management","date":"2018-09-18T03:44:30.079Z","type":"message"}
{"nick":"quarters","message":"or even maybe ecommerce accounts?","date":"2018-09-18T03:44:38.768Z","type":"message"}
{"nick":"zsoc","message":"uh... well not only financial... but like, maybe a service that people wouldn't publically want to be known as using","date":"2018-09-18T03:44:45.629Z","type":"message"}
{"nick":"Sven_vB","date":"2018-09-18T03:44:52.842Z","type":"join"}
{"nick":"zsoc","message":"nodemailer has had some shaky past things with licensing and dependencies / breaking changes - but current versions of it are still okay, i think?","date":"2018-09-18T03:45:14.225Z","type":"message"}
{"nick":"foodS1urp","reason":"Ping timeout: 252 seconds","date":"2018-09-18T03:45:24.301Z","type":"quit"}
{"nick":"smccarthy","reason":"Ping timeout: 240 seconds","date":"2018-09-18T03:45:27.332Z","type":"quit"}
{"nick":"zsoc","message":"quarters: but if you're sending transactional emails, just use a transactional email service and their client api lib","date":"2018-09-18T03:45:50.509Z","type":"message"}
{"nick":"zsoc","message":"many of them have free tiers, they are breeze to work with *and* your emails will actually get to where they are going","date":"2018-09-18T03:46:03.054Z","type":"message"}
{"nick":"quarters","message":"zsoc: is that like sendgrid?","date":"2018-09-18T03:46:22.167Z","type":"message"}
{"nick":"zsoc","message":"yeah, sendgrid.com is good - and it's 100 emails a day free","date":"2018-09-18T03:46:34.472Z","type":"message"}
{"nick":"xxxx_","reason":"Remote host closed the connection","date":"2018-09-18T03:46:39.604Z","type":"quit"}
{"nick":"zsoc","message":"you sort of have to use an smtp service these days... trying to warm your own ip and get trusted with various services and networks is neigh impossible","date":"2018-09-18T03:47:18.604Z","type":"message"}
{"nick":"quarters","message":"so that level of security is probably completely unnecessary for social media sites where the username is exposed publicly.","date":"2018-09-18T03:47:44.200Z","type":"message"}
{"nick":"zsoc","message":"right","date":"2018-09-18T03:47:49.846Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T03:47:57.446Z","type":"join"}
{"nick":"zsoc","message":"mailgun claims 10,000 emails free a month? that's interesting... i wonder if deliverability is worse than sendgrid","date":"2018-09-18T03:48:13.448Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 244 seconds","date":"2018-09-18T03:48:21.522Z","type":"quit"}
{"nick":"zsoc","message":"SES isn't bad either (amazon's thing), it's like 50k free a month but you have to scale it and it's.. not as easy to work with.. it's an AWS service so.. yeah lol","date":"2018-09-18T03:49:15.729Z","type":"message"}
{"nick":"smccarthy","date":"2018-09-18T03:49:17.529Z","type":"join"}
{"nick":"xxxx_","date":"2018-09-18T03:49:37.827Z","type":"join"}
{"nick":"Sharaal","date":"2018-09-18T03:50:05.070Z","type":"join"}
{"nick":"quarters","message":"oh cool. so it sounds like there's no way around using a service for that. I can't simply install a module on node and let that handle everything for me","date":"2018-09-18T03:50:11.549Z","type":"message"}
{"nick":"zsoc","message":"you *can*","date":"2018-09-18T03:50:19.127Z","type":"message"}
{"nick":"quarters","message":"but it's a PITA?","date":"2018-09-18T03:50:30.655Z","type":"message"}
{"nick":"zsoc","message":"it's just that sending an email from your.random.hostname.server.com is likely to just be outright rejected","date":"2018-09-18T03:50:31.922Z","type":"message"}
{"nick":"quarters","message":"ah ok","date":"2018-09-18T03:50:43.206Z","type":"message"}
{"nick":"zsoc","message":"email is an ancient and messy technology \"solved\" by adding increasing layers of heuristics on top of it and setting it all on fire","date":"2018-09-18T03:51:07.814Z","type":"message"}
{"nick":"zsoc","message":"a mountain of trashfire.. if you will","date":"2018-09-18T03:51:17.416Z","type":"message"}
{"nick":"xxxx_","reason":"Remote host closed the connection","date":"2018-09-18T03:51:27.897Z","type":"quit"}
{"nick":"xxxx_","date":"2018-09-18T03:52:02.161Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T03:52:33.491Z","type":"quit"}
{"nick":"zsoc","message":"nodemailer is apparently MIT again since v4.... i question tho any library that has a giant scope like... \"email\" and has zero dependencies","date":"2018-09-18T03:52:34.764Z","type":"message"}
{"nick":"zsoc","message":"that's terrifying to me","date":"2018-09-18T03:52:36.423Z","type":"message"}
{"nick":"markasoftware","message":"when did we get `for of` in node?","date":"2018-09-18T03:52:44.261Z","type":"message"}
{"nick":"jottr","date":"2018-09-18T03:53:00.822Z","type":"join"}
{"nick":"zsoc","message":"i'm going to say es6","date":"2018-09-18T03:53:00.971Z","type":"message"}
{"nick":"zsoc","message":"for..of is less broken for..in","date":"2018-09-18T03:53:08.233Z","type":"message"}
{"nick":"quarters","message":"thanks again, zsoc","date":"2018-09-18T03:53:11.040Z","type":"message"}
{"nick":"GreenJello","date":"2018-09-18T03:53:12.694Z","type":"join"}
{"nick":"zsoc","message":":)","date":"2018-09-18T03:53:15.274Z","type":"message"}
{"nick":"markasoftware","message":"i mean like which node version, it was in 8, right?","date":"2018-09-18T03:53:21.712Z","type":"message"}
{"nick":"zsoc","message":"node.green","date":"2018-09-18T03:53:26.633Z","type":"message"}
{"nick":"markasoftware","message":"i like for of because it's a bit nicer with async/await syntax","date":"2018-09-18T03:53:31.425Z","type":"message"}
{"nick":"markasoftware","message":"otherwise i have to mess with Promise.all and map","date":"2018-09-18T03:53:37.184Z","type":"message"}
{"nick":"zsoc","message":"looks like 6.14.4","date":"2018-09-18T03:53:42.432Z","type":"message"}
{"nick":"markasoftware","message":"great, thanks","date":"2018-09-18T03:53:46.111Z","type":"message"}
{"nick":"zsoc","message":"but you should embrace the functional paradigms :p","date":"2018-09-18T03:54:07.810Z","type":"message"}
{"nick":"darkSeid","reason":"Ping timeout: 250 seconds","date":"2018-09-18T03:54:20.747Z","type":"quit"}
{"nick":"zsoc","message":"also they aren't the same thing - for..of with await runs your actions in series, so it's significantly slow than Promise.all(Array#map...)","date":"2018-09-18T03:54:38.499Z","type":"message"}
{"nick":"Sharaal","reason":"Ping timeout: 252 seconds","date":"2018-09-18T03:54:39.888Z","type":"quit"}
{"nick":"zsoc","message":"unless of course you want that, and then go for it","date":"2018-09-18T03:54:49.728Z","type":"message"}
{"nick":"zsoc","message":"quarters: apparently you can use nodemailer as an abstraction around smtp... so you can still use sendgrid or whatever and if in the future you decide to change providers you can keep the rest of the code.. so that's nice","date":"2018-09-18T03:56:19.306Z","type":"message"}
{"nick":"markasoftware","message":"i'm really liking rambda, lenses are dope","date":"2018-09-18T03:56:33.265Z","type":"message"}
{"nick":"markasoftware","message":"talking about functional programming","date":"2018-09-18T03:56:47.693Z","type":"message"}
{"nick":"zsoc","message":"lenses do make deep deep objects a ton less of a pain","date":"2018-09-18T03:57:07.969Z","type":"message"}
{"nick":"markasoftware","message":"deep deep objects make programming more of a pain","date":"2018-09-18T03:57:20.810Z","type":"message"}
{"nick":"zsoc","message":"but every time i mention lensing, ljh reminds me that deep object hierarchies is code smell","date":"2018-09-18T03:57:20.958Z","type":"message"}
{"nick":"zsoc","message":"and i'm yet to get him to describe the solution for problems that require at least some depth of data schema :p","date":"2018-09-18T03:57:56.805Z","type":"message"}
{"nick":"markasoftware","message":"I don't think lenses can really apply to my use, but I have a project where there's deeply nested objects which are automatically and temporarily created from a flat structure","date":"2018-09-18T03:58:10.878Z","type":"message"}
{"nick":"markasoftware","message":"that's not a code smell in my book","date":"2018-09-18T03:58:16.675Z","type":"message"}
{"nick":"quarters","message":"zsoc: nice. this is all very new to me, so I'll work with nodemailer, as you also seem to vouch for it despite its checkered history, which I didn't know about","date":"2018-09-18T03:58:24.502Z","type":"message"}
{"nick":"zsoc","message":"yeah, sometimes packages can clean up after a checkered history just fine... sometimes they don't :p","date":"2018-09-18T03:58:41.673Z","type":"message"}
{"nick":"jottr","reason":"Ping timeout: 240 seconds","date":"2018-09-18T03:58:47.342Z","type":"quit"}
{"nick":"zsoc","message":"markasoftware: sounds fine to me :)","date":"2018-09-18T03:58:49.450Z","type":"message"}
{"nick":"Roughy","reason":"Quit: Meadow Fresh milk","date":"2018-09-18T03:59:40.518Z","type":"quit"}
{"nick":"howdoi","date":"2018-09-18T04:02:01.983Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T04:02:27.826Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T04:02:44.340Z","type":"join"}
{"nick":"devc","reason":"Quit: hasta lasagna","date":"2018-09-18T04:04:35.397Z","type":"quit"}
{"nick":"markasoftware","message":"R.lensProp is not in rambda by default?","date":"2018-09-18T04:04:36.343Z","type":"message"}
{"nick":"lanlink","date":"2018-09-18T04:04:48.332Z","type":"join"}
{"nick":"markasoftware","message":"or R.over...is there some other package i need for most of the functions?","date":"2018-09-18T04:05:49.661Z","type":"message"}
{"nick":"markasoftware","message":"oh it's ramda not rambda","date":"2018-09-18T04:06:27.691Z","type":"message"}
{"nick":"markasoftware","message":"i hope i didn't get some malware :)","date":"2018-09-18T04:06:33.552Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T04:07:07.345Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 272 seconds","date":"2018-09-18T04:07:24.904Z","type":"quit"}
{"nick":"lewix","date":"2018-09-18T04:09:03.698Z","type":"join"}
{"nick":"satire","reason":"Quit: 129","date":"2018-09-18T04:09:47.283Z","type":"quit"}
{"nick":"ShekharReddy","reason":"Quit: Connection closed for inactivity","date":"2018-09-18T04:11:35.062Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T04:12:24.511Z","type":"join"}
{"nick":"lewix","reason":"Ping timeout: 252 seconds","date":"2018-09-18T04:13:39.586Z","type":"quit"}
{"nick":"colwem_","date":"2018-09-18T04:14:16.764Z","type":"join"}
{"nick":"colwem","reason":"Ping timeout: 244 seconds","date":"2018-09-18T04:16:46.467Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2018-09-18T04:17:04.693Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T04:17:54.331Z","type":"join"}
{"nick":"Luxray5474","message":"good morning everyone","date":"2018-09-18T04:18:08.854Z","type":"message"}
{"nick":"Acelogic","reason":"Read error: Connection reset by peer","date":"2018-09-18T04:19:27.472Z","type":"quit"}
{"nick":"marthinal","date":"2018-09-18T04:20:15.483Z","type":"join"}
{"nick":"esrse","reason":"Ping timeout: 252 seconds","date":"2018-09-18T04:20:15.645Z","type":"quit"}
{"nick":"horsey","date":"2018-09-18T04:20:23.337Z","type":"join"}
{"nick":"doodadjs","action":"smells its computer screen and concludes \"fine, my code doesn't smell\"","date":"2018-09-18T04:20:39.188Z","type":"action"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T04:22:27.423Z","type":"quit"}
{"nick":"the_ant","date":"2018-09-18T04:24:15.706Z","type":"join"}
{"nick":"horsey","reason":"Ping timeout: 272 seconds","date":"2018-09-18T04:25:08.818Z","type":"quit"}
{"nick":"esrse","date":"2018-09-18T04:25:23.268Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T04:26:56.256Z","type":"join"}
{"nick":"theWhisper_","reason":"Ping timeout: 252 seconds","date":"2018-09-18T04:29:03.689Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T04:29:25.261Z","type":"join"}
{"nick":"GreenJello","message":"markasoftware, don't use lensProp, use lensPath","date":"2018-09-18T04:29:27.226Z","type":"message"}
{"nick":"GreenJello","message":"markasoftware, even if it's only one item; lensProp doesn't compose properly","date":"2018-09-18T04:29:48.256Z","type":"message"}
{"nick":"led_dark_1","reason":"Quit: led_dark_1","date":"2018-09-18T04:31:16.169Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 246 seconds","date":"2018-09-18T04:31:25.256Z","type":"quit"}
{"nick":"optikalmouse","date":"2018-09-18T04:31:31.324Z","type":"join"}
{"nick":"bf_","reason":"Quit: KVIrc 4.2.0 Equilibrium http://www.kvirc.net/","date":"2018-09-18T04:31:39.782Z","type":"quit"}
{"nick":"tocka","date":"2018-09-18T04:31:45.659Z","type":"join"}
{"nick":"bRinbg","reason":"Remote host closed the connection","date":"2018-09-18T04:32:13.758Z","type":"quit"}
{"nick":"bRinbg","date":"2018-09-18T04:33:09.711Z","type":"join"}
{"nick":"toi","date":"2018-09-18T04:33:47.367Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 246 seconds","date":"2018-09-18T04:33:52.249Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T04:34:36.254Z","type":"join"}
{"nick":"systemfault","message":"GreenJello: Is ramda really the best we have? :( Still trying to decide what utility lib to use for my current project","date":"2018-09-18T04:35:41.414Z","type":"message"}
{"nick":"GreenJello","message":"systemfault, IMO it's the best general fp utility library, but lodash/fp is a close second aside from the shit docs","date":"2018-09-18T04:37:50.798Z","type":"message"}
{"nick":"xxxx_","reason":"Remote host closed the connection","date":"2018-09-18T04:37:51.363Z","type":"quit"}
{"nick":"Arcarc","date":"2018-09-18T04:38:04.254Z","type":"join"}
{"nick":"systemfault","message":"GreenJello: Okay, I'll go with it :)","date":"2018-09-18T04:38:19.951Z","type":"message"}
{"nick":"GreenJello","message":"systemfault, you might use lodash/fp because it reuses most of the lodash code","date":"2018-09-18T04:38:21.344Z","type":"message"}
{"nick":"xxxx_","date":"2018-09-18T04:38:22.967Z","type":"join"}
{"nick":"dysfigured","message":"lodash/fp is a dumpster fire","date":"2018-09-18T04:38:49.621Z","type":"message"}
{"nick":"GreenJello","message":"since it's likely that some dep of a dep is pulling in lodash entirely, you're already paying for it","date":"2018-09-18T04:38:51.324Z","type":"message"}
{"nick":"systemfault","message":"It's for a new project, I'm still working on the webpack setup with HMR and all..","date":"2018-09-18T04:39:23.143Z","type":"message"}
{"nick":"alexi5_","date":"2018-09-18T04:39:23.831Z","type":"join"}
{"nick":"GreenJello","message":"systemfault, but e.g. for lenses, ramda chooses the more basic version, while there are other types of lenses that require separate libraries","date":"2018-09-18T04:40:00.027Z","type":"message"}
{"nick":"w0ng","reason":"Quit: leaving","date":"2018-09-18T04:41:22.085Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T04:41:22.633Z","type":"join"}
{"nick":"w0ng","date":"2018-09-18T04:41:40.525Z","type":"join"}
{"nick":"optikalmouse","reason":"Ping timeout: 245 seconds","date":"2018-09-18T04:42:08.294Z","type":"quit"}
{"nick":"alexi5","reason":"Ping timeout: 252 seconds","date":"2018-09-18T04:42:15.571Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 246 seconds","date":"2018-09-18T04:42:37.249Z","type":"quit"}
{"nick":"alexi5_","date":"2018-09-18T04:44:55.917Z","type":"quit"}
{"nick":"dysfigured","message":"markasoftware: i tend to make a small helper for lenses using ramda:   const overPath = R.curry((l, f, x) => R.over(R.lensPath(l), f, x))","date":"2018-09-18T04:45:37.129Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T04:46:06.572Z","type":"quit"}
{"nick":"xxxx_","reason":"Remote host closed the connection","date":"2018-09-18T04:46:28.696Z","type":"quit"}
{"nick":"xxxx_","date":"2018-09-18T04:47:00.080Z","type":"join"}
{"nick":"dysfigured","message":"and if you want to know why i dislike lodash/fp, try   L=require('lodash/fp')  in a repl and look at the functions","date":"2018-09-18T04:49:01.161Z","type":"message"}
{"nick":"hemstock","reason":"Read error: Connection reset by peer","date":"2018-09-18T04:49:44.013Z","type":"quit"}
{"nick":"heyitsrama","reason":"Remote host closed the connection","date":"2018-09-18T04:49:49.747Z","type":"quit"}
{"nick":"heyitsrama","date":"2018-09-18T04:50:22.438Z","type":"join"}
{"nick":"heyitsrama","reason":"Remote host closed the connection","date":"2018-09-18T04:51:23.075Z","type":"quit"}
{"nick":"hemstock","date":"2018-09-18T04:51:45.520Z","type":"join"}
{"nick":"Sharaal","date":"2018-09-18T04:51:57.778Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T04:53:34.323Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T04:55:59.437Z","type":"join"}
{"nick":"Sharaal","reason":"Ping timeout: 264 seconds","date":"2018-09-18T04:56:54.711Z","type":"quit"}
{"nick":"optikalmouse","date":"2018-09-18T04:58:41.249Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2018-09-18T05:00:27.320Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T05:01:18.296Z","type":"quit"}
{"nick":"lanlink","reason":"Remote host closed the connection","date":"2018-09-18T05:02:06.002Z","type":"quit"}
{"nick":"duderonomy","date":"2018-09-18T05:02:55.243Z","type":"join"}
{"nick":"lewix","date":"2018-09-18T05:06:09.324Z","type":"join"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2018-09-18T05:06:38.634Z","type":"quit"}
{"nick":"Taylor","reason":"Excess Flood","date":"2018-09-18T05:07:06.223Z","type":"quit"}
{"nick":"smccarthy","date":"2018-09-18T05:07:13.468Z","type":"join"}
{"nick":"Luxray5474","reason":"Quit: Lost terminal","date":"2018-09-18T05:07:54.527Z","type":"quit"}
{"nick":"Sven_vB","reason":"Remote host closed the connection","date":"2018-09-18T05:08:22.210Z","type":"quit"}
{"nick":"Sven_vB","date":"2018-09-18T05:08:49.770Z","type":"join"}
{"nick":"CarlenWhite","reason":"Ping timeout: 264 seconds","date":"2018-09-18T05:10:06.903Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T05:10:29.470Z","type":"join"}
{"nick":"lewix","reason":"Ping timeout: 245 seconds","date":"2018-09-18T05:10:53.297Z","type":"quit"}
{"nick":"Taylor","date":"2018-09-18T05:11:17.800Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T05:11:27.702Z","type":"join"}
{"nick":"tristanp","reason":"Remote host closed the connection","date":"2018-09-18T05:11:36.996Z","type":"quit"}
{"nick":"optikalmouse","reason":"Quit: Leaving","date":"2018-09-18T05:11:50.303Z","type":"quit"}
{"nick":"optikalmouse","date":"2018-09-18T05:12:08.618Z","type":"join"}
{"nick":"texinwi81","reason":"Read error: Connection reset by peer","date":"2018-09-18T05:15:14.738Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 264 seconds","date":"2018-09-18T05:15:30.706Z","type":"quit"}
{"nick":"texinwien","date":"2018-09-18T05:15:37.906Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 264 seconds","date":"2018-09-18T05:20:18.720Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T05:20:32.572Z","type":"join"}
{"nick":"heyitsrama","date":"2018-09-18T05:21:57.622Z","type":"join"}
{"nick":"reverse_light","reason":"Remote host closed the connection","date":"2018-09-18T05:23:17.283Z","type":"quit"}
{"nick":"texinwi42","date":"2018-09-18T05:24:11.918Z","type":"join"}
{"nick":"smccarthy","reason":"Remote host closed the connection","date":"2018-09-18T05:24:12.266Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T05:24:57.506Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T05:25:09.630Z","type":"quit"}
{"nick":"texinwi42","reason":"Read error: Connection reset by peer","date":"2018-09-18T05:25:27.971Z","type":"quit"}
{"nick":"texinwien","reason":"Read error: Connection reset by peer","date":"2018-09-18T05:25:36.199Z","type":"quit"}
{"nick":"texinwien","date":"2018-09-18T05:25:53.253Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T05:26:05.321Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T05:29:48.914Z","type":"quit"}
{"nick":"sQVe","date":"2018-09-18T05:30:35.480Z","type":"join"}
{"nick":"lpin","date":"2018-09-18T05:35:48.278Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T05:36:07.335Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T05:39:25.256Z","type":"join"}
{"nick":"erratic","reason":"Ping timeout: 252 seconds","date":"2018-09-18T05:40:15.992Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T05:42:09.269Z","type":"join"}
{"nick":"BeerLover","date":"2018-09-18T05:43:38.326Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 246 seconds","date":"2018-09-18T05:43:52.268Z","type":"quit"}
{"nick":"the_ant1","date":"2018-09-18T05:45:08.330Z","type":"join"}
{"nick":"the_ant","reason":"Ping timeout: 240 seconds","date":"2018-09-18T05:45:34.707Z","type":"quit"}
{"nick":"the_ant1","new_nick":"the_ant","date":"2018-09-18T05:45:35.126Z","type":"nick"}
{"nick":"xxxx_","reason":"Remote host closed the connection","date":"2018-09-18T05:46:32.860Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 245 seconds","date":"2018-09-18T05:46:43.355Z","type":"quit"}
{"nick":"xxxx_","date":"2018-09-18T05:47:03.966Z","type":"join"}
{"nick":"ahmedelgabri","date":"2018-09-18T05:48:02.645Z","type":"join"}
{"nick":"akiva","date":"2018-09-18T05:52:35.558Z","type":"join"}
{"nick":"ahmedelgabri","reason":"Quit: WeeChat 2.2","date":"2018-09-18T05:53:04.530Z","type":"quit"}
{"nick":"Immune","reason":"Ping timeout: 246 seconds","date":"2018-09-18T05:53:19.256Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T05:53:51.367Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T05:53:52.254Z","type":"join"}
{"nick":"RatherOutspoken","date":"2018-09-18T05:54:05.692Z","type":"join"}
{"nick":"jottr","date":"2018-09-18T05:55:44.769Z","type":"join"}
{"nick":"xxxx_","reason":"Remote host closed the connection","date":"2018-09-18T05:57:12.109Z","type":"quit"}
{"nick":"xxxx_","date":"2018-09-18T05:57:42.667Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T05:58:30.300Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 246 seconds","date":"2018-09-18T06:02:25.253Z","type":"quit"}
{"nick":"humbot","date":"2018-09-18T06:02:32.756Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T06:02:51.319Z","type":"join"}
{"nick":"jottr","reason":"Ping timeout: 244 seconds","date":"2018-09-18T06:03:43.468Z","type":"quit"}
{"nick":"arunkumar413","date":"2018-09-18T06:04:19.676Z","type":"join"}
{"nick":"arunkumar413","message":"Hi All","date":"2018-09-18T06:06:17.878Z","type":"message"}
{"nick":"arunkumar413","message":"How to set the req.user property in serialise and deserialislze functions of GitHub strategy using passport.js","date":"2018-09-18T06:07:21.808Z","type":"message"}
{"nick":"arunkumar413","message":"I want to use the GitHub provided by GitHub for serialising and de serialising","date":"2018-09-18T06:08:20.845Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T06:08:21.547Z","type":"join"}
{"nick":"Sharaal","date":"2018-09-18T06:08:36.991Z","type":"join"}
{"nick":"jf","date":"2018-09-18T06:10:00.365Z","type":"join"}
{"nick":"lewix","date":"2018-09-18T06:11:45.689Z","type":"join"}
{"nick":"tristanp","date":"2018-09-18T06:12:05.703Z","type":"join"}
{"nick":"kraft","reason":"Remote host closed the connection","date":"2018-09-18T06:12:30.767Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 244 seconds","date":"2018-09-18T06:13:01.564Z","type":"quit"}
{"nick":"Sharaal","reason":"Ping timeout: 252 seconds","date":"2018-09-18T06:13:15.905Z","type":"quit"}
{"nick":"kraft","date":"2018-09-18T06:14:06.263Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T06:14:27.434Z","type":"quit"}
{"nick":"jf","reason":"Remote host closed the connection","date":"2018-09-18T06:14:44.685Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T06:15:01.683Z","type":"join"}
{"nick":"the_ant","reason":"Remote host closed the connection","date":"2018-09-18T06:16:02.406Z","type":"quit"}
{"nick":"Caspinol","date":"2018-09-18T06:16:29.544Z","type":"join"}
{"nick":"tristanp","reason":"Ping timeout: 240 seconds","date":"2018-09-18T06:16:34.724Z","type":"quit"}
{"nick":"lewix","reason":"Ping timeout: 240 seconds","date":"2018-09-18T06:16:34.872Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T06:19:34.702Z","type":"quit"}
{"nick":"lsyoyom","reason":"Ping timeout: 244 seconds","date":"2018-09-18T06:19:44.520Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T06:20:04.754Z","type":"join"}
{"nick":"mooe","date":"2018-09-18T06:20:15.753Z","type":"join"}
{"nick":"horsey_","date":"2018-09-18T06:21:20.518Z","type":"join"}
{"nick":"Sven_vB","reason":"Remote host closed the connection","date":"2018-09-18T06:22:45.150Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T06:22:59.304Z","type":"join"}
{"nick":"Sven_vB","date":"2018-09-18T06:23:12.806Z","type":"join"}
{"nick":"horsey_","reason":"Ping timeout: 252 seconds","date":"2018-09-18T06:26:00.298Z","type":"quit"}
{"nick":"heyitsrama","reason":"Remote host closed the connection","date":"2018-09-18T06:26:01.755Z","type":"quit"}
{"nick":"darutoko-","date":"2018-09-18T06:26:19.314Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T06:27:39.411Z","type":"quit"}
{"nick":"nd__","date":"2018-09-18T06:29:23.252Z","type":"join"}
{"nick":"zsoc","message":"arunkumar413: what happens when you get the webhook back from hithub? i assume you get a token of some sort that represents that user is valid and connected to your app with github?","date":"2018-09-18T06:29:33.648Z","type":"message"}
{"nick":"rendar","date":"2018-09-18T06:30:30.169Z","type":"join"}
{"nick":"Silvering","date":"2018-09-18T06:32:36.109Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T06:33:04.439Z","type":"join"}
{"nick":"keepLearning512","date":"2018-09-18T06:33:07.954Z","type":"join"}
{"nick":"arunkumar413","message":"I'm getting a cast error","date":"2018-09-18T06:34:47.855Z","type":"message"}
{"nick":"thomas_25","date":"2018-09-18T06:34:54.529Z","type":"join"}
{"nick":"johnny56","reason":"Ping timeout: 272 seconds","date":"2018-09-18T06:34:58.913Z","type":"quit"}
{"nick":"arunkumar413","message":"Also not sure which property is being serialised","date":"2018-09-18T06:35:12.261Z","type":"message"}
{"nick":"zsoc","message":"that is the opposite of answering my question lol","date":"2018-09-18T06:35:14.387Z","type":"message"}
{"nick":"zsoc","message":"what do you get back from github api that proves the user is logged in","date":"2018-09-18T06:35:28.772Z","type":"message"}
{"nick":"arunkumar413","message":"I'm getting an object","date":"2018-09-18T06:35:45.013Z","type":"message"}
{"nick":"zsoc","message":"....","date":"2018-09-18T06:35:48.654Z","type":"message"}
{"nick":"zsoc","message":"yes of course, but it should have a bunch of stuff on it","date":"2018-09-18T06:35:56.356Z","type":"message"}
{"nick":"zsoc","message":"probably including username, maybe full name, email, and a *token*","date":"2018-09-18T06:36:04.668Z","type":"message"}
{"nick":"zsoc","message":"it's not a secret, you can console.log() and look at it :p","date":"2018-09-18T06:36:13.506Z","type":"message"}
{"nick":"zsoc","message":"or read their api","date":"2018-09-18T06:36:16.709Z","type":"message"}
{"nick":"arunkumar413","message":"With details such as GitHub I'd, email, location, profile url","date":"2018-09-18T06:36:25.882Z","type":"message"}
{"nick":"zsoc","message":"right","date":"2018-09-18T06:36:31.180Z","type":"message"}
{"nick":"zsoc","message":"but there should *definitely be a token*, almost always","date":"2018-09-18T06:36:43.088Z","type":"message"}
{"nick":"notnull","reason":"Ping timeout: 250 seconds","date":"2018-09-18T06:36:53.678Z","type":"quit"}
{"nick":"arunkumar413","message":"Of all these GitHub id unique and cannot be changed","date":"2018-09-18T06:37:02.877Z","type":"message"}
{"nick":"zsoc","message":"anyway, when you get the hook back - check your database for a user that already has that githubId - if you don't find one, create a new user with that githubId","date":"2018-09-18T06:37:10.422Z","type":"message"}
{"nick":"arunkumar413","message":"And I want to attcht this to req.user","date":"2018-09-18T06:37:23.559Z","type":"message"}
{"nick":"zsoc","message":"and include the email and.. well probably only the other things you need","date":"2018-09-18T06:37:26.089Z","type":"message"}
{"nick":"zsoc","message":"forget about that for a second","date":"2018-09-18T06:37:29.266Z","type":"message"}
{"nick":"zsoc","message":"first you have to save the stuff","date":"2018-09-18T06:37:33.959Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T06:38:06.439Z","type":"quit"}
{"nick":"zsoc","message":"then after you save the user (or find the existing one) and you update timestamps or whatever you want to touch... set your req.session.user.githubId as their id","date":"2018-09-18T06:38:18.196Z","type":"message"}
{"nick":"zsoc","message":"then in your serialize function, find the user by their req.session.user.githubId and return that to passport - it will set your whole user obj as req.user","date":"2018-09-18T06:38:53.639Z","type":"message"}
{"nick":"zsoc","message":"where's the code you gisted the other day? do you have that still to see","date":"2018-09-18T06:39:03.121Z","type":"message"}
{"nick":"zsoc","message":"in other words - you don't attached anything directly to req.user - you save it to the db and only store the unique id on the session","date":"2018-09-18T06:39:32.770Z","type":"message"}
{"nick":"zsoc","message":"then the session uses the unique id to get the whole user from db, and passport sets that as your req.user for you in the deserialize fn","date":"2018-09-18T06:40:00.985Z","type":"message"}
{"nick":"arunkumar413","message":"zsoc: perfect","date":"2018-09-18T06:41:04.187Z","type":"message"}
{"nick":"zsoc","message":"actually this library seems to already do.. all of that for you: https://github.com/jaredhanson/passport-github#configure-strategy","date":"2018-09-18T06:41:13.947Z","type":"message"}
{"nick":"MrAbaddon","reason":"Remote host closed the connection","date":"2018-09-18T06:41:16.209Z","type":"quit"}
{"nick":"zsoc","message":"but i guess you can do it yourself also? Lol","date":"2018-09-18T06:41:21.365Z","type":"message"}
{"nick":"bsaboia_","date":"2018-09-18T06:41:23.707Z","type":"join"}
{"nick":"HalfWord","date":"2018-09-18T06:41:44.782Z","type":"join"}
{"nick":"groom","date":"2018-09-18T06:42:08.713Z","type":"join"}
{"nick":"arunkumar413","message":"I tried but getting errors","date":"2018-09-18T06:42:12.294Z","type":"message"}
{"nick":"zsoc","message":"well you'd have to gist the errors","date":"2018-09-18T06:42:20.189Z","type":"message"}
{"nick":"zsoc","message":"i can't see your screen from here","date":"2018-09-18T06:42:25.550Z","type":"message"}
{"nick":"lomex","date":"2018-09-18T06:43:10.753Z","type":"join"}
{"nick":"alem0lars","date":"2018-09-18T06:43:40.444Z","type":"join"}
{"nick":"arunkumar314","date":"2018-09-18T06:44:24.538Z","type":"join"}
{"nick":"arunkumar314","message":"zsoc: here is the code https://paste.ubuntu.com/p/vsvcf4s2Wj/  and the error I got is Cast to ObjectId failed for value \"7776779\" at path \"_id\" for model \"User\"","date":"2018-09-18T06:45:35.027Z","type":"message"}
{"nick":"mcc","reason":"Quit: Connection closed for inactivity","date":"2018-09-18T06:47:10.148Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T06:47:35.382Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 272 seconds","date":"2018-09-18T06:48:54.908Z","type":"quit"}
{"nick":"glosoli","date":"2018-09-18T06:49:56.471Z","type":"join"}
{"nick":"chargen_","date":"2018-09-18T06:50:29.257Z","type":"join"}
{"nick":"zsoc","message":"that seems like a mongo error?","date":"2018-09-18T06:51:06.567Z","type":"message"}
{"nick":"arunkumar314","message":"here is the schema var UserSch = new Schema({","date":"2018-09-18T06:51:19.157Z","type":"message"}
{"nick":"arunkumar314","message":"  \tgithubId: String,","date":"2018-09-18T06:51:19.804Z","type":"message"}
{"nick":"arunkumar314","message":"  \tdisplayName: String,","date":"2018-09-18T06:51:19.953Z","type":"message"}
{"nick":"arunkumar314","message":"  \tusername:String,","date":"2018-09-18T06:51:19.953Z","type":"message"}
{"nick":"arunkumar314","message":"  \tprofileUrl:String,","date":"2018-09-18T06:51:19.953Z","type":"message"}
{"nick":"arunkumar314","message":"  \tlocation:String","date":"2018-09-18T06:51:19.953Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T06:51:21.522Z","type":"join"}
{"nick":"arunkumar314","message":"  \t","date":"2018-09-18T06:51:21.671Z","type":"message"}
{"nick":"arunkumar314","message":"  });","date":"2018-09-18T06:51:23.659Z","type":"message"}
{"nick":"zsoc","message":"\"776779\" isn't an object id, it's a string","date":"2018-09-18T06:51:49.617Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 240 seconds","date":"2018-09-18T06:52:07.478Z","type":"quit"}
{"nick":"arunkumar314","message":"zsoc: yes. seems like the githubId returned by the github is a number and in the schema it's a string","date":"2018-09-18T06:52:08.910Z","type":"message"}
{"nick":"BeerLover","reason":"Quit: My MacBook Air has gone to sleep. ZZZzzz…","date":"2018-09-18T06:52:17.449Z","type":"quit"}
{"nick":"zsoc","message":"no no","date":"2018-09-18T06:52:18.822Z","type":"message"}
{"nick":"zsoc","message":"that doesn't matter","date":"2018-09-18T06:52:20.822Z","type":"message"}
{"nick":"zsoc","message":"this is explicitly a mongo thing","date":"2018-09-18T06:52:24.752Z","type":"message"}
{"nick":"zsoc","message":"mongo uses some bizarre object id format thing which is a hash which is an object but also it can be a certain type of string","date":"2018-09-18T06:52:39.477Z","type":"message"}
{"nick":"arunkumar314","message":"also, I'd want to find the user by the github id ad it's unique and doesn't change. Remaining parameters are changable","date":"2018-09-18T06:52:51.366Z","type":"message"}
{"nick":"zsoc","message":"so why are you searching by the displayName?","date":"2018-09-18T06:53:01.208Z","type":"message"}
{"nick":"BeerLover","date":"2018-09-18T06:53:06.564Z","type":"join"}
{"nick":"Franckapik","date":"2018-09-18T06:54:09.847Z","type":"join"}
{"nick":"zsoc","message":"arunkumar314: just declare the _id as part of the schema","date":"2018-09-18T06:55:14.507Z","type":"message"}
{"nick":"zsoc","message":"it seems like it's trying to implicitly make it the githubId because it doesn't know any better (and because it's trash)","date":"2018-09-18T06:55:40.827Z","type":"message"}
{"nick":"lsyoyom","date":"2018-09-18T06:56:01.695Z","type":"join"}
{"nick":"arunkumar314","message":"zsoc: that's an auto field. Even if it's not part of the schema a _id will be created","date":"2018-09-18T06:56:13.908Z","type":"message"}
{"nick":"zsoc","message":"yes but apparently it's trying to cast your githubId to it","date":"2018-09-18T06:56:35.494Z","type":"message"}
{"nick":"arunkumar314","message":"I just changed the searchQuery to Id but it created an another user entry for the same user","date":"2018-09-18T06:56:40.092Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 244 seconds","date":"2018-09-18T06:56:56.453Z","type":"quit"}
{"nick":"zsoc","message":"because there's no \"Id\", you have it defined as \"githubId","date":"2018-09-18T06:56:57.822Z","type":"message"}
{"nick":"arunkumar314","message":"this time there is no error though","date":"2018-09-18T06:56:59.847Z","type":"message"}
{"nick":"arunkumar314","message":"in the schema there is an ID","date":"2018-09-18T06:57:16.162Z","type":"message"}
{"nick":"arunkumar314","message":" githubId: String,","date":"2018-09-18T06:57:23.972Z","type":"message"}
{"nick":"zsoc","message":"that's.. not \"Id\", it's \"githubId\"","date":"2018-09-18T06:57:32.555Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T06:57:34.688Z","type":"join"}
{"nick":"zsoc","message":"please again pastebin the updated code","date":"2018-09-18T06:57:41.041Z","type":"message"}
{"nick":"kakashiAL","date":"2018-09-18T06:57:46.257Z","type":"join"}
{"nick":"arunkumar314","message":"zsoc: https://paste.ubuntu.com/p/ZyP8gczsYP/","date":"2018-09-18T06:58:34.277Z","type":"message"}
{"nick":"zsoc","message":"but why are you searching *displayName* ????","date":"2018-09-18T06:59:00.950Z","type":"message"}
{"nick":"zsoc","message":"var searchQuery = {displayName: profile.id};","date":"2018-09-18T06:59:09.146Z","type":"message"}
{"nick":"zsoc","message":"don't you want `var searchQuery = {githubId: profile.id};`","date":"2018-09-18T06:59:21.594Z","type":"message"}
{"nick":"arunkumar314","message":"zsoc: Yeah.correct","date":"2018-09-18T07:00:03.594Z","type":"message"}
{"nick":"zsoc","message":"so change it to `var searchQuery = {githubId: profile.id};` and then see where we are","date":"2018-09-18T07:00:15.763Z","type":"message"}
{"nick":"nd__","reason":"Ping timeout: 264 seconds","date":"2018-09-18T07:00:30.710Z","type":"quit"}
{"nick":"arunkumar314","message":"changed and got this error this time: Cast to ObjectId failed for value \"7776779\" at path \"_id\" for model \"User\"","date":"2018-09-18T07:00:55.147Z","type":"message"}
{"nick":"zsoc","message":"so then the githubId is being saved as the _id","date":"2018-09-18T07:01:16.121Z","type":"message"}
{"nick":"zsoc","message":"mongoose must automatically select the first field as the _id or something if you don't tell it not to","date":"2018-09-18T07:01:33.573Z","type":"message"}
{"nick":"heyitsrama","date":"2018-09-18T07:01:44.944Z","type":"join"}
{"nick":"bluehatbrit","date":"2018-09-18T07:02:11.740Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 246 seconds","date":"2018-09-18T07:02:16.255Z","type":"quit"}
{"nick":"sharax","reason":"Read error: Connection reset by peer","date":"2018-09-18T07:02:32.451Z","type":"quit"}
{"nick":"sharax","date":"2018-09-18T07:03:03.404Z","type":"join"}
{"nick":"ryzendar","date":"2018-09-18T07:03:04.152Z","type":"join"}
{"nick":"Silvering","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2018-09-18T07:03:06.512Z","type":"quit"}
{"nick":"setpill","date":"2018-09-18T07:03:06.819Z","type":"join"}
{"nick":"ryzendar","reason":"Changing host","date":"2018-09-18T07:03:34.083Z","type":"quit"}
{"nick":"ryzendar","date":"2018-09-18T07:03:34.232Z","type":"join"}
{"nick":"ryzendar","message":"let v = [ { foo: 'bar' } ]; v[0] === { foo: 'bar' }; // How come this returns false?","date":"2018-09-18T07:03:35.753Z","type":"message"}
{"nick":"zsoc","message":"ryzendar: because those objects aren't the same","date":"2018-09-18T07:03:58.218Z","type":"message"}
{"nick":"zsoc","message":"they are two explicit objects, the first one you assigned to v, the second one you are creating on the right hand of that strict equals operation","date":"2018-09-18T07:04:19.982Z","type":"message"}
{"nick":"nd__","date":"2018-09-18T07:04:25.328Z","type":"join"}
{"nick":"zsoc","message":"the shape of them is immaterial","date":"2018-09-18T07:04:31.905Z","type":"message"}
{"nick":"arunkumar314","message":"zsoc: this is how it's stored: https://paste.ubuntu.com/p/6Nxdky6Gtk/","date":"2018-09-18T07:05:37.019Z","type":"message"}
{"nick":"zsoc","message":"hmmmmm okay, well that's closer - but then where is the casting failing","date":"2018-09-18T07:06:06.013Z","type":"message"}
{"nick":"arunkumar314","message":"zsoc: The reason I want to the id as text field is that we never the what length should I assign if I choose it to be a number","date":"2018-09-18T07:06:51.996Z","type":"message"}
{"nick":"arunkumar314","message":"32 bit or 64 bit. So String seems safe","date":"2018-09-18T07:07:05.145Z","type":"message"}
{"nick":"zsoc","message":"it doesn't matter if it's a string or number, this isn't the problem","date":"2018-09-18T07:07:07.030Z","type":"message"}
{"nick":"zsoc","message":"_id is a whole different beast, mongoose casts it *to an object*","date":"2018-09-18T07:07:17.209Z","type":"message"}
{"nick":"zsoc","message":"but it shouldn't be casting anything here, you must have your query formatted incorrectly","date":"2018-09-18T07:07:40.698Z","type":"message"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:08:00.579Z","type":"quit"}
{"nick":"johnny56","date":"2018-09-18T07:08:03.701Z","type":"join"}
{"nick":"Zemyla23","date":"2018-09-18T07:08:04.012Z","type":"join"}
{"nick":"arunkumar314","message":"I'm using findbyId in the deserialse and the Id to find is 7776779","date":"2018-09-18T07:08:20.150Z","type":"message"}
{"nick":"arunkumar314","message":"but mongo db entry id is not 7776779","date":"2018-09-18T07:08:34.301Z","type":"message"}
{"nick":"zsoc","message":"of course not","date":"2018-09-18T07:08:40.064Z","type":"message"}
{"nick":"zsoc","message":"it's a valid mongo id","date":"2018-09-18T07:08:46.983Z","type":"message"}
{"nick":"arunkumar314","message":"passport.serializeUser(function(user, done) {","date":"2018-09-18T07:08:57.370Z","type":"message"}
{"nick":"arunkumar314","message":"    done(null, user.githubId);","date":"2018-09-18T07:08:57.931Z","type":"message"}
{"nick":"arunkumar314","message":"});","date":"2018-09-18T07:08:58.080Z","type":"message"}
{"nick":"arunkumar314","message":"passport.deserializeUser(function(githubId, done) {","date":"2018-09-18T07:08:58.080Z","type":"message"}
{"nick":"arunkumar314","message":"    User.findById(githubId, function(err, user) {","date":"2018-09-18T07:08:58.080Z","type":"message"}
{"nick":"arunkumar314","message":"        done(err, user);","date":"2018-09-18T07:08:58.318Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T07:08:58.759Z","type":"join"}
{"nick":"arunkumar314","message":"    });","date":"2018-09-18T07:09:00.355Z","type":"message"}
{"nick":"zsoc","message":"please stop pasting code in the chat","date":"2018-09-18T07:09:02.921Z","type":"message"}
{"nick":"zsoc","message":"oh","date":"2018-09-18T07:09:12.095Z","type":"message"}
{"nick":"zsoc","message":"*that* is the error","date":"2018-09-18T07:09:15.156Z","type":"message"}
{"nick":"esrse","reason":"Ping timeout: 246 seconds","date":"2018-09-18T07:09:16.255Z","type":"quit"}
{"nick":"zsoc","message":"User.findById(githubId is invalid","date":"2018-09-18T07:09:21.761Z","type":"message"}
{"nick":"arunkumar314","message":"correct","date":"2018-09-18T07:09:29.579Z","type":"message"}
{"nick":"zsoc","message":"\"findById\" means \"find by the _id\"","date":"2018-09-18T07:09:29.728Z","type":"message"}
{"nick":"zsoc","message":"so stop doing that","date":"2018-09-18T07:09:39.126Z","type":"message"}
{"nick":"arunkumar314","message":"so I should change it to findone","date":"2018-09-18T07:09:39.285Z","type":"message"}
{"nick":"zsoc","message":"yes","date":"2018-09-18T07:09:46.204Z","type":"message"}
{"nick":"zsoc","message":"{ githubId } or whatever","date":"2018-09-18T07:09:53.984Z","type":"message"}
{"nick":"esrse","date":"2018-09-18T07:10:14.078Z","type":"join"}
{"nick":"marthinal","reason":"Remote host closed the connection","date":"2018-09-18T07:10:30.277Z","type":"quit"}
{"nick":"kakashiAL","date":"2018-09-18T07:12:11.521Z","type":"join"}
{"nick":"lewix","date":"2018-09-18T07:12:29.320Z","type":"join"}
{"nick":"Zemyla23","reason":"Remote host closed the connection","date":"2018-09-18T07:12:55.989Z","type":"quit"}
{"nick":"arunkumar314","message":"Parameter \"filter\" to findOne() must be an object, got 7776779","date":"2018-09-18T07:13:09.493Z","type":"message"}
{"nick":"arunkumar314","message":"I tried using the findOne","date":"2018-09-18T07:13:25.840Z","type":"message"}
{"nick":"zsoc","message":".... you have to pass an object","date":"2018-09-18T07:13:31.635Z","type":"message"}
{"nick":"zsoc","message":"{ githubId }","date":"2018-09-18T07:13:34.618Z","type":"message"}
{"nick":"zsoc","message":"not just githubId","date":"2018-09-18T07:13:37.483Z","type":"message"}
{"nick":"keepLearning512","reason":"Remote host closed the connection","date":"2018-09-18T07:13:37.930Z","type":"quit"}
{"nick":"zsoc","message":"it's *exactly* what the error says lol","date":"2018-09-18T07:13:43.555Z","type":"message"}
{"nick":"arunkumar314","message":"got it","date":"2018-09-18T07:13:44.144Z","type":"message"}
{"nick":"texinwien","reason":"Quit: -a- Connection Timed Out","date":"2018-09-18T07:13:50.365Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:13:51.837Z","type":"quit"}
{"nick":"texinwien","date":"2018-09-18T07:14:04.519Z","type":"join"}
{"nick":"Sharaal","date":"2018-09-18T07:15:22.986Z","type":"join"}
{"nick":"arunkumar314","message":"No error this time.","date":"2018-09-18T07:15:29.253Z","type":"message"}
{"nick":"arunkumar314","message":"How to confirm the authentication is successful","date":"2018-09-18T07:16:07.093Z","type":"message"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:16:50.043Z","type":"quit"}
{"nick":"zsoc","message":"try logging in incorrectly and see what happens :p","date":"2018-09-18T07:16:50.333Z","type":"message"}
{"nick":"zsoc","message":"the function on line 6 only runs if the auth was successful","date":"2018-09-18T07:17:04.444Z","type":"message"}
{"nick":"lewix","reason":"Ping timeout: 245 seconds","date":"2018-09-18T07:17:08.304Z","type":"quit"}
{"nick":"setpill","reason":"Quit: o/","date":"2018-09-18T07:17:12.476Z","type":"quit"}
{"nick":"cthulchu_","reason":"Ping timeout: 244 seconds","date":"2018-09-18T07:18:07.570Z","type":"quit"}
{"nick":"arunkumar314","message":"cool, it's seems to be working fine.","date":"2018-09-18T07:18:28.820Z","type":"message"}
{"nick":"jsatk","date":"2018-09-18T07:19:05.823Z","type":"join"}
{"nick":"arunkumar314","message":"Now I want to check if each requested in authenticated in the controller functions","date":"2018-09-18T07:19:39.203Z","type":"message"}
{"nick":"setpill","date":"2018-09-18T07:19:39.769Z","type":"join"}
{"nick":"Sharaal","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:19:48.923Z","type":"quit"}
{"nick":"lzskiss_","date":"2018-09-18T07:21:40.726Z","type":"part"}
{"nick":"zsoc","message":"if there's no req.user","date":"2018-09-18T07:21:46.659Z","type":"message"}
{"nick":"zsoc","message":"then the user isn't authenticated","date":"2018-09-18T07:21:52.069Z","type":"message"}
{"nick":"lzskiss","date":"2018-09-18T07:22:04.262Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T07:22:26.252Z","type":"join"}
{"nick":"kliq","date":"2018-09-18T07:22:50.255Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 272 seconds","date":"2018-09-18T07:24:22.909Z","type":"quit"}
{"nick":"warpx","reason":"Quit: Leaving...","date":"2018-09-18T07:25:17.719Z","type":"quit"}
{"nick":"warpx","date":"2018-09-18T07:26:09.254Z","type":"join"}
{"nick":"kakashiAL","reason":"Ping timeout: 246 seconds","date":"2018-09-18T07:27:07.251Z","type":"quit"}
{"nick":"quer","date":"2018-09-18T07:27:22.960Z","type":"join"}
{"nick":"arunkumar314","message":"zsoc: I think passport provides a middleware to check if each req is authticated.","date":"2018-09-18T07:32:23.661Z","type":"message"}
{"nick":"arunkumar314","message":"But now it's not logging out","date":"2018-09-18T07:32:39.286Z","type":"message"}
{"nick":"marthinal","date":"2018-09-18T07:35:43.766Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T07:36:57.520Z","type":"join"}
{"nick":"Jetimon_","reason":"Ping timeout: 245 seconds","date":"2018-09-18T07:40:03.356Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:41:33.664Z","type":"quit"}
{"nick":"lomex","reason":"Quit: My MacBook has gone to sleep. ZZZzzz…","date":"2018-09-18T07:42:14.553Z","type":"quit"}
{"nick":"m00dy","date":"2018-09-18T07:42:31.863Z","type":"join"}
{"nick":"jsatk","date":"2018-09-18T07:43:04.885Z","type":"join"}
{"nick":"mezod","date":"2018-09-18T07:44:17.475Z","type":"join"}
{"nick":"lexileo","reason":"Ping timeout: 250 seconds","date":"2018-09-18T07:46:10.750Z","type":"quit"}
{"nick":"m00dy","reason":"Remote host closed the connection","date":"2018-09-18T07:46:30.607Z","type":"quit"}
{"nick":"m00dy","date":"2018-09-18T07:46:46.460Z","type":"join"}
{"nick":"kakashiAL","date":"2018-09-18T07:47:07.361Z","type":"join"}
{"nick":"computer2000","date":"2018-09-18T07:47:11.798Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:47:51.967Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T07:48:08.333Z","type":"join"}
{"nick":"jottr","date":"2018-09-18T07:48:18.508Z","type":"join"}
{"nick":"mezod","reason":"Ping timeout: 264 seconds","date":"2018-09-18T07:49:06.720Z","type":"quit"}
{"nick":"wonko77","reason":"Quit: See You Space Cowboy..","date":"2018-09-18T07:50:06.244Z","type":"quit"}
{"nick":"kakashiAL","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:51:48.382Z","type":"quit"}
{"nick":"optikalmouse","reason":"Quit: Leaving","date":"2018-09-18T07:52:38.698Z","type":"quit"}
{"nick":"wonko77","date":"2018-09-18T07:52:50.257Z","type":"join"}
{"nick":"jsatk","reason":"Ping timeout: 252 seconds","date":"2018-09-18T07:52:54.405Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T07:53:42.350Z","type":"join"}
{"nick":"TikityTik","reason":"Read error: Connection reset by peer","date":"2018-09-18T07:57:21.479Z","type":"quit"}
{"nick":"jsatk","reason":"Ping timeout: 240 seconds","date":"2018-09-18T07:58:07.323Z","type":"quit"}
{"nick":"jsatk","date":"2018-09-18T07:58:49.251Z","type":"join"}
