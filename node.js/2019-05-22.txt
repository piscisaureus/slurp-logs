{"nick":"mat001","reason":"Remote host closed the connection","date":"2019-05-22T00:00:17.350Z","type":"quit"}
{"nick":"slajax","reason":"Ping timeout: 258 seconds","date":"2019-05-22T00:00:43.160Z","type":"quit"}
{"nick":"heyitsrama","reason":"Remote host closed the connection","date":"2019-05-22T00:00:56.707Z","type":"quit"}
{"nick":"heyitsrama","date":"2019-05-22T00:01:46.668Z","type":"join"}
{"nick":"Laptop_mini","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T00:03:13.951Z","type":"quit"}
{"nick":"s00pcan","reason":"Ping timeout: 245 seconds","date":"2019-05-22T00:04:38.507Z","type":"quit"}
{"nick":"edge563","reason":"Remote host closed the connection","date":"2019-05-22T00:05:38.487Z","type":"quit"}
{"nick":"wsieroci","date":"2019-05-22T00:06:17.313Z","type":"join"}
{"nick":"edge563","date":"2019-05-22T00:06:36.930Z","type":"join"}
{"nick":"ferlzc","reason":"Quit: Konversation terminated!","date":"2019-05-22T00:09:45.265Z","type":"quit"}
{"nick":"gambl0re","date":"2019-05-22T00:10:40.733Z","type":"join"}
{"nick":"wsieroci","reason":"Ping timeout: 252 seconds","date":"2019-05-22T00:10:44.062Z","type":"quit"}
{"nick":"kesenai","reason":"Ping timeout: 245 seconds","date":"2019-05-22T00:11:18.396Z","type":"quit"}
{"nick":"slajax","date":"2019-05-22T00:12:45.166Z","type":"join"}
{"nick":"edge563","reason":"Quit: edge563","date":"2019-05-22T00:15:39.130Z","type":"quit"}
{"nick":"cthulchu_","reason":"Ping timeout: 258 seconds","date":"2019-05-22T00:16:00.113Z","type":"quit"}
{"nick":"hello_kitty","date":"2019-05-22T00:17:12.239Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 258 seconds","date":"2019-05-22T00:17:35.169Z","type":"quit"}
{"nick":"kakashiA1","reason":"Ping timeout: 248 seconds","date":"2019-05-22T00:19:11.894Z","type":"quit"}
{"nick":"kba","message":"gambl0re: did you have a docker question?","date":"2019-05-22T00:21:40.984Z","type":"message"}
{"nick":"gambl0re","message":"kba, hi","date":"2019-05-22T00:21:59.598Z","type":"message"}
{"nick":"s00pcan","date":"2019-05-22T00:22:58.916Z","type":"join"}
{"nick":"kba","message":"hello","date":"2019-05-22T00:23:23.275Z","type":"message"}
{"nick":"gambl0re","message":"i have a ques about docker","date":"2019-05-22T00:24:33.805Z","type":"message"}
{"nick":"jim87","date":"2019-05-22T00:25:15.548Z","type":"join"}
{"nick":"jim87","message":"Hello! I'm reading a file via fs.readFileSync. While I console.log(buffer) and it returns the first bytes of data, if I console.log(buffer.buffer), the bytes differ. What is the correct way to get the ArrayBuffer from a Buffer? Thanks!","date":"2019-05-22T00:26:07.701Z","type":"message"}
{"nick":"slajax","date":"2019-05-22T00:26:44.631Z","type":"join"}
{"nick":"geoffo","date":"2019-05-22T00:26:47.166Z","type":"join"}
{"nick":"jim87","message":"example: https://pastebin.com/vQ4QyBpk","date":"2019-05-22T00:27:35.023Z","type":"message"}
{"nick":"kba","message":"jim87: You don't just want the string?","date":"2019-05-22T00:27:53.345Z","type":"message"}
{"nick":"jim87","message":"kba: it's not a string, it's binary data","date":"2019-05-22T00:28:03.720Z","type":"message"}
{"nick":"ghoti_","date":"2019-05-22T00:28:42.565Z","type":"join"}
{"nick":"ghoti","reason":"Read error: Connection reset by peer","date":"2019-05-22T00:29:37.928Z","type":"quit"}
{"nick":"kba","message":"Right, so data.buffer gies you an ArrayBuffer, I suppose","date":"2019-05-22T00:30:06.529Z","type":"message"}
{"nick":"kba","message":"That's not what you want?","date":"2019-05-22T00:30:10.175Z","type":"message"}
{"nick":"kba","message":"https://nodejs.org/api/buffer.html#buffer_buf_buffer","date":"2019-05-22T00:30:34.429Z","type":"message"}
{"nick":"jim87","message":"kba: yep, but as you can see in the comment, the ArrayBuffer starts with 7b, while it should start with 0c","date":"2019-05-22T00:30:38.113Z","type":"message"}
{"nick":"jim87","message":"(and the file indeed starts with 0c)","date":"2019-05-22T00:31:07.212Z","type":"message"}
{"nick":"hello_kitty","message":"can i fork a process that uses es6 imports somehow?","date":"2019-05-22T00:31:27.161Z","type":"message"}
{"nick":"slajax","reason":"Ping timeout: 272 seconds","date":"2019-05-22T00:32:04.609Z","type":"quit"}
{"nick":"carif","reason":"Ping timeout: 245 seconds","date":"2019-05-22T00:33:23.416Z","type":"quit"}
{"nick":"kakashiA1","date":"2019-05-22T00:33:48.384Z","type":"join"}
{"nick":"kba","message":"jim87: I think it's different representations, but I'm not certain","date":"2019-05-22T00:34:14.445Z","type":"message"}
{"nick":"leatherface416","reason":"Quit: leatherface416","date":"2019-05-22T00:34:29.999Z","type":"quit"}
{"nick":"kba","message":"But say you create a buffer from a string, `b = new Buffer('a')`","date":"2019-05-22T00:34:50.237Z","type":"message"}
{"nick":"kba","message":"`b.toString()` will then be `a`, but `b.buffer.toString()` will give you `[object ArrayBuffer]`","date":"2019-05-22T00:35:20.201Z","type":"message"}
{"nick":"slajax","date":"2019-05-22T00:35:29.129Z","type":"join"}
{"nick":"kba","message":"When googling how to convert an arraybuffer to a string, I find this https://developers.google.com/web/updates/2012/06/How-to-convert-ArrayBuffer-to-and-from-String","date":"2019-05-22T00:35:48.315Z","type":"message"}
{"nick":"jim87","message":"kba: it's base 16 representation... 7b is a totally different value than 0c","date":"2019-05-22T00:36:31.171Z","type":"message"}
{"nick":"kba","message":"That's not what I mean, I know they're hex","date":"2019-05-22T00:36:43.952Z","type":"message"}
{"nick":"kba","message":"and I may be completely off -- when I have buffers, I either pipe them somewhere or convert them to string ;)","date":"2019-05-22T00:37:04.374Z","type":"message"}
{"nick":"jim87","message":"...if that's a string, but it's not, it's a binary file","date":"2019-05-22T00:37:24.560Z","type":"message"}
{"nick":"kba","message":"What I mean is, even in your output,the first output is prefixed with Uint8Contents","date":"2019-05-22T00:37:26.952Z","type":"message"}
{"nick":"kba","message":"I'm aware, but the representation will be the same in memory. Making a string example just makes it simpler to deal with","date":"2019-05-22T00:37:49.424Z","type":"message"}
{"nick":"kba","message":"After all, a buffer is just a slice of memory","date":"2019-05-22T00:37:55.497Z","type":"message"}
{"nick":"dysfigured","reason":"Quit: I hate quit messages.","date":"2019-05-22T00:38:16.056Z","type":"quit"}
{"nick":"jim87","message":"Honestly I expected to have an ArrayBuffer containing the data I ordered NodeJS to load for me... not a random array of bytes","date":"2019-05-22T00:38:37.798Z","type":"message"}
{"nick":"kba","message":"My point is that what you're looking at, [Uint8Contents]: <7b 22... and <Buffer 0c 10.. Are not the same type, so there's no guarantee they are represented the same when you try to output it to screen","date":"2019-05-22T00:38:57.409Z","type":"message"}
{"nick":"mezod","reason":"Remote host closed the connection","date":"2019-05-22T00:39:24.059Z","type":"quit"}
{"nick":"dysfigured","date":"2019-05-22T00:39:48.913Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 258 seconds","date":"2019-05-22T00:40:12.116Z","type":"quit"}
{"nick":"jim87","message":"kba: data actually differs, because reading the arraybuffer with a DataView and, for example, reading a uint8 from the first byte, it extracts 7b (123) and not 0c (12)","date":"2019-05-22T00:40:13.151Z","type":"message"}
{"nick":"ghoti_","new_nick":"ghoti","date":"2019-05-22T00:40:34.766Z","type":"nick"}
{"nick":"kba","message":"Which one is right then?","date":"2019-05-22T00:40:41.714Z","type":"message"}
{"nick":"jim87","message":"0c, the one in the Buffer object","date":"2019-05-22T00:40:56.305Z","type":"message"}
{"nick":"kba","message":"Seems to be the other way around for me. How are you verifying that the buffer object is the right one?","date":"2019-05-22T00:41:48.475Z","type":"message"}
{"nick":"jim87","message":"kba: hex editor","date":"2019-05-22T00:42:12.134Z","type":"message"}
{"nick":"kba","message":"What if you use `xdd`?","date":"2019-05-22T00:42:26.896Z","type":"message"}
{"nick":"jim87","message":"what do you mean?","date":"2019-05-22T00:42:55.959Z","type":"message"}
{"nick":"kba","message":"The printed representation of the arraybuffer matches the output of xdd","date":"2019-05-22T00:42:57.216Z","type":"message"}
{"nick":"kba","message":"here","date":"2019-05-22T00:43:00.235Z","type":"message"}
{"nick":"jim87","message":"ah you mean xdd the command, but I'm not on a unix machine right now","date":"2019-05-22T00:43:39.460Z","type":"message"}
{"nick":"kba","message":"Indeed","date":"2019-05-22T00:44:34.473Z","type":"message"}
{"nick":"kba","message":"The thing is, if your representation from your HEX editor matches the second output and my `xdd`'s representation matches the first, which appears to be the case","date":"2019-05-22T00:45:08.468Z","type":"message"}
{"nick":"kba","message":"Then that'd confirm it's just a matter of representation and they're actually the same","date":"2019-05-22T00:45:24.049Z","type":"message"}
{"nick":"i1nfusion","reason":"Remote host closed the connection","date":"2019-05-22T00:45:29.301Z","type":"quit"}
{"nick":"i1nfusion","date":"2019-05-22T00:45:55.644Z","type":"join"}
{"nick":"kba","message":"As per your output, the first one is presumably a uint8 representation, and the second may be something different","date":"2019-05-22T00:46:00.540Z","type":"message"}
{"nick":"carif","date":"2019-05-22T00:47:22.955Z","type":"join"}
{"nick":"jim87","message":"kba: I think I got it","date":"2019-05-22T00:47:53.679Z","type":"message"}
{"nick":"jim87","message":"const dataBuffer = data.buffer.slice(data.byteOffset, data.byteOffset + data.length)","date":"2019-05-22T00:47:54.796Z","type":"message"}
{"nick":"solarliner","reason":"Remote host closed the connection","date":"2019-05-22T00:48:09.684Z","type":"quit"}
{"nick":"jim87","message":"Thing is fs.readFileSync seems to use a pool of ArrayBuffers, so it might not be at the start of the AB","date":"2019-05-22T00:48:23.837Z","type":"message"}
{"nick":"keith_mi_","date":"2019-05-22T00:48:49.182Z","type":"join"}
{"nick":"kba","message":"That makes sense","date":"2019-05-22T00:49:21.566Z","type":"message"}
{"nick":"hello_kitty","message":"can i run code as a response to forcibly quitting a process e.g. with ctrl-c ?","date":"2019-05-22T00:49:35.929Z","type":"message"}
{"nick":"hello_kitty","message":"need to clean up some sockets..","date":"2019-05-22T00:49:43.820Z","type":"message"}
{"nick":"kba","message":"hello_kitty: https://stackoverflow.com/questions/20165605/detecting-ctrlc-in-node-js","date":"2019-05-22T00:50:02.360Z","type":"message"}
{"nick":"hello_kitty","message":"ty kba","date":"2019-05-22T00:50:32.149Z","type":"message"}
{"nick":"jim87","message":"hello_kitty, see process listeners for os's signals","date":"2019-05-22T00:50:52.580Z","type":"message"}
{"nick":"jim87","message":"like process.on('SIGTERM', () => { ... })","date":"2019-05-22T00:51:04.619Z","type":"message"}
{"nick":"jim87","message":"(SIGTERM is CTRL+C)","date":"2019-05-22T00:51:11.462Z","type":"message"}
{"nick":"jim87","message":"Well, actually it should be SIGINT","date":"2019-05-22T00:51:35.718Z","type":"message"}
{"nick":"hello_kitty","message":"do you think it is reliable in windows? mixed opinions in that SO butmost comments are 4 yrs old","date":"2019-05-22T00:51:42.782Z","type":"message"}
{"nick":"jim87","message":"hello_kitty, never developed for Windows but now, you should try and see","date":"2019-05-22T00:52:26.213Z","type":"message"}
{"nick":"kba","message":"I don't know much about Windows, but if it has once worked, I doubt they'll take it away","date":"2019-05-22T00:52:48.850Z","type":"message"}
{"nick":"kba","message":"people don't tend to mess with POSIX compliance","date":"2019-05-22T00:52:54.800Z","type":"message"}
{"nick":"jim87","message":"But now you can run a quite complete linux kernel on Windows in any case, so.... :D","date":"2019-05-22T00:52:56.193Z","type":"message"}
{"nick":"hello_kitty","message":"it appears to work out of the 50 times ive now done it in a loop","date":"2019-05-22T00:53:11.359Z","type":"message"}
{"nick":"jim87","message":"(with the linux layer)","date":"2019-05-22T00:53:14.683Z","type":"message"}
{"nick":"hello_kitty","message":"maybe it is 100% :D","date":"2019-05-22T00:53:15.517Z","type":"message"}
{"nick":"kba","message":"jim87: wait, you're not on UNIX, but also not on Windows?","date":"2019-05-22T00:53:18.182Z","type":"message"}
{"nick":"jim87","message":"kba: I'm on Windows right now, but there are alternatives to (UN|POS)IX or Windows","date":"2019-05-22T00:53:59.255Z","type":"message"}
{"nick":"kba","message":"and they're rare and far apart, hence my curiosity","date":"2019-05-22T00:54:18.677Z","type":"message"}
{"nick":"kakashiA1","message":"is there a way to create pdfs with javascript, but where you can use a template with placeholders?","date":"2019-05-22T00:55:04.885Z","type":"message"}
{"nick":"shinzo","reason":"Remote host closed the connection","date":"2019-05-22T00:57:35.620Z","type":"quit"}
{"nick":"renlo","reason":"Ping timeout: 258 seconds","date":"2019-05-22T00:58:55.974Z","type":"quit"}
{"nick":"hello_kitty","message":"oh cool a forked child can also catch sigint","date":"2019-05-22T00:59:14.454Z","type":"message"}
{"nick":"hello_kitty","message":"and force quitting the parent sends sigint to the children first","date":"2019-05-22T00:59:28.025Z","type":"message"}
{"nick":"hello_kitty","message":"...so far","date":"2019-05-22T00:59:30.382Z","type":"message"}
{"nick":"jim87","message":"kakashiA1, http://bfy.tw/NlZr","date":"2019-05-22T00:59:43.756Z","type":"message"}
{"nick":"wsieroci","date":"2019-05-22T01:00:14.287Z","type":"join"}
{"nick":"jim87","message":"hello_kitty, I'd be confused otherwise: a child is always part of the application running in memory","date":"2019-05-22T01:00:15.792Z","type":"message"}
{"nick":"hello_kitty","message":"jim87: it is still a separate process right?","date":"2019-05-22T01:00:51.722Z","type":"message"}
{"nick":"kakashiA1","message":"jim87: I am not looking for a raw pdf creator. Did you get my question ?:)","date":"2019-05-22T01:00:55.199Z","type":"message"}
{"nick":"jim87","message":"hello_kitty, yep, PIDs differ","date":"2019-05-22T01:01:06.515Z","type":"message"}
{"nick":"hello_kitty","message":"tbh it is currently behaving as expected w/ this deliberate forking going on","date":"2019-05-22T01:01:21.459Z","type":"message"}
{"nick":"jim87","message":"kakashiA1, you can generate an HTML, SSR it and pdf it","date":"2019-05-22T01:01:23.354Z","type":"message"}
{"nick":"kba","message":"kakashiA1: then google \"create pdfs from nodejs\" instead","date":"2019-05-22T01:01:25.581Z","type":"message"}
{"nick":"hello_kitty","message":"which can be contrasted w/ windows not closing websockets randomly the rest of the time","date":"2019-05-22T01:01:31.716Z","type":"message"}
{"nick":"kba","message":"There's like 20 different ways to do it on just the first page","date":"2019-05-22T01:01:35.605Z","type":"message"}
{"nick":"carif","reason":"Ping timeout: 258 seconds","date":"2019-05-22T01:01:36.944Z","type":"quit"}
{"nick":"kakashiA1","message":"jim87: so using HTML as a template is the only template that you can use? I mean its pretty hard if you want to see how your A4 Paper will look","date":"2019-05-22T01:02:57.377Z","type":"message"}
{"nick":"kba","message":"did you want a pdf template?","date":"2019-05-22T01:03:36.442Z","type":"message"}
{"nick":"wsieroci","reason":"Ping timeout: 258 seconds","date":"2019-05-22T01:04:44.117Z","type":"quit"}
{"nick":"jim87","message":"kakashiA1, you have to deal with the language you're scripting in: JavaScript. While you can actually do most of the things, the best is to create an A4 HTML template (there are plenty of blogs describing it), fill it with data (i.e. with React) and then \"print\" it in PDF","date":"2019-05-22T01:06:28.063Z","type":"message"}
{"nick":"sctskw","date":"2019-05-22T01:07:00.139Z","type":"join"}
{"nick":"kakashiA1","message":"jim87: thanks, I had this idea in my mind but I thought that you maybe know an easier way","date":"2019-05-22T01:07:45.011Z","type":"message"}
{"nick":"leatherface416","date":"2019-05-22T01:08:04.627Z","type":"join"}
{"nick":"kakashiA1","message":"jim87: I dont know, maybe a word or excel template :)","date":"2019-05-22T01:08:17.423Z","type":"message"}
{"nick":"slajax","date":"2019-05-22T01:08:36.928Z","type":"join"}
{"nick":"jim87","message":"kakashiA1, if you read the internals of doc documents, you realize there are no pages, but only page breaks","date":"2019-05-22T01:08:52.234Z","type":"message"}
{"nick":"kakashiA1","message":"jim87: sure, in the end its just xml","date":"2019-05-22T01:09:33.099Z","type":"message"}
{"nick":"nahtnam","message":"Im profiling my program and I noticed this: https://i.imgur.com/iKFIxGu.png","date":"2019-05-22T01:09:43.526Z","type":"message"}
{"nick":"jim87","message":"as of excel, you can create xls(x) files with some libraries, but again excel doesn't ensure the area to be printable all in one page","date":"2019-05-22T01:09:44.086Z","type":"message"}
{"nick":"nahtnam","message":"Anyone know why that line is taking up so much time?","date":"2019-05-22T01:09:50.192Z","type":"message"}
{"nick":"nahtnam","message":"(note its that many ms over thousands of requests)","date":"2019-05-22T01:10:00.383Z","type":"message"}
{"nick":"kakashiA1","message":"jim87: whats about word?","date":"2019-05-22T01:10:07.634Z","type":"message"}
{"nick":"nahtnam","message":"but its weird that it adds up like that","date":"2019-05-22T01:10:09.925Z","type":"message"}
{"nick":"jim87","message":"kakashiA1, word is doc","date":"2019-05-22T01:10:23.755Z","type":"message"}
{"nick":"jim87","message":"so again, you \"see\" the words going in another page (or adding a page break), but Word is really unaware on how many pages or when you create a new page","date":"2019-05-22T01:11:02.203Z","type":"message"}
{"nick":"kakashiA1","message":"jim87: ahh sorry, I thought you meant doc as a general term, but is there maybe a doc to pdf module that you can recommend?","date":"2019-05-22T01:11:08.036Z","type":"message"}
{"nick":"kba","message":"nahtnam: That's really weird. You can drop the !! by the way. The expression already evaluates to a boolean","date":"2019-05-22T01:11:14.575Z","type":"message"}
{"nick":"nahtnam","message":"hmm kk","date":"2019-05-22T01:11:26.715Z","type":"message"}
{"nick":"nahtnam","message":"i just removed it for now","date":"2019-05-22T01:11:29.467Z","type":"message"}
{"nick":"nahtnam","message":"it doesnt do anything useful yet","date":"2019-05-22T01:11:33.135Z","type":"message"}
{"nick":"nahtnam","message":"its just super weird","date":"2019-05-22T01:11:37.326Z","type":"message"}
{"nick":"sctskw","reason":"Ping timeout: 258 seconds","date":"2019-05-22T01:11:38.152Z","type":"quit"}
{"nick":"nahtnam","message":"maybe it is the !! that is taking time","date":"2019-05-22T01:11:42.521Z","type":"message"}
{"nick":"kba","message":"I'd be interested to know if that's the case","date":"2019-05-22T01:12:32.753Z","type":"message"}
{"nick":"devaholic","reason":"Ping timeout: 258 seconds","date":"2019-05-22T01:12:33.014Z","type":"quit"}
{"nick":"heyitsrama","reason":"Remote host closed the connection","date":"2019-05-22T01:12:33.189Z","type":"quit"}
{"nick":"jim87","message":"kakashiA1, never tried converting from doc to pdf via JS. I still think that an HTML template is still the best idea so far","date":"2019-05-22T01:12:33.451Z","type":"message"}
{"nick":"Renari","reason":"Read error: Connection reset by peer","date":"2019-05-22T01:12:33.628Z","type":"quit"}
{"nick":"kakashiA1","message":"jim87: I thought that doc uses pages-tags, so it know how many pages and what content belongs to a page by its tags","date":"2019-05-22T01:12:33.704Z","type":"message"}
{"nick":"jim87","message":"You might need to make a couple of tries to get the right template done","date":"2019-05-22T01:12:36.098Z","type":"message"}
{"nick":"kakashiA1","message":"jim87: I will try the HTML template thing then","date":"2019-05-22T01:12:39.594Z","type":"message"}
{"nick":"Renari","date":"2019-05-22T01:12:47.833Z","type":"join"}
{"nick":"jsatk_","reason":"Quit: ZNC 1.7.1 - https://znc.in","date":"2019-05-22T01:12:52.584Z","type":"quit"}
{"nick":"leatherface416","reason":"Client Quit","date":"2019-05-22T01:12:56.833Z","type":"quit"}
{"nick":"jsatk_","date":"2019-05-22T01:13:02.107Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 248 seconds","date":"2019-05-22T01:13:03.949Z","type":"quit"}
{"nick":"kakashiA1","message":"jim87: how can you create multiple pages with html-to-pdf?","date":"2019-05-22T01:13:25.920Z","type":"message"}
{"nick":"Fusl","reason":"Remote host closed the connection","date":"2019-05-22T01:13:50.541Z","type":"quit"}
{"nick":"carif","date":"2019-05-22T01:14:46.418Z","type":"join"}
{"nick":"jim87","message":"kakashiA1, try with https://davidwalsh.name/css-page-breaks","date":"2019-05-22T01:14:46.573Z","type":"message"}
{"nick":"Fusl","date":"2019-05-22T01:14:46.646Z","type":"join"}
{"nick":"kakashiA1","message":"jim87: is there maybe an html editor that you know with WYSIWYG features?","date":"2019-05-22T01:14:46.646Z","type":"message"}
{"nick":"nahtnam","message":"kba: Let me test it real quick then","date":"2019-05-22T01:14:46.646Z","type":"message"}
{"nick":"jim87","message":"kakashiA1, TinyMCE is a WYSIWYG editor","date":"2019-05-22T01:15:14.862Z","type":"message"}
{"nick":"nahtnam","message":"kba: Nope its the actual `===` that causes that","date":"2019-05-22T01:16:23.352Z","type":"message"}
{"nick":"nahtnam","message":"i.e. there is no time difference with or without !!","date":"2019-05-22T01:16:30.912Z","type":"message"}
{"nick":"kba","message":"nahtnam: I have a theory that it's actually the line above that causes it","date":"2019-05-22T01:16:42.639Z","type":"message"}
{"nick":"nahtnam","message":"What would you like me to test?","date":"2019-05-22T01:16:55.994Z","type":"message"}
{"nick":"kba","message":"If you put in something nonsensical inbetween, say `const i = 0;`","date":"2019-05-22T01:17:19.486Z","type":"message"}
{"nick":"kba","message":"What'd happen? Becuase I'm betting that line will suddenly take a ridiculous amount of time","date":"2019-05-22T01:17:31.623Z","type":"message"}
{"nick":"hello_kitty","message":"it seems unlikely that either of those lines takes any time","date":"2019-05-22T01:18:23.559Z","type":"message"}
{"nick":"bitmask","date":"2019-05-22T01:18:23.736Z","type":"join"}
{"nick":"kba","message":"Actually, reading environment variables is slow","date":"2019-05-22T01:18:23.952Z","type":"message"}
{"nick":"kba","message":"https://expressjs.com/en/advanced/best-practice-performance.html#set-node_env-to-production","date":"2019-05-22T01:18:24.089Z","type":"message"}
{"nick":"kba","message":"\"If you need to write environment-specific code, you can check the value of NODE_ENV with process.env.NODE_ENV. Be aware that checking the value of any environment variable incurs a performance penalty, and so should be done sparingly.","date":"2019-05-22T01:18:24.162Z","type":"message"}
{"nick":"hello_kitty","message":"unless it is fiercely spinning a loop and doing no other operations than the access","date":"2019-05-22T01:18:29.277Z","type":"message"}
{"nick":"hello_kitty","message":"which for most programs is like.. once per run","date":"2019-05-22T01:18:37.074Z","type":"message"}
{"nick":"hello_kitty","message":"so ur getting 87 ms on a single check??","date":"2019-05-22T01:19:00.364Z","type":"message"}
{"nick":"kba","message":"Oh, is this happening a lot of times?","date":"2019-05-22T01:19:03.347Z","type":"message"}
{"nick":"hello_kitty","message":"i just bring it up b/c it is ambiguous in the profiler","date":"2019-05-22T01:19:31.677Z","type":"message"}
{"nick":"jim87","reason":"Quit: Leaving","date":"2019-05-22T01:19:41.076Z","type":"quit"}
{"nick":"ed209","reason":"Remote host closed the connection","date":"2019-05-22T01:20:00.927Z","type":"quit"}
{"nick":"ed209","date":"2019-05-22T01:20:09.915Z","type":"join"}
{"nick":"kba","message":"Yeah, ok, this couldn't possibly be happening just once with those times. I guess that explains it, it's in a tight loop","date":"2019-05-22T01:20:31.818Z","type":"message"}
{"nick":"nahtnam","message":"it happening on every request","date":"2019-05-22T01:20:59.463Z","type":"message"}
{"nick":"kba","message":"Did adding something light inbetween change anythnig?","date":"2019-05-22T01:21:18.359Z","type":"message"}
{"nick":"nahtnam","message":"one sec","date":"2019-05-22T01:21:26.070Z","type":"message"}
{"nick":"slajax","date":"2019-05-22T01:22:12.120Z","type":"join"}
{"nick":"nahtnam","message":"https://i.imgur.com/2YfaG1S.png","date":"2019-05-22T01:22:38.012Z","type":"message"}
{"nick":"kba","message":"Uhm, so, lazy evaluation in Node.js is my best bet now","date":"2019-05-22T01:23:38.290Z","type":"message"}
{"nick":"Kkiro","reason":"Read error: Connection reset by peer","date":"2019-05-22T01:24:06.925Z","type":"quit"}
{"nick":"kba","message":"Is this happening in a loop or something? If so, try to move the defintion of LIGHT_ENVIRONMENT out of that loop so it only happens once","date":"2019-05-22T01:24:24.668Z","type":"message"}
{"nick":"nahtnam","message":"Yeah im moving it out","date":"2019-05-22T01:24:51.250Z","type":"message"}
{"nick":"nahtnam","message":"its happening inside a function","date":"2019-05-22T01:24:54.843Z","type":"message"}
{"nick":"nahtnam","message":"that is called on every request","date":"2019-05-22T01:24:59.408Z","type":"message"}
{"nick":"kba","message":"I'll believe that reading the environment variable could take a long time if you do it a lot, but I'm having a hard time believing that a string comparison and assignment is the culprit","date":"2019-05-22T01:25:08.601Z","type":"message"}
{"nick":"kba","message":"So your isAWS assignement is still happening inside, right? Just for fun","date":"2019-05-22T01:25:27.349Z","type":"message"}
{"nick":"slajax","reason":"Ping timeout: 258 seconds","date":"2019-05-22T01:26:58.198Z","type":"quit"}
{"nick":"tomru","date":"2019-05-22T01:28:19.200Z","type":"join"}
{"nick":"nahtnam","message":"Yes everything is inside as of now","date":"2019-05-22T01:28:38.777Z","type":"message"}
{"nick":"nahtnam","message":"do you want me to move the assignment out?","date":"2019-05-22T01:28:44.737Z","type":"message"}
{"nick":"nahtnam","message":"and leave the comparison in?","date":"2019-05-22T01:28:48.258Z","type":"message"}
{"nick":"nahtnam","message":"keep in mind this comparison runs thousands of times","date":"2019-05-22T01:28:54.104Z","type":"message"}
{"nick":"nahtnam","message":"and over those thousand times it took 57ms in total","date":"2019-05-22T01:29:04.363Z","type":"message"}
{"nick":"Kkiro","date":"2019-05-22T01:29:12.606Z","type":"join"}
{"nick":"Kkiro","reason":"Changing host","date":"2019-05-22T01:29:12.696Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T01:29:12.769Z","type":"join"}
{"nick":"slajax","date":"2019-05-22T01:31:17.364Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 245 seconds","date":"2019-05-22T01:31:43.410Z","type":"quit"}
{"nick":"dka_","message":"I have <img alt=\"pdf icon\" src=\"/static/pdficon.png\"> in my html, I expose in nginx this file under http://yeutech.yeutech.rocks/communication/static/pdficon.png , but the page is trying to download http://yeutech.yeutech.rocks/static/pdficon.png , The path is correct in development, but incorrect in production because it is served under a subpath. nginx is a reverse proxy, there is a backend service for that file. nginx can see it but","date":"2019-05-22T01:31:43.491Z","type":"message"}
{"nick":"dka_","message":"from the right path. is there a way to fix this nginx side?","date":"2019-05-22T01:31:43.564Z","type":"message"}
{"nick":"tomru_","reason":"Ping timeout: 264 seconds","date":"2019-05-22T01:31:52.029Z","type":"quit"}
{"nick":"falafel","date":"2019-05-22T01:32:01.339Z","type":"join"}
{"nick":"dka_","message":"the webapp is build with webpack and is a react-styleguidist app, so I rather not change the base path in my markdown, otherwise I need an extra step during the build for that.","date":"2019-05-22T01:32:06.518Z","type":"message"}
{"nick":"kba","message":"nahtnam: The comparison shouldn't take longer than checking the env variable is the thing","date":"2019-05-22T01:32:33.608Z","type":"message"}
{"nick":"GreenJello","reason":"Quit: My iMac has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T01:32:36.536Z","type":"quit"}
{"nick":"kba","message":"What tool are you looking at?","date":"2019-05-22T01:32:42.097Z","type":"message"}
{"nick":"nahtnam","message":"hm?","date":"2019-05-22T01:32:47.218Z","type":"message"}
{"nick":"kba","message":"What's the screenshot from?","date":"2019-05-22T01:32:50.408Z","type":"message"}
{"nick":"nahtnam","message":"chrome profiler","date":"2019-05-22T01:32:55.867Z","type":"message"}
{"nick":"nahtnam","message":"but i clicked the source code","date":"2019-05-22T01:32:58.785Z","type":"message"}
{"nick":"nahtnam","message":"and it shows me which lines take how long","date":"2019-05-22T01:33:04.444Z","type":"message"}
{"nick":"kba","message":"Oh right","date":"2019-05-22T01:33:12.764Z","type":"message"}
{"nick":"kba","message":"Yeah, it's definitely the reading of the environment variable that's taking up time","date":"2019-05-22T01:35:03.519Z","type":"message"}
{"nick":"Elyx0","reason":"Quit: Elyx0","date":"2019-05-22T01:35:09.199Z","type":"quit"}
{"nick":"prometh","reason":"Quit: ðŸ¤¤ðŸ›ŒðŸ’¤","date":"2019-05-22T01:35:13.722Z","type":"quit"}
{"nick":"kba","message":"I don't know why the profiler messes that up, maybe it's some lazy evaluation crap","date":"2019-05-22T01:35:22.338Z","type":"message"}
{"nick":"slajax","reason":"Ping timeout: 245 seconds","date":"2019-05-22T01:35:53.372Z","type":"quit"}
{"nick":"kba","message":"But I just created a similar test in a tight loop, and moving the reading of process.env outside of that loop, my comparison ended up taking only a fraction of the time it did before","date":"2019-05-22T01:35:57.669Z","type":"message"}
{"nick":"kba","message":"https://imgur.com/a/mKxXxtA","date":"2019-05-22T01:37:19.304Z","type":"message"}
{"nick":"nahtnam","message":"gotcha","date":"2019-05-22T01:37:19.933Z","type":"message"}
{"nick":"nahtnam","message":"yeah i guess i shouldnt take everything at face value then","date":"2019-05-22T01:37:34.022Z","type":"message"}
{"nick":"nahtnam","message":"but unfortunately I still cant figure out whats slowing my thing down","date":"2019-05-22T01:37:44.321Z","type":"message"}
{"nick":"nahtnam","message":"everything looks mostly normal","date":"2019-05-22T01:37:49.853Z","type":"message"}
{"nick":"kba","message":"you can't find a file with a lot of self time?","date":"2019-05-22T01:38:04.386Z","type":"message"}
{"nick":"kba","message":"find a function*","date":"2019-05-22T01:39:40.684Z","type":"message"}
{"nick":"kba","message":"Anyway, 3:40 AM, I gotta go to bed, good night and good luck","date":"2019-05-22T01:39:51.183Z","type":"message"}
{"nick":"i1nfusion","reason":"Remote host closed the connection","date":"2019-05-22T01:43:34.116Z","type":"quit"}
{"nick":"i1nfusion","date":"2019-05-22T01:44:02.603Z","type":"join"}
{"nick":"carif","date":"2019-05-22T01:45:23.087Z","type":"join"}
{"nick":"electronicmaji","reason":"Quit: My Mac has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T01:46:56.380Z","type":"quit"}
{"nick":"GreenJello","date":"2019-05-22T01:50:40.393Z","type":"join"}
{"nick":"electronicmaji","date":"2019-05-22T01:51:22.386Z","type":"join"}
{"nick":"wildermind","reason":"Quit: Connection closed for inactivity","date":"2019-05-22T01:51:26.139Z","type":"quit"}
{"nick":"wsieroci","date":"2019-05-22T01:54:10.365Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 258 seconds","date":"2019-05-22T01:55:39.937Z","type":"quit"}
{"nick":"Kestrel-029","reason":"Ping timeout: 245 seconds","date":"2019-05-22T01:56:18.486Z","type":"quit"}
{"nick":"srl295","reason":"Quit: Connection closed for inactivity","date":"2019-05-22T01:56:25.438Z","type":"quit"}
{"nick":"Nicmavr","date":"2019-05-22T01:56:46.462Z","type":"join"}
{"nick":"wsieroci","reason":"Ping timeout: 259 seconds","date":"2019-05-22T01:58:47.127Z","type":"quit"}
{"nick":"kakashiA1","reason":"Ping timeout: 245 seconds","date":"2019-05-22T02:00:03.408Z","type":"quit"}
{"nick":"i1nfusion","reason":"Remote host closed the connection","date":"2019-05-22T02:00:49.539Z","type":"quit"}
{"nick":"i1nfusion","date":"2019-05-22T02:01:17.664Z","type":"join"}
{"nick":"InFlames","date":"2019-05-22T02:03:14.097Z","type":"join"}
{"nick":"nahtnam","message":"Nope lol. IDK its really weird. I am seeing high times in the overall context but i cant find anything if I look at a specific file","date":"2019-05-22T02:05:22.279Z","type":"message"}
{"nick":"nahtnam","message":"which sucks","date":"2019-05-22T02:05:25.746Z","type":"message"}
{"nick":"duderonomy","date":"2019-05-22T02:05:53.552Z","type":"join"}
{"nick":"tyteen4a03","new_nick":"SheriffCranky","date":"2019-05-22T02:06:47.047Z","type":"nick"}
{"nick":"SheriffCranky","new_nick":"tyteen4a03","date":"2019-05-22T02:07:12.230Z","type":"nick"}
{"nick":"carif","date":"2019-05-22T02:08:26.423Z","type":"join"}
{"nick":"electronicmaji","reason":"Quit: My Mac has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T02:09:18.709Z","type":"quit"}
{"nick":"Jessidhia","reason":"Disconnected by services","date":"2019-05-22T02:09:24.976Z","type":"quit"}
{"nick":"Jessidhia","date":"2019-05-22T02:09:37.059Z","type":"join"}
{"nick":"woxidu","date":"2019-05-22T02:18:44.346Z","type":"join"}
{"nick":"Montrose_","date":"2019-05-22T02:20:38.766Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 245 seconds","date":"2019-05-22T02:20:53.441Z","type":"quit"}
{"nick":"Kkiro","reason":"Read error: Connection reset by peer","date":"2019-05-22T02:23:47.105Z","type":"quit"}
{"nick":"kakashiA1","date":"2019-05-22T02:25:32.267Z","type":"join"}
{"nick":"Kkiro","date":"2019-05-22T02:27:44.193Z","type":"join"}
{"nick":"Kkiro","reason":"Changing host","date":"2019-05-22T02:27:44.368Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T02:27:44.441Z","type":"join"}
{"nick":"slajax","date":"2019-05-22T02:30:13.153Z","type":"join"}
{"nick":"kjartan","reason":"Read error: Connection reset by peer","date":"2019-05-22T02:33:23.824Z","type":"quit"}
{"nick":"dman777","date":"2019-05-22T02:34:05.883Z","type":"join"}
{"nick":"dman777","reason":"Client Quit","date":"2019-05-22T02:34:05.995Z","type":"quit"}
{"nick":"carif","date":"2019-05-22T02:34:56.986Z","type":"join"}
{"nick":"Cabanossi","reason":"Quit: Bye, bye...","date":"2019-05-22T02:36:28.401Z","type":"quit"}
{"nick":"kjartan","date":"2019-05-22T02:37:38.867Z","type":"join"}
{"nick":"Cabanossi","date":"2019-05-22T02:39:20.548Z","type":"join"}
{"nick":"spacesuitdiver","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T02:43:39.957Z","type":"quit"}
{"nick":"InFlames","reason":"Ping timeout: 258 seconds","date":"2019-05-22T02:47:01.979Z","type":"quit"}
{"nick":"wsieroci","date":"2019-05-22T02:48:10.394Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 258 seconds","date":"2019-05-22T02:51:14.997Z","type":"quit"}
{"nick":"mat001","date":"2019-05-22T02:51:18.000Z","type":"join"}
{"nick":"Jessidhia","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T02:52:20.424Z","type":"quit"}
{"nick":"wsieroci","reason":"Ping timeout: 258 seconds","date":"2019-05-22T02:52:50.141Z","type":"quit"}
{"nick":"gregf_","reason":"Ping timeout: 256 seconds","date":"2019-05-22T03:01:45.199Z","type":"quit"}
{"nick":"carif","date":"2019-05-22T03:03:59.904Z","type":"join"}
{"nick":"braincrash","reason":"Quit: bye bye","date":"2019-05-22T03:05:39.342Z","type":"quit"}
{"nick":"fatalhalt","date":"2019-05-22T03:05:41.247Z","type":"join"}
{"nick":"neoshaman","date":"2019-05-22T03:05:43.094Z","type":"join"}
{"nick":"sctskw","date":"2019-05-22T03:07:35.092Z","type":"join"}
{"nick":"Roughy","reason":"Quit: Meadow Fresh milk","date":"2019-05-22T03:08:58.081Z","type":"quit"}
{"nick":"braincrash","date":"2019-05-22T03:11:01.746Z","type":"join"}
{"nick":"neoshaman","reason":"Ping timeout: 248 seconds","date":"2019-05-22T03:11:23.268Z","type":"quit"}
{"nick":"factor","reason":"Remote host closed the connection","date":"2019-05-22T03:12:17.467Z","type":"quit"}
{"nick":"sctskw","reason":"Ping timeout: 258 seconds","date":"2019-05-22T03:12:19.909Z","type":"quit"}
{"nick":"factor","date":"2019-05-22T03:12:41.465Z","type":"join"}
{"nick":"gambl0re","reason":"Remote host closed the connection","date":"2019-05-22T03:13:40.940Z","type":"quit"}
{"nick":"CoffeeBreakfast","date":"2019-05-22T03:16:05.110Z","type":"join"}
{"nick":"Jessidhia","date":"2019-05-22T03:17:48.797Z","type":"join"}
{"nick":"gambl0re","date":"2019-05-22T03:17:56.360Z","type":"join"}
{"nick":"thomas_25","date":"2019-05-22T03:23:03.550Z","type":"join"}
{"nick":"Cabanossi","reason":"Ping timeout: 252 seconds","date":"2019-05-22T03:24:18.387Z","type":"quit"}
{"nick":"thomas_25","reason":"Remote host closed the connection","date":"2019-05-22T03:31:57.138Z","type":"quit"}
{"nick":"thomas_25","date":"2019-05-22T03:32:37.378Z","type":"join"}
{"nick":"slajax","reason":"Ping timeout: 258 seconds","date":"2019-05-22T03:32:42.148Z","type":"quit"}
{"nick":"Cabanossi","date":"2019-05-22T03:35:29.319Z","type":"join"}
{"nick":"gambl0re","reason":"Quit: Leaving","date":"2019-05-22T03:39:45.744Z","type":"quit"}
{"nick":"cjorcl","date":"2019-05-22T03:41:58.631Z","type":"join"}
{"nick":"wsieroci","date":"2019-05-22T03:42:08.227Z","type":"join"}
{"nick":"d3x0r","reason":"Read error: Connection reset by peer","date":"2019-05-22T03:43:53.812Z","type":"quit"}
{"nick":"d3x0r","date":"2019-05-22T03:44:18.653Z","type":"join"}
{"nick":"wsieroci","reason":"Ping timeout: 252 seconds","date":"2019-05-22T03:46:42.020Z","type":"quit"}
{"nick":"InFlames","date":"2019-05-22T03:46:57.052Z","type":"join"}
{"nick":"gli","date":"2019-05-22T03:47:43.348Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 268 seconds","date":"2019-05-22T03:48:03.831Z","type":"quit"}
{"nick":"thomas_25","reason":"Read error: Connection reset by peer","date":"2019-05-22T03:51:51.484Z","type":"quit"}
{"nick":"keith_mi_","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T04:00:06.111Z","type":"quit"}
{"nick":"carif","date":"2019-05-22T04:00:41.834Z","type":"join"}
{"nick":"cjorcl","reason":"Quit: Textual IRC Client: www.textualapp.com","date":"2019-05-22T04:06:27.002Z","type":"quit"}
{"nick":"carif","reason":"Ping timeout: 268 seconds","date":"2019-05-22T04:07:10.762Z","type":"quit"}
{"nick":"Kkiro","reason":"Read error: Connection reset by peer","date":"2019-05-22T04:09:04.333Z","type":"quit"}
{"nick":"Lucas_Gray","date":"2019-05-22T04:11:28.883Z","type":"join"}
{"nick":"marthinal","date":"2019-05-22T04:12:25.638Z","type":"join"}
{"nick":"AbedB","reason":"Read error: Connection reset by peer","date":"2019-05-22T04:12:39.331Z","type":"quit"}
{"nick":"AbedB","date":"2019-05-22T04:13:05.772Z","type":"join"}
{"nick":"Kkiro","date":"2019-05-22T04:13:33.673Z","type":"join"}
{"nick":"Kkiro","reason":"Changing host","date":"2019-05-22T04:13:33.783Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T04:13:33.784Z","type":"join"}
{"nick":"hello_kitty","reason":"Quit: Page closed","date":"2019-05-22T04:13:50.323Z","type":"quit"}
{"nick":"gabrielschulhof","reason":"Ping timeout: 256 seconds","date":"2019-05-22T04:15:25.170Z","type":"quit"}
{"nick":"InFlames","reason":"Ping timeout: 258 seconds","date":"2019-05-22T04:17:30.117Z","type":"quit"}
{"nick":"Montrose_","reason":"Ping timeout: 250 seconds","date":"2019-05-22T04:19:07.730Z","type":"quit"}
{"nick":"s00pcan","reason":"Ping timeout: 258 seconds","date":"2019-05-22T04:19:24.936Z","type":"quit"}
{"nick":"carif","date":"2019-05-22T04:19:35.721Z","type":"join"}
{"nick":"keith_mi_","date":"2019-05-22T04:23:31.754Z","type":"join"}
{"nick":"led_dark_1","reason":"Ping timeout: 258 seconds","date":"2019-05-22T04:26:42.047Z","type":"quit"}
{"nick":"keith_mi_","reason":"Client Quit","date":"2019-05-22T04:26:55.242Z","type":"quit"}
{"nick":"s00pcan","date":"2019-05-22T04:27:01.927Z","type":"join"}
{"nick":"InFlames","date":"2019-05-22T04:28:47.844Z","type":"join"}
{"nick":"s00pcan_","date":"2019-05-22T04:32:46.673Z","type":"join"}
{"nick":"s00pcan","reason":"Ping timeout: 248 seconds","date":"2019-05-22T04:33:03.924Z","type":"quit"}
{"nick":"s00pcan_","new_nick":"s00pcan","date":"2019-05-22T04:34:38.733Z","type":"nick"}
{"nick":"podlech","date":"2019-05-22T04:35:08.937Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 272 seconds","date":"2019-05-22T04:35:16.674Z","type":"quit"}
{"nick":"wsieroci","date":"2019-05-22T04:36:01.292Z","type":"join"}
{"nick":"platonic","date":"2019-05-22T04:38:46.898Z","type":"join"}
{"nick":"AbedB_","date":"2019-05-22T04:40:20.051Z","type":"join"}
{"nick":"wsieroci","reason":"Ping timeout: 258 seconds","date":"2019-05-22T04:40:56.182Z","type":"quit"}
{"nick":"kapilp","date":"2019-05-22T04:42:28.820Z","type":"join"}
{"nick":"AbedB","reason":"Ping timeout: 272 seconds","date":"2019-05-22T04:43:30.651Z","type":"quit"}
{"nick":"platonic","reason":"Ping timeout: 268 seconds","date":"2019-05-22T04:44:10.770Z","type":"quit"}
{"nick":"TikityTik","date":"2019-05-22T04:46:23.439Z","type":"join"}
{"nick":"the_ant","date":"2019-05-22T04:46:36.188Z","type":"join"}
{"nick":"plutoniix","reason":"Quit: Leaving","date":"2019-05-22T04:49:54.523Z","type":"quit"}
{"nick":"arunkumar413","date":"2019-05-22T04:52:36.110Z","type":"join"}
{"nick":"carif","date":"2019-05-22T04:55:26.979Z","type":"join"}
{"nick":"woxidu","reason":"Quit: woxidu","date":"2019-05-22T04:57:02.916Z","type":"quit"}
{"nick":"nahtnam","reason":"Quit: Connection closed for inactivity","date":"2019-05-22T04:58:54.098Z","type":"quit"}
{"nick":"chargen_","date":"2019-05-22T05:03:32.553Z","type":"join"}
{"nick":"lpin","date":"2019-05-22T05:04:42.428Z","type":"join"}
{"nick":"chargen","reason":"Ping timeout: 258 seconds","date":"2019-05-22T05:05:02.008Z","type":"quit"}
{"nick":"Forsaken87","date":"2019-05-22T05:05:19.221Z","type":"join"}
{"nick":"Kkiro","reason":"Read error: Connection reset by peer","date":"2019-05-22T05:08:48.609Z","type":"quit"}
{"nick":"bitmask","reason":"Quit: Gone to sleep...","date":"2019-05-22T05:09:00.749Z","type":"quit"}
{"nick":"parthi","date":"2019-05-22T05:11:05.190Z","type":"join"}
{"nick":"sillyslux","reason":"Ping timeout: 245 seconds","date":"2019-05-22T05:12:08.368Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T05:13:05.149Z","type":"join"}
{"nick":"Kkiro","reason":"Changing host","date":"2019-05-22T05:13:05.380Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T05:13:05.462Z","type":"join"}
{"nick":"laurri","date":"2019-05-22T05:15:50.962Z","type":"join"}
{"nick":"fatalhalt","reason":"Quit: fatal halt","date":"2019-05-22T05:17:19.741Z","type":"quit"}
{"nick":"Lucas_Gray","reason":"Ping timeout: 248 seconds","date":"2019-05-22T05:18:23.911Z","type":"quit"}
{"nick":"podlech","reason":"Quit: WeeChat 2.5-dev","date":"2019-05-22T05:20:56.464Z","type":"quit"}
{"nick":"sauvin","date":"2019-05-22T05:21:15.583Z","type":"join"}
{"nick":"Arcaelyx","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:24:46.032Z","type":"quit"}
{"nick":"AlexPortable","reason":"Quit: Connection closed for inactivity","date":"2019-05-22T05:25:10.049Z","type":"quit"}
{"nick":"lucifer","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:26:24.375Z","type":"quit"}
{"nick":"rook_flood","reason":"Ping timeout: 250 seconds","date":"2019-05-22T05:26:43.679Z","type":"quit"}
{"nick":"shurane","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:26:57.630Z","type":"quit"}
{"nick":"mat001","reason":"Remote host closed the connection","date":"2019-05-22T05:27:09.185Z","type":"quit"}
{"nick":"carif","reason":"Ping timeout: 248 seconds","date":"2019-05-22T05:27:27.881Z","type":"quit"}
{"nick":"WA9ACE","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:27:30.439Z","type":"quit"}
{"nick":"musgravejw","reason":"Read error: Connection reset by peer","date":"2019-05-22T05:27:46.185Z","type":"quit"}
{"nick":"Nizumzen","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:27:52.425Z","type":"quit"}
{"nick":"d1rewolf","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:28:03.674Z","type":"quit"}
{"nick":"ggherdov","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:28:36.734Z","type":"quit"}
{"nick":"vivek","date":"2019-05-22T05:28:37.173Z","type":"join"}
{"nick":"hemstock","date":"2019-05-22T05:28:48.310Z","type":"quit"}
{"nick":"nuck","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:29:00.130Z","type":"quit"}
{"nick":"abernix","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:29:09.650Z","type":"quit"}
{"nick":"vivek","reason":"Client Quit","date":"2019-05-22T05:29:11.354Z","type":"quit"}
{"nick":"maciuszek","reason":"Ping timeout: 276 seconds","date":"2019-05-22T05:29:28.590Z","type":"quit"}
{"nick":"ionelmc","reason":"Ping timeout: 276 seconds","date":"2019-05-22T05:29:28.766Z","type":"quit"}
{"nick":"codebytere","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:29:53.703Z","type":"quit"}
{"nick":"bradleymeck","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:29:53.815Z","type":"quit"}
{"nick":"fury","reason":"Read error: Connection reset by peer","date":"2019-05-22T05:29:55.864Z","type":"quit"}
{"nick":"wsieroci","date":"2019-05-22T05:30:02.424Z","type":"join"}
{"nick":"dtoebe","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:30:06.067Z","type":"quit"}
{"nick":"slikts_","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:30:15.641Z","type":"quit"}
{"nick":"banseljaj","reason":"Ping timeout: 258 seconds","date":"2019-05-22T05:30:23.133Z","type":"quit"}
{"nick":"Ownix","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:30:28.119Z","type":"quit"}
{"nick":"jsatk","reason":"Read error: Connection reset by peer","date":"2019-05-22T05:30:40.356Z","type":"quit"}
{"nick":"jeromegn","reason":"Ping timeout: 276 seconds","date":"2019-05-22T05:30:46.694Z","type":"quit"}
{"nick":"mize","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:30:48.710Z","type":"quit"}
{"nick":"hoijui","date":"2019-05-22T05:31:15.715Z","type":"join"}
{"nick":"MachinShin","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:31:56.158Z","type":"quit"}
{"nick":"refack","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:32:27.625Z","type":"quit"}
{"nick":"apowers313__","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:32:49.632Z","type":"quit"}
{"nick":"WA9ACE","date":"2019-05-22T05:33:15.848Z","type":"join"}
{"nick":"musgravejw","date":"2019-05-22T05:33:19.327Z","type":"join"}
{"nick":"slikts_","date":"2019-05-22T05:33:19.749Z","type":"join"}
{"nick":"bradleymeck","date":"2019-05-22T05:33:20.367Z","type":"join"}
{"nick":"shurane","date":"2019-05-22T05:33:27.161Z","type":"join"}
{"nick":"jgowdy","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:33:33.633Z","type":"quit"}
{"nick":"jeromegn","date":"2019-05-22T05:33:33.717Z","type":"join"}
{"nick":"mize","date":"2019-05-22T05:33:35.731Z","type":"join"}
{"nick":"parthi","reason":"Ping timeout: 256 seconds","date":"2019-05-22T05:33:37.232Z","type":"quit"}
{"nick":"dtoebe","date":"2019-05-22T05:33:40.701Z","type":"join"}
{"nick":"jsatk","date":"2019-05-22T05:33:40.899Z","type":"join"}
{"nick":"codebytere","date":"2019-05-22T05:33:41.685Z","type":"join"}
{"nick":"nuck","date":"2019-05-22T05:33:45.699Z","type":"join"}
{"nick":"TimothyGu","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:33:46.046Z","type":"quit"}
{"nick":"lucifer","date":"2019-05-22T05:33:47.572Z","type":"join"}
{"nick":"ggherdov","date":"2019-05-22T05:33:47.661Z","type":"join"}
{"nick":"maciuszek","date":"2019-05-22T05:33:51.290Z","type":"join"}
{"nick":"d1rewolf","date":"2019-05-22T05:33:52.309Z","type":"join"}
{"nick":"apowers313__","date":"2019-05-22T05:33:57.166Z","type":"join"}
{"nick":"rook_flood","date":"2019-05-22T05:34:00.704Z","type":"join"}
{"nick":"Ownix","date":"2019-05-22T05:34:13.273Z","type":"join"}
{"nick":"abernix","date":"2019-05-22T05:34:15.762Z","type":"join"}
{"nick":"banseljaj","date":"2019-05-22T05:34:30.761Z","type":"join"}
{"nick":"wsieroci","reason":"Ping timeout: 258 seconds","date":"2019-05-22T05:34:36.146Z","type":"quit"}
{"nick":"MachinShin","date":"2019-05-22T05:34:36.233Z","type":"join"}
{"nick":"ionelmc","date":"2019-05-22T05:34:37.163Z","type":"join"}
{"nick":"jgowdy","date":"2019-05-22T05:34:47.170Z","type":"join"}
{"nick":"refack","date":"2019-05-22T05:34:50.677Z","type":"join"}
{"nick":"fury","date":"2019-05-22T05:34:51.772Z","type":"join"}
{"nick":"Nizumzen","date":"2019-05-22T05:35:04.059Z","type":"join"}
{"nick":"slajax","date":"2019-05-22T05:35:26.955Z","type":"join"}
{"nick":"TimothyGu","date":"2019-05-22T05:35:28.674Z","type":"join"}
{"nick":"BeerLover","date":"2019-05-22T05:35:39.151Z","type":"join"}
{"nick":"salad","date":"2019-05-22T05:36:20.612Z","type":"join"}
{"nick":"platonic","date":"2019-05-22T05:39:58.679Z","type":"join"}
{"nick":"carif","date":"2019-05-22T05:40:55.934Z","type":"join"}
{"nick":"platonic","reason":"Ping timeout: 272 seconds","date":"2019-05-22T05:44:56.585Z","type":"quit"}
{"nick":"keith_mi_","date":"2019-05-22T05:47:29.245Z","type":"join"}
{"nick":"sozuba","date":"2019-05-22T05:49:28.293Z","type":"join"}
{"nick":"unlink2","reason":"Ping timeout: 252 seconds","date":"2019-05-22T05:59:02.384Z","type":"quit"}
{"nick":"keith_mi_","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T06:02:07.515Z","type":"quit"}
{"nick":"slajax","reason":"Ping timeout: 248 seconds","date":"2019-05-22T06:03:43.885Z","type":"quit"}
{"nick":"GreenJello","reason":"Quit: My iMac has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T06:03:45.791Z","type":"quit"}
{"nick":"keith_mi_","date":"2019-05-22T06:06:20.928Z","type":"join"}
{"nick":"keith_mi_","reason":"Client Quit","date":"2019-05-22T06:07:22.731Z","type":"quit"}
{"nick":"deviantfero","date":"2019-05-22T06:09:10.977Z","type":"join"}
{"nick":"deviantfero","reason":"Client Quit","date":"2019-05-22T06:09:34.437Z","type":"quit"}
{"nick":"keith_mi_","date":"2019-05-22T06:12:13.633Z","type":"join"}
{"nick":"pathrocle","date":"2019-05-22T06:12:15.276Z","type":"join"}
{"nick":"thomas_25","date":"2019-05-22T06:12:36.946Z","type":"join"}
{"nick":"keith_mi_","reason":"Client Quit","date":"2019-05-22T06:13:24.836Z","type":"quit"}
{"nick":"groom","date":"2019-05-22T06:14:58.621Z","type":"join"}
{"nick":"InFlames","reason":"Ping timeout: 268 seconds","date":"2019-05-22T06:18:31.867Z","type":"quit"}
{"nick":"AbedB_","reason":"Read error: Connection reset by peer","date":"2019-05-22T06:18:40.102Z","type":"quit"}
{"nick":"keith_mi_","date":"2019-05-22T06:18:43.354Z","type":"join"}
{"nick":"^esc","date":"2019-05-22T06:19:16.784Z","type":"join"}
{"nick":"devc","reason":"Remote host closed the connection","date":"2019-05-22T06:19:34.543Z","type":"quit"}
{"nick":"keith_mi_","reason":"Client Quit","date":"2019-05-22T06:19:45.992Z","type":"quit"}
{"nick":"AbedB","date":"2019-05-22T06:19:56.509Z","type":"join"}
{"nick":"darutoko","date":"2019-05-22T06:23:06.212Z","type":"join"}
{"nick":"wsieroci","date":"2019-05-22T06:23:56.469Z","type":"join"}
{"nick":"Noti","date":"2019-05-22T06:25:00.482Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 258 seconds","date":"2019-05-22T06:27:03.909Z","type":"quit"}
{"nick":"falafel","reason":"Ping timeout: 245 seconds","date":"2019-05-22T06:27:33.363Z","type":"quit"}
{"nick":"wsieroci","reason":"Ping timeout: 259 seconds","date":"2019-05-22T06:28:16.161Z","type":"quit"}
{"nick":"thomas_25","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T06:30:18.125Z","type":"quit"}
{"nick":"paulcarroty","date":"2019-05-22T06:33:19.629Z","type":"join"}
{"nick":"carif","date":"2019-05-22T06:39:59.948Z","type":"join"}
{"nick":"platonic","date":"2019-05-22T06:40:50.896Z","type":"join"}
{"nick":"sQVe","date":"2019-05-22T06:42:57.355Z","type":"join"}
{"nick":"kjartan","reason":"Read error: Connection reset by peer","date":"2019-05-22T06:45:13.506Z","type":"quit"}
{"nick":"platonic","reason":"Ping timeout: 248 seconds","date":"2019-05-22T06:45:19.950Z","type":"quit"}
{"nick":"kapilp","reason":"Quit: Connection closed for inactivity","date":"2019-05-22T06:49:05.632Z","type":"quit"}
{"nick":"kjartan","date":"2019-05-22T06:50:00.783Z","type":"join"}
{"nick":"situsvilatengis","date":"2019-05-22T06:51:14.397Z","type":"join"}
{"nick":"keith_mi_","date":"2019-05-22T06:52:04.951Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 258 seconds","date":"2019-05-22T06:52:21.942Z","type":"quit"}
{"nick":"Kkiro","reason":"Read error: Connection reset by peer","date":"2019-05-22T06:54:03.354Z","type":"quit"}
{"nick":"lundibundi","date":"2019-05-22T06:54:17.875Z","type":"join"}
{"nick":"teadict","date":"2019-05-22T06:54:20.324Z","type":"join"}
{"nick":"Anthaas","date":"2019-05-22T06:56:00.006Z","type":"join"}
{"nick":"Anthaas_","reason":"Ping timeout: 259 seconds","date":"2019-05-22T06:56:15.193Z","type":"quit"}
{"nick":"enoq","date":"2019-05-22T06:58:43.314Z","type":"join"}
{"nick":"Kkiro","date":"2019-05-22T06:58:49.591Z","type":"join"}
{"nick":"Kkiro","reason":"Changing host","date":"2019-05-22T06:58:49.680Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T06:58:49.752Z","type":"join"}
{"nick":"BeerLover","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T06:59:18.128Z","type":"quit"}
{"nick":"keith_mi_","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T07:02:55.573Z","type":"quit"}
{"nick":"situsvilatengis","reason":"Ping timeout: 244 seconds","date":"2019-05-22T07:03:14.349Z","type":"quit"}
{"nick":"BeerLover","date":"2019-05-22T07:03:23.687Z","type":"join"}
{"nick":"carif","date":"2019-05-22T07:04:56.949Z","type":"join"}
{"nick":"BeerLover","reason":"Client Quit","date":"2019-05-22T07:05:46.192Z","type":"quit"}
{"nick":"AlolaPikachu","date":"2019-05-22T07:06:19.146Z","type":"join"}
{"nick":"sctskw","date":"2019-05-22T07:08:55.977Z","type":"join"}
{"nick":"crazyhorse","date":"2019-05-22T07:10:52.747Z","type":"join"}
{"nick":"AbedB","reason":"Read error: Connection reset by peer","date":"2019-05-22T07:10:54.158Z","type":"quit"}
{"nick":"crazyhorse","message":"is there any program that can analyze a file and tell me what it is?","date":"2019-05-22T07:11:04.435Z","type":"message"}
{"nick":"lundibundi","reason":"Ping timeout: 248 seconds","date":"2019-05-22T07:11:27.923Z","type":"quit"}
{"nick":"AbedB","date":"2019-05-22T07:12:15.625Z","type":"join"}
{"nick":"reber","date":"2019-05-22T07:12:39.200Z","type":"join"}
{"nick":"sctskw","reason":"Ping timeout: 248 seconds","date":"2019-05-22T07:13:35.955Z","type":"quit"}
{"nick":"uptime","message":"crazyhorse: Can you elaborate on what you're wanting it to tell you?","date":"2019-05-22T07:15:22.782Z","type":"message"}
{"nick":"igemnace","message":"file(1) is one such program, but are you expecting a node library or something?","date":"2019-05-22T07:16:15.451Z","type":"message"}
{"nick":"crazyhorse","message":"i'm writing an application library for uploading files and storing them on s3","date":"2019-05-22T07:17:05.610Z","type":"message"}
{"nick":"mquy90","date":"2019-05-22T07:17:10.332Z","type":"join"}
{"nick":"crazyhorse","message":"i've got a bunch of masks and extension checks as the files come in","date":"2019-05-22T07:17:18.319Z","type":"message"}
{"nick":"crazyhorse","message":"both client side and server side..","date":"2019-05-22T07:17:25.237Z","type":"message"}
{"nick":"AbedB","reason":"Read error: Connection reset by peer","date":"2019-05-22T07:17:27.807Z","type":"quit"}
{"nick":"Dbugger","date":"2019-05-22T07:17:41.162Z","type":"join"}
{"nick":"Dbugger","reason":"Remote host closed the connection","date":"2019-05-22T07:17:52.279Z","type":"quit"}
{"nick":"crazyhorse","message":"i was wondering if i could kick up a background lambda process that subsequently analyzes the file raw data, and confirms that it is the correct file type","date":"2019-05-22T07:18:05.704Z","type":"message"}
{"nick":"crazyhorse","message":"i've got another process i'm going to use for virus checking","date":"2019-05-22T07:18:19.409Z","type":"message"}
{"nick":"AbedB","date":"2019-05-22T07:18:40.452Z","type":"join"}
{"nick":"AbedB","reason":"Read error: Connection reset by peer","date":"2019-05-22T07:18:58.512Z","type":"quit"}
{"nick":"AbedB","date":"2019-05-22T07:20:17.313Z","type":"join"}
{"nick":"carif","reason":"Ping timeout: 248 seconds","date":"2019-05-22T07:20:31.960Z","type":"quit"}
{"nick":"Aquazi","date":"2019-05-22T07:23:05.193Z","type":"join"}
{"nick":"alem0lars","date":"2019-05-22T07:24:18.677Z","type":"join"}
{"nick":"AbedB","reason":"Read error: Connection reset by peer","date":"2019-05-22T07:24:52.948Z","type":"quit"}
{"nick":"kakashiA1","reason":"Ping timeout: 244 seconds","date":"2019-05-22T07:24:56.352Z","type":"quit"}
{"nick":"saraf","date":"2019-05-22T07:26:41.789Z","type":"join"}
{"nick":"joepie91","message":"crazyhorse: https://github.com/iarna/buffer-signature, or if you need support for weird file formats that aren't on wikipedia, https://www.npmjs.com/package/mime-magic (but that's a bit riskier since it wraps the command-line `file` tool)","date":"2019-05-22T07:27:12.674Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: however, you should be aware that a file can contain more than one type","date":"2019-05-22T07:27:53.719Z","type":"message"}
{"nick":"BeerLover","date":"2019-05-22T07:27:59.543Z","type":"join"}
{"nick":"joepie91","message":"so if your objective here is to prevent upload of particular filetypes, it will likely not work well","date":"2019-05-22T07:28:16.068Z","type":"message"}
{"nick":"AbedB","date":"2019-05-22T07:28:36.909Z","type":"join"}
{"nick":"crazyhorse","message":"why's that?","date":"2019-05-22T07:28:38.924Z","type":"message"}
{"nick":"joepie91","message":"because a file can contain more than one type :)","date":"2019-05-22T07:28:47.364Z","type":"message"}
{"nick":"joepie91","message":"read up on 'polyglot files'","date":"2019-05-22T07:28:52.138Z","type":"message"}
{"nick":"joepie91","message":"anyway, what's your usecase?","date":"2019-05-22T07:28:57.009Z","type":"message"}
{"nick":"crazyhorse","message":"i'm creating a file, files and folder upload component","date":"2019-05-22T07:29:27.452Z","type":"message"}
{"nick":"mquy90","reason":"Quit: Leaving","date":"2019-05-22T07:29:35.660Z","type":"quit"}
{"nick":"joepie91","message":"right, and how do the filetype checks tie into that?>","date":"2019-05-22T07:30:02.391Z","type":"message"}
{"nick":"crazyhorse","message":"to restrict what users can upload","date":"2019-05-22T07:30:16.212Z","type":"message"}
{"nick":"joepie91","message":"okay, but for what purpose?","date":"2019-05-22T07:30:23.977Z","type":"message"}
{"nick":"crazyhorse","message":"for particular file fields","date":"2019-05-22T07:30:25.053Z","type":"message"}
{"nick":"joepie91","message":"like, what are you trying to prevent?","date":"2019-05-22T07:30:35.586Z","type":"message"}
{"nick":"crazyhorse","message":"them uploading files of different types","date":"2019-05-22T07:30:47.440Z","type":"message"}
{"nick":"joepie91","message":"yes, you already said that. I'm asking why :)","date":"2019-05-22T07:31:00.206Z","type":"message"}
{"nick":"crazyhorse","message":"ohhhh so it doesn't break additional processes","date":"2019-05-22T07:31:11.872Z","type":"message"}
{"nick":"joepie91","message":"I doubt that you got up this morning and decided \"I know what my calling is, I'm going to restrict filetypes!\" so there's probably an underlying reason as to *why* you want to do that","date":"2019-05-22T07:31:17.962Z","type":"message"}
{"nick":"crazyhorse","message":"so for example lets say i label a type as image","date":"2019-05-22T07:31:19.509Z","type":"message"}
{"nick":"crazyhorse","message":"i know it's an image","date":"2019-05-22T07:31:25.249Z","type":"message"}
{"nick":"crazyhorse","message":"and i can run it through converters at a later date","date":"2019-05-22T07:31:32.846Z","type":"message"}
{"nick":"joepie91","message":"ah, right","date":"2019-05-22T07:31:42.148Z","type":"message"}
{"nick":"Jessidhia","reason":"Disconnected by services","date":"2019-05-22T07:32:04.948Z","type":"quit"}
{"nick":"Jessidhia","date":"2019-05-22T07:32:29.899Z","type":"join"}
{"nick":"joepie91","message":"so my advice there would be: don't try to fish out specific filetypes upfront, instead just feed the file into the converter (with the correct flags/settings/etc. relating to security), and handle the error if it occurs","date":"2019-05-22T07:32:32.244Z","type":"message"}
{"nick":"crazyhorse","message":"yeah ok","date":"2019-05-22T07:32:44.180Z","type":"message"}
{"nick":"joepie91","message":"because trying to detect the type upfront will cause both false positives and false negatives","date":"2019-05-22T07:32:47.902Z","type":"message"}
{"nick":"crazyhorse","message":"i don't think there is much security issue anyway","date":"2019-05-22T07:32:50.400Z","type":"message"}
{"nick":"joepie91","message":"type detection only looks at the 'signature'; a file may have that signature and still be corrupted, for example","date":"2019-05-22T07:33:01.016Z","type":"message"}
{"nick":"crazyhorse","message":"because it's in lambda and isolated laready","date":"2019-05-22T07:33:03.468Z","type":"message"}
{"nick":"joepie91","message":"right","date":"2019-05-22T07:33:14.621Z","type":"message"}
{"nick":"joepie91","message":"make sure to review the options of your converter of choice though :)","date":"2019-05-22T07:33:30.079Z","type":"message"}
{"nick":"Ultron","message":"I need a good html parser, could anyone recommend the best one?","date":"2019-05-22T07:33:41.503Z","type":"message"}
{"nick":"joepie91","message":"especially if it's imagemagick, it has quite a few more features than most people think, including some with potential security impact","date":"2019-05-22T07:33:43.757Z","type":"message"}
{"nick":"crazyhorse","message":"got some nice features working.... just got a 12gb file to upload..... User1 can upload from one computer... we can switch off the internet","date":"2019-05-22T07:33:44.380Z","type":"message"}
{"nick":"joepie91","message":"(or graphicsmagick, same thing)","date":"2019-05-22T07:33:52.934Z","type":"message"}
{"nick":"Fusl","reason":"Excess Flood","date":"2019-05-22T07:33:55.066Z","type":"quit"}
{"nick":"carif","date":"2019-05-22T07:33:55.666Z","type":"join"}
{"nick":"crazyhorse","message":"User2 can start uploading the same file... and it will kick off where the previous one left over","date":"2019-05-22T07:33:57.373Z","type":"message"}
{"nick":"crazyhorse","message":"left off*","date":"2019-05-22T07:34:01.040Z","type":"message"}
{"nick":"crazyhorse","message":"give or take 10mb","date":"2019-05-22T07:34:08.137Z","type":"message"}
{"nick":"keith_mi_","date":"2019-05-22T07:34:09.412Z","type":"join"}
{"nick":"Fusl","date":"2019-05-22T07:34:43.731Z","type":"join"}
{"nick":"alem0lars","reason":"Remote host closed the connection","date":"2019-05-22T07:34:52.108Z","type":"quit"}
{"nick":"joepie91","message":"crazyhorse: as an example of a potential security issue; depending on config, imagemagick/graphicsmagick can follow URLs in certain image/document files and process those as well... if your VM is connected to an internal network (which it probably is) then an attacker could exploit that functionality to fetch stuff from the internal network and 'extract' it through the conversion result","date":"2019-05-22T07:34:57.829Z","type":"message"}
{"nick":"crazyhorse","message":"ohh interesting to note","date":"2019-05-22T07:35:16.008Z","type":"message"}
{"nick":"joepie91","message":"and thereby access stuff that's supposed to be internal-only","date":"2019-05-22T07:35:20.328Z","type":"message"}
{"nick":"joepie91","message":"there's a few potential caveats like that :)","date":"2019-05-22T07:35:26.776Z","type":"message"}
{"nick":"joepie91","message":"I think most distros ship it with that feature disabled by default now, but can't hurt to check","date":"2019-05-22T07:35:46.760Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: also, multi-user upload recovery is interesting","date":"2019-05-22T07:36:02.327Z","type":"message"}
{"nick":"alem0lars","date":"2019-05-22T07:36:06.581Z","type":"join"}
{"nick":"alem0lars","reason":"Remote host closed the connection","date":"2019-05-22T07:36:27.426Z","type":"quit"}
{"nick":"crazyhorse","message":"so process is.. when they drag the file locally.. we kick up a service worker and immeditely do an md5 of the file.. we send the md5 to our server.. check against the list","date":"2019-05-22T07:36:41.586Z","type":"message"}
{"nick":"crazyhorse","message":"if it's already there","date":"2019-05-22T07:36:46.385Z","type":"message"}
{"nick":"crazyhorse","message":"we just link the database to the existing file","date":"2019-05-22T07:36:56.863Z","type":"message"}
{"nick":"lundibundi","date":"2019-05-22T07:37:02.958Z","type":"join"}
{"nick":"joepie91","message":"Ultron: this is probably the ecosystem you want to look at: https://github.com/posthtml/posthtml","date":"2019-05-22T07:37:15.850Z","type":"message"}
{"nick":"crazyhorse","message":"so it happens instantly ... other than that we chop the file up.. into 10mb chunks.. hash each chunk.. store them in a temp location for 30 days","date":"2019-05-22T07:37:34.006Z","type":"message"}
{"nick":"Ultron","message":"joepie91, thanks a lot!","date":"2019-05-22T07:37:34.926Z","type":"message"}
{"nick":"crazyhorse","message":"obviously you could check to see if other users have uploaded the same file as you.. but i don't think thats a security issue","date":"2019-05-22T07:38:38.990Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: how do you prevent a user falsifying the MD5 and sending corrupted data to break somebody elses upload? (or does this resumption logic only happen within a domain where all users are trusted?)","date":"2019-05-22T07:38:45.499Z","type":"message"}
{"nick":"crazyhorse","message":"ahh well","date":"2019-05-22T07:39:16.833Z","type":"message"}
{"nick":"crazyhorse","message":"ok so the md5 on the client only does two things.. it either stops you uploading a file or allows you to upload a file","date":"2019-05-22T07:39:37.912Z","type":"message"}
{"nick":"crazyhorse","message":"once the file is uploaded.. we md5 it again on the server","date":"2019-05-22T07:39:46.138Z","type":"message"}
{"nick":"Booster2ooo","date":"2019-05-22T07:40:10.374Z","type":"join"}
{"nick":"Ultron","message":"joepie91, https://bpaste.net/show/41c585fe7034","date":"2019-05-22T07:40:16.117Z","type":"message"}
{"nick":"crazyhorse","message":"i had a 5 min think about possible annoying things the users could do, but i couldn't think of any","date":"2019-05-22T07:40:34.474Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: right, and does it keep the uploaded data from one user separate from the uploaded data of another user, until it has verified the hash?","date":"2019-05-22T07:40:50.821Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: also, you'll probably want to not use MD5 :)","date":"2019-05-22T07:41:15.412Z","type":"message"}
{"nick":"joepie91","message":"since it's very very broken","date":"2019-05-22T07:41:19.070Z","type":"message"}
{"nick":"crazyhorse","message":"no but the uploaded data is all unaccessible","date":"2019-05-22T07:41:20.453Z","type":"message"}
{"nick":"fairuz","date":"2019-05-22T07:41:29.588Z","type":"join"}
{"nick":"joepie91","message":"crazyhorse: that doesn't matter for the attack I described","date":"2019-05-22T07:41:30.445Z","type":"message"}
{"nick":"crazyhorse","message":"what's the attack though?","date":"2019-05-22T07:41:35.934Z","type":"message"}
{"nick":"crazyhorse","message":"i don't get it","date":"2019-05-22T07:41:53.492Z","type":"message"}
{"nick":"joepie91","message":"if I don't want people uploading a particular file, I can just keep trying to upload rubbish with the hash of the target file, no? and keep breaking people's uploads","date":"2019-05-22T07:41:54.388Z","type":"message"}
{"nick":"Anthaas","reason":"Read error: Connection reset by peer","date":"2019-05-22T07:42:05.225Z","type":"quit"}
{"nick":"joepie91","message":"even if the rubbish gets thrown out later, it can still break the upload process","date":"2019-05-22T07:42:09.393Z","type":"message"}
{"nick":"joepie91","message":"if I understand correctly","date":"2019-05-22T07:42:13.362Z","type":"message"}
{"nick":"platonic","date":"2019-05-22T07:42:16.080Z","type":"join"}
{"nick":"crazyhorse","message":"you mean i can create another file.. which has the exact hash of another file?","date":"2019-05-22T07:42:17.148Z","type":"message"}
{"nick":"joepie91","message":"no, it doesn't have to have the exact hash","date":"2019-05-22T07:42:26.647Z","type":"message"}
{"nick":"Anthaas","date":"2019-05-22T07:42:30.338Z","type":"join"}
{"nick":"joepie91","message":"I just have to *claim* it does","date":"2019-05-22T07:42:30.640Z","type":"message"}
{"nick":"joepie91","message":"as a malicious client","date":"2019-05-22T07:42:35.079Z","type":"message"}
{"nick":"crazyhorse","message":"ah but the md5 is happening on the server","date":"2019-05-22T07:42:38.181Z","type":"message"}
{"nick":"joepie91","message":"yes, but also client-side, and that's what the resumption is based on","date":"2019-05-22T07:42:47.575Z","type":"message"}
{"nick":"crazyhorse","message":"yeah but then when you finish uploading","date":"2019-05-22T07:42:58.130Z","type":"message"}
{"nick":"crazyhorse","message":"we redo the md5 on the server","date":"2019-05-22T07:43:02.632Z","type":"message"}
{"nick":"joepie91","message":"yes, I get that","date":"2019-05-22T07:43:04.545Z","type":"message"}
{"nick":"joepie91","message":"but that doesn't matter","date":"2019-05-22T07:43:07.040Z","type":"message"}
{"nick":"AlolaPikachu","reason":"Ping timeout: 252 seconds","date":"2019-05-22T07:43:12.037Z","type":"quit"}
{"nick":"crazyhorse","message":"i mean on each chunk","date":"2019-05-22T07:43:13.490Z","type":"message"}
{"nick":"joepie91","message":"this attack isn't about storing rubbish on the server, it's about fucking with the ability of other people to upload","date":"2019-05-22T07:43:26.216Z","type":"message"}
{"nick":"joepie91","message":"it's a DoS attack","date":"2019-05-22T07:43:37.469Z","type":"message"}
{"nick":"crazyhorse","message":"yeah ok... so lets say we have a 20mb file with 2 chunks","date":"2019-05-22T07:43:41.960Z","type":"message"}
{"nick":"crazyhorse","message":"10mb (aaabbc)    and 10mb  (aaaddd)   and together it makes 20mb (jjjjggg)","date":"2019-05-22T07:44:02.347Z","type":"message"}
{"nick":"joepie91","message":"it doesn't matter if the data gets thrown away for being invalid on the server side, because the point wasn't to store it on the server, the point was to keep the uploader busy and keep it believing that I am uploading a particular file (when I'm really not)","date":"2019-05-22T07:44:08.225Z","type":"message"}
{"nick":"crazyhorse","message":"the letters are the pretend hashes","date":"2019-05-22T07:44:08.574Z","type":"message"}
{"nick":"crazyhorse","message":"oh and get it to contiously throw away the pieces for being invalid","date":"2019-05-22T07:45:05.567Z","type":"message"}
{"nick":"gxt","reason":"Ping timeout: 250 seconds","date":"2019-05-22T07:45:23.793Z","type":"quit"}
{"nick":"keith_mi_","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T07:45:25.756Z","type":"quit"}
{"nick":"joepie91","message":"yeah","date":"2019-05-22T07:45:26.339Z","type":"message"}
{"nick":"joepie91","message":"if uploads from different users are not isolated prior to the hash validity check, this means I can basically 'occupy' a file","date":"2019-05-22T07:45:43.010Z","type":"message"}
{"nick":"crazyhorse","message":"yeah that's a good one.. hadn't thought of that","date":"2019-05-22T07:45:45.704Z","type":"message"}
{"nick":"joepie91","message":"and keep others from uploading to it","date":"2019-05-22T07:45:46.834Z","type":"message"}
{"nick":"crazyhorse","message":"it won't stop others from uploading it though","date":"2019-05-22T07:46:14.854Z","type":"message"}
{"nick":"joepie91","message":"it's fairly easy to fix in full, by just giving every user their own isolated 'staging area' that uploaded chunks go to, and they don't move to the final data store until they've been verified","date":"2019-05-22T07:46:46.057Z","type":"message"}
{"nick":"crazyhorse","message":"you'd have to upload a file that matched that exact hash","date":"2019-05-22T07:46:46.361Z","type":"message"}
{"nick":"platonic","reason":"Ping timeout: 258 seconds","date":"2019-05-22T07:46:48.040Z","type":"quit"}
{"nick":"crazyhorse","message":"I don't know if thats possible","date":"2019-05-22T07:46:52.300Z","type":"message"}
{"nick":"joepie91","message":"well, for MD5, yes","date":"2019-05-22T07:46:58.263Z","type":"message"}
{"nick":"joepie91","message":"but that's not my point :P","date":"2019-05-22T07:47:00.857Z","type":"message"}
{"nick":"abbiya","date":"2019-05-22T07:47:01.376Z","type":"join"}
{"nick":"joepie91","message":"again, what I'm attacking here is the process *before* the server-side validation","date":"2019-05-22T07:47:12.476Z","type":"message"}
{"nick":"crazyhorse","message":"you could have 10 people upload the same individual segement.. with 9 of them lying about what they are uploading","date":"2019-05-22T07:47:14.618Z","type":"message"}
{"nick":"abbiya","message":"hi","date":"2019-05-22T07:47:14.899Z","type":"message"}
{"nick":"abbiya","message":"i need to write this in node","date":"2019-05-22T07:47:20.947Z","type":"message"}
{"nick":"abbiya","message":"            quote((unicode(key).encode('utf-8')), safe='~'),","date":"2019-05-22T07:47:21.558Z","type":"message"}
{"nick":"abbiya","message":"sorry","date":"2019-05-22T07:47:25.568Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: right, and that doesn't break?","date":"2019-05-22T07:47:27.657Z","type":"message"}
{"nick":"crazyhorse","message":"yeah that doesn't break","date":"2019-05-22T07:47:31.925Z","type":"message"}
{"nick":"abbiya","message":"https://github.com/jwplayer/jwplatform-py/blob/804950158fa04a6b153fc86acae9a3f97ba3bd75/jwplatform/client.py#L104","date":"2019-05-22T07:47:33.813Z","type":"message"}
{"nick":"joepie91","message":"okay, that is good then :)","date":"2019-05-22T07:47:36.454Z","type":"message"}
{"nick":"crazyhorse","message":"because when the chunk finishes uploading.. it does an md5","date":"2019-05-22T07:47:43.200Z","type":"message"}
{"nick":"crazyhorse","message":"and only after that md5 matches","date":"2019-05-22T07:47:49.024Z","type":"message"}
{"nick":"crazyhorse","message":"does it mark as good","date":"2019-05-22T07:47:58.733Z","type":"message"}
{"nick":"abbiya","message":"how to encode a string to utf-8 in node ?","date":"2019-05-22T07:48:02.994Z","type":"message"}
{"nick":"joepie91","message":"Ultron: ah, sorry, the instructions on posthtml are bad","date":"2019-05-22T07:48:19.593Z","type":"message"}
{"nick":"joepie91","message":"Ultron: use require() instead of `import`","date":"2019-05-22T07:48:23.937Z","type":"message"}
{"nick":"joepie91","message":"abbiya: what encoding is the string currently in?","date":"2019-05-22T07:48:37.839Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: right. and it's totally fine if another user is uploading the same chunk at the same time?","date":"2019-05-22T07:48:50.964Z","type":"message"}
{"nick":"abbiya","message":"i dont know, but i need to convert anything to utf8","date":"2019-05-22T07:49:03.693Z","type":"message"}
{"nick":"Ultron","message":"Error: Cannot find module 'posthtml-custom-elements'","date":"2019-05-22T07:49:20.230Z","type":"message"}
{"nick":"abbiya","message":"and quote it like in python","date":"2019-05-22T07:49:23.677Z","type":"message"}
{"nick":"Ultron","message":"very bad tutorial","date":"2019-05-22T07:49:23.804Z","type":"message"}
{"nick":"crazyhorse","message":"joepie91: yeah it just works","date":"2019-05-22T07:49:29.206Z","type":"message"}
{"nick":"Ultron","message":"is there a framework with good tutorial?","date":"2019-05-22T07:49:32.360Z","type":"message"}
{"nick":"joepie91","message":"abbiya: what the code you linked is doing, is converting an ASCII string to a Unicode string; that's a Python-specific thing, and not necessary in JS, as all strings are Unicode strings","date":"2019-05-22T07:49:47.330Z","type":"message"}
{"nick":"duderonomy","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T07:50:02.883Z","type":"quit"}
{"nick":"abbiya","message":"ok","date":"2019-05-22T07:50:04.811Z","type":"message"}
{"nick":"kapilp","date":"2019-05-22T07:50:08.218Z","type":"join"}
{"nick":"joepie91","message":"abbiya: if you need to convert from other less common encodings, and you don't know the encoding, then you will need a library that tries to 'guess' the encoding","date":"2019-05-22T07:50:09.791Z","type":"message"}
{"nick":"joepie91","message":"and go from there","date":"2019-05-22T07:50:12.089Z","type":"message"}
{"nick":"Ultron","message":"needed to install posthtml-custom-elements also","date":"2019-05-22T07:50:19.386Z","type":"message"}
{"nick":"carif","reason":"Ping timeout: 272 seconds","date":"2019-05-22T07:50:20.631Z","type":"quit"}
{"nick":"joepie91","message":"crazyhorse: right, okay","date":"2019-05-22T07:50:23.814Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: anyhow, https://blake2.net/","date":"2019-05-22T07:50:31.638Z","type":"message"}
{"nick":"joepie91","message":"MD5 is very broken :) that is a better option","date":"2019-05-22T07:50:37.120Z","type":"message"}
{"nick":"abbiya","message":"the ', () are url encoded like in python","date":"2019-05-22T07:51:15.229Z","type":"message"}
{"nick":"abbiya","message":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent","date":"2019-05-22T07:51:16.757Z","type":"message"}
{"nick":"crazyhorse","message":"joepie91: interesting","date":"2019-05-22T07:51:22.430Z","type":"message"}
{"nick":"crazyhorse","message":"the speed is what i like.. i wonder if i can hook a progress indicator into it","date":"2019-05-22T07:51:33.352Z","type":"message"}
{"nick":"abbiya","message":"the quote function from python's urllib is converting them too","date":"2019-05-22T07:51:35.755Z","type":"message"}
{"nick":"mappum","reason":"Quit: Connection closed for inactivity","date":"2019-05-22T07:51:44.057Z","type":"quit"}
{"nick":"joepie91","message":"crazyhorse: hashing algos are generally implemented as a thing that you feed chunks of bytes into","date":"2019-05-22T07:51:50.869Z","type":"message"}
{"nick":"abbiya","message":"', () are NOT url encoded","date":"2019-05-22T07:51:52.531Z","type":"message"}
{"nick":"joepie91","message":"crazyhorse: which means that you can do whatever progress logic you want, as you're the one feeding in the bytes","date":"2019-05-22T07:52:07.123Z","type":"message"}
{"nick":"crazyhorse","message":"joepie91: ohh this one is parallizable as well","date":"2019-05-22T07:52:12.743Z","type":"message"}
{"nick":"abbiya","message":"they have code in the same page","date":"2019-05-22T07:52:17.222Z","type":"message"}
{"nick":"crazyhorse","message":"which means i might be able to run it on multicores","date":"2019-05-22T07:52:21.515Z","type":"message"}
{"nick":"Ultron","message":"don't get this parsehtml, I want to scrap html, not generate it","date":"2019-05-22T07:52:51.273Z","type":"message"}
{"nick":"teadict","reason":"Ping timeout: 245 seconds","date":"2019-05-22T07:52:58.305Z","type":"quit"}
{"nick":"joepie91","message":"Ultron: well, you asked for a HTML parser","date":"2019-05-22T07:53:05.734Z","type":"message"}
{"nick":"joepie91","message":"if it's about *scraping* HTML, `cheerio` is a better option","date":"2019-05-22T07:53:12.627Z","type":"message"}
{"nick":"crazyhorse","message":"joepie91: do you know if it can run in all modern browser?","date":"2019-05-22T07:53:29.809Z","type":"message"}
{"nick":"crazyhorse","message":"browsers?","date":"2019-05-22T07:53:31.923Z","type":"message"}
{"nick":"Ultron","message":"tried this cheerio, is a night mare, lots of async promisse issues","date":"2019-05-22T07:53:35.927Z","type":"message"}
{"nick":"joepie91","message":"cheerio doesn't do anything with async at all, so I doubt that","date":"2019-05-22T07:53:47.230Z","type":"message"}
{"nick":"Kkiro","reason":"Read error: Connection reset by peer","date":"2019-05-22T07:53:47.537Z","type":"quit"}
{"nick":"joepie91","message":"crazyhorse: anything can run in all modern browsers, it's all just code","date":"2019-05-22T07:53:59.664Z","type":"message"}
{"nick":"joepie91","message":"well, anything hash-algo-wise anyway","date":"2019-05-22T07:54:17.995Z","type":"message"}
{"nick":"crazyhorse","message":"well if it's just javascript","date":"2019-05-22T07:54:18.299Z","type":"message"}
{"nick":"Jessidhia","reason":"Quit: My MacBook has gone to sleep. ZZZzzzâ€¦","date":"2019-05-22T07:55:01.099Z","type":"quit"}
{"nick":"crazyhorse","message":"safari iOS usually has the most reduced featureset out of all the browsers","date":"2019-05-22T07:55:07.963Z","type":"message"}
{"nick":"ghoti","reason":"Read error: No route to host","date":"2019-05-22T07:55:15.584Z","type":"quit"}
{"nick":"joepie91[m]","message":"Ultron: anyway, I regularly use Cheerio, and it works absolutely fine for me. but it is only a tool to extract data from HTML, it doesn't handle things like making requests etc.","date":"2019-05-22T07:55:21.703Z","type":"message"}
{"nick":"joepie91[m]","message":"crazyhorse: sure, but even then, it's all still just code :)","date":"2019-05-22T07:55:32.234Z","type":"message"}
{"nick":"joepie91[m]","message":"there's no reason why you couldn't implement BLAKE2b in JS","date":"2019-05-22T07:55:44.143Z","type":"message"}
{"nick":"Jessidhia","date":"2019-05-22T07:55:48.060Z","type":"join"}
{"nick":"joepie91[m]","message":"there probably is one","date":"2019-05-22T07:55:56.748Z","type":"message"}
{"nick":"joepie91[m]","message":"tada https://www.npmjs.com/package/blake2b","date":"2019-05-22T07:56:27.681Z","type":"message"}
{"nick":"Jessidhia","reason":"Client Quit","date":"2019-05-22T07:57:27.962Z","type":"quit"}
{"nick":"keith_mi_","date":"2019-05-22T07:58:43.663Z","type":"join"}
{"nick":"Kkiro","date":"2019-05-22T07:58:54.114Z","type":"join"}
{"nick":"Kkiro","reason":"Changing host","date":"2019-05-22T07:58:54.376Z","type":"quit"}
{"nick":"Kkiro","date":"2019-05-22T07:58:54.449Z","type":"join"}
